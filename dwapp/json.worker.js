!function(e){this.webpackChunk=function(t,r){for(var i in r)e[i]=r[i];for(;t.length;)n[t.pop()]=1};var t={},n={0:1};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=5)}([function(e,t,n){"use strict";(function(e,r){var i;n.d(t,"a",function(){return o}),n.d(t,"b",function(){return s}),function(){var t=Object.create(null);t["WinJS/Core/_WinJS"]={};var n=function(e,n,r){var i={},o=!1,s=n.map(function(e){return"exports"===e?(o=!0,i):t[e]}),a=r.apply({},s);t[e]=o?i:a};n("WinJS/Core/_Global",[],function(){return"undefined"!=typeof window?window:"undefined"!=typeof self?self:void 0!==e?e:{}}),n("WinJS/Core/_BaseCoreUtils",["WinJS/Core/_Global"],function(e){var t=null;return{hasWinRT:!!e.Windows,markSupportedForProcessing:function(e){return e.supportedForProcessing=!0,e},_setImmediate:function(n){null===t&&(t=e.setImmediate?e.setImmediate.bind(e):void 0!==r&&"function"==typeof r.nextTick?r.nextTick.bind(r):e.setTimeout.bind(e)),t(n)}}}),n("WinJS/Core/_WriteProfilerMark",["WinJS/Core/_Global"],function(e){return e.msWriteProfilerMark||function(){}}),n("WinJS/Core/_Base",["WinJS/Core/_WinJS","WinJS/Core/_Global","WinJS/Core/_BaseCoreUtils","WinJS/Core/_WriteProfilerMark"],function(e,t,n,r){function i(e,t,n){var r,i,o,s=Object.keys(t),a=Array.isArray(e);for(i=0,o=s.length;i<o;i++){var u=s[i],c=95!==u.charCodeAt(0),l=t[u];!l||"object"!=typeof l||void 0===l.value&&"function"!=typeof l.get&&"function"!=typeof l.set?c?a?e.forEach(function(e){e[u]=l}):e[u]=l:(r=r||{})[u]={value:l,enumerable:c,configurable:!0,writable:!0}:(void 0===l.enumerable&&(l.enumerable=c),n&&l.setName&&"function"==typeof l.setName&&l.setName(n+"."+u),(r=r||{})[u]=l)}r&&(a?e.forEach(function(e){Object.defineProperties(e,r)}):Object.defineProperties(e,r))}return function(){var n=e;function o(n,r){var i=n||{};if(r){var o=r.split(".");i===t&&"WinJS"===o[0]&&(i=e,o.splice(0,1));for(var s=0,a=o.length;s<a;s++){var u=o[s];i[u]||Object.defineProperty(i,u,{value:{},writable:!1,enumerable:!0,configurable:!0}),i=i[u]}}return i}function s(e,t,n){var r=o(e,t);return n&&i(r,n,t||"<ANONYMOUS>"),r}n.Namespace||(n.Namespace=Object.create(Object.prototype));var a={uninitialized:1,working:2,initialized:3};Object.defineProperties(n.Namespace,{defineWithParent:{value:s,writable:!0,enumerable:!0,configurable:!0},define:{value:function(e,n){return s(t,e,n)},writable:!0,enumerable:!0,configurable:!0},_lazy:{value:function(e){var t,n,i=a.uninitialized;return{setName:function(e){t=e},get:function(){switch(i){case a.initialized:return n;case a.uninitialized:i=a.working;try{r("WinJS.Namespace._lazy:"+t+",StartTM"),n=e()}finally{r("WinJS.Namespace._lazy:"+t+",StopTM"),i=a.uninitialized}return e=null,i=a.initialized,n;case a.working:throw"Illegal: reentrancy on initialization";default:throw"Illegal"}},set:function(e){switch(i){case a.working:throw"Illegal: reentrancy on initialization";default:i=a.initialized,n=e}},enumerable:!0,configurable:!0}},writable:!0,enumerable:!0,configurable:!0},_moduleDefine:{value:function(e,n,r){var s=[e],a=null;return n&&(a=o(t,n),s.push(a)),i(s,r,n||"<ANONYMOUS>"),a},writable:!0,enumerable:!0,configurable:!0}})}(),function(){function t(e,t,r){return e=e||function(){},n.markSupportedForProcessing(e),t&&i(e.prototype,t),r&&i(e,r),e}e.Namespace.define("WinJS.Class",{define:t,derive:function(e,r,o,s){if(e){r=r||function(){};var a=e.prototype;return r.prototype=Object.create(a),n.markSupportedForProcessing(r),Object.defineProperty(r.prototype,"constructor",{value:r,writable:!0,configurable:!0,enumerable:!0}),o&&i(r.prototype,o),s&&i(r,s),r}return t(r,o,s)},mix:function(e){var t,n;for(e=e||function(){},t=1,n=arguments.length;t<n;t++)i(e.prototype,arguments[t]);return e}})}(),{Namespace:e.Namespace,Class:e.Class}}),n("WinJS/Core/_ErrorFromName",["WinJS/Core/_Base"],function(e){var t=e.Class.derive(Error,function(e,t){this.name=e,this.message=t||e},{},{supportedForProcessing:!1});return e.Namespace.define("WinJS",{ErrorFromName:t}),t}),n("WinJS/Core/_Events",["exports","WinJS/Core/_Base"],function(e,t){function n(e){var t="_on"+e+"state";return{get:function(){var e=this[t];return e&&e.userHandler},set:function(n){var r=this[t];n?(r||(r={wrapper:function(e){return r.userHandler(e)},userHandler:n},Object.defineProperty(this,t,{value:r,enumerable:!1,writable:!0,configurable:!0}),this.addEventListener(e,r.wrapper,!1)),r.userHandler=n):r&&(this.removeEventListener(e,r.wrapper,!1),this[t]=null)},enumerable:!0}}var r=t.Class.define(function(e,t,n){this.detail=t,this.target=n,this.timeStamp=Date.now(),this.type=e},{bubbles:{value:!1,writable:!1},cancelable:{value:!1,writable:!1},currentTarget:{get:function(){return this.target}},defaultPrevented:{get:function(){return this._preventDefaultCalled}},trusted:{value:!1,writable:!1},eventPhase:{value:0,writable:!1},target:null,timeStamp:null,type:null,preventDefault:function(){this._preventDefaultCalled=!0},stopImmediatePropagation:function(){this._stopImmediatePropagationCalled=!0},stopPropagation:function(){}},{supportedForProcessing:!1}),i={_listeners:null,addEventListener:function(e,t,n){n=n||!1,this._listeners=this._listeners||{};for(var r=this._listeners[e]=this._listeners[e]||[],i=0,o=r.length;i<o;i++){var s=r[i];if(s.useCapture===n&&s.listener===t)return}r.push({listener:t,useCapture:n})},dispatchEvent:function(e,t){var n=this._listeners&&this._listeners[e];if(n){for(var i=new r(e,t,this),o=0,s=(n=n.slice(0,n.length)).length;o<s&&!i._stopImmediatePropagationCalled;o++)n[o].listener(i);return i.defaultPrevented||!1}return!1},removeEventListener:function(e,t,n){n=n||!1;var r=this._listeners&&this._listeners[e];if(r)for(var i=0,o=r.length;i<o;i++){var s=r[i];if(s.listener===t&&s.useCapture===n){r.splice(i,1),0===r.length&&delete this._listeners[e];break}}}};t.Namespace._moduleDefine(e,"WinJS.Utilities",{_createEventProperty:n,createEventProperties:function(){for(var e={},t=0,r=arguments.length;t<r;t++){var i=arguments[t];e["on"+i]=n(i)}return e},eventMixin:i})}),n("WinJS/Core/_Trace",["WinJS/Core/_Global"],function(e){function t(e){return e}return{_traceAsyncOperationStarting:e.Debug&&e.Debug.msTraceAsyncOperationStarting&&e.Debug.msTraceAsyncOperationStarting.bind(e.Debug)||t,_traceAsyncOperationCompleted:e.Debug&&e.Debug.msTraceAsyncOperationCompleted&&e.Debug.msTraceAsyncOperationCompleted.bind(e.Debug)||t,_traceAsyncCallbackStarting:e.Debug&&e.Debug.msTraceAsyncCallbackStarting&&e.Debug.msTraceAsyncCallbackStarting.bind(e.Debug)||t,_traceAsyncCallbackCompleted:e.Debug&&e.Debug.msTraceAsyncCallbackCompleted&&e.Debug.msTraceAsyncCallbackCompleted.bind(e.Debug)||t}}),n("WinJS/Promise/_StateMachine",["WinJS/Core/_Global","WinJS/Core/_BaseCoreUtils","WinJS/Core/_Base","WinJS/Core/_ErrorFromName","WinJS/Core/_Events","WinJS/Core/_Trace"],function(e,t,n,r,i,o){e.Debug&&(e.Debug.setNonUserCodeExceptions=!0);var s=new(n.Class.mix(n.Class.define(null,{},{supportedForProcessing:!1}),i.eventMixin));s._listeners={};var a="error",u="Canceled",c=!1,l={promise:1,thenPromise:2,errorPromise:4,exceptionPromise:8,completePromise:16};l.all=l.promise|l.thenPromise|l.errorPromise|l.exceptionPromise|l.completePromise;var f,h,p,m,d,g,v,y,_,b,S=1;function C(){}f={name:"created",enter:function(e){e._setState(h)},cancel:C,done:C,then:C,_completed:C,_error:C,_notify:C,_progress:C,_setCompleteValue:C,_setErrorValue:C},h={name:"working",enter:C,cancel:function(e){e._setState(d)},done:O,then:R,_completed:x,_error:L,_notify:C,_progress:j,_setCompleteValue:U,_setErrorValue:F},p={name:"waiting",enter:function(e){var t=e._value;if(t instanceof q&&t._state!==b&&t._state!==y)V(t,{promise:e});else{var n=function(r){t._errorId?e._chainedError(r,t):(I(e,r,w,t,n),e._error(r))};n.handlesOnError=!0,t.then(e._completed.bind(e),n,e._progress.bind(e))}},cancel:function(e){e._setState(m)},done:O,then:R,_completed:x,_error:L,_notify:C,_progress:j,_setCompleteValue:U,_setErrorValue:F},m={name:"waiting_canceled",enter:function(e){e._setState(g);var t=e._value;t.cancel&&t.cancel()},cancel:C,done:O,then:R,_completed:x,_error:L,_notify:C,_progress:j,_setCompleteValue:U,_setErrorValue:F},d={name:"canceled",enter:function(e){e._setState(g),e._cancelAction()},cancel:C,done:O,then:R,_completed:x,_error:L,_notify:C,_progress:j,_setCompleteValue:U,_setErrorValue:F},g={name:"canceling",enter:function(e){var t=new Error(u);t.name=t.message,e._value=t,e._setState(_)},cancel:C,done:C,then:C,_completed:C,_error:C,_notify:C,_progress:C,_setCompleteValue:C,_setErrorValue:C},v={name:"complete_notify",enter:function(e){if(e.done=Y.prototype.done,e.then=Y.prototype.then,e._listeners)for(var t,n=[e];n.length;)(t=n.shift())._state._notify(t,n);e._setState(y)},cancel:C,done:null,then:null,_completed:C,_error:C,_notify:T,_progress:C,_setCompleteValue:C,_setErrorValue:C},y={name:"success",enter:function(e){e.done=Y.prototype.done,e.then=Y.prototype.then,e._cleanupAction()},cancel:C,done:null,then:null,_completed:C,_error:C,_notify:T,_progress:C,_setCompleteValue:C,_setErrorValue:C},_={name:"error_notify",enter:function(e){if(e.done=K.prototype.done,e.then=K.prototype.then,e._listeners)for(var t,n=[e];n.length;)(t=n.shift())._state._notify(t,n);e._setState(b)},cancel:C,done:null,then:null,_completed:C,_error:C,_notify:M,_progress:C,_setCompleteValue:C,_setErrorValue:C},b={name:"error",enter:function(e){e.done=K.prototype.done,e.then=K.prototype.then,e._cleanupAction()},cancel:C,done:null,then:null,_completed:C,_error:C,_notify:M,_progress:C,_setCompleteValue:C,_setErrorValue:C};var E=n.Class.define(null,{_listeners:null,_nextState:null,_state:null,_value:null,cancel:function(){this._state.cancel(this),this._run()},done:function(e,t,n){this._state.done(this,e,t,n)},then:function(e,t,n){return this._state.then(this,e,t,n)},_chainedError:function(e,t){var n=this._state._error(this,e,A,t);return this._run(),n},_completed:function(e){var t=this._state._completed(this,e);return this._run(),t},_error:function(e){var t=this._state._error(this,e,k);return this._run(),t},_progress:function(e){this._state._progress(this,e)},_setState:function(e){this._nextState=e},_setCompleteValue:function(e){this._state._setCompleteValue(this,e),this._run()},_setChainedErrorValue:function(e,t){var n=this._state._setErrorValue(this,e,A,t);return this._run(),n},_setExceptionValue:function(e){var t=this._state._setErrorValue(this,e,P);return this._run(),t},_run:function(){for(;this._nextState;)this._state=this._nextState,this._nextState=null,this._state.enter(this)}},{supportedForProcessing:!1});function x(e,t){var n;n=t&&"object"==typeof t&&"function"==typeof t.then?p:v,e._value=t,e._setState(n)}function N(e,t,n,r,i,o){return{exception:e,error:t,promise:n,handler:o,id:r,parent:i}}function w(e,t,n,r){var i=n._isException,o=n._errorId;return N(i?t:null,i?null:t,e,o,n,r)}function A(e,t,n){var r=n._isException,i=n._errorId;return D(e,i,r),N(r?t:null,r?null:t,e,i,n)}function k(e,t){var n=++S;return D(e,n),N(null,t,e,n)}function P(e,t){var n=++S;return D(e,n,!0),N(t,null,e,n)}function O(e,t,n,r){V(e,{c:t,e:n,p:r,asyncOpID:o._traceAsyncOperationStarting("WinJS.Promise.done")})}function L(e,t,n,r){e._value=t,I(e,t,n,r),e._setState(_)}function T(t,n){var r,i,s=t._value,a=t._listeners;if(a)for(t._listeners=null,r=0,i=Array.isArray(a)?a.length:1;r<i;r++){var u=1===i?a:a[r],c=u.c,l=u.promise;if(o._traceAsyncOperationCompleted(u.asyncOpID,e.Debug&&e.Debug.MS_ASYNC_OP_STATUS_SUCCESS),l){o._traceAsyncCallbackStarting(u.asyncOpID);try{l._setCompleteValue(c?c(s):s)}catch(e){l._setExceptionValue(e)}finally{o._traceAsyncCallbackCompleted()}l._state!==p&&l._listeners&&n.push(l)}else Y.prototype.done.call(t,c)}}function M(t,n){var r,i,s=t._value,a=t._listeners;if(a)for(t._listeners=null,r=0,i=Array.isArray(a)?a.length:1;r<i;r++){var c=1===i?a:a[r],l=c.e,f=c.promise,h=e.Debug&&(s&&s.name===u?e.Debug.MS_ASYNC_OP_STATUS_CANCELED:e.Debug.MS_ASYNC_OP_STATUS_ERROR);if(o._traceAsyncOperationCompleted(c.asyncOpID,h),f){var m=!1;try{l?(o._traceAsyncCallbackStarting(c.asyncOpID),m=!0,l.handlesOnError||I(f,s,w,t,l),f._setCompleteValue(l(s))):f._setChainedErrorValue(s,t)}catch(e){f._setExceptionValue(e)}finally{m&&o._traceAsyncCallbackCompleted()}f._state!==p&&f._listeners&&n.push(f)}else K.prototype.done.call(t,null,l)}}function I(e,t,n,r,i){if(s._listeners[a]){if(t instanceof Error&&t.message===u)return;s.dispatchEvent(a,n(e,t,r,i))}}function j(e,t){var n,r,i=e._listeners;if(i)for(n=0,r=Array.isArray(i)?i.length:1;n<r;n++){var o=1===r?i:i[n],s=o.p;if(s)try{s(t)}catch(e){}o.c||o.e||!o.promise||o.promise._progress(t)}}function V(e,t){var n=e._listeners;n?(n=Array.isArray(n)?n:[n]).push(t):n=t,e._listeners=n}function D(e,t,n){e._isException=n||!1,e._errorId=t}function F(e,t,n,r){e._value=t,I(e,t,n,r),e._setState(b)}function U(e,t){var n;n=t&&"object"==typeof t&&"function"==typeof t.then?p:y,e._value=t,e._setState(n)}function R(e,t,n,r){var i=new q(e);return V(e,{promise:i,c:t,e:n,p:r,asyncOpID:o._traceAsyncOperationStarting("WinJS.Promise.then")}),i}var W,q=n.Class.derive(E,function(e){c&&(!0===c||c&l.thenPromise)&&(this._stack=$._getStack()),this._creator=e,this._setState(f),this._run()},{_creator:null,_cancelAction:function(){this._creator&&this._creator.cancel()},_cleanupAction:function(){this._creator=null}},{supportedForProcessing:!1}),K=n.Class.define(function(e){c&&(!0===c||c&l.errorPromise)&&(this._stack=$._getStack()),this._value=e,I(this,e,k)},{cancel:function(){},done:function(e,t){var n=this._value;if(t)try{t.handlesOnError||I(null,n,w,this,t);var r=t(n);return void(r&&"object"==typeof r&&"function"==typeof r.done&&r.done())}catch(e){n=e}n instanceof Error&&n.message===u||$._doneHandler(n)},then:function(e,t){if(!t)return this;var n,r=this._value;try{t.handlesOnError||I(null,r,w,this,t),n=new Y(t(r))}catch(e){n=e===r?this:new B(e)}return n}},{supportedForProcessing:!1}),B=n.Class.derive(K,function(e){c&&(!0===c||c&l.exceptionPromise)&&(this._stack=$._getStack()),this._value=e,I(this,e,P)},{},{supportedForProcessing:!1}),Y=n.Class.define(function(e){if(c&&(!0===c||c&l.completePromise)&&(this._stack=$._getStack()),e&&"object"==typeof e&&"function"==typeof e.then){var t=new q(null);return t._setCompleteValue(e),t}this._value=e},{cancel:function(){},done:function(e){if(e)try{var t=e(this._value);t&&"object"==typeof t&&"function"==typeof t.done&&t.done()}catch(e){$._doneHandler(e)}},then:function(e){try{var t=e?e(this._value):this._value;return t===this._value?this:new Y(t)}catch(e){return new B(e)}}},{supportedForProcessing:!1});var $=n.Class.derive(E,function(e,t){c&&(!0===c||c&l.promise)&&(this._stack=$._getStack()),this._oncancel=t,this._setState(f),this._run();try{e(this._completed.bind(this),this._error.bind(this),this._progress.bind(this))}catch(e){this._setExceptionValue(e)}},{_oncancel:null,_cancelAction:function(){try{if(!this._oncancel)throw new Error("Promise did not implement oncancel");this._oncancel()}catch(e){e.message,e.stack;s.dispatchEvent("error",e)}},_cleanupAction:function(){this._oncancel=null}},{addEventListener:function(e,t,n){s.addEventListener(e,t,n)},any:function(e){return new $(function(t,n){var r=Object.keys(e);0===r.length&&t();var i=0;r.forEach(function(o){$.as(e[o]).then(function(){t({key:o,value:e[o]})},function(s){s instanceof Error&&s.name===u?++i===r.length&&t($.cancel):n({key:o,value:e[o]})})})},function(){Object.keys(e).forEach(function(t){var n=$.as(e[t]);"function"==typeof n.cancel&&n.cancel()})})},as:function(e){return e&&"object"==typeof e&&"function"==typeof e.then?e:new Y(e)},cancel:{get:function(){return W=W||new K(new r(u))}},dispatchEvent:function(e,t){return s.dispatchEvent(e,t)},is:function(e){return e&&"object"==typeof e&&"function"==typeof e.then},join:function(e){return new $(function(t,n,r){var i=Object.keys(e),o=Array.isArray(e)?[]:{},s=Array.isArray(e)?[]:{},a=0,c=i.length,l=function(e){if(0==--c){var a=Object.keys(o).length;if(0===a)t(s);else{var l=0;i.forEach(function(e){var t=o[e];t instanceof Error&&t.name===u&&l++}),l===a?t($.cancel):n(o)}}else r({Key:e,Done:!0})};i.forEach(function(t){var n=e[t];void 0===n?a++:$.then(n,function(e){s[t]=e,l(t)},function(e){o[t]=e,l(t)})}),0!==(c-=a)||t(s)},function(){Object.keys(e).forEach(function(t){var n=$.as(e[t]);"function"==typeof n.cancel&&n.cancel()})})},removeEventListener:function(e,t,n){s.removeEventListener(e,t,n)},supportedForProcessing:!1,then:function(e,t,n,r){return $.as(e).then(t,n,r)},thenEach:function(e,t,n,r){var i=Array.isArray(e)?[]:{};return Object.keys(e).forEach(function(o){i[o]=$.as(e[o]).then(t,n,r)}),$.join(i)},timeout:function(n,r){var i,o,s=(i=n,new $(function(n){i?o=e.setTimeout(n,i):t._setImmediate(n)},function(){o&&e.clearTimeout(o)}));return r?function(e,t){var n=function(){e.cancel()};return e.then(function(){t.cancel()}),t.then(n,n),t}(s,r):s},wrap:function(e){return new Y(e)},wrapError:function(e){return new K(e)},_veryExpensiveTagWithStack:{get:function(){return c},set:function(e){c=e}},_veryExpensiveTagWithStack_tag:l,_getStack:function(){if(e.Debug&&e.Debug.debuggerEnabled)try{throw new Error}catch(e){return e.stack}},_cancelBlocker:function(e,t){if(!$.is(e))return $.wrap(e);var n,r,i=new $(function(e,t){n=e,r=t},function(){n=null,r=null,t&&t()});return e.then(function(e){n&&n(e)},function(e){r&&r(e)}),i}});return Object.defineProperties($,i.createEventProperties(a)),$._doneHandler=function(e){t._setImmediate(function(){throw e})},{PromiseStateMachine:E,Promise:$,state_created:f}}),n("WinJS/Promise",["WinJS/Core/_Base","WinJS/Promise/_StateMachine"],function(e,t){return e.Namespace.define("WinJS",{Promise:t.Promise}),t.Promise}),(i=t["WinJS/Core/_WinJS"]).TPromise=i.Promise,i.PPromise=i.Promise}();var o=i.Promise,s=i.TPromise;i.PPromise}).call(this,n(4),n(3))},function(e,t,n){"use strict";(function(e,r){n.d(t,"c",function(){return m}),n.d(t,"b",function(){return d}),n.d(t,"a",function(){return g});var i,o=!1,s=!1,a=!1,u=!1,c=!1;if("object"==typeof e&&"function"==typeof e.nextTick&&"string"==typeof e.platform){o="win32"===e.platform,s="darwin"===e.platform,a="linux"===e.platform;var l=e.env.VSCODE_NLS_CONFIG;if(l)try{var f=JSON.parse(l),h=f.availableLanguages["*"];f.locale,h||"en",f._translationsConfigFile}catch(e){}u=!0}else if("object"==typeof navigator){var p=navigator.userAgent;o=p.indexOf("Windows")>=0,s=p.indexOf("Macintosh")>=0,a=p.indexOf("Linux")>=0,c=!0,navigator.language}!function(e){e[e.Web=0]="Web",e[e.Mac=1]="Mac",e[e.Linux=2]="Linux",e[e.Windows=3]="Windows"}(i||(i={}));i.Web;u&&(s?i.Mac:o?i.Windows:a&&i.Linux);var m=o,d=c;var g="object"==typeof self?self:"object"==typeof r?r:{}}).call(this,n(3),n(4))},function(e,t,n){"use strict";(function(e){function n(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}function r(e){return encodeURIComponent(e).replace(/[!'()*]/g,n)}function i(e){return e.replace(/[#?]/,n)}var o,s=function(){function e(){this._scheme=e._empty,this._authority=e._empty,this._path=e._empty,this._query=e._empty,this._fragment=e._empty,this._formatted=null,this._fsPath=null}return e.isUri=function(t){return t instanceof e||!!t&&("string"==typeof t.authority&&"string"==typeof t.fragment&&"string"==typeof t.path&&"string"==typeof t.query&&"string"==typeof t.scheme)},Object.defineProperty(e.prototype,"scheme",{get:function(){return this._scheme},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"authority",{get:function(){return this._authority},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._path},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"query",{get:function(){return this._query},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fragment",{get:function(){return this._fragment},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fsPath",{get:function(){var t;this._fsPath||(t=this._authority&&this._path&&"file"===this.scheme?"//"+this._authority+this._path:e._driveLetterPath.test(this._path)?this._path[1].toLowerCase()+this._path.substr(2):this._path,o&&(t=t.replace(/\//g,"\\")),this._fsPath=t);return this._fsPath},enumerable:!0,configurable:!0}),e.prototype.with=function(t){if(!t)return this;var n=t.scheme,r=t.authority,i=t.path,o=t.query,s=t.fragment;if(void 0===n?n=this.scheme:null===n&&(n=""),void 0===r?r=this.authority:null===r&&(r=""),void 0===i?i=this.path:null===i&&(i=""),void 0===o?o=this.query:null===o&&(o=""),void 0===s?s=this.fragment:null===s&&(s=""),n===this.scheme&&r===this.authority&&i===this.path&&o===this.query&&s===this.fragment)return this;var a=new e;return a._scheme=n,a._authority=r,a._path=i,a._query=o,a._fragment=s,e._validate(a),a},e.parse=function(t){var n=new e,r=e._parseComponents(t);return n._scheme=r.scheme,n._authority=decodeURIComponent(r.authority),n._path=decodeURIComponent(r.path),n._query=decodeURIComponent(r.query),n._fragment=decodeURIComponent(r.fragment),e._validate(n),n},e.file=function(t){var n=new e;if(n._scheme="file",o&&(t=t.replace(/\\/g,e._slash)),t[0]===e._slash&&t[0]===t[1]){var r=t.indexOf(e._slash,2);-1===r?n._authority=t.substring(2):(n._authority=t.substring(2,r),n._path=t.substring(r))}else n._path=t;return n._path[0]!==e._slash&&(n._path=e._slash+n._path),e._validate(n),n},e._parseComponents=function(t){var n={scheme:e._empty,authority:e._empty,path:e._empty,query:e._empty,fragment:e._empty},r=e._regexp.exec(t);return r&&(n.scheme=r[2]||n.scheme,n.authority=r[4]||n.authority,n.path=r[5]||n.path,n.query=r[7]||n.query,n.fragment=r[9]||n.fragment),n},e.from=function(t){return(new e).with(t)},e._validate=function(t){if(t.scheme&&!e._schemePattern.test(t.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(t.path)if(t.authority){if(!e._singleSlashStart.test(t.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(e._doubleSlashStart.test(t.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')},e.prototype.toString=function(t){return void 0===t&&(t=!1),t?e._asFormatted(this,!0):(this._formatted||(this._formatted=e._asFormatted(this,!1)),this._formatted)},e._asFormatted=function(t,n){var o=n?i:r,s=[],a=t.scheme,u=t.authority,c=t.path,l=t.query,f=t.fragment;(a&&s.push(a,":"),(u||"file"===a)&&s.push("//"),u)&&(-1===(m=(u=u.toLowerCase()).indexOf(":"))?s.push(o(u)):s.push(o(u.substr(0,m)),u.substr(m)));if(c){var h=e._upperCaseDrive.exec(c);h&&(c=h[1]?"/"+h[2].toLowerCase()+c.substr(3):h[2].toLowerCase()+c.substr(2));for(var p=0;;){var m;if(-1===(m=c.indexOf(e._slash,p))){s.push(o(c.substring(p)));break}s.push(o(c.substring(p,m)),e._slash),p=m+1}}return l&&s.push("?",o(l)),f&&s.push("#",o(f)),s.join(e._empty)},e.prototype.toJSON=function(){var e={fsPath:this.fsPath,external:this.toString(),$mid:1};return this.path&&(e.path=this.path),this.scheme&&(e.scheme=this.scheme),this.authority&&(e.authority=this.authority),this.query&&(e.query=this.query),this.fragment&&(e.fragment=this.fragment),e},e.revive=function(t){var n=new e;return n._scheme=t.scheme||e._empty,n._authority=t.authority||e._empty,n._path=t.path||e._empty,n._query=t.query||e._empty,n._fragment=t.fragment||e._empty,n._fsPath=t.fsPath,n._formatted=t.external,e._validate(n),n},e}();if(t.a=s,s._empty="",s._slash="/",s._regexp=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,s._driveLetterPath=/^\/[a-zA-z]:/,s._upperCaseDrive=/^(\/)?([A-Z]:)/,s._schemePattern=/^\w[\w\d+.-]*$/,s._singleSlashStart=/^\//,s._doubleSlashStart=/^\/\//,"object"==typeof e)o="win32"===e.platform;else if("object"==typeof navigator){var a=navigator.userAgent;o=a.indexOf("Windows")>=0}}).call(this,n(3))},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var u,c=[],l=!1,f=-1;function h(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&p())}function p(){if(!l){var e=a(h);l=!0;for(var t=c.length;t;){for(u=c,c=[];++f<t;)u&&u[f].run();f=-1,t=c.length}u=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function d(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new m(e,t)),1!==c.length||l||a(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=d,i.addListener=d,i.once=d,i.off=d,i.removeListener=d,i.removeAllListeners=d,i.emit=d,i.prependListener=d,i.prependOnceListener=d,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";n.r(t);var r,i=n(1),o=(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});function s(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}function a(e){return encodeURIComponent(e).replace(/[!'()*]/g,s)}function u(e){return e.replace(/[#?]/,s)}var c=/^\w[\w\d+.-]*$/,l=/^\//,f=/^\/\//;var h="",p="/",m=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,d=/^\/[a-zA-Z]:/,g=/^(\/)?([A-Z]:)/,v=/^[a-zA-Z]:/,y=function(){function e(e,t,n,r,i){"object"==typeof e?(this.scheme=e.scheme||h,this.authority=e.authority||h,this.path=e.path||h,this.query=e.query||h,this.fragment=e.fragment||h):(this.scheme=e||h,this.authority=t||h,this.path=n||h,this.query=r||h,this.fragment=i||h,function(e){if(e.scheme&&!c.test(e.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(e.path)if(e.authority){if(!l.test(e.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(f.test(e.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}(this))}return e.isUri=function(t){return t instanceof e||!!t&&("string"==typeof t.authority&&"string"==typeof t.fragment&&"string"==typeof t.path&&"string"==typeof t.query&&"string"==typeof t.scheme)},Object.defineProperty(e.prototype,"fsPath",{get:function(){return S(this)},enumerable:!0,configurable:!0}),e.prototype.with=function(e){if(!e)return this;var t=e.scheme,n=e.authority,r=e.path,i=e.query,o=e.fragment;return void 0===t?t=this.scheme:null===t&&(t=h),void 0===n?n=this.authority:null===n&&(n=h),void 0===r?r=this.path:null===r&&(r=h),void 0===i?i=this.query:null===i&&(i=h),void 0===o?o=this.fragment:null===o&&(o=h),t===this.scheme&&n===this.authority&&r===this.path&&i===this.query&&o===this.fragment?this:new b(t,n,r,i,o)},e.parse=function(e){var t=m.exec(e);return t?new b(t[2]||h,decodeURIComponent(t[4]||h),decodeURIComponent(t[5]||h),decodeURIComponent(t[7]||h),decodeURIComponent(t[9]||h)):new b(h,h,h,h,h)},e.file=function(e){var t=h;if(i.c&&(e=e.replace(/\\/g,p)),e[0]===p&&e[1]===p){var n=e.indexOf(p,2);-1===n?(t=e.substring(2),e=p):(t=e.substring(2,n),e=e.substring(n)||p)}return v.test(e)?e=p+e:e[0]!==p&&(e=p+e),new b("file",t,e,h,h)},e.from=function(e){return new b(e.scheme,e.authority,e.path,e.query,e.fragment)},e.prototype.toString=function(e){return void 0===e&&(e=!1),C(this,e)},e.prototype.toJSON=function(){var e={$mid:1,fsPath:this.fsPath,external:this.toString()};return this.path&&(e.path=this.path),this.scheme&&(e.scheme=this.scheme),this.authority&&(e.authority=this.authority),this.query&&(e.query=this.query),this.fragment&&(e.fragment=this.fragment),e},e.revive=function(t){if(t){if(t instanceof e)return t;var n=new b(t);return n._fsPath=t.fsPath,n._formatted=t.external,n}return t},e}(),_=y,b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._formatted=null,t._fsPath=null,t}return o(t,e),Object.defineProperty(t.prototype,"fsPath",{get:function(){return this._fsPath||(this._fsPath=S(this)),this._fsPath},enumerable:!0,configurable:!0}),t.prototype.toString=function(e){return void 0===e&&(e=!1),e?C(this,!0):(this._formatted||(this._formatted=C(this,!1)),this._formatted)},t}(y);function S(e){var t;return t=e.authority&&e.path&&"file"===e.scheme?"//"+e.authority+e.path:d.test(e.path)?e.path[1].toLowerCase()+e.path.substr(2):e.path,i.c&&(t=t.replace(/\//g,"\\")),t}function C(e,t){var n=t?u:a,r=[],i=e.scheme,o=e.authority,s=e.path,c=e.query,l=e.fragment;if(i&&r.push(i,":"),(o||"file"===i)&&r.push("//"),o){if(-1!==(v=o.indexOf("@"))){var f=o.substr(0,v);o=o.substr(v+1),-1===(v=f.indexOf(":"))?r.push(n(f)):r.push(n(f.substr(0,v)),":",n(f.substr(v+1))),r.push("@")}-1===(v=(o=o.toLowerCase()).indexOf(":"))?r.push(n(o)):r.push(n(o.substr(0,v)),o.substr(v))}if(s){var m=g.exec(s);m&&(s=m[1]?"/"+m[2].toLowerCase()+s.substr(3):m[2].toLowerCase()+s.substr(2));for(var d=0;;){var v;if(-1===(v=s.indexOf(p,d))){r.push(n(s.substring(d)));break}r.push(n(s.substring(d,v)),p),d=v+1}}return c&&r.push("?",n(c)),l&&r.push("#",n(l)),r.join(h)}var E=n(0),x=function(){function e(e,t){this.lineNumber=e,this.column=t}return e.prototype.equals=function(t){return e.equals(this,t)},e.equals=function(e,t){return!e&&!t||!!e&&!!t&&e.lineNumber===t.lineNumber&&e.column===t.column},e.prototype.isBefore=function(t){return e.isBefore(this,t)},e.isBefore=function(e,t){return e.lineNumber<t.lineNumber||!(t.lineNumber<e.lineNumber)&&e.column<t.column},e.prototype.isBeforeOrEqual=function(t){return e.isBeforeOrEqual(this,t)},e.isBeforeOrEqual=function(e,t){return e.lineNumber<t.lineNumber||!(t.lineNumber<e.lineNumber)&&e.column<=t.column},e.compare=function(e,t){var n=0|e.lineNumber,r=0|t.lineNumber;return n===r?(0|e.column)-(0|t.column):n-r},e.prototype.clone=function(){return new e(this.lineNumber,this.column)},e.prototype.toString=function(){return"("+this.lineNumber+","+this.column+")"},e.lift=function(t){return new e(t.lineNumber,t.column)},e.isIPosition=function(e){return e&&"number"==typeof e.lineNumber&&"number"==typeof e.column},e}(),N=function(){function e(e,t,n,r){e>n||e===n&&t>r?(this.startLineNumber=n,this.startColumn=r,this.endLineNumber=e,this.endColumn=t):(this.startLineNumber=e,this.startColumn=t,this.endLineNumber=n,this.endColumn=r)}return e.prototype.isEmpty=function(){return e.isEmpty(this)},e.isEmpty=function(e){return e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn},e.prototype.containsPosition=function(t){return e.containsPosition(this,t)},e.containsPosition=function(e,t){return!(t.lineNumber<e.startLineNumber||t.lineNumber>e.endLineNumber)&&(!(t.lineNumber===e.startLineNumber&&t.column<e.startColumn)&&!(t.lineNumber===e.endLineNumber&&t.column>e.endColumn))},e.prototype.containsRange=function(t){return e.containsRange(this,t)},e.containsRange=function(e,t){return!(t.startLineNumber<e.startLineNumber||t.endLineNumber<e.startLineNumber)&&(!(t.startLineNumber>e.endLineNumber||t.endLineNumber>e.endLineNumber)&&(!(t.startLineNumber===e.startLineNumber&&t.startColumn<e.startColumn)&&!(t.endLineNumber===e.endLineNumber&&t.endColumn>e.endColumn)))},e.prototype.plusRange=function(t){return e.plusRange(this,t)},e.plusRange=function(t,n){var r,i,o,s;return n.startLineNumber<t.startLineNumber?(r=n.startLineNumber,i=n.startColumn):n.startLineNumber===t.startLineNumber?(r=n.startLineNumber,i=Math.min(n.startColumn,t.startColumn)):(r=t.startLineNumber,i=t.startColumn),n.endLineNumber>t.endLineNumber?(o=n.endLineNumber,s=n.endColumn):n.endLineNumber===t.endLineNumber?(o=n.endLineNumber,s=Math.max(n.endColumn,t.endColumn)):(o=t.endLineNumber,s=t.endColumn),new e(r,i,o,s)},e.prototype.intersectRanges=function(t){return e.intersectRanges(this,t)},e.intersectRanges=function(t,n){var r=t.startLineNumber,i=t.startColumn,o=t.endLineNumber,s=t.endColumn,a=n.startLineNumber,u=n.startColumn,c=n.endLineNumber,l=n.endColumn;return r<a?(r=a,i=u):r===a&&(i=Math.max(i,u)),o>c?(o=c,s=l):o===c&&(s=Math.min(s,l)),r>o?null:r===o&&i>s?null:new e(r,i,o,s)},e.prototype.equalsRange=function(t){return e.equalsRange(this,t)},e.equalsRange=function(e,t){return!!e&&!!t&&e.startLineNumber===t.startLineNumber&&e.startColumn===t.startColumn&&e.endLineNumber===t.endLineNumber&&e.endColumn===t.endColumn},e.prototype.getEndPosition=function(){return new x(this.endLineNumber,this.endColumn)},e.prototype.getStartPosition=function(){return new x(this.startLineNumber,this.startColumn)},e.prototype.toString=function(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"},e.prototype.setEndPosition=function(t,n){return new e(this.startLineNumber,this.startColumn,t,n)},e.prototype.setStartPosition=function(t,n){return new e(t,n,this.endLineNumber,this.endColumn)},e.prototype.collapseToStart=function(){return e.collapseToStart(this)},e.collapseToStart=function(t){return new e(t.startLineNumber,t.startColumn,t.startLineNumber,t.startColumn)},e.fromPositions=function(t,n){return void 0===n&&(n=t),new e(t.lineNumber,t.column,n.lineNumber,n.column)},e.lift=function(t){return t?new e(t.startLineNumber,t.startColumn,t.endLineNumber,t.endColumn):null},e.isIRange=function(e){return e&&"number"==typeof e.startLineNumber&&"number"==typeof e.startColumn&&"number"==typeof e.endLineNumber&&"number"==typeof e.endColumn},e.areIntersectingOrTouching=function(e,t){return!(e.endLineNumber<t.startLineNumber||e.endLineNumber===t.startLineNumber&&e.endColumn<t.startColumn)&&!(t.endLineNumber<e.startLineNumber||t.endLineNumber===e.startLineNumber&&t.endColumn<e.startColumn)},e.compareRangesUsingStarts=function(e,t){var n=0|e.startLineNumber,r=0|t.startLineNumber;if(n===r){var i=0|e.startColumn,o=0|t.startColumn;if(i===o){var s=0|e.endLineNumber,a=0|t.endLineNumber;return s===a?(0|e.endColumn)-(0|t.endColumn):s-a}return i-o}return n-r},e.compareRangesUsingEnds=function(e,t){return e.endLineNumber===t.endLineNumber?e.endColumn===t.endColumn?e.startLineNumber===t.startLineNumber?e.startColumn-t.startColumn:e.startLineNumber-t.startLineNumber:e.endColumn-t.endColumn:e.endLineNumber-t.endLineNumber},e.spansMultipleLines=function(e){return e.endLineNumber>e.startLineNumber},e}(),w=function(){function e(e,t,n,r){this.originalStart=e,this.originalLength=t,this.modifiedStart=n,this.modifiedLength=r}return e.prototype.getOriginalEnd=function(){return this.originalStart+this.originalLength},e.prototype.getModifiedEnd=function(){return this.modifiedStart+this.modifiedLength},e}();function A(e){return{getLength:function(){return e.length},getElementHash:function(t){return e[t]}}}function k(e,t,n){return new M(A(e),A(t)).ComputeDiff(n)}var P=function(){function e(){}return e.Assert=function(e,t){if(!e)throw new Error(t)},e}(),O=function(){function e(){}return e.Copy=function(e,t,n,r,i){for(var o=0;o<i;o++)n[r+o]=e[t+o]},e}(),L=function(){function e(){this.m_changes=[],this.m_originalStart=Number.MAX_VALUE,this.m_modifiedStart=Number.MAX_VALUE,this.m_originalCount=0,this.m_modifiedCount=0}return e.prototype.MarkNextChange=function(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new w(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=Number.MAX_VALUE,this.m_modifiedStart=Number.MAX_VALUE},e.prototype.AddOriginalElement=function(e,t){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,t),this.m_originalCount++},e.prototype.AddModifiedElement=function(e,t){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,t),this.m_modifiedCount++},e.prototype.getChanges=function(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes},e.prototype.getReverseChanges=function(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes},e}(),T=Object.prototype.hasOwnProperty,M=function(){function e(e,t,n){void 0===n&&(n=null),this.OriginalSequence=e,this.ModifiedSequence=t,this.ContinueProcessingPredicate=n,this.m_originalIds=[],this.m_modifiedIds=[],this.m_forwardHistory=[],this.m_reverseHistory=[],this.ComputeUniqueIdentifiers()}return e.prototype.ComputeUniqueIdentifiers=function(){var e=this.OriginalSequence.getLength(),t=this.ModifiedSequence.getLength();this.m_originalIds=new Array(e),this.m_modifiedIds=new Array(t);var n,r={},i=1;for(n=0;n<e;n++){var o=this.OriginalSequence.getElementHash(n);T.call(r,o)?this.m_originalIds[n]=r[o]:(this.m_originalIds[n]=i++,r[o]=this.m_originalIds[n])}for(n=0;n<t;n++){var s=this.ModifiedSequence.getElementHash(n);T.call(r,s)?this.m_modifiedIds[n]=r[s]:(this.m_modifiedIds[n]=i++,r[s]=this.m_modifiedIds[n])}},e.prototype.ElementsAreEqual=function(e,t){return this.m_originalIds[e]===this.m_modifiedIds[t]},e.prototype.OriginalElementsAreEqual=function(e,t){return this.m_originalIds[e]===this.m_originalIds[t]},e.prototype.ModifiedElementsAreEqual=function(e,t){return this.m_modifiedIds[e]===this.m_modifiedIds[t]},e.prototype.ComputeDiff=function(e){return this._ComputeDiff(0,this.OriginalSequence.getLength()-1,0,this.ModifiedSequence.getLength()-1,e)},e.prototype._ComputeDiff=function(e,t,n,r,i){var o=this.ComputeDiffRecursive(e,t,n,r,[!1]);return i?this.ShiftChanges(o):o},e.prototype.ComputeDiffRecursive=function(e,t,n,r,i){for(i[0]=!1;e<=t&&n<=r&&this.ElementsAreEqual(e,n);)e++,n++;for(;t>=e&&r>=n&&this.ElementsAreEqual(t,r);)t--,r--;if(e>t||n>r){var o=void 0;return n<=r?(P.Assert(e===t+1,"originalStart should only be one more than originalEnd"),o=[new w(e,0,n,r-n+1)]):e<=t?(P.Assert(n===r+1,"modifiedStart should only be one more than modifiedEnd"),o=[new w(e,t-e+1,n,0)]):(P.Assert(e===t+1,"originalStart should only be one more than originalEnd"),P.Assert(n===r+1,"modifiedStart should only be one more than modifiedEnd"),o=[]),o}var s=[0],a=[0],u=this.ComputeRecursionPoint(e,t,n,r,s,a,i),c=s[0],l=a[0];if(null!==u)return u;if(!i[0]){var f=this.ComputeDiffRecursive(e,c,n,l,i),h=[];return h=i[0]?[new w(c+1,t-(c+1)+1,l+1,r-(l+1)+1)]:this.ComputeDiffRecursive(c+1,t,l+1,r,i),this.ConcatenateChanges(f,h)}return[new w(e,t-e+1,n,r-n+1)]},e.prototype.WALKTRACE=function(e,t,n,r,i,o,s,a,u,c,l,f,h,p,m,d,g,v){var y,_,b=null,S=new L,C=t,E=n,x=h[0]-d[0]-r,N=Number.MIN_VALUE,A=this.m_forwardHistory.length-1;do{(_=x+e)===C||_<E&&u[_-1]<u[_+1]?(p=(l=u[_+1])-x-r,l<N&&S.MarkNextChange(),N=l,S.AddModifiedElement(l+1,p),x=_+1-e):(p=(l=u[_-1]+1)-x-r,l<N&&S.MarkNextChange(),N=l-1,S.AddOriginalElement(l,p+1),x=_-1-e),A>=0&&(e=(u=this.m_forwardHistory[A])[0],C=1,E=u.length-1)}while(--A>=-1);if(y=S.getReverseChanges(),v[0]){var k=h[0]+1,P=d[0]+1;if(null!==y&&y.length>0){var O=y[y.length-1];k=Math.max(k,O.getOriginalEnd()),P=Math.max(P,O.getModifiedEnd())}b=[new w(k,f-k+1,P,m-P+1)]}else{S=new L,C=o,E=s,x=h[0]-d[0]-a,N=Number.MAX_VALUE,A=g?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{(_=x+i)===C||_<E&&c[_-1]>=c[_+1]?(p=(l=c[_+1]-1)-x-a,l>N&&S.MarkNextChange(),N=l+1,S.AddOriginalElement(l+1,p+1),x=_+1-i):(p=(l=c[_-1])-x-a,l>N&&S.MarkNextChange(),N=l,S.AddModifiedElement(l+1,p+1),x=_-1-i),A>=0&&(i=(c=this.m_reverseHistory[A])[0],C=1,E=c.length-1)}while(--A>=-1);b=S.getChanges()}return this.ConcatenateChanges(y,b)},e.prototype.ComputeRecursionPoint=function(e,t,n,r,i,o,s){var a,u,c,l=0,f=0,h=0,p=0;e--,n--,i[0]=0,o[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];var m,d,g=t-e+(r-n),v=g+1,y=new Array(v),_=new Array(v),b=r-n,S=t-e,C=e-n,E=t-r,x=(S-b)%2==0;for(y[b]=e,_[S]=t,s[0]=!1,c=1;c<=g/2+1;c++){var N=0,A=0;for(l=this.ClipDiagonalBound(b-c,c,b,v),f=this.ClipDiagonalBound(b+c,c,b,v),m=l;m<=f;m+=2){for(u=(a=m===l||m<f&&y[m-1]<y[m+1]?y[m+1]:y[m-1]+1)-(m-b)-C,d=a;a<t&&u<r&&this.ElementsAreEqual(a+1,u+1);)a++,u++;if(y[m]=a,a+u>N+A&&(N=a,A=u),!x&&Math.abs(m-S)<=c-1&&a>=_[m])return i[0]=a,o[0]=u,d<=_[m]&&c<=1448?this.WALKTRACE(b,l,f,C,S,h,p,E,y,_,a,t,i,u,r,o,x,s):null}var k=(N-e+(A-n)-c)/2;if(null!==this.ContinueProcessingPredicate&&!this.ContinueProcessingPredicate(N,this.OriginalSequence,k))return s[0]=!0,i[0]=N,o[0]=A,k>0&&c<=1448?this.WALKTRACE(b,l,f,C,S,h,p,E,y,_,a,t,i,u,r,o,x,s):[new w(++e,t-e+1,++n,r-n+1)];for(h=this.ClipDiagonalBound(S-c,c,S,v),p=this.ClipDiagonalBound(S+c,c,S,v),m=h;m<=p;m+=2){for(u=(a=m===h||m<p&&_[m-1]>=_[m+1]?_[m+1]-1:_[m-1])-(m-S)-E,d=a;a>e&&u>n&&this.ElementsAreEqual(a,u);)a--,u--;if(_[m]=a,x&&Math.abs(m-b)<=c&&a<=y[m])return i[0]=a,o[0]=u,d>=y[m]&&c<=1448?this.WALKTRACE(b,l,f,C,S,h,p,E,y,_,a,t,i,u,r,o,x,s):null}if(c<=1447){var P=new Array(f-l+2);P[0]=b-l+1,O.Copy(y,l,P,1,f-l+1),this.m_forwardHistory.push(P),(P=new Array(p-h+2))[0]=S-h+1,O.Copy(_,h,P,1,p-h+1),this.m_reverseHistory.push(P)}}return this.WALKTRACE(b,l,f,C,S,h,p,E,y,_,a,t,i,u,r,o,x,s)},e.prototype.ShiftChanges=function(e){var t;do{t=!1;for(var n=0;n<e.length;n++)for(var r=e[n],i=n<e.length-1?e[n+1].originalStart:this.OriginalSequence.getLength(),o=n<e.length-1?e[n+1].modifiedStart:this.ModifiedSequence.getLength(),s=r.originalLength>0,a=r.modifiedLength>0;r.originalStart+r.originalLength<i&&r.modifiedStart+r.modifiedLength<o&&(!s||this.OriginalElementsAreEqual(r.originalStart,r.originalStart+r.originalLength))&&(!a||this.ModifiedElementsAreEqual(r.modifiedStart,r.modifiedStart+r.modifiedLength));)r.originalStart++,r.modifiedStart++;var u=new Array,c=[null];for(n=0;n<e.length;n++)n<e.length-1&&this.ChangesOverlap(e[n],e[n+1],c)?(t=!0,u.push(c[0]),n++):u.push(e[n]);e=u}while(t);for(n=e.length-1;n>=0;n--){r=e[n],i=0,o=0;if(n>0){var l=e[n-1];l.originalLength>0&&(i=l.originalStart+l.originalLength),l.modifiedLength>0&&(o=l.modifiedStart+l.modifiedLength)}s=r.originalLength>0,a=r.modifiedLength>0;for(var f=0,h=this._boundaryScore(r.originalStart,r.originalLength,r.modifiedStart,r.modifiedLength),p=1;;p++){var m=r.originalStart-p,d=r.modifiedStart-p;if(m<i||d<o)break;if(s&&!this.OriginalElementsAreEqual(m,m+r.originalLength))break;if(a&&!this.ModifiedElementsAreEqual(d,d+r.modifiedLength))break;var g=this._boundaryScore(m,r.originalLength,d,r.modifiedLength);g>h&&(h=g,f=p)}r.originalStart-=f,r.modifiedStart-=f}return e},e.prototype._OriginalIsBoundary=function(e){return e<=0||e>=this.OriginalSequence.getLength()-1||/^\s*$/.test(this.OriginalSequence.getElementHash(e))},e.prototype._OriginalRegionIsBoundary=function(e,t){if(this._OriginalIsBoundary(e)||this._OriginalIsBoundary(e-1))return!0;if(t>0){var n=e+t;if(this._OriginalIsBoundary(n-1)||this._OriginalIsBoundary(n))return!0}return!1},e.prototype._ModifiedIsBoundary=function(e){return e<=0||e>=this.ModifiedSequence.getLength()-1||/^\s*$/.test(this.ModifiedSequence.getElementHash(e))},e.prototype._ModifiedRegionIsBoundary=function(e,t){if(this._ModifiedIsBoundary(e)||this._ModifiedIsBoundary(e-1))return!0;if(t>0){var n=e+t;if(this._ModifiedIsBoundary(n-1)||this._ModifiedIsBoundary(n))return!0}return!1},e.prototype._boundaryScore=function(e,t,n,r){return(this._OriginalRegionIsBoundary(e,t)?1:0)+(this._ModifiedRegionIsBoundary(n,r)?1:0)},e.prototype.ConcatenateChanges=function(e,t){var n=[],r=null;return 0===e.length||0===t.length?t.length>0?t:e:this.ChangesOverlap(e[e.length-1],t[0],n)?(r=new Array(e.length+t.length-1),O.Copy(e,0,r,0,e.length-1),r[e.length-1]=n[0],O.Copy(t,1,r,e.length,t.length-1),r):(r=new Array(e.length+t.length),O.Copy(e,0,r,0,e.length),O.Copy(t,0,r,e.length,t.length),r)},e.prototype.ChangesOverlap=function(e,t,n){if(P.Assert(e.originalStart<=t.originalStart,"Left change is not less than or equal to right change"),P.Assert(e.modifiedStart<=t.modifiedStart,"Left change is not less than or equal to right change"),e.originalStart+e.originalLength>=t.originalStart||e.modifiedStart+e.modifiedLength>=t.modifiedStart){var r=e.originalStart,i=e.originalLength,o=e.modifiedStart,s=e.modifiedLength;return e.originalStart+e.originalLength>=t.originalStart&&(i=t.originalStart+t.originalLength-e.originalStart),e.modifiedStart+e.modifiedLength>=t.modifiedStart&&(s=t.modifiedStart+t.modifiedLength-e.modifiedStart),n[0]=new w(r,i,o,s),!0}return n[0]=null,!1},e.prototype.ClipDiagonalBound=function(e,t,n,r){if(e>=0&&e<r)return e;var i=t%2==0;return e<0?i===(n%2==0)?0:1:i===((r-n-1)%2==0)?r-1:r-2},e}(),I=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();var j,V=function(){function e(){this._value="",this._pos=0}return e.prototype.reset=function(e){return this._value=e,this._pos=0,this},e.prototype.next=function(){return this._pos+=1,this},e.prototype.join=function(e){return e.join("")},e.prototype.hasNext=function(){return this._pos<this._value.length-1},e.prototype.cmp=function(e){return e.charCodeAt(0)-this._value.charCodeAt(this._pos)},e.prototype.value=function(){return this._value[this._pos]},e}(),D=function(){function e(){}return e.prototype.reset=function(e){return this._value=e.replace(/\\$|\/$/,""),this._from=0,this._to=0,this.next()},e.prototype.hasNext=function(){return this._to<this._value.length},e.prototype.join=function(e){return e.join("/")},e.prototype.next=function(){this._from=this._to;for(var t=!0;this._to<this._value.length;this._to++){var n=this._value.charCodeAt(this._to);if(n===e._fwd||n===e._bwd){if(!t)break;this._from++}else t=!1}return this},e.prototype.cmp=function(e){for(var t=0,n=e.length,r=this._from;t<n&&r<this._to;){var i=e.charCodeAt(t)-this._value.charCodeAt(r);if(0!==i)return i;t+=1,r+=1}return n===this._to-this._from?0:t<n?-1:1},e.prototype.value=function(){return this._value.substring(this._from,this._to)},e._fwd="/".charCodeAt(0),e._bwd="\\".charCodeAt(0),e}(),F=function(){function e(){}return e.prototype.isEmpty=function(){return!(this.left||this.mid||this.right||this.element)},e}();(function(){function e(e){this._iter=e}e.forPaths=function(){return new e(new D)},e.forStrings=function(){return new e(new V)},e.prototype.clear=function(){this._root=void 0},e.prototype.set=function(e,t){var n,r=this._iter.reset(e);for(this._root||(this._root=new F,this._root.str=r.value()),n=this._root;;){var i=r.cmp(n.str);if(i>0)n.left||(n.left=new F,n.left.str=r.value()),n=n.left;else if(i<0)n.right||(n.right=new F,n.right.str=r.value()),n=n.right;else{if(!r.hasNext())break;r.next(),n.mid||(n.mid=new F,n.mid.str=r.value()),n=n.mid}}var o=n.element;return n.element=t,o},e.prototype.get=function(e){for(var t=this._iter.reset(e),n=this._root;n;){var r=t.cmp(n.str);if(r>0)n=n.left;else if(r<0)n=n.right;else{if(!t.hasNext())break;t.next(),n=n.mid}}return n?n.element:void 0},e.prototype.delete=function(e){for(var t=this._iter.reset(e),n=[],r=this._root;r;){var i=t.cmp(r.str);if(i>0)n.push([1,r]),r=r.left;else if(i<0)n.push([-1,r]),r=r.right;else{if(!t.hasNext()){for(r.element=void 0;n.length>0&&r.isEmpty();){var o=n.pop(),s=o[0],a=o[1];switch(s){case 1:a.left=void 0;break;case 0:a.mid=void 0;break;case-1:a.right=void 0}r=a}break}t.next(),n.push([0,r]),r=r.mid}}},e.prototype.findSubstr=function(e){for(var t,n=this._iter.reset(e),r=this._root;r;){var i=n.cmp(r.str);if(i>0)r=r.left;else if(i<0)r=r.right;else{if(!n.hasNext())break;n.next(),t=r.element||t,r=r.mid}}return r&&r.element||t},e.prototype.findSuperstr=function(t){for(var n=this._iter.reset(t),r=this._root;r;){var i=n.cmp(r.str);if(i>0)r=r.left;else if(i<0)r=r.right;else{if(!n.hasNext()){if(!r.mid)return;var o=new e(this._iter);return o._root=r.mid,o}n.next(),r=r.mid}}},e.prototype.forEach=function(e){this._forEach(this._root,[],e)},e.prototype._forEach=function(e,t,n){e&&(this._forEach(e.left,t,n),t.push(e.str),e.element&&n(e.element,this._iter.join(t)),this._forEach(e.mid,t,n),t.pop(),this._forEach(e.right,t,n))}})(),function(){function e(){this.map=new Map,this.ignoreCase=!1}e.prototype.set=function(e,t){this.map.set(this.toKey(e),t)},e.prototype.get=function(e){return this.map.get(this.toKey(e))},e.prototype.has=function(e){return this.map.has(this.toKey(e))},Object.defineProperty(e.prototype,"size",{get:function(){return this.map.size},enumerable:!0,configurable:!0}),e.prototype.clear=function(){this.map.clear()},e.prototype.delete=function(e){return this.map.delete(this.toKey(e))},e.prototype.forEach=function(e){this.map.forEach(e)},e.prototype.values=function(){return e=this.map,t=[],e.forEach(function(e){return t.push(e)}),t;var e,t},e.prototype.toKey=function(e){var t=e.toString();return this.ignoreCase&&(t=t.toLowerCase()),t},e.prototype.keys=function(){return(e=this.map,t=[],e.forEach(function(e,n){return t.push(n)}),t).map(_.parse);var e,t}}();!function(e){e[e.None=0]="None",e[e.AsOld=1]="AsOld",e[e.AsNew=2]="AsNew"}(j||(j={}));var U=function(e){function t(t,n){void 0===n&&(n=1);var r=e.call(this)||this;return r._limit=t,r._ratio=Math.min(Math.max(0,n),1),r}return I(t,e),Object.defineProperty(t.prototype,"limit",{get:function(){return this._limit},set:function(e){this._limit=e,this.checkTrim()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ratio",{get:function(){return this._ratio},set:function(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()},enumerable:!0,configurable:!0}),t.prototype.get=function(t){return e.prototype.get.call(this,t,j.AsNew)},t.prototype.peek=function(t){return e.prototype.get.call(this,t,j.None)},t.prototype.set=function(t,n){e.prototype.set.call(this,t,n,j.AsNew),this.checkTrim()},t.prototype.checkTrim=function(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))},t}(function(){function e(){this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0}return e.prototype.clear=function(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0},e.prototype.isEmpty=function(){return!this._head&&!this._tail},Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.get=function(e,t){void 0===t&&(t=j.None);var n=this._map.get(e);if(n)return t!==j.None&&this.touch(n,t),n.value},e.prototype.set=function(e,t,n){void 0===n&&(n=j.None);var r=this._map.get(e);if(r)r.value=t,n!==j.None&&this.touch(r,n);else{switch(r={key:e,value:t,next:void 0,previous:void 0},n){case j.None:this.addItemLast(r);break;case j.AsOld:this.addItemFirst(r);break;case j.AsNew:default:this.addItemLast(r)}this._map.set(e,r),this._size++}},e.prototype.delete=function(e){return!!this.remove(e)},e.prototype.remove=function(e){var t=this._map.get(e);if(t)return this._map.delete(e),this.removeItem(t),this._size--,t.value},e.prototype.shift=function(){if(this._head||this._tail){if(!this._head||!this._tail)throw new Error("Invalid list");var e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}},e.prototype.forEach=function(e,t){for(var n=this._head;n;)t?e.bind(t)(n.value,n.key,this):e(n.value,n.key,this),n=n.next},e.prototype.values=function(){for(var e=[],t=this._head;t;)e.push(t.value),t=t.next;return e},e.prototype.keys=function(){for(var e=[],t=this._head;t;)e.push(t.key),t=t.next;return e},e.prototype.trimOld=function(e){if(!(e>=this.size))if(0!==e){for(var t=this._head,n=this.size;t&&n>e;)this._map.delete(t.key),t=t.next,n--;this._head=t,this._size=n,t.previous=void 0}else this.clear()},e.prototype.addItemFirst=function(e){if(this._head||this._tail){if(!this._head)throw new Error("Invalid list");e.next=this._head,this._head.previous=e}else this._tail=e;this._head=e},e.prototype.addItemLast=function(e){if(this._head||this._tail){if(!this._tail)throw new Error("Invalid list");e.previous=this._tail,this._tail.next=e}else this._head=e;this._tail=e},e.prototype.removeItem=function(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head)this._head=e.next;else if(e===this._tail)this._tail=e.previous;else{var t=e.next,n=e.previous;if(!t||!n)throw new Error("Invalid list");t.previous=n,n.next=t}},e.prototype.touch=function(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(t===j.AsOld||t===j.AsNew)if(t===j.AsOld){if(e===this._head)return;var n=e.next,r=e.previous;e===this._tail?(r.next=void 0,this._tail=r):(n.previous=r,r.next=n),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e}else if(t===j.AsNew){if(e===this._tail)return;n=e.next,r=e.previous;e===this._head?(n.previous=void 0,this._head=n):(n.previous=r,r.next=n),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e}},e.prototype.toJSON=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),e},e.prototype.fromJSON=function(e){this.clear();for(var t=0,n=e;t<n.length;t++){var r=n[t],i=r[0],o=r[1];this.set(i,o)}},e}());new U(1e4);new U(1e4);String.fromCharCode(65279);var R=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),W=5e3,q=3;function K(e,t,n,r){return new M(e,t,n).ComputeDiff(r)}var B=function(){function e(e,t,n){this.buffer=e,this.startMarkers=t,this.endMarkers=n}return e.prototype.getLength=function(){return this.startMarkers.length},e.prototype.getElementHash=function(e){return this.buffer.substring(this.startMarkers[e].offset,this.endMarkers[e].offset)},e.prototype.getStartLineNumber=function(e){return e===this.startMarkers.length?this.startMarkers[e-1].lineNumber+1:this.startMarkers[e].lineNumber},e.prototype.getStartColumn=function(e){return this.startMarkers[e].column},e.prototype.getEndLineNumber=function(e){return this.endMarkers[e].lineNumber},e.prototype.getEndColumn=function(e){return this.endMarkers[e].column},e}(),Y=function(e){function t(n){for(var r="",i=[],o=[],s=0,a=0,u=n.length;a<u;a++){r+=n[a];var c=t._getFirstNonBlankColumn(n[a],1),l=t._getLastNonBlankColumn(n[a],1);i.push({offset:s+c-1,lineNumber:a+1,column:c}),o.push({offset:s+l-1,lineNumber:a+1,column:l}),s+=n[a].length}return e.call(this,r,i,o)||this}return R(t,e),t._getFirstNonBlankColumn=function(e,t){var n=function(e){for(var t=0,n=e.length;t<n;t++){var r=e.charCodeAt(t);if(32!==r&&9!==r)return t}return-1}(e);return-1===n?t:n+1},t._getLastNonBlankColumn=function(e,t){var n=function(e,t){void 0===t&&(t=e.length-1);for(var n=t;n>=0;n--){var r=e.charCodeAt(n);if(32!==r&&9!==r)return n}return-1}(e);return-1===n?t:n+2},t.prototype.getCharSequence=function(e,t){for(var n=[],r=[],i=e;i<=t;i++)for(var o=this.startMarkers[i],s=this.endMarkers[i],a=o.offset;a<s.offset;a++)n.push({offset:a,lineNumber:o.lineNumber,column:o.column+(a-o.offset)}),r.push({offset:a+1,lineNumber:o.lineNumber,column:o.column+(a-o.offset)+1});return new B(this.buffer,n,r)},t}(B),$=function(){function e(e,t,n,r,i,o,s,a){this.originalStartLineNumber=e,this.originalStartColumn=t,this.originalEndLineNumber=n,this.originalEndColumn=r,this.modifiedStartLineNumber=i,this.modifiedStartColumn=o,this.modifiedEndLineNumber=s,this.modifiedEndColumn=a}return e.createFromDiffChange=function(t,n,r){var i,o,s,a,u,c,l,f;return 0===t.originalLength?(i=0,o=0,s=0,a=0):(i=n.getStartLineNumber(t.originalStart),o=n.getStartColumn(t.originalStart),s=n.getEndLineNumber(t.originalStart+t.originalLength-1),a=n.getEndColumn(t.originalStart+t.originalLength-1)),0===t.modifiedLength?(u=0,c=0,l=0,f=0):(u=r.getStartLineNumber(t.modifiedStart),c=r.getStartColumn(t.modifiedStart),l=r.getEndLineNumber(t.modifiedStart+t.modifiedLength-1),f=r.getEndColumn(t.modifiedStart+t.modifiedLength-1)),new e(i,o,s,a,u,c,l,f)},e}();var H=function(){function e(e,t,n,r,i){this.originalStartLineNumber=e,this.originalEndLineNumber=t,this.modifiedStartLineNumber=n,this.modifiedEndLineNumber=r,this.charChanges=i}return e.createFromDiffResult=function(t,n,r,i,o){var s,a,u,c,l;if(0===t.originalLength?(s=n.getStartLineNumber(t.originalStart)-1,a=0):(s=n.getStartLineNumber(t.originalStart),a=n.getEndLineNumber(t.originalStart+t.originalLength-1)),0===t.modifiedLength?(u=r.getStartLineNumber(t.modifiedStart)-1,c=0):(u=r.getStartLineNumber(t.modifiedStart),c=r.getEndLineNumber(t.modifiedStart+t.modifiedLength-1)),0!==t.originalLength&&0!==t.modifiedLength&&i()){var f=n.getCharSequence(t.originalStart,t.originalStart+t.originalLength-1),h=r.getCharSequence(t.modifiedStart,t.modifiedStart+t.modifiedLength-1),p=K(f,h,i,!0);o&&(p=function(e){if(e.length<=1)return e;for(var t=[e[0]],n=t[0],r=1,i=e.length;r<i;r++){var o=e[r],s=o.originalStart-(n.originalStart+n.originalLength),a=o.modifiedStart-(n.modifiedStart+n.modifiedLength);Math.min(s,a)<q?(n.originalLength=o.originalStart+o.originalLength-n.originalStart,n.modifiedLength=o.modifiedStart+o.modifiedLength-n.modifiedStart):(t.push(o),n=o)}return t}(p)),l=[];for(var m=0,d=p.length;m<d;m++)l.push($.createFromDiffChange(p[m],f,h))}return new e(s,a,u,c,l)},e}(),J=function(){function e(e,t,n){this.shouldPostProcessCharChanges=n.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=n.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=n.shouldMakePrettyDiff,this.maximumRunTimeMs=W,this.originalLines=e,this.modifiedLines=t,this.original=new Y(e),this.modified=new Y(t)}return e.prototype.computeDiff=function(){if(1===this.original.getLength()&&0===this.original.getElementHash(0).length)return[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.getLength(),charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}];if(1===this.modified.getLength()&&0===this.modified.getElementHash(0).length)return[{originalStartLineNumber:1,originalEndLineNumber:this.original.getLength(),modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}];this.computationStartTime=(new Date).getTime();var e=K(this.original,this.modified,this._continueProcessingPredicate.bind(this),this.shouldMakePrettyDiff);if(this.shouldIgnoreTrimWhitespace){for(var t=[],n=0,r=e.length;n<r;n++)t.push(H.createFromDiffResult(e[n],this.original,this.modified,this._continueProcessingPredicate.bind(this),this.shouldPostProcessCharChanges));return t}for(var i=[],o=0,s=0,a=(n=-1,e.length);n<a;n++){for(var u=n+1<a?e[n+1]:null,c=u?u.originalStart:this.originalLines.length,l=u?u.modifiedStart:this.modifiedLines.length;o<c&&s<l;){var f=this.originalLines[o],h=this.modifiedLines[s];if(f!==h){for(var p=Y._getFirstNonBlankColumn(f,1),m=Y._getFirstNonBlankColumn(h,1);p>1&&m>1;){if(f.charCodeAt(p-2)!==h.charCodeAt(m-2))break;p--,m--}(p>1||m>1)&&this._pushTrimWhitespaceCharChange(i,o+1,1,p,s+1,1,m);for(var d=Y._getLastNonBlankColumn(f,1),g=Y._getLastNonBlankColumn(h,1),v=f.length+1,y=h.length+1;d<v&&g<y;){if(f.charCodeAt(d-1)!==f.charCodeAt(g-1))break;d++,g++}(d<v||g<y)&&this._pushTrimWhitespaceCharChange(i,o+1,d,v,s+1,g,y)}o++,s++}u&&(i.push(H.createFromDiffResult(u,this.original,this.modified,this._continueProcessingPredicate.bind(this),this.shouldPostProcessCharChanges)),o+=u.originalLength,s+=u.modifiedLength)}return i},e.prototype._pushTrimWhitespaceCharChange=function(e,t,n,r,i,o,s){this._mergeTrimWhitespaceCharChange(e,t,n,r,i,o,s)||e.push(new H(t,t,i,i,[new $(t,n,t,r,i,o,i,s)]))},e.prototype._mergeTrimWhitespaceCharChange=function(e,t,n,r,i,o,s){var a=e.length;if(0===a)return!1;var u=e[a-1];return 0!==u.originalEndLineNumber&&0!==u.modifiedEndLineNumber&&(u.originalEndLineNumber+1===t&&u.modifiedEndLineNumber+1===i&&(u.originalEndLineNumber=t,u.modifiedEndLineNumber=i,u.charChanges.push(new $(t,n,t,r,i,o,i,s)),!0))},e.prototype._continueProcessingPredicate=function(){return 0===this.maximumRunTimeMs||(new Date).getTime()-this.computationStartTime<this.maximumRunTimeMs},e}(),z=function(){function e(e,t,n){for(var r=new Uint8Array(e*t),i=0,o=e*t;i<o;i++)r[i]=n;this._data=r,this.rows=e,this.cols=t}return e.prototype.get=function(e,t){return this._data[e*this.cols+t]},e.prototype.set=function(e,t,n){this._data[e*this.cols+t]=n},e}();function G(e){return e<0?0:e>255?255:0|e}function Q(e){return e<0?0:e>4294967295?4294967295:0|e}var X=function(){return function(e,t){this.index=e,this.remainder=t}}(),Z=function(){function e(e){this.values=e,this.prefixSum=new Uint32Array(e.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}return e.prototype.getCount=function(){return this.values.length},e.prototype.insertValues=function(e,t){e=Q(e);var n=this.values,r=this.prefixSum,i=t.length;return 0!==i&&(this.values=new Uint32Array(n.length+i),this.values.set(n.subarray(0,e),0),this.values.set(n.subarray(e),e+i),this.values.set(t,e),e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(r.subarray(0,this.prefixSumValidIndex[0]+1)),!0)},e.prototype.changeValue=function(e,t){return e=Q(e),t=Q(t),this.values[e]!==t&&(this.values[e]=t,e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),!0)},e.prototype.removeValues=function(e,t){e=Q(e),t=Q(t);var n=this.values,r=this.prefixSum;if(e>=n.length)return!1;var i=n.length-e;return t>=i&&(t=i),0!==t&&(this.values=new Uint32Array(n.length-t),this.values.set(n.subarray(0,e),0),this.values.set(n.subarray(e+t),e),this.prefixSum=new Uint32Array(this.values.length),e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(r.subarray(0,this.prefixSumValidIndex[0]+1)),!0)},e.prototype.getTotalValue=function(){return 0===this.values.length?0:this._getAccumulatedValue(this.values.length-1)},e.prototype.getAccumulatedValue=function(e){return e<0?0:(e=Q(e),this._getAccumulatedValue(e))},e.prototype._getAccumulatedValue=function(e){if(e<=this.prefixSumValidIndex[0])return this.prefixSum[e];var t=this.prefixSumValidIndex[0]+1;0===t&&(this.prefixSum[0]=this.values[0],t++),e>=this.values.length&&(e=this.values.length-1);for(var n=t;n<=e;n++)this.prefixSum[n]=this.prefixSum[n-1]+this.values[n];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],e),this.prefixSum[e]},e.prototype.getIndexOf=function(e){e=Math.floor(e),this.getTotalValue();for(var t,n,r,i=0,o=this.values.length-1;i<=o;)if(t=i+(o-i)/2|0,e<(r=(n=this.prefixSum[t])-this.values[t]))o=t-1;else{if(!(e>=n))break;i=t+1}return new X(t,e-r)},e}(),ee=(function(){function e(e){this._cacheAccumulatedValueStart=0,this._cache=null,this._actual=new Z(e),this._bustCache()}e.prototype._bustCache=function(){this._cacheAccumulatedValueStart=0,this._cache=null},e.prototype.insertValues=function(e,t){this._actual.insertValues(e,t)&&this._bustCache()},e.prototype.changeValue=function(e,t){this._actual.changeValue(e,t)&&this._bustCache()},e.prototype.removeValues=function(e,t){this._actual.removeValues(e,t)&&this._bustCache()},e.prototype.getTotalValue=function(){return this._actual.getTotalValue()},e.prototype.getAccumulatedValue=function(e){return this._actual.getAccumulatedValue(e)},e.prototype.getIndexOf=function(e){if(e=Math.floor(e),null!==this._cache){var t=e-this._cacheAccumulatedValueStart;if(t>=0&&t<this._cache.length)return this._cache[t]}return this._actual.getIndexOf(e)},e.prototype.warmUpCache=function(e,t){for(var n=[],r=e;r<=t;r++)n[r-e]=this.getIndexOf(r);this._cache=n,this._cacheAccumulatedValueStart=e}}(),function(){function e(e,t,n,r){this._uri=e,this._lines=t,this._eol=n,this._versionId=r}return e.prototype.dispose=function(){this._lines.length=0},Object.defineProperty(e.prototype,"version",{get:function(){return this._versionId},enumerable:!0,configurable:!0}),e.prototype.getText=function(){return this._lines.join(this._eol)},e.prototype.onEvents=function(e){e.eol&&e.eol!==this._eol&&(this._eol=e.eol,this._lineStarts=null);for(var t=e.changes,n=0,r=t.length;n<r;n++){var i=t[n];this._acceptDeleteRange(i.range),this._acceptInsertText(new x(i.range.startLineNumber,i.range.startColumn),i.text)}this._versionId=e.versionId},e.prototype._ensureLineStarts=function(){if(!this._lineStarts){for(var e=this._eol.length,t=this._lines.length,n=new Uint32Array(t),r=0;r<t;r++)n[r]=this._lines[r].length+e;this._lineStarts=new Z(n)}},e.prototype._setLineText=function(e,t){this._lines[e]=t,this._lineStarts&&this._lineStarts.changeValue(e,this._lines[e].length+this._eol.length)},e.prototype._acceptDeleteRange=function(e){if(e.startLineNumber!==e.endLineNumber)this._setLineText(e.startLineNumber-1,this._lines[e.startLineNumber-1].substring(0,e.startColumn-1)+this._lines[e.endLineNumber-1].substring(e.endColumn-1)),this._lines.splice(e.startLineNumber,e.endLineNumber-e.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(e.startLineNumber,e.endLineNumber-e.startLineNumber);else{if(e.startColumn===e.endColumn)return;this._setLineText(e.startLineNumber-1,this._lines[e.startLineNumber-1].substring(0,e.startColumn-1)+this._lines[e.startLineNumber-1].substring(e.endColumn-1))}},e.prototype._acceptInsertText=function(e,t){if(0!==t.length){var n=t.split(/\r\n|\r|\n/);if(1!==n.length){n[n.length-1]+=this._lines[e.lineNumber-1].substring(e.column-1),this._setLineText(e.lineNumber-1,this._lines[e.lineNumber-1].substring(0,e.column-1)+n[0]);for(var r=new Uint32Array(n.length-1),i=1;i<n.length;i++)this._lines.splice(e.lineNumber+i-1,0,n[i]),r[i-1]=n[i].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(e.lineNumber,r)}else this._setLineText(e.lineNumber-1,this._lines[e.lineNumber-1].substring(0,e.column-1)+n[0]+this._lines[e.lineNumber-1].substring(e.column-1))}},e}()),te=function(){function e(t){var n=G(t);this._defaultValue=n,this._asciiMap=e._createAsciiMap(n),this._map=new Map}return e._createAsciiMap=function(e){for(var t=new Uint8Array(256),n=0;n<256;n++)t[n]=e;return t},e.prototype.set=function(e,t){var n=G(t);e>=0&&e<256?this._asciiMap[e]=n:this._map.set(e,n)},e.prototype.get=function(e){return e>=0&&e<256?this._asciiMap[e]:this._map.get(e)||this._defaultValue},e}(),ne=(function(){function e(){this._actual=new te(0)}e.prototype.add=function(e){this._actual.set(e,1)},e.prototype.has=function(e){return 1===this._actual.get(e)}}(),function(){function e(e){for(var t=0,n=0,r=0,i=e.length;r<i;r++){var o=e[r],s=o[0],a=o[1],u=o[2];a>t&&(t=a),s>n&&(n=s),u>n&&(n=u)}var c=new z(++n,++t,0);for(r=0,i=e.length;r<i;r++){var l=e[r];s=l[0],a=l[1],u=l[2];c.set(s,a,u)}this._states=c,this._maxCharCode=t}return e.prototype.nextState=function(e,t){return t<0||t>=this._maxCharCode?0:this._states.get(e,t)},e}()),re=null;var ie=null;var oe=function(){function e(){}return e._createLink=function(e,t,n,r,i){var o=i-1;do{var s=t.charCodeAt(o);if(2!==e.get(s))break;o--}while(o>r);if(r>0){var a=t.charCodeAt(r-1),u=t.charCodeAt(o);(40===a&&41===u||91===a&&93===u||123===a&&125===u)&&o--}return{range:{startLineNumber:n,startColumn:r+1,endLineNumber:n,endColumn:o+2},url:t.substring(r,o+1)}},e.computeLinks=function(t){for(var n=(null===re&&(re=new ne([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),re),r=function(){if(null===ie){ie=new te(0);for(var e=0;e<" \t<>'\"".length;e++)ie.set(" \t<>'\"".charCodeAt(e),1);for(e=0;e<".,;".length;e++)ie.set(".,;".charCodeAt(e),2)}return ie}(),i=[],o=1,s=t.getLineCount();o<=s;o++){for(var a=t.getLineContent(o),u=a.length,c=0,l=0,f=0,h=1,p=!1,m=!1,d=!1;c<u;){var g=!1,v=a.charCodeAt(c);if(13===h){var y=void 0;switch(v){case 40:p=!0,y=0;break;case 41:y=p?0:1;break;case 91:m=!0,y=0;break;case 93:y=m?0:1;break;case 123:d=!0,y=0;break;case 125:y=d?0:1;break;case 39:y=34===f||96===f?0:1;break;case 34:y=39===f||96===f?0:1;break;case 96:y=39===f||34===f?0:1;break;default:y=r.get(v)}1===y&&(i.push(e._createLink(r,a,o,l,c)),g=!0)}else if(12===h){1===(y=r.get(v))?g=!0:h=13}else 0===(h=n.nextState(h,v))&&(g=!0);g&&(h=1,p=!1,m=!1,d=!1,l=c+1,f=v),c++}13===h&&i.push(e._createLink(r,a,o,l,u))}return i},e}();var se=function(){function e(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}return e.prototype.navigateValueSet=function(e,t,n,r,i){var o;if(e&&t&&(o=this.doNavigateValueSet(t,i)))return{range:e,value:o};if(n&&r&&(o=this.doNavigateValueSet(r,i)))return{range:n,value:o};return null},e.prototype.doNavigateValueSet=function(e,t){var n=this.numberReplace(e,t);return null!==n?n:this.textReplace(e,t)},e.prototype.numberReplace=function(e,t){var n=Math.pow(10,e.length-(e.lastIndexOf(".")+1)),r=Number(e),i=parseFloat(e);return isNaN(r)||isNaN(i)||r!==i?null:0!==r||t?(r=Math.floor(r*n),r+=t?n:-n,String(r/n)):null},e.prototype.textReplace=function(e,t){return this.valueSetsReplace(this._defaultValueSet,e,t)},e.prototype.valueSetsReplace=function(e,t,n){for(var r=null,i=0,o=e.length;null===r&&i<o;i++)r=this.valueSetReplace(e[i],t,n);return r},e.prototype.valueSetReplace=function(e,t,n){var r=e.indexOf(t);return r>=0?((r+=n?1:-1)<0?r=e.length-1:r%=e.length,e[r]):null},e.INSTANCE=new e,e}(),ae="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?";var ue=function(e){void 0===e&&(e="");for(var t="(-?\\d*\\.\\d\\w*)|([^",n=0;n<ae.length;n++)e.indexOf(ae[n])>=0||(t+="\\"+ae[n]);return t+="\\s]+)",new RegExp(t,"g")}();function ce(e){var t,n=this,r=!1;return function(){return r?t:(r=!0,t=e.apply(n,arguments))}}var le=Object.freeze({dispose:function(){}});function fe(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return Array.isArray(e)?(e.forEach(function(e){return e&&e.dispose()}),[]):0===t.length?e?(e.dispose(),e):void 0:(fe(e),fe(t),[])}var he=function(){function e(){this._toDispose=[]}return e.prototype.dispose=function(){this._toDispose=fe(this._toDispose)},e.prototype._register=function(e){return this._toDispose.push(e),e},e}(),pe=(function(){function e(){this.references=Object.create(null)}e.prototype.acquire=function(e){var t=this,n=this.references[e];n||(n=this.references[e]={counter:0,object:this.createReferencedObject(e)});var r=n.object,i=ce(function(){0==--n.counter&&(t.destroyReferencedObject(n.object),delete t.references[e])});return n.counter++,{object:r,dispose:i}}}(),function(){function e(e){this.object=e}e.prototype.dispose=function(){}}(),{});E.b.addEventListener("error",function(e){var t=e.detail,n=t.id;t.parent?t.handler&&pe&&delete pe[n]:(pe[n]=t,1===Object.keys(pe).length&&setTimeout(function(){var e=pe;pe={},Object.keys(e).forEach(function(t){var n=e[t];n.exception?de(n.exception):n.error&&de(n.error),console.log("WARNING: Promise with no error callback:"+n.id),console.log(n),n.exception&&console.log(n.exception.stack)})},0))});var me=new(function(){function e(){this.listeners=[],this.unexpectedErrorHandler=function(e){setTimeout(function(){if(e.stack)throw new Error(e.message+"\n\n"+e.stack);throw e},0)}}return e.prototype.addListener=function(e){var t=this;return this.listeners.push(e),function(){t._removeListener(e)}},e.prototype.emit=function(e){this.listeners.forEach(function(t){t(e)})},e.prototype._removeListener=function(e){this.listeners.splice(this.listeners.indexOf(e),1)},e.prototype.setUnexpectedErrorHandler=function(e){this.unexpectedErrorHandler=e},e.prototype.getUnexpectedErrorHandler=function(){return this.unexpectedErrorHandler},e.prototype.onUnexpectedError=function(e){this.unexpectedErrorHandler(e),this.emit(e)},e.prototype.onUnexpectedExternalError=function(e){this.unexpectedErrorHandler(e)},e}());function de(e){ye(e)||me.onUnexpectedError(e)}function ge(e){return e instanceof Error?{$isError:!0,name:e.name,message:e.message,stack:e.stacktrace||e.stack}:e}var ve="Canceled";function ye(e){return e instanceof Error&&e.name===ve&&e.message===ve}var _e,be=function(){return function(e){this.element=e}}(),Se=function(){function e(){}return e.prototype.isEmpty=function(){return!this._first},e.prototype.clear=function(){this._first=void 0,this._last=void 0},e.prototype.unshift=function(e){return this.insert(e,!1)},e.prototype.push=function(e){return this.insert(e,!0)},e.prototype.insert=function(e,t){var n=this,r=new be(e);if(this._first)if(t){var i=this._last;this._last=r,r.prev=i,i.next=r}else{var o=this._first;this._first=r,r.next=o,o.prev=r}else this._first=r,this._last=r;return function(){for(var e=n._first;e instanceof be;e=e.next)if(e===r){if(e.prev&&e.next){var t=e.prev;t.next=e.next,e.next.prev=t}else e.prev||e.next?e.next?e.prev||(n._first=n._first.next,n._first.prev=void 0):(n._last=n._last.prev,n._last.next=void 0):(n._first=void 0,n._last=void 0);break}}},e.prototype.iterator=function(){var e={done:void 0,value:void 0},t=this._first;return{next:function(){return t?(e.done=!1,e.value=t.element,t=t.next):(e.done=!0,e.value=void 0),e}}},e.prototype.toArray=function(){for(var e=[],t=this._first;t instanceof be;t=t.next)e.push(t.element);return e},e}();!function(e){var t={dispose:function(){}};e.None=function(){return t}}(_e||(_e={}));var Ce=function(){function e(e){this._options=e}return Object.defineProperty(e.prototype,"event",{get:function(){var t=this;return this._event||(this._event=function(n,r,i){t._listeners||(t._listeners=new Se);var o=t._listeners.isEmpty();o&&t._options&&t._options.onFirstListenerAdd&&t._options.onFirstListenerAdd(t);var s,a=t._listeners.push(r?[n,r]:n);return o&&t._options&&t._options.onFirstListenerDidAdd&&t._options.onFirstListenerDidAdd(t),t._options&&t._options.onListenerDidAdd&&t._options.onListenerDidAdd(t,n,r),s={dispose:function(){s.dispose=e._noop,t._disposed||(a(),t._options&&t._options.onLastListenerRemove&&t._listeners.isEmpty()&&t._options.onLastListenerRemove(t))}},Array.isArray(i)&&i.push(s),s}),this._event},enumerable:!0,configurable:!0}),e.prototype.fire=function(e){if(this._listeners){this._deliveryQueue||(this._deliveryQueue=[]);for(var t=this._listeners.iterator(),n=t.next();!n.done;n=t.next())this._deliveryQueue.push([n.value,e]);for(;this._deliveryQueue.length>0;){var r=this._deliveryQueue.shift(),i=r[0],o=r[1];try{"function"==typeof i?i.call(void 0,o):i[0].call(i[1],o)}catch(n){de(n)}}}},e.prototype.dispose=function(){this._listeners&&(this._listeners=void 0),this._deliveryQueue&&(this._deliveryQueue.length=0),this._disposed=!0},e._noop=function(){},e}();!function(){function e(){var e=this;this.hasListeners=!1,this.events=[],this.emitter=new Ce({onFirstListenerAdd:function(){return e.onFirstListenerAdd()},onLastListenerRemove:function(){return e.onLastListenerRemove()}})}Object.defineProperty(e.prototype,"event",{get:function(){return this.emitter.event},enumerable:!0,configurable:!0}),e.prototype.add=function(e){var t=this,n={event:e,listener:null};this.events.push(n),this.hasListeners&&this.hook(n);return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return{dispose:function(){for(var t=0,n=e;t<n.length;t++)(0,n[t])()}}}(ce(function(){t.hasListeners&&t.unhook(n);var e=t.events.indexOf(n);t.events.splice(e,1)}))},e.prototype.onFirstListenerAdd=function(){var e=this;this.hasListeners=!0,this.events.forEach(function(t){return e.hook(t)})},e.prototype.onLastListenerRemove=function(){var e=this;this.hasListeners=!1,this.events.forEach(function(t){return e.unhook(t)})},e.prototype.hook=function(e){var t=this;e.listener=e.event(function(e){return t.emitter.fire(e)})},e.prototype.unhook=function(e){e.listener.dispose(),e.listener=null},e.prototype.dispose=function(){this.emitter.dispose()}}();!function(){function e(){this.buffers=[]}e.prototype.wrapEvent=function(e){var t=this;return function(n,r,i){return e(function(e){var i=t.buffers[t.buffers.length-1];i?i.push(function(){return n.call(r,e)}):n.call(r,e)},void 0,i)}},e.prototype.bufferEvents=function(e){var t=[];this.buffers.push(t),e(),this.buffers.pop(),t.forEach(function(e){return e()})}}();function Ee(e,t){return function(n,r,i){return void 0===r&&(r=null),e(function(e){return n.call(r,t(e))},null,i)}}function xe(e,t){return function(n,r,i){return void 0===r&&(r=null),e(function(e){return t(e)&&n.call(r,e)},null,i)}}!function(){function e(e){this._event=e}Object.defineProperty(e.prototype,"event",{get:function(){return this._event},enumerable:!0,configurable:!0}),e.prototype.map=function(t){return new e(Ee(this._event,t))},e.prototype.forEach=function(t){return new e((n=this._event,r=t,function(e,t,i){return void 0===t&&(t=null),n(function(n){r(n),e.call(t,n)},null,i)}));var n,r},e.prototype.filter=function(t){return new e(xe(this._event,t))},e.prototype.latch=function(){return new e((t=this._event,r=!0,xe(t,function(e){var t=r||e!==n;return r=!1,n=e,t})));var t,n,r},e.prototype.on=function(e,t,n){return this._event(e,t,n)}}();!function(){function e(){this.emitter=new Ce,this.event=this.emitter.event,this.disposable=le}Object.defineProperty(e.prototype,"input",{set:function(e){this.disposable.dispose(),this.disposable=e(this.emitter.fire,this.emitter)},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.disposable.dispose(),this.emitter.dispose()}}();var Ne,we=function(){function e(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}return e.prototype.define=function(e,t){this._keyCodeToStr[e]=t,this._strToKeyCode[t.toLowerCase()]=e},e.prototype.keyCodeToStr=function(e){return this._keyCodeToStr[e]},e.prototype.strToKeyCode=function(e){return this._strToKeyCode[e.toLowerCase()]||0},e}(),Ae=new we,ke=new we,Pe=new we;!function(){function e(e,t,n,r){void 0===n&&(n=t),void 0===r&&(r=n),Ae.define(e,t),ke.define(e,n),Pe.define(e,r)}e(0,"unknown"),e(1,"Backspace"),e(2,"Tab"),e(3,"Enter"),e(4,"Shift"),e(5,"Ctrl"),e(6,"Alt"),e(7,"PauseBreak"),e(8,"CapsLock"),e(9,"Escape"),e(10,"Space"),e(11,"PageUp"),e(12,"PageDown"),e(13,"End"),e(14,"Home"),e(15,"LeftArrow","Left"),e(16,"UpArrow","Up"),e(17,"RightArrow","Right"),e(18,"DownArrow","Down"),e(19,"Insert"),e(20,"Delete"),e(21,"0"),e(22,"1"),e(23,"2"),e(24,"3"),e(25,"4"),e(26,"5"),e(27,"6"),e(28,"7"),e(29,"8"),e(30,"9"),e(31,"A"),e(32,"B"),e(33,"C"),e(34,"D"),e(35,"E"),e(36,"F"),e(37,"G"),e(38,"H"),e(39,"I"),e(40,"J"),e(41,"K"),e(42,"L"),e(43,"M"),e(44,"N"),e(45,"O"),e(46,"P"),e(47,"Q"),e(48,"R"),e(49,"S"),e(50,"T"),e(51,"U"),e(52,"V"),e(53,"W"),e(54,"X"),e(55,"Y"),e(56,"Z"),e(57,"Meta"),e(58,"ContextMenu"),e(59,"F1"),e(60,"F2"),e(61,"F3"),e(62,"F4"),e(63,"F5"),e(64,"F6"),e(65,"F7"),e(66,"F8"),e(67,"F9"),e(68,"F10"),e(69,"F11"),e(70,"F12"),e(71,"F13"),e(72,"F14"),e(73,"F15"),e(74,"F16"),e(75,"F17"),e(76,"F18"),e(77,"F19"),e(78,"NumLock"),e(79,"ScrollLock"),e(80,";",";","OEM_1"),e(81,"=","=","OEM_PLUS"),e(82,",",",","OEM_COMMA"),e(83,"-","-","OEM_MINUS"),e(84,".",".","OEM_PERIOD"),e(85,"/","/","OEM_2"),e(86,"`","`","OEM_3"),e(110,"ABNT_C1"),e(111,"ABNT_C2"),e(87,"[","[","OEM_4"),e(88,"\\","\\","OEM_5"),e(89,"]","]","OEM_6"),e(90,"'","'","OEM_7"),e(91,"OEM_8"),e(92,"OEM_102"),e(93,"NumPad0"),e(94,"NumPad1"),e(95,"NumPad2"),e(96,"NumPad3"),e(97,"NumPad4"),e(98,"NumPad5"),e(99,"NumPad6"),e(100,"NumPad7"),e(101,"NumPad8"),e(102,"NumPad9"),e(103,"NumPad_Multiply"),e(104,"NumPad_Add"),e(105,"NumPad_Separator"),e(106,"NumPad_Subtract"),e(107,"NumPad_Decimal"),e(108,"NumPad_Divide")}(),function(e){e.toString=function(e){return Ae.keyCodeToStr(e)},e.fromString=function(e){return Ae.strToKeyCode(e)},e.toUserSettingsUS=function(e){return ke.keyCodeToStr(e)},e.toUserSettingsGeneral=function(e){return Pe.keyCodeToStr(e)},e.fromUserSettings=function(e){return ke.strToKeyCode(e)||Pe.strToKeyCode(e)}}(Ne||(Ne={}));(function(){function e(e,t,n,r,i){this.type=1,this.ctrlKey=e,this.shiftKey=t,this.altKey=n,this.metaKey=r,this.keyCode=i}e.prototype.equals=function(e){return 1===e.type&&(this.ctrlKey===e.ctrlKey&&this.shiftKey===e.shiftKey&&this.altKey===e.altKey&&this.metaKey===e.metaKey&&this.keyCode===e.keyCode)},e.prototype.getHashCode=function(){return""+(this.ctrlKey?"1":"0")+(this.shiftKey?"1":"0")+(this.altKey?"1":"0")+(this.metaKey?"1":"0")+this.keyCode},e.prototype.isModifierKey=function(){return 0===this.keyCode||5===this.keyCode||57===this.keyCode||6===this.keyCode||4===this.keyCode},e.prototype.isDuplicateModifierCase=function(){return this.ctrlKey&&5===this.keyCode||this.shiftKey&&4===this.keyCode||this.altKey&&6===this.keyCode||this.metaKey&&57===this.keyCode}})(),function(){function e(e,t){this.type=2,this.firstPart=e,this.chordPart=t}e.prototype.getHashCode=function(){return this.firstPart.getHashCode()+";"+this.chordPart.getHashCode()}}();var Oe,Le=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(e){e[e.LTR=0]="LTR",e[e.RTL=1]="RTL"}(Oe||(Oe={}));var Te,Me,Ie=function(e){function t(t,n,r,i){var o=e.call(this,t,n,r,i)||this;return o.selectionStartLineNumber=t,o.selectionStartColumn=n,o.positionLineNumber=r,o.positionColumn=i,o}return Le(t,e),t.prototype.clone=function(){return new t(this.selectionStartLineNumber,this.selectionStartColumn,this.positionLineNumber,this.positionColumn)},t.prototype.toString=function(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"},t.prototype.equalsSelection=function(e){return t.selectionsEqual(this,e)},t.selectionsEqual=function(e,t){return e.selectionStartLineNumber===t.selectionStartLineNumber&&e.selectionStartColumn===t.selectionStartColumn&&e.positionLineNumber===t.positionLineNumber&&e.positionColumn===t.positionColumn},t.prototype.getDirection=function(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?Oe.LTR:Oe.RTL},t.prototype.setEndPosition=function(e,n){return this.getDirection()===Oe.LTR?new t(this.startLineNumber,this.startColumn,e,n):new t(e,n,this.startLineNumber,this.startColumn)},t.prototype.getPosition=function(){return new x(this.positionLineNumber,this.positionColumn)},t.prototype.setStartPosition=function(e,n){return this.getDirection()===Oe.LTR?new t(e,n,this.endLineNumber,this.endColumn):new t(this.endLineNumber,this.endColumn,e,n)},t.fromPositions=function(e,n){return void 0===n&&(n=e),new t(e.lineNumber,e.column,n.lineNumber,n.column)},t.liftSelection=function(e){return new t(e.selectionStartLineNumber,e.selectionStartColumn,e.positionLineNumber,e.positionColumn)},t.selectionsArrEqual=function(e,t){if(e&&!t||!e&&t)return!1;if(!e&&!t)return!0;if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(!this.selectionsEqual(e[n],t[n]))return!1;return!0},t.isISelection=function(e){return e&&"number"==typeof e.selectionStartLineNumber&&"number"==typeof e.selectionStartColumn&&"number"==typeof e.positionLineNumber&&"number"==typeof e.positionColumn},t.createWithDirection=function(e,n,r,i,o){return o===Oe.LTR?new t(e,n,r,i):new t(r,i,e,n)},t}(N),je=Object.freeze(function(e,t){var n=setTimeout(e.bind(t),0);return{dispose:function(){clearTimeout(n)}}});(Me=Te||(Te={})).None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:_e.None}),Me.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:je});var Ve,De,Fe=function(){function e(){this._isCancelled=!1}return e.prototype.cancel=function(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))},Object.defineProperty(e.prototype,"isCancellationRequested",{get:function(){return this._isCancelled},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onCancellationRequested",{get:function(){return this._isCancelled?je:(this._emitter||(this._emitter=new Ce),this._emitter.event)},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)},e}(),Ue=function(){function e(){}return Object.defineProperty(e.prototype,"token",{get:function(){return this._token||(this._token=new Fe),this._token},enumerable:!0,configurable:!0}),e.prototype.cancel=function(){this._token?this._token instanceof Fe&&this._token.cancel():this._token=Te.Cancelled},e.prototype.dispose=function(){this._token?this._token instanceof Fe&&this._token.dispose():this._token=Te.None},e}(),Re=function(){function e(e,t,n){this.offset=0|e,this.type=t,this.language=n}return e.prototype.toString=function(){return"("+this.offset+", "+this.type+")"},e}();!function(e){e[e.Ignore=0]="Ignore",e[e.Info=1]="Info",e[e.Warning=2]="Warning",e[e.Error=3]="Error"}(Ve||(Ve={})),function(e){e[e.Hint=1]="Hint",e[e.Info=2]="Info",e[e.Warning=4]="Warning",e[e.Error=8]="Error"}(De||(De={}));var We,qe=function(){function e(){}return e.chord=function(e,t){return function(e,t){return(e|(65535&t)<<16>>>0)>>>0}(e,t)},e.CtrlCmd=2048,e.Shift=1024,e.Alt=512,e.WinCtrl=256,e}();!function(e){e[e.Unknown=0]="Unknown",e[e.Backspace=1]="Backspace",e[e.Tab=2]="Tab",e[e.Enter=3]="Enter",e[e.Shift=4]="Shift",e[e.Ctrl=5]="Ctrl",e[e.Alt=6]="Alt",e[e.PauseBreak=7]="PauseBreak",e[e.CapsLock=8]="CapsLock",e[e.Escape=9]="Escape",e[e.Space=10]="Space",e[e.PageUp=11]="PageUp",e[e.PageDown=12]="PageDown",e[e.End=13]="End",e[e.Home=14]="Home",e[e.LeftArrow=15]="LeftArrow",e[e.UpArrow=16]="UpArrow",e[e.RightArrow=17]="RightArrow",e[e.DownArrow=18]="DownArrow",e[e.Insert=19]="Insert",e[e.Delete=20]="Delete",e[e.KEY_0=21]="KEY_0",e[e.KEY_1=22]="KEY_1",e[e.KEY_2=23]="KEY_2",e[e.KEY_3=24]="KEY_3",e[e.KEY_4=25]="KEY_4",e[e.KEY_5=26]="KEY_5",e[e.KEY_6=27]="KEY_6",e[e.KEY_7=28]="KEY_7",e[e.KEY_8=29]="KEY_8",e[e.KEY_9=30]="KEY_9",e[e.KEY_A=31]="KEY_A",e[e.KEY_B=32]="KEY_B",e[e.KEY_C=33]="KEY_C",e[e.KEY_D=34]="KEY_D",e[e.KEY_E=35]="KEY_E",e[e.KEY_F=36]="KEY_F",e[e.KEY_G=37]="KEY_G",e[e.KEY_H=38]="KEY_H",e[e.KEY_I=39]="KEY_I",e[e.KEY_J=40]="KEY_J",e[e.KEY_K=41]="KEY_K",e[e.KEY_L=42]="KEY_L",e[e.KEY_M=43]="KEY_M",e[e.KEY_N=44]="KEY_N",e[e.KEY_O=45]="KEY_O",e[e.KEY_P=46]="KEY_P",e[e.KEY_Q=47]="KEY_Q",e[e.KEY_R=48]="KEY_R",e[e.KEY_S=49]="KEY_S",e[e.KEY_T=50]="KEY_T",e[e.KEY_U=51]="KEY_U",e[e.KEY_V=52]="KEY_V",e[e.KEY_W=53]="KEY_W",e[e.KEY_X=54]="KEY_X",e[e.KEY_Y=55]="KEY_Y",e[e.KEY_Z=56]="KEY_Z",e[e.Meta=57]="Meta",e[e.ContextMenu=58]="ContextMenu",e[e.F1=59]="F1",e[e.F2=60]="F2",e[e.F3=61]="F3",e[e.F4=62]="F4",e[e.F5=63]="F5",e[e.F6=64]="F6",e[e.F7=65]="F7",e[e.F8=66]="F8",e[e.F9=67]="F9",e[e.F10=68]="F10",e[e.F11=69]="F11",e[e.F12=70]="F12",e[e.F13=71]="F13",e[e.F14=72]="F14",e[e.F15=73]="F15",e[e.F16=74]="F16",e[e.F17=75]="F17",e[e.F18=76]="F18",e[e.F19=77]="F19",e[e.NumLock=78]="NumLock",e[e.ScrollLock=79]="ScrollLock",e[e.US_SEMICOLON=80]="US_SEMICOLON",e[e.US_EQUAL=81]="US_EQUAL",e[e.US_COMMA=82]="US_COMMA",e[e.US_MINUS=83]="US_MINUS",e[e.US_DOT=84]="US_DOT",e[e.US_SLASH=85]="US_SLASH",e[e.US_BACKTICK=86]="US_BACKTICK",e[e.US_OPEN_SQUARE_BRACKET=87]="US_OPEN_SQUARE_BRACKET",e[e.US_BACKSLASH=88]="US_BACKSLASH",e[e.US_CLOSE_SQUARE_BRACKET=89]="US_CLOSE_SQUARE_BRACKET",e[e.US_QUOTE=90]="US_QUOTE",e[e.OEM_8=91]="OEM_8",e[e.OEM_102=92]="OEM_102",e[e.NUMPAD_0=93]="NUMPAD_0",e[e.NUMPAD_1=94]="NUMPAD_1",e[e.NUMPAD_2=95]="NUMPAD_2",e[e.NUMPAD_3=96]="NUMPAD_3",e[e.NUMPAD_4=97]="NUMPAD_4",e[e.NUMPAD_5=98]="NUMPAD_5",e[e.NUMPAD_6=99]="NUMPAD_6",e[e.NUMPAD_7=100]="NUMPAD_7",e[e.NUMPAD_8=101]="NUMPAD_8",e[e.NUMPAD_9=102]="NUMPAD_9",e[e.NUMPAD_MULTIPLY=103]="NUMPAD_MULTIPLY",e[e.NUMPAD_ADD=104]="NUMPAD_ADD",e[e.NUMPAD_SEPARATOR=105]="NUMPAD_SEPARATOR",e[e.NUMPAD_SUBTRACT=106]="NUMPAD_SUBTRACT",e[e.NUMPAD_DECIMAL=107]="NUMPAD_DECIMAL",e[e.NUMPAD_DIVIDE=108]="NUMPAD_DIVIDE",e[e.KEY_IN_COMPOSITION=109]="KEY_IN_COMPOSITION",e[e.ABNT_C1=110]="ABNT_C1",e[e.ABNT_C2=111]="ABNT_C2",e[e.MAX_VALUE=112]="MAX_VALUE"}(We||(We={}));var Ke=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Be=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ke(t,e),Object.defineProperty(t.prototype,"uri",{get:function(){return this._uri},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"version",{get:function(){return this._versionId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"eol",{get:function(){return this._eol},enumerable:!0,configurable:!0}),t.prototype.getValue=function(){return this.getText()},t.prototype.getLinesContent=function(){return this._lines.slice(0)},t.prototype.getLineCount=function(){return this._lines.length},t.prototype.getLineContent=function(e){return this._lines[e-1]},t.prototype.getWordAtPosition=function(e,t){var n=function(e,t,n,r){t.lastIndex=0;var i=t.exec(n);if(!i)return null;var o=i[0].indexOf(" ")>=0?function(e,t,n,r){var i,o=e-1-r;for(t.lastIndex=0;i=t.exec(n);){if(i.index>o)return null;if(t.lastIndex>=o)return{word:i[0],startColumn:r+1+i.index,endColumn:r+1+t.lastIndex}}return null}(e,t,n,r):function(e,t,n,r){var i,o=e-1-r,s=n.lastIndexOf(" ",o-1)+1,a=n.indexOf(" ",o);for(-1===a&&(a=n.length),t.lastIndex=s;i=t.exec(n);)if(i.index<=o&&t.lastIndex>=o)return{word:i[0],startColumn:r+1+i.index,endColumn:r+1+t.lastIndex};return null}(e,t,n,r);return t.lastIndex=0,o}(e.column,function(e){var t=ue;if(e&&e instanceof RegExp)if(e.global)t=e;else{var n="g";e.ignoreCase&&(n+="i"),e.multiline&&(n+="m"),t=new RegExp(e.source,n)}return t.lastIndex=0,t}(t),this._lines[e.lineNumber-1],0);return n?new N(e.lineNumber,n.startColumn,e.lineNumber,n.endColumn):null},t.prototype.getWordUntilPosition=function(e,t){var n=this.getWordAtPosition(e,t);return n?{word:this._lines[e.lineNumber-1].substring(n.startColumn-1,e.column-1),startColumn:n.startColumn,endColumn:e.column}:{word:"",startColumn:e.column,endColumn:e.column}},t.prototype.createWordIterator=function(e){var t,n=this,r={done:!1,value:""},i=0,o=0,s=[],a=function(){if(o<s.length)r.done=!1,r.value=t.substring(s[o].start,s[o].end),o+=1;else{if(!(i>=n._lines.length))return t=n._lines[i],s=n._wordenize(t,e),o=0,i+=1,a();r.done=!0,r.value=void 0}return r};return{next:a}},t.prototype._wordenize=function(e,t){var n,r=[];for(t.lastIndex=0;(n=t.exec(e))&&0!==n[0].length;)r.push({start:n.index,end:n.index+n[0].length});return r},t.prototype.getValueInRange=function(e){if((e=this._validateRange(e)).startLineNumber===e.endLineNumber)return this._lines[e.startLineNumber-1].substring(e.startColumn-1,e.endColumn-1);var t=this._eol,n=e.startLineNumber-1,r=e.endLineNumber-1,i=[];i.push(this._lines[n].substring(e.startColumn-1));for(var o=n+1;o<r;o++)i.push(this._lines[o]);return i.push(this._lines[r].substring(0,e.endColumn-1)),i.join(t)},t.prototype.offsetAt=function(e){return e=this._validatePosition(e),this._ensureLineStarts(),this._lineStarts.getAccumulatedValue(e.lineNumber-2)+(e.column-1)},t.prototype.positionAt=function(e){e=Math.floor(e),e=Math.max(0,e),this._ensureLineStarts();var t=this._lineStarts.getIndexOf(e),n=this._lines[t.index].length;return{lineNumber:1+t.index,column:1+Math.min(t.remainder,n)}},t.prototype._validateRange=function(e){var t=this._validatePosition({lineNumber:e.startLineNumber,column:e.startColumn}),n=this._validatePosition({lineNumber:e.endLineNumber,column:e.endColumn});return t.lineNumber!==e.startLineNumber||t.column!==e.startColumn||n.lineNumber!==e.endLineNumber||n.column!==e.endColumn?{startLineNumber:t.lineNumber,startColumn:t.column,endLineNumber:n.lineNumber,endColumn:n.column}:e},t.prototype._validatePosition=function(e){if(!x.isIPosition(e))throw new Error("bad position");var t=e.lineNumber,n=e.column,r=!1;if(t<1)t=1,n=1,r=!0;else if(t>this._lines.length)t=this._lines.length,n=this._lines[t-1].length+1,r=!0;else{var i=this._lines[t-1].length+1;n<1?(n=1,r=!0):n>i&&(n=i,r=!0)}return r?{lineNumber:t,column:n}:e},t}(ee),Ye=function(e){function t(t){var n=e.call(this,t)||this;return n._models=Object.create(null),n}return Ke(t,e),t.prototype.dispose=function(){this._models=Object.create(null)},t.prototype._getModel=function(e){return this._models[e]},t.prototype._getModels=function(){var e=this,t=[];return Object.keys(this._models).forEach(function(n){return t.push(e._models[n])}),t},t.prototype.acceptNewModel=function(e){this._models[e.url]=new Be(_.parse(e.url),e.lines,e.EOL,e.versionId)},t.prototype.acceptModelChanged=function(e,t){this._models[e]&&this._models[e].onEvents(t)},t.prototype.acceptRemovedModel=function(e){this._models[e]&&delete this._models[e]},t}(function(){function e(e){this._foreignModuleFactory=e,this._foreignModule=null}return e.prototype.computeDiff=function(e,t,n){var r=this._getModel(e),i=this._getModel(t);if(!r||!i)return null;var o=r.getLinesContent(),s=i.getLinesContent(),a=new J(o,s,{shouldPostProcessCharChanges:!0,shouldIgnoreTrimWhitespace:n,shouldMakePrettyDiff:!0});return E.b.as(a.computeDiff())},e.prototype.computeDirtyDiff=function(e,t,n){var r=this._getModel(e),i=this._getModel(t);if(!r||!i)return null;var o=r.getLinesContent(),s=i.getLinesContent(),a=new J(o,s,{shouldPostProcessCharChanges:!1,shouldIgnoreTrimWhitespace:n,shouldMakePrettyDiff:!0});return E.b.as(a.computeDiff())},e.prototype.computeMoreMinimalEdits=function(t,n){var r=this._getModel(t);if(!r)return E.b.as(n);for(var i,o=[],s=0,a=n;s<a.length;s++){var u=a[s],c=u.range,l=u.text,f=u.eol;if("number"==typeof f&&(i=f),c){var h=r.getValueInRange(c);if(h!==(l=l.replace(/\r\n|\n|\r/g,r.eol)))if(Math.max(l.length,h.length)>e._diffLimit)o.push({range:c,text:l});else for(var p=k(h,l,!1),m=r.offsetAt(N.lift(c).getStartPosition()),d=0,g=p;d<g.length;d++){var v=g[d],y=r.positionAt(m+v.originalStart),_=r.positionAt(m+v.originalStart+v.originalLength),b={text:l.substr(v.modifiedStart,v.modifiedLength),range:{startLineNumber:y.lineNumber,startColumn:y.column,endLineNumber:_.lineNumber,endColumn:_.column}};r.getValueInRange(b.range)!==b.text&&o.push(b)}}}return"number"==typeof i&&o.push({eol:i,text:void 0,range:void 0}),E.b.as(o)},e.prototype.computeLinks=function(e){var t=this._getModel(e);return t?E.b.as(function(e){return e&&"function"==typeof e.getLineCount&&"function"==typeof e.getLineContent?oe.computeLinks(e):[]}(t)):null},e.prototype.textualSuggest=function(t,n,r,i){var o=this._getModel(t);if(o){var s=[],a=new RegExp(r,i),u=o.getWordUntilPosition(n,a).word,c=Object.create(null);c[u]=!0;for(var l=o.createWordIterator(a),f=l.next();!f.done&&s.length<=e._suggestionsLimit;f=l.next()){var h=f.value;c[h]||(c[h]=!0,isNaN(Number(h))&&s.push({type:"text",label:h,insertText:h,noAutoAccept:!0,overwriteBefore:u.length}))}return E.b.as({suggestions:s})}},e.prototype.navigateValueSet=function(e,t,n,r,i){var o=this._getModel(e);if(!o)return null;var s=new RegExp(r,i);t.startColumn===t.endColumn&&(t={startLineNumber:t.startLineNumber,startColumn:t.startColumn,endLineNumber:t.endLineNumber,endColumn:t.endColumn+1});var a=o.getValueInRange(t),u=o.getWordAtPosition({lineNumber:t.startLineNumber,column:t.startColumn},s),c=null;null!==u&&(c=o.getValueInRange(u));var l=se.INSTANCE.navigateValueSet(t,a,u,c,n);return E.b.as(l)},e.prototype.loadForeignModule=function(e,t){var r=this,i={getMirrorModels:function(){return r._getModels()}};if(this._foreignModuleFactory){this._foreignModule=this._foreignModuleFactory(i,t);var o=[];for(var s in this._foreignModule)"function"==typeof this._foreignModule[s]&&o.push(s);return E.b.as(o)}return new E.b(function(o,s){Promise.resolve().then(function(){var s=[n(6)(e)];(function(e){r._foreignModule=e.create(i,t);var n=[];for(var s in r._foreignModule)"function"==typeof r._foreignModule[s]&&n.push(s);o(n)}).apply(null,s)}).catch(s.bind(this))})},e.prototype.fmr=function(e,t){if(!this._foreignModule||"function"!=typeof this._foreignModule[e])return E.b.wrapError(new Error("Missing requestHandler or method: "+e));try{return E.b.as(this._foreignModule[e].apply(this._foreignModule,t))}catch(e){return E.b.wrapError(e)}},e._diffLimit=1e4,e._suggestionsLimit=1e4,e}());"function"==typeof importScripts&&(i.a.monaco={editor:void 0,languages:void 0,CancellationTokenSource:Ue,Emitter:Ce,KeyCode:We,KeyMod:qe,Position:x,Range:N,Selection:Ie,SelectionDirection:Oe,Severity:Ve,MarkerSeverity:De,Promise:E.b,Uri:_,Token:Re});var $e=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();var He=function(){function e(){this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}return e.prototype.queue=function(e){var t=this;if(this.activePromise){if(this.queuedPromiseFactory=e,!this.queuedPromise){var n=function(){t.queuedPromise=null;var e=t.queue(t.queuedPromiseFactory);return t.queuedPromiseFactory=null,e};this.queuedPromise=new E.b(function(e,r,i){t.activePromise.then(n,n,i).done(e)},function(){t.activePromise.cancel()})}return new E.b(function(e,n,r){t.queuedPromise.then(e,n,r)},function(){})}return this.activePromise=e(),new E.b(function(e,n,r){t.activePromise.done(function(n){t.activePromise=null,e(n)},function(e){t.activePromise=null,n(e)},r)},function(){t.activePromise.cancel()})},e}(),Je=(function(){function e(){this.current=E.b.wrap(null)}e.prototype.queue=function(e){return this.current=this.current.then(function(){return e()})}}(),function(e){function t(t){var n=e.call(this,t)||this;return n.throttler=new He,n}$e(t,e),t.prototype.trigger=function(t,n){var r=this;return e.prototype.trigger.call(this,function(){return r.throttler.queue(t)},n)}}(function(){function e(e){this.defaultDelay=e,this.timeout=null,this.completionPromise=null,this.onSuccess=null,this.task=null}return e.prototype.trigger=function(e,t){var n=this;return void 0===t&&(t=this.defaultDelay),this.task=e,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new E.b(function(e){n.onSuccess=e},function(){}).then(function(){n.completionPromise=null,n.onSuccess=null;var e=n.task;return n.task=null,e()})),this.timeout=setTimeout(function(){n.timeout=null,n.onSuccess(null)},t),this.completionPromise},e.prototype.isTriggered=function(){return null!==this.timeout},e.prototype.cancel=function(){this.cancelTimeout(),this.completionPromise&&(this.completionPromise.cancel(),this.completionPromise=null)},e.prototype.cancelTimeout=function(){null!==this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},e}()),function(){function e(){var e=this;this._isOpen=!1,this._promise=new E.b(function(t,n,r){e._completePromise=t},function(){console.warn("You should really not try to cancel this ready promise!")})}e.prototype.isOpen=function(){return this._isOpen},e.prototype.open=function(){this._isOpen=!0,this._completePromise(!0)},e.prototype.wait=function(){return this._promise}}(),function(e){function t(t){var n,r,i,o;return n=e.call(this,function(e,t,n){r=e,i=t,o=n},function(){var e;i(((e=new Error(ve)).name=e.message,e))})||this,t.then(r,i,o),n}return $e(t,e),t}(E.b));function ze(e,t){return n=e,E.b.is(n)&&"function"==typeof n.done?new E.b(function(n,r,i){e.done(function(e){try{t(e)}catch(e){de(e)}n(e)},function(e){try{t(e)}catch(e){de(e)}r(e)},function(e){i(e)})},function(){e.cancel()}):(e.then(function(e){return t()},function(e){return t()}),e);var n}var Ge=function(e){function t(){return e.call(this,1)||this}return $e(t,e),t}(function(){function e(e){this.maxDegreeOfParalellism=e,this.outstandingPromises=[],this.runningPromises=0,this._onFinished=new Ce}return Object.defineProperty(e.prototype,"onFinished",{get:function(){return this._onFinished.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.runningPromises+this.outstandingPromises.length},enumerable:!0,configurable:!0}),e.prototype.queue=function(e){var t=this;return new E.b(function(n,r,i){t.outstandingPromises.push({factory:e,c:n,e:r,p:i}),t.consume()})},e.prototype.consume=function(){for(var e=this;this.outstandingPromises.length&&this.runningPromises<this.maxDegreeOfParalellism;){var t=this.outstandingPromises.shift();this.runningPromises++;var n=t.factory();n.done(t.c,t.e,t.p),n.done(function(){return e.consumed()},function(){return e.consumed()})}},e.prototype.consumed=function(){this.runningPromises--,this.outstandingPromises.length>0?this.consume():this._onFinished.fire()},e.prototype.dispose=function(){this._onFinished.dispose()},e}());!function(){function e(){this.queues=Object.create(null)}e.prototype.queueFor=function(e){var t=this,n=e.toString();if(!this.queues[n]){var r=new Ge;r.onFinished(function(){r.dispose(),delete t.queues[n]}),this.queues[n]=r}return this.queues[n]}}();(function(e){function t(){var t=e.call(this)||this;return t._token=-1,t}$e(t,e),t.prototype.dispose=function(){this.cancel(),e.prototype.dispose.call(this)},t.prototype.cancel=function(){-1!==this._token&&(clearTimeout(this._token),this._token=-1)},t.prototype.cancelAndSet=function(e,t){var n=this;this.cancel(),this._token=setTimeout(function(){n._token=-1,e()},t)},t.prototype.setIfNotSet=function(e,t){var n=this;-1===this._token&&(this._token=setTimeout(function(){n._token=-1,e()},t))}})(he),function(e){function t(){var t=e.call(this)||this;return t._token=-1,t}$e(t,e),t.prototype.dispose=function(){this.cancel(),e.prototype.dispose.call(this)},t.prototype.cancel=function(){-1!==this._token&&(clearInterval(this._token),this._token=-1)},t.prototype.cancelAndSet=function(e,t){this.cancel(),this._token=setInterval(function(){e()},t)}}(he),function(){function e(e,t){this.timeoutToken=-1,this.runner=e,this.timeout=t,this.timeoutHandler=this.onTimeout.bind(this)}e.prototype.dispose=function(){this.cancel(),this.runner=null},e.prototype.cancel=function(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)},e.prototype.schedule=function(e){void 0===e&&(e=this.timeout),this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,e)},e.prototype.isScheduled=function(){return-1!==this.timeoutToken},e.prototype.onTimeout=function(){this.timeoutToken=-1,this.runner&&this.runner()}}();!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}$e(t,e),t.prototype.throttle=function(e){var t=this;return this.suspended=!0,ze(e,function(){return t.resume()})},t.prototype.fire=function(t){return this.suspended?(this.lastEvent=t,void(this.hasLastEvent=!0)):e.prototype.fire.call(this,t)},t.prototype.resume=function(){this.suspended=!1,this.hasLastEvent&&this.fire(this.lastEvent),this.hasLastEvent=!1,this.lastEvent=void 0}}(Ce);var Qe=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xe="$initialize";var Ze=function(){function e(e){this._workerId=-1,this._handler=e,this._lastSentReq=0,this._pendingReplies=Object.create(null)}return e.prototype.setWorkerId=function(e){this._workerId=e},e.prototype.sendMessage=function(e,t){var n=String(++this._lastSentReq),r={c:null,e:null},i=new E.b(function(e,t,n){r.c=e,r.e=t},function(){});return this._pendingReplies[n]=r,this._send({vsWorker:this._workerId,req:n,method:e,args:t}),i},e.prototype.handleMessage=function(e){var t;try{t=JSON.parse(e)}catch(e){}t&&t.vsWorker&&(-1!==this._workerId&&t.vsWorker!==this._workerId||this._handleMessage(t))},e.prototype._handleMessage=function(e){var t=this;if(e.seq){var n=e;if(!this._pendingReplies[n.seq])return void console.warn("Got reply to unknown seq");var r=this._pendingReplies[n.seq];if(delete this._pendingReplies[n.seq],n.err){var i=n.err;return n.err.$isError&&((i=new Error).name=n.err.name,i.message=n.err.message,i.stack=n.err.stack),void r.e(i)}r.c(n.res)}else{var o=e,s=o.req;this._handler.handleMessage(o.method,o.args).then(function(e){t._send({vsWorker:t._workerId,seq:s,res:e,err:void 0})},function(e){e.detail instanceof Error&&(e.detail=ge(e.detail)),t._send({vsWorker:t._workerId,seq:s,res:void 0,err:ge(e)})})}},e.prototype._send=function(e){var t=JSON.stringify(e);this._handler.sendMessage(t)},e}(),et=(function(e){function t(t,n){var r=e.call(this)||this,i=null,o=null;r._worker=r._register(t.create("vs/base/common/worker/simpleWorker",function(e){r._protocol.handleMessage(e)},function(e){o(e)})),r._protocol=new Ze({sendMessage:function(e){r._worker.postMessage(e)},handleMessage:function(e,t){return E.b.as(null)}}),r._protocol.setWorkerId(r._worker.getId());var s=null;void 0!==self.require&&"function"==typeof self.require.getConfig?s=self.require.getConfig():void 0!==self.requirejs&&(s=self.requirejs.s.contexts._.config),r._lazyProxy=new E.b(function(e,t,n){i=e,o=t},function(){}),r._onModuleLoaded=r._protocol.sendMessage(Xe,[r._worker.getId(),n,s]),r._onModuleLoaded.then(function(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=u(e[n],a);i(t)},function(e){o(e),r._onError("Worker failed to load "+n,e)});var a=function(e,t){return r._request(e,t)},u=function(e,t){return function(){var n=Array.prototype.slice.call(arguments,0);return t(e,n)}};return r}Qe(t,e),t.prototype.getProxyObject=function(){return new Je(this._lazyProxy)},t.prototype._request=function(e,t){var n=this;return new E.b(function(r,i,o){n._onModuleLoaded.then(function(){n._protocol.sendMessage(e,t).then(r,i)},i)},function(){})},t.prototype._onError=function(e,t){console.error(e),console.info(t)}}(he),function(){function e(e,t){var n=this;this._requestHandler=t,this._protocol=new Ze({sendMessage:function(t){e(t)},handleMessage:function(e,t){return n._handleMessage(e,t)}})}return e.prototype.onmessage=function(e){this._protocol.handleMessage(e)},e.prototype._handleMessage=function(e,t){if(e===Xe)return this.initialize(t[0],t[1],t[2]);if(!this._requestHandler||"function"!=typeof this._requestHandler[e])return E.b.wrapError(new Error("Missing requestHandler or method: "+e));try{return E.b.as(this._requestHandler[e].apply(this._requestHandler,t))}catch(e){return E.b.wrapError(e)}},e.prototype.initialize=function(e,t,n){var r,i,o=this;if(this._protocol.setWorkerId(e),this._requestHandler){var s=[];for(var a in this._requestHandler)"function"==typeof this._requestHandler[a]&&s.push(a);return E.b.as(s)}n&&(void 0!==n.baseUrl&&delete n.baseUrl,void 0!==n.paths&&void 0!==n.paths.vs&&delete n.paths.vs,n.catchError=!0,self.require.config(n));var u=new E.b(function(e,t,n){r=e,i=t});return self.require([t],function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[0];o._requestHandler=n.create();var i=[];for(var s in o._requestHandler)"function"==typeof o._requestHandler[s]&&i.push(s);r(i)},i),u},e}());var tt,nt,rt,it,ot,st,at,ut,ct=!1;function lt(e){if(!ct){ct=!0;var t=new Ye(e),n=new et(function(e){self.postMessage(e)},t);self.onmessage=function(e){n.onmessage(e.data)}}}self.onmessage=function(e){ct||lt(null)},function(e){e.create=function(e,t){return{line:e,character:t}},e.is=function(e){var t=e;return Mt.defined(t)&&Mt.number(t.line)&&Mt.number(t.character)}}(tt||(tt={})),function(e){e.create=function(e,t,n,r){if(Mt.number(e)&&Mt.number(t)&&Mt.number(n)&&Mt.number(r))return{start:tt.create(e,t),end:tt.create(n,r)};if(tt.is(e)&&tt.is(t))return{start:e,end:t};throw new Error("Range#create called with invalid arguments["+e+", "+t+", "+n+", "+r+"]")},e.is=function(e){var t=e;return Mt.defined(t)&&tt.is(t.start)&&tt.is(t.end)}}(nt||(nt={})),function(e){e.create=function(e,t){return{uri:e,range:t}},e.is=function(e){var t=e;return Mt.defined(t)&&nt.is(t.range)&&(Mt.string(t.uri)||Mt.undefined(t.uri))}}(rt||(rt={})),function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4}(it||(it={})),function(e){e.create=function(e,t,n,r,i){var o={range:e,message:t};return Mt.defined(n)&&(o.severity=n),Mt.defined(r)&&(o.code=r),Mt.defined(i)&&(o.source=i),o},e.is=function(e){var t=e;return Mt.defined(t)&&nt.is(t.range)&&Mt.string(t.message)&&(Mt.number(t.severity)||Mt.undefined(t.severity))&&(Mt.number(t.code)||Mt.string(t.code)||Mt.undefined(t.code))&&(Mt.string(t.source)||Mt.undefined(t.source))}}(ot||(ot={})),function(e){e.create=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i={title:e,command:t};return Mt.defined(n)&&n.length>0&&(i.arguments=n),i},e.is=function(e){var t=e;return Mt.defined(t)&&Mt.string(t.title)&&Mt.string(t.title)}}(st||(st={})),function(e){e.replace=function(e,t){return{range:e,newText:t}},e.insert=function(e,t){return{range:{start:e,end:e},newText:t}},e.del=function(e){return{range:e,newText:""}}}(at||(at={})),function(e){e.create=function(e,t){return{textDocument:e,edits:t}},e.is=function(e){var t=e;return Mt.defined(t)&&ht.is(t.textDocument)&&Array.isArray(t.edits)}}(ut||(ut={}));var ft,ht,pt,mt,dt,gt,vt,yt,_t,bt,St,Ct,Et,xt,Nt,wt,At,kt,Pt=function(){function e(e){this.edits=e}return e.prototype.insert=function(e,t){this.edits.push(at.insert(e,t))},e.prototype.replace=function(e,t){this.edits.push(at.replace(e,t))},e.prototype.delete=function(e){this.edits.push(at.del(e))},e.prototype.add=function(e){this.edits.push(e)},e.prototype.all=function(){return this.edits},e.prototype.clear=function(){this.edits.splice(0,this.edits.length)},e}();!function(){function e(e){var t=this;this._textEditChanges=Object.create(null),e&&(this._workspaceEdit=e,e.documentChanges?e.documentChanges.forEach(function(e){var n=new Pt(e.edits);t._textEditChanges[e.textDocument.uri]=n}):e.changes&&Object.keys(e.changes).forEach(function(n){var r=new Pt(e.changes[n]);t._textEditChanges[n]=r}))}Object.defineProperty(e.prototype,"edit",{get:function(){return this._workspaceEdit},enumerable:!0,configurable:!0}),e.prototype.getTextEditChange=function(e){if(ht.is(e)){if(this._workspaceEdit||(this._workspaceEdit={documentChanges:[]}),!this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for versioned document changes.");var t=e;if(!(r=this._textEditChanges[t.uri])){var n={textDocument:t,edits:i=[]};this._workspaceEdit.documentChanges.push(n),r=new Pt(i),this._textEditChanges[t.uri]=r}return r}if(this._workspaceEdit||(this._workspaceEdit={changes:Object.create(null)}),!this._workspaceEdit.changes)throw new Error("Workspace edit is not configured for normal text edit changes.");var r;if(!(r=this._textEditChanges[e])){var i=[];this._workspaceEdit.changes[e]=i,r=new Pt(i),this._textEditChanges[e]=r}return r}}();!function(e){e.create=function(e){return{uri:e}},e.is=function(e){var t=e;return Mt.defined(t)&&Mt.string(t.uri)}}(ft||(ft={})),function(e){e.create=function(e,t){return{uri:e,version:t}},e.is=function(e){var t=e;return Mt.defined(t)&&Mt.string(t.uri)&&Mt.number(t.version)}}(ht||(ht={})),function(e){e.create=function(e,t,n,r){return{uri:e,languageId:t,version:n,text:r}},e.is=function(e){var t=e;return Mt.defined(t)&&Mt.string(t.uri)&&Mt.string(t.languageId)&&Mt.number(t.version)&&Mt.string(t.text)}}(pt||(pt={})),function(e){e.PlainText="plaintext",e.Markdown="markdown"}(mt||(mt={})),function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25}(dt||(dt={})),function(e){e.PlainText=1,e.Snippet=2}(gt||(gt={})),function(e){e.create=function(e){return{label:e}}}(vt||(vt={})),function(e){e.create=function(e,t){return{items:e||[],isIncomplete:!!t}}}(yt||(yt={})),function(e){e.fromPlainText=function(e){return e.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}}(_t||(_t={})),function(e){e.create=function(e,t){return t?{label:e,documentation:t}:{label:e}}}(bt||(bt={})),function(e){e.create=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i={label:e};return Mt.defined(t)&&(i.documentation=t),Mt.defined(n)?i.parameters=n:i.parameters=[],i}}(St||(St={})),function(e){e.Text=1,e.Read=2,e.Write=3}(Ct||(Ct={})),function(e){e.create=function(e,t){var n={range:e};return Mt.number(t)&&(n.kind=t),n}}(Et||(Et={})),function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26}(xt||(xt={})),function(e){e.create=function(e,t,n,r,i){var o={name:e,kind:t,location:{uri:r,range:n}};return i&&(o.containerName=i),o}}(Nt||(Nt={})),function(e){e.create=function(e){return{diagnostics:e}},e.is=function(e){var t=e;return Mt.defined(t)&&Mt.typedArray(t.diagnostics,ot.is)}}(wt||(wt={})),function(e){e.create=function(e,t){var n={range:e};return Mt.defined(t)&&(n.data=t),n},e.is=function(e){var t=e;return Mt.defined(t)&&nt.is(t.range)&&(Mt.undefined(t.command)||st.is(t.command))}}(At||(At={})),function(e){e.create=function(e,t){return{tabSize:e,insertSpaces:t}},e.is=function(e){var t=e;return Mt.defined(t)&&Mt.number(t.tabSize)&&Mt.boolean(t.insertSpaces)}}(kt||(kt={}));var Ot=function(){return function(){}}();!function(e){e.create=function(e,t){return{range:e,target:t}},e.is=function(e){var t=e;return Mt.defined(t)&&nt.is(t.range)&&(Mt.undefined(t.target)||Mt.string(t.target))}}(Ot||(Ot={}));var Lt,Tt;!function(e){e.create=function(e,t,n,r){return new It(e,t,n,r)},e.is=function(e){var t=e;return!!(Mt.defined(t)&&Mt.string(t.uri)&&(Mt.undefined(t.languageId)||Mt.string(t.languageId))&&Mt.number(t.lineCount)&&Mt.func(t.getText)&&Mt.func(t.positionAt)&&Mt.func(t.offsetAt))},e.applyEdits=function(e,t){for(var n=e.getText(),r=function e(t,n){if(t.length<=1)return t;var r=t.length/2|0,i=t.slice(0,r),o=t.slice(r);e(i,n),e(o,n);for(var s=0,a=0,u=0;s<i.length&&a<o.length;){var c=n(i[s],o[a]);t[u++]=c<=0?i[s++]:o[a++]}for(;s<i.length;)t[u++]=i[s++];for(;a<o.length;)t[u++]=o[a++];return t}(t,function(e,t){return 0==e.range.start.line-t.range.start.line?e.range.start.character-t.range.start.character:0}),i=n.length,o=r.length-1;o>=0;o--){var s=r[o],a=e.offsetAt(s.range.start),u=e.offsetAt(s.range.end);if(!(u<=i))throw new Error("Ovelapping edit");n=n.substring(0,a)+s.newText+n.substring(u,n.length),i=a}return n}}(Lt||(Lt={})),function(e){e.Manual=1,e.AfterDelay=2,e.FocusOut=3}(Tt||(Tt={}));var Mt,It=function(){function e(e,t,n,r){this._uri=e,this._languageId=t,this._version=n,this._content=r,this._lineOffsets=null}return Object.defineProperty(e.prototype,"uri",{get:function(){return this._uri},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){return this._version},enumerable:!0,configurable:!0}),e.prototype.getText=function(e){if(e){var t=this.offsetAt(e.start),n=this.offsetAt(e.end);return this._content.substring(t,n)}return this._content},e.prototype.update=function(e,t){this._content=e.text,this._version=t,this._lineOffsets=null},e.prototype.getLineOffsets=function(){if(null===this._lineOffsets){for(var e=[],t=this._content,n=!0,r=0;r<t.length;r++){n&&(e.push(r),n=!1);var i=t.charAt(r);n="\r"===i||"\n"===i,"\r"===i&&r+1<t.length&&"\n"===t.charAt(r+1)&&r++}n&&t.length>0&&e.push(t.length),this._lineOffsets=e}return this._lineOffsets},e.prototype.positionAt=function(e){e=Math.max(Math.min(e,this._content.length),0);var t=this.getLineOffsets(),n=0,r=t.length;if(0===r)return tt.create(0,e);for(;n<r;){var i=Math.floor((n+r)/2);t[i]>e?r=i:n=i+1}var o=n-1;return tt.create(o,e-t[o])},e.prototype.offsetAt=function(e){var t=this.getLineOffsets();if(e.line>=t.length)return this._content.length;if(e.line<0)return 0;var n=t[e.line],r=e.line+1<t.length?t[e.line+1]:this._content.length;return Math.max(Math.min(n+e.character,r),n)},Object.defineProperty(e.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!0,configurable:!0}),e}();function jt(e,t){void 0===t&&(t=!1);var n=0,r=e.length,i="",o=0,s=16,a=0;function u(t,r){for(var i=0,o=0;i<t||!r;){var s=e.charCodeAt(n);if(s>=48&&s<=57)o=16*o+s-48;else if(s>=65&&s<=70)o=16*o+s-65+10;else{if(!(s>=97&&s<=102))break;o=16*o+s-97+10}n++,i++}return i<t&&(o=-1),o}function c(){if(i="",a=0,o=n,n>=r)return o=r,s=17;var t=e.charCodeAt(n);if(Vt(t)){do{n++,i+=String.fromCharCode(t),t=e.charCodeAt(n)}while(Vt(t));return s=15}if(Dt(t))return n++,i+=String.fromCharCode(t),13===t&&10===e.charCodeAt(n)&&(n++,i+="\n"),s=14;switch(t){case 123:return n++,s=1;case 125:return n++,s=2;case 91:return n++,s=3;case 93:return n++,s=4;case 58:return n++,s=6;case 44:return n++,s=5;case 34:return n++,i=function(){for(var t="",i=n;;){if(n>=r){t+=e.substring(i,n),a=2;break}var o=e.charCodeAt(n);if(34===o){t+=e.substring(i,n),n++;break}if(92!==o){if(o>=0&&o<=31){if(Dt(o)){t+=e.substring(i,n),a=2;break}a=6}n++}else{if(t+=e.substring(i,n),++n>=r){a=2;break}switch(o=e.charCodeAt(n++)){case 34:t+='"';break;case 92:t+="\\";break;case 47:t+="/";break;case 98:t+="\b";break;case 102:t+="\f";break;case 110:t+="\n";break;case 114:t+="\r";break;case 116:t+="\t";break;case 117:var s=u(4,!0);s>=0?t+=String.fromCharCode(s):a=4;break;default:a=5}i=n}}return t}(),s=10;case 47:var c=n-1;if(47===e.charCodeAt(n+1)){for(n+=2;n<r&&!Dt(e.charCodeAt(n));)n++;return i=e.substring(c,n),s=12}if(42===e.charCodeAt(n+1)){n+=2;for(var f=!1;n<r;){if(42===e.charCodeAt(n)&&n+1<r&&47===e.charCodeAt(n+1)){n+=2,f=!0;break}n++}return f||(n++,a=1),i=e.substring(c,n),s=13}return i+=String.fromCharCode(t),n++,s=16;case 45:if(i+=String.fromCharCode(t),++n===r||!Ft(e.charCodeAt(n)))return s=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return i+=function(){var t=n;if(48===e.charCodeAt(n))n++;else for(n++;n<e.length&&Ft(e.charCodeAt(n));)n++;if(n<e.length&&46===e.charCodeAt(n)){if(!(++n<e.length&&Ft(e.charCodeAt(n))))return a=3,e.substring(t,n);for(n++;n<e.length&&Ft(e.charCodeAt(n));)n++}var r=n;if(n<e.length&&(69===e.charCodeAt(n)||101===e.charCodeAt(n)))if((++n<e.length&&43===e.charCodeAt(n)||45===e.charCodeAt(n))&&n++,n<e.length&&Ft(e.charCodeAt(n))){for(n++;n<e.length&&Ft(e.charCodeAt(n));)n++;r=n}else a=3;return e.substring(t,r)}(),s=11;default:for(;n<r&&l(t);)n++,t=e.charCodeAt(n);if(o!==n){switch(i=e.substring(o,n)){case"true":return s=8;case"false":return s=9;case"null":return s=7}return s=16}return i+=String.fromCharCode(t),n++,s=16}}function l(e){if(Vt(e)||Dt(e))return!1;switch(e){case 125:case 93:case 123:case 91:case 34:case 58:case 44:return!1}return!0}return{setPosition:function(e){n=e,i="",o=0,s=16,a=0},getPosition:function(){return n},scan:t?function(){var e;do{e=c()}while(e>=12&&e<=15);return e}:c,getToken:function(){return s},getTokenValue:function(){return i},getTokenOffset:function(){return o},getTokenLength:function(){return n-o},getTokenError:function(){return a}}}function Vt(e){return 32===e||9===e||11===e||12===e||160===e||5760===e||e>=8192&&e<=8203||8239===e||8287===e||12288===e||65279===e}function Dt(e){return 10===e||13===e||8232===e||8233===e}function Ft(e){return e>=48&&e<=57}function Ut(e,t,n){var r,i,o,s,a;if(t){for(s=t.offset,a=s+t.length,o=s;o>0&&!Wt(e,o-1);)o--;for(var u=a;u<e.length&&!Wt(e,u);)u++;i=e.substring(o,u),r=function(e,t,n){var r=0,i=0,o=n.tabSize||4;for(;r<e.length;){var s=e.charAt(r);if(" "===s)i++;else{if("\t"!==s)break;i+=o}r++}return Math.floor(i/o)}(i,0,n)}else i=e,r=0,o=0,s=0,a=e.length;var c,l=function(e,t){for(var n=0;n<t.length;n++){var r=t.charAt(n);if("\r"===r)return n+1<t.length&&"\n"===t.charAt(n+1)?"\r\n":"\r";if("\n"===r)return"\n"}return e&&e.eol||"\n"}(n,e),f=!1,h=0;c=n.insertSpaces?Rt(" ",n.tabSize||4):"\t";var p=jt(i,!1),m=!1;function d(){return l+Rt(c,r+h)}function g(){var e=p.scan();for(f=!1;15===e||14===e;)f=f||14===e,e=p.scan();return m=16===e||0!==p.getTokenError(),e}var v=[];function y(t,n,r){!m&&n<a&&r>s&&e.substring(n,r)!==t&&v.push({offset:n,length:r-n,content:t})}var _=g();if(17!==_){var b=p.getTokenOffset()+o;y(Rt(c,r),o,b)}for(;17!==_;){for(var S=p.getTokenOffset()+p.getTokenLength()+o,C=g(),E="";!f&&(12===C||13===C);){y(" ",S,p.getTokenOffset()+o),S=p.getTokenOffset()+p.getTokenLength()+o,E=12===C?d():"",C=g()}if(2===C)1!==_&&(h--,E=d());else if(4===C)3!==_&&(h--,E=d());else{switch(_){case 3:case 1:h++,E=d();break;case 5:case 12:E=d();break;case 13:E=f?d():" ";break;case 6:E=" ";break;case 10:if(6===C){E="";break}case 7:case 8:case 9:case 11:case 2:case 4:12===C||13===C?E=" ":5!==C&&17!==C&&(m=!0);break;case 16:m=!0}!f||12!==C&&13!==C||(E=d())}y(E,S,p.getTokenOffset()+o),_=C}return v}function Rt(e,t){for(var n="",r=0;r<t;r++)n+=e;return n}function Wt(e,t){return-1!=="\r\n".indexOf(e.charAt(t))}function qt(e,t,n){var r=jt(e,!1);function i(e){return e?function(){return e(r.getTokenOffset(),r.getTokenLength())}:function(){return!0}}function o(e){return e?function(t){return e(t,r.getTokenOffset(),r.getTokenLength())}:function(){return!0}}var s=i(t.onObjectBegin),a=o(t.onObjectProperty),u=i(t.onObjectEnd),c=i(t.onArrayBegin),l=i(t.onArrayEnd),f=o(t.onLiteralValue),h=o(t.onSeparator),p=i(t.onComment),m=o(t.onError),d=n&&n.disallowComments,g=n&&n.allowTrailingComma;function v(){for(;;){var e=r.scan();switch(r.getTokenError()){case 4:y(14);break;case 5:y(15);break;case 3:y(13);break;case 1:d||y(11);break;case 2:y(12);break;case 6:y(16)}switch(e){case 12:case 13:d?y(10):p();break;case 16:y(1);break;case 15:case 14:break;default:return e}}}function y(e,t,n){if(void 0===t&&(t=[]),void 0===n&&(n=[]),m(e),t.length+n.length>0)for(var i=r.getToken();17!==i;){if(-1!==t.indexOf(i)){v();break}if(-1!==n.indexOf(i))break;i=v()}}function _(e){var t=r.getTokenValue();return e?f(t):a(t),v(),!0}function b(){switch(r.getToken()){case 3:return function(){c(),v();for(var e=!1;4!==r.getToken()&&17!==r.getToken();){if(5===r.getToken()){if(e||y(4,[],[]),h(","),v(),4===r.getToken()&&g)break}else e&&y(6,[],[]);b()||y(4,[],[4,5]),e=!0}return l(),4!==r.getToken()?y(8,[4],[]):v(),!0}();case 1:return function(){s(),v();for(var e=!1;2!==r.getToken()&&17!==r.getToken();){if(5===r.getToken()){if(e||y(4,[],[]),h(","),v(),2===r.getToken()&&g)break}else e&&y(6,[],[]);(10!==r.getToken()?(y(3,[],[2,5]),0):(_(!1),6===r.getToken()?(h(":"),v(),b()||y(4,[],[2,5])):y(5,[],[2,5]),1))||y(4,[],[2,5]),e=!0}return u(),2!==r.getToken()?y(7,[2],[]):v(),!0}();case 10:return _(!0);default:return function(){switch(r.getToken()){case 11:var e=0;try{"number"!=typeof(e=JSON.parse(r.getTokenValue()))&&(y(2),e=0)}catch(e){y(2)}f(e);break;case 7:f(null);break;case 8:f(!0);break;case 9:f(!1);break;default:return!1}return v(),!0}()}}return v(),17===r.getToken()||(b()?(17!==r.getToken()&&y(9,[],[]),!0):(y(4,[],[]),!1))}!function(e){var t=Object.prototype.toString;e.defined=function(e){return void 0!==e},e.undefined=function(e){return void 0===e},e.boolean=function(e){return!0===e||!1===e},e.string=function(e){return"[object String]"===t.call(e)},e.number=function(e){return"[object Number]"===t.call(e)},e.func=function(e){return"[object Function]"===t.call(e)},e.typedArray=function(e,t){return Array.isArray(e)&&e.every(t)}}(Mt||(Mt={}));var Kt=jt,Bt=function(e,t,n){void 0===t&&(t=[]);var r=null,i=[],o=[];function s(e){Array.isArray(i)?i.push(e):r&&(i[r]=e)}return qt(e,{onObjectBegin:function(){var e={};s(e),o.push(i),i=e,r=null},onObjectProperty:function(e){r=e},onObjectEnd:function(){i=o.pop()},onArrayBegin:function(){var e=[];s(e),o.push(i),i=e,r=null},onArrayEnd:function(){i=o.pop()},onLiteralValue:s,onError:function(e,n,r){t.push({error:e,offset:n,length:r})}},n),i[0]};function Yt(e,t){if(e===t)return!0;if(null===e||void 0===e||null===t||void 0===t)return!1;if(typeof e!=typeof t)return!1;if("object"!=typeof e)return!1;if(Array.isArray(e)!==Array.isArray(t))return!1;var n,r;if(Array.isArray(e)){if(e.length!==t.length)return!1;for(n=0;n<e.length;n++)if(!Yt(e[n],t[n]))return!1}else{var i=[];for(r in e)i.push(r);i.sort();var o=[];for(r in t)o.push(r);if(o.sort(),!Yt(i,o))return!1;for(n=0;n<i.length;n++)if(!Yt(e[i[n]],t[i[n]]))return!1}return!0}function $t(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return function(e,t){return 0===t.length?e:e.replace(/\{(\d+)\}/g,function(e,n){var r=n[0];return void 0!==t[r]?t[r]:e})}(t,n)}function Ht(e){return $t}var Jt,zt=n(2),Gt=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qt=Ht();!function(e){e[e.Undefined=0]="Undefined",e[e.EnumValueMismatch=1]="EnumValueMismatch",e[e.UnexpectedEndOfComment=257]="UnexpectedEndOfComment",e[e.UnexpectedEndOfString=258]="UnexpectedEndOfString",e[e.UnexpectedEndOfNumber=259]="UnexpectedEndOfNumber",e[e.InvalidUnicode=260]="InvalidUnicode",e[e.InvalidEscapeCharacter=261]="InvalidEscapeCharacter",e[e.InvalidCharacter=262]="InvalidCharacter",e[e.PropertyExpected=513]="PropertyExpected",e[e.CommaExpected=514]="CommaExpected",e[e.ColonExpected=515]="ColonExpected",e[e.ValueExpected=516]="ValueExpected",e[e.CommaOrCloseBacketExpected=517]="CommaOrCloseBacketExpected",e[e.CommaOrCloseBraceExpected=518]="CommaOrCloseBraceExpected",e[e.TrailingComma=519]="TrailingComma"}(Jt||(Jt={}));var Xt,Zt=/^#([0-9A-Fa-f]{3,4}|([0-9A-Fa-f]{2}){3,4})$/,en=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;!function(e){e.Ignore="ignore",e.Error="error",e.Warning="warning"}(Xt||(Xt={}));var tn,nn=function(){function e(e,t,n){this.offset=t,this.length=n,this.parent=e}return Object.defineProperty(e.prototype,"children",{get:function(){return[]},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return"type: "+this.type+" ("+this.offset+"/"+this.length+")"+(this.parent?" parent: {"+this.parent.toString()+"}":"")},e}(),rn=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.type="null",r}return Gt(t,e),t}(nn),on=function(e){function t(t,n,r){var i=e.call(this,t,r)||this;return i.type="boolean",i.value=n,i}return Gt(t,e),t}(nn),sn=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.type="array",r.items=[],r}return Gt(t,e),Object.defineProperty(t.prototype,"children",{get:function(){return this.items},enumerable:!0,configurable:!0}),t}(nn),an=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.type="number",r.isInteger=!0,r.value=Number.NaN,r}return Gt(t,e),t}(nn),un=function(e){function t(t,n,r){var i=e.call(this,t,n,r)||this;return i.type="string",i.value="",i}return Gt(t,e),t}(nn),cn=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.type="property",r.colonOffset=-1,r}return Gt(t,e),Object.defineProperty(t.prototype,"children",{get:function(){return this.valueNode?[this.keyNode,this.valueNode]:[this.keyNode]},enumerable:!0,configurable:!0}),t}(nn),ln=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.type="object",r.properties=[],r}return Gt(t,e),Object.defineProperty(t.prototype,"children",{get:function(){return this.properties},enumerable:!0,configurable:!0}),t}(nn);function fn(e){return"boolean"==typeof e?e?{}:{not:{}}:e}!function(e){e[e.Key=0]="Key",e[e.Enum=1]="Enum"}(tn||(tn={}));var hn=function(){function e(e,t){void 0===e&&(e=-1),void 0===t&&(t=null),this.focusOffset=e,this.exclude=t,this.schemas=[]}return e.prototype.add=function(e){this.schemas.push(e)},e.prototype.merge=function(e){var t;(t=this.schemas).push.apply(t,e.schemas)},e.prototype.include=function(e){return(-1===this.focusOffset||vn(e,this.focusOffset))&&e!==this.exclude},e.prototype.newSub=function(){return new e(-1,this.exclude)},e}(),pn=function(){function e(){}return Object.defineProperty(e.prototype,"schemas",{get:function(){return[]},enumerable:!0,configurable:!0}),e.prototype.add=function(e){},e.prototype.merge=function(e){},e.prototype.include=function(e){return!0},e.prototype.newSub=function(){return this},e.instance=new e,e}(),mn=function(){function e(){this.problems=[],this.propertiesMatches=0,this.propertiesValueMatches=0,this.primaryValueMatches=0,this.enumValueMatch=!1,this.enumValues=null}return e.prototype.hasProblems=function(){return!!this.problems.length},e.prototype.mergeAll=function(e){var t=this;e.forEach(function(e){t.merge(e)})},e.prototype.merge=function(e){this.problems=this.problems.concat(e.problems)},e.prototype.mergeEnumValues=function(e){if(!this.enumValueMatch&&!e.enumValueMatch&&this.enumValues&&e.enumValues){this.enumValues=this.enumValues.concat(e.enumValues);for(var t=0,n=this.problems;t<n.length;t++){var r=n[t];r.code===Jt.EnumValueMismatch&&(r.message=Qt("enumWarning","Value is not accepted. Valid values: {0}.",this.enumValues.map(function(e){return JSON.stringify(e)}).join(", ")))}}},e.prototype.mergePropertyMatch=function(e){this.merge(e),this.propertiesMatches++,(e.enumValueMatch||!e.hasProblems()&&e.propertiesMatches)&&this.propertiesValueMatches++,e.enumValueMatch&&e.enumValues&&1===e.enumValues.length&&this.primaryValueMatches++},e.prototype.compare=function(e){var t=this.hasProblems();return t!==e.hasProblems()?t?-1:1:this.enumValueMatch!==e.enumValueMatch?e.enumValueMatch?-1:1:this.primaryValueMatches!==e.primaryValueMatches?this.primaryValueMatches-e.primaryValueMatches:this.propertiesValueMatches!==e.propertiesValueMatches?this.propertiesValueMatches-e.propertiesValueMatches:this.propertiesMatches-e.propertiesMatches},e}();function dn(e){switch(e.type){case"array":return e.items.map(dn);case"object":for(var t=Object.create(null),n=0,r=e.properties;n<r.length;n++){var i=r[n];t[i.keyNode.value]=dn(i.valueNode)}return t;case"string":case"number":case"boolean":return e.value}return null}function gn(e){if(!e.parent)return[];var t=gn(e.parent);if("property"===e.parent.type){var n=e.parent.keyNode.value;t.push(n)}else if("array"===e.parent.type){var r=e.parent.items.indexOf(e);-1!==r&&t.push(r)}return t}function vn(e,t,n){return void 0===n&&(n=!1),t>=e.offset&&t<e.offset+e.length||n&&t===e.offset+e.length}var yn=function(){function e(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=[]),this.root=e,this.syntaxErrors=t,this.comments=n,this.externalDiagnostic=r}return e.prototype.getNodeFromOffset=function(e){var t=function(n){if(e>=n.offset&&e<n.offset+n.length){for(var r=n.children,i=0;i<r.length&&r[i].offset<=e;i++){var o=t(r[i]);if(o)return o}return n}return null};return this.root&&t(this.root)},e.prototype.getNodeFromOffsetEndInclusive=function(e){var t=function(n){if(e>=n.offset&&e<=n.offset+n.length){for(var r=n.children,i=0;i<r.length&&r[i].offset<=e;i++){var o=t(r[i]);if(o)return o}return n}return null};return this.root&&t(this.root)},e.prototype.visit=function(e){if(this.root){var t=function(n){for(var r=e(n),i=n.children,o=0;o<i.length&&r;o++)r=t(i[o]);return r};t(this.root)}},e.prototype.validate=function(e){if(this.root&&e){var t=new mn;return _n(this.root,e,t,pn.instance),t.problems}return null},e.prototype.getMatchingSchemas=function(e,t,n){void 0===t&&(t=-1),void 0===n&&(n=null);var r=new hn(t,n);return this.root&&e&&_n(this.root,e,new mn,r),r.schemas},e}();function _n(e,t,n,r){if(e&&r.include(e)){switch(e.type){case"object":!function(e,t,n,r){var i=Object.create(null),o=[];e.properties.forEach(function(e){var t=e.keyNode.value;i[t]=e.valueNode,o.push(t)}),Array.isArray(t.required)&&t.required.forEach(function(t){if(!i[t]){var r=e.parent&&"property"===e.parent.type&&e.parent.keyNode,o=r?{offset:r.offset,length:r.length}:{offset:e.offset,length:1};n.problems.push({location:o,severity:Xt.Warning,message:Qt("MissingRequiredPropWarning",'Missing property "{0}".',t)})}});var s=function(e){for(var t=o.indexOf(e);t>=0;)o.splice(t,1),t=o.indexOf(e)};t.properties&&Object.keys(t.properties).forEach(function(e){s(e);var o=t.properties[e],a=i[e];if(a)if("boolean"==typeof o)if(o)n.propertiesMatches++,n.propertiesValueMatches++;else{var u=a.parent;n.problems.push({location:{offset:u.keyNode.offset,length:u.keyNode.length},severity:Xt.Warning,message:t.errorMessage||Qt("DisallowedExtraPropWarning","Property {0} is not allowed.",e)})}else{var c=new mn;_n(a,o,c,r),n.mergePropertyMatch(c)}});t.patternProperties&&Object.keys(t.patternProperties).forEach(function(e){var a=new RegExp(e);o.slice(0).forEach(function(o){if(a.test(o)){s(o);var u=i[o];if(u){var c=t.patternProperties[e];if("boolean"==typeof c)if(c)n.propertiesMatches++,n.propertiesValueMatches++;else{var l=u.parent;n.problems.push({location:{offset:l.keyNode.offset,length:l.keyNode.length},severity:Xt.Warning,message:t.errorMessage||Qt("DisallowedExtraPropWarning","Property {0} is not allowed.",o)})}else{var f=new mn;_n(u,c,f,r),n.mergePropertyMatch(f)}}}})});"object"==typeof t.additionalProperties?o.forEach(function(e){var o=i[e];if(o){var s=new mn;_n(o,t.additionalProperties,s,r),n.mergePropertyMatch(s)}}):!1===t.additionalProperties&&o.length>0&&o.forEach(function(e){var r=i[e];if(r){var o=r.parent;n.problems.push({location:{offset:o.keyNode.offset,length:o.keyNode.length},severity:Xt.Warning,message:t.errorMessage||Qt("DisallowedExtraPropWarning","Property {0} is not allowed.",e)})}});t.maxProperties&&e.properties.length>t.maxProperties&&n.problems.push({location:{offset:e.offset,length:e.length},severity:Xt.Warning,message:Qt("MaxPropWarning","Object has more properties than limit of {0}.",t.maxProperties)});t.minProperties&&e.properties.length<t.minProperties&&n.problems.push({location:{offset:e.offset,length:e.length},severity:Xt.Warning,message:Qt("MinPropWarning","Object has fewer properties than the required number of {0}",t.minProperties)});t.dependencies&&Object.keys(t.dependencies).forEach(function(o){var s=i[o];if(s){var a=t.dependencies[o];if(Array.isArray(a))a.forEach(function(t){i[t]?n.propertiesValueMatches++:n.problems.push({location:{offset:e.offset,length:e.length},severity:Xt.Warning,message:Qt("RequiredDependentPropWarning","Object is missing property {0} required by property {1}.",t,o)})});else{var u=fn(a);if(u){var c=new mn;_n(e,u,c,r),n.mergePropertyMatch(c)}}}});var a=fn(t.propertyNames);a&&e.properties.forEach(function(e){var t=e.keyNode;t&&_n(t,a,n,pn.instance)})}(e,t,n,r);break;case"array":!function(e,t,n,r){if(Array.isArray(t.items)){var i=t.items;if(i.forEach(function(t,o){var s=fn(t),a=new mn,u=e.items[o];u?(_n(u,s,a,r),n.mergePropertyMatch(a)):e.items.length>=i.length&&n.propertiesValueMatches++}),e.items.length>i.length)if("object"==typeof t.additionalItems)for(var o=i.length;o<e.items.length;o++){var s=new mn;_n(e.items[o],t.additionalItems,s,r),n.mergePropertyMatch(s)}else!1===t.additionalItems&&n.problems.push({location:{offset:e.offset,length:e.length},severity:Xt.Warning,message:Qt("additionalItemsWarning","Array has too many items according to schema. Expected {0} or fewer.",i.length)})}else{var a=fn(t.items);a&&e.items.forEach(function(e){var t=new mn;_n(e,a,t,r),n.mergePropertyMatch(t)})}var u=fn(t.contains);if(u){var c=e.items.some(function(e){var t=new mn;return _n(e,u,t,pn.instance),!t.hasProblems()});c||n.problems.push({location:{offset:e.offset,length:e.length},severity:Xt.Warning,message:t.errorMessage||Qt("requiredItemMissingWarning","Array does not contain required item.",t.minItems)})}t.minItems&&e.items.length<t.minItems&&n.problems.push({location:{offset:e.offset,length:e.length},severity:Xt.Warning,message:Qt("minItemsWarning","Array has too few items. Expected {0} or more.",t.minItems)});t.maxItems&&e.items.length>t.maxItems&&n.problems.push({location:{offset:e.offset,length:e.length},severity:Xt.Warning,message:Qt("maxItemsWarning","Array has too many items. Expected {0} or fewer.",t.minItems)});if(!0===t.uniqueItems){var l=dn(e),f=l.some(function(e,t){return t!==l.lastIndexOf(e)});f&&n.problems.push({location:{offset:e.offset,length:e.length},severity:Xt.Warning,message:Qt("uniqueItemsWarning","Array has duplicate items.")})}}(e,t,n,r);break;case"string":!function(e,t,n,r){t.minLength&&e.value.length<t.minLength&&n.problems.push({location:{offset:e.offset,length:e.length},severity:Xt.Warning,message:Qt("minLengthWarning","String is shorter than the minimum length of {0}.",t.minLength)});t.maxLength&&e.value.length>t.maxLength&&n.problems.push({location:{offset:e.offset,length:e.length},severity:Xt.Warning,message:Qt("maxLengthWarning","String is longer than the maximum length of {0}.",t.maxLength)});if(t.pattern){var i=new RegExp(t.pattern);i.test(e.value)||n.problems.push({location:{offset:e.offset,length:e.length},severity:Xt.Warning,message:t.patternErrorMessage||t.errorMessage||Qt("patternWarning",'String does not match the pattern of "{0}".',t.pattern)})}if(t.format)switch(t.format){case"uri":case"uri-reference":var o=void 0;if(e.value)try{var s=zt.a.parse(e.value);s.scheme||"uri"!==t.format||(o=Qt("uriSchemeMissing","URI with a scheme is expected."))}catch(e){o=e.message}else o=Qt("uriEmpty","URI expected.");o&&n.problems.push({location:{offset:e.offset,length:e.length},severity:Xt.Warning,message:t.patternErrorMessage||t.errorMessage||Qt("uriFormatWarning","String is not a URI: {0}",o)});break;case"email":e.value.match(en)||n.problems.push({location:{offset:e.offset,length:e.length},severity:Xt.Warning,message:t.patternErrorMessage||t.errorMessage||Qt("emailFormatWarning","String is not an e-mail address.")});break;case"color-hex":e.value.match(Zt)||n.problems.push({location:{offset:e.offset,length:e.length},severity:Xt.Warning,message:t.patternErrorMessage||t.errorMessage||Qt("colorHexFormatWarning","Invalid color format. Use #RGB, #RGBA, #RRGGBB or #RRGGBBAA.")})}}(e,t,n);break;case"number":!function(e,t,n,r){var i=e.value;"number"==typeof t.multipleOf&&i%t.multipleOf!=0&&n.problems.push({location:{offset:e.offset,length:e.length},severity:Xt.Warning,message:Qt("multipleOfWarning","Value is not divisible by {0}.",t.multipleOf)});function o(e,t){return"number"==typeof t?t:"boolean"==typeof t&&t?e:void 0}function s(e,t){if("boolean"!=typeof t||!t)return e}var a=o(t.minimum,t.exclusiveMinimum);"number"==typeof a&&i<=a&&n.problems.push({location:{offset:e.offset,length:e.length},severity:Xt.Warning,message:Qt("exclusiveMinimumWarning","Value is below the exclusive minimum of {0}.",a)});var u=o(t.maximum,t.exclusiveMaximum);"number"==typeof u&&i>=u&&n.problems.push({location:{offset:e.offset,length:e.length},severity:Xt.Warning,message:Qt("exclusiveMaximumWarning","Value is above the exclusive maximum of {0}.",u)});var c=s(t.minimum,t.exclusiveMinimum);"number"==typeof c&&i<c&&n.problems.push({location:{offset:e.offset,length:e.length},severity:Xt.Warning,message:Qt("minimumWarning","Value is below the minimum of {0}.",c)});var l=s(t.maximum,t.exclusiveMaximum);"number"==typeof l&&i>l&&n.problems.push({location:{offset:e.offset,length:e.length},severity:Xt.Warning,message:Qt("maximumWarning","Value is above the maximum of {0}.",l)})}(e,t,n);break;case"property":return _n(e.valueNode,t,n,r)}!function(){function i(t){return e.type===t||"integer"===t&&"number"===e.type&&e.isInteger}Array.isArray(t.type)?t.type.some(i)||n.problems.push({location:{offset:e.offset,length:e.length},severity:Xt.Warning,message:t.errorMessage||Qt("typeArrayMismatchWarning","Incorrect type. Expected one of {0}.",t.type.join(", "))}):t.type&&(i(t.type)||n.problems.push({location:{offset:e.offset,length:e.length},severity:Xt.Warning,message:t.errorMessage||Qt("typeMismatchWarning",'Incorrect type. Expected "{0}".',t.type)}));Array.isArray(t.allOf)&&t.allOf.forEach(function(t){_n(e,fn(t),n,r)});var o=fn(t.not);if(o){var s=new mn,a=r.newSub();_n(e,o,s,a),s.hasProblems()||n.problems.push({location:{offset:e.offset,length:e.length},severity:Xt.Warning,message:Qt("notSchemaWarning","Matches a schema that is not allowed.")}),a.schemas.forEach(function(e){e.inverted=!e.inverted,r.add(e)})}var u=function(t,i){var o=[],s=null;return t.forEach(function(t){var n=fn(t),a=new mn,u=r.newSub();if(_n(e,n,a,u),a.hasProblems()||o.push(n),s)if(i||a.hasProblems()||s.validationResult.hasProblems()){var c=a.compare(s.validationResult);c>0?s={schema:n,validationResult:a,matchingSchemas:u}:0===c&&(s.matchingSchemas.merge(u),s.validationResult.mergeEnumValues(a))}else s.matchingSchemas.merge(u),s.validationResult.propertiesMatches+=a.propertiesMatches,s.validationResult.propertiesValueMatches+=a.propertiesValueMatches;else s={schema:n,validationResult:a,matchingSchemas:u}}),o.length>1&&i&&n.problems.push({location:{offset:e.offset,length:1},severity:Xt.Warning,message:Qt("oneOfWarning","Matches multiple schemas when only one must validate.")}),null!==s&&(n.merge(s.validationResult),n.propertiesMatches+=s.validationResult.propertiesMatches,n.propertiesValueMatches+=s.validationResult.propertiesValueMatches,r.merge(s.matchingSchemas)),o.length};Array.isArray(t.anyOf)&&u(t.anyOf,!1);Array.isArray(t.oneOf)&&u(t.oneOf,!0);if(Array.isArray(t.enum)){for(var c=dn(e),l=!1,f=0,h=t.enum;f<h.length;f++){var p=h[f];if(Yt(c,p)){l=!0;break}}n.enumValues=t.enum,n.enumValueMatch=l,l||n.problems.push({location:{offset:e.offset,length:e.length},severity:Xt.Warning,code:Jt.EnumValueMismatch,message:t.errorMessage||Qt("enumWarning","Value is not accepted. Valid values: {0}.",t.enum.map(function(e){return JSON.stringify(e)}).join(", "))})}if(t.const){var c=dn(e);Yt(c,t.const)?n.enumValueMatch=!0:(n.problems.push({location:{offset:e.offset,length:e.length},severity:Xt.Warning,code:Jt.EnumValueMismatch,message:t.errorMessage||Qt("constWarning","Value must be {0}.",JSON.stringify(t.const))}),n.enumValueMatch=!1),n.enumValues=[t.const]}t.deprecationMessage&&e.parent&&n.problems.push({location:{offset:e.parent.offset,length:e.parent.length},severity:Xt.Warning,message:t.deprecationMessage})}(),r.add({node:e,schema:t})}}function bn(e,t){var n=[],r=e.getText(),i=Kt(r,!1),o=t&&t.collectComments?[]:void 0;function s(){for(;;){var e=i.scan();switch(c(),e){case 12:case 13:Array.isArray(o)&&o.push({offset:i.getTokenOffset(),length:i.getTokenLength()});break;case 15:case 14:break;default:return e}}}function a(e,t,r){0!==n.length&&n[n.length-1].location.offset===r.offset||n.push({message:e,location:r,code:t,severity:Xt.Error})}function u(e,t,n,o,u){void 0===n&&(n=null),void 0===o&&(o=[]),void 0===u&&(u=[]);var c=i.getTokenOffset(),f=i.getTokenOffset()+i.getTokenLength();if(c===f&&c>0){for(c--;c>0&&/\s/.test(r.charAt(c));)c--;f=c+1}if(a(e,t,{offset:c,length:f-c}),n&&l(n,!1),o.length+u.length>0)for(var h=i.getToken();17!==h;){if(-1!==o.indexOf(h)){s();break}if(-1!==u.indexOf(h))break;h=s()}return n}function c(){switch(i.getTokenError()){case 4:return u(Qt("InvalidUnicode","Invalid unicode sequence in string."),Jt.InvalidUnicode),!0;case 5:return u(Qt("InvalidEscapeCharacter","Invalid escape character in string."),Jt.InvalidEscapeCharacter),!0;case 3:return u(Qt("UnexpectedEndOfNumber","Unexpected end of number."),Jt.UnexpectedEndOfNumber),!0;case 1:return u(Qt("UnexpectedEndOfComment","Unexpected end of comment."),Jt.UnexpectedEndOfComment),!0;case 2:return u(Qt("UnexpectedEndOfString","Unexpected end of string."),Jt.UnexpectedEndOfString),!0;case 6:return u(Qt("InvalidCharacter","Invalid characters in string. Control characters must be escaped."),Jt.InvalidCharacter),!0}return!1}function l(e,t){return e.length=i.getTokenOffset()+i.getTokenLength()-e.offset,t&&s(),e}function f(t,r){var o=new cn(t,i.getTokenOffset()),a=h(o);if(!a){if(16!==i.getToken())return null;u(Qt("DoubleQuotesExpected","Property keys must be doublequoted"),Jt.Undefined);var c=new un(o,i.getTokenOffset(),i.getTokenLength());c.value=i.getTokenValue(),a=c,s()}o.keyNode=a;var l=r[a.value];if(l?(n.push({location:{offset:o.keyNode.offset,length:o.keyNode.length},message:Qt("DuplicateKeyWarning","Duplicate object key"),code:Jt.Undefined,severity:Xt.Warning}),"object"==typeof l&&n.push({location:{offset:l.keyNode.offset,length:l.keyNode.length},message:Qt("DuplicateKeyWarning","Duplicate object key"),code:Jt.Undefined,severity:Xt.Warning}),r[a.value]=!0):r[a.value]=o,6===i.getToken())o.colonOffset=i.getTokenOffset(),s();else if(u(Qt("ColonExpected","Colon expected"),Jt.ColonExpected),10===i.getToken()&&e.positionAt(a.offset+a.length).line<e.positionAt(i.getTokenOffset()).line)return o.length=a.length,o;var f=p(o,a.value);return f?(o.valueNode=f,o.length=f.offset+f.length-o.offset,o):u(Qt("ValueExpected","Value expected"),Jt.ValueExpected,o,[],[2,5])}function h(e){if(10!==i.getToken())return null;var t=new un(e,i.getTokenOffset());return t.value=i.getTokenValue(),l(t,!0)}function p(e,t){return function(e){if(3!==i.getToken())return null;var t=new sn(e,i.getTokenOffset());s();for(var n=0,r=!1;4!==i.getToken()&&17!==i.getToken();){if(5===i.getToken()){r||u(Qt("ValueExpected","Value expected"),Jt.ValueExpected);var o=i.getTokenOffset();if(s(),4===i.getToken()){r&&a(Qt("TrailingComma","Trailing comma"),Jt.TrailingComma,{offset:o,length:1});continue}}else r&&u(Qt("ExpectedComma","Expected comma"),Jt.CommaExpected);var c=p(t,n++);c?t.items.push(c):u(Qt("PropertyExpected","Value expected"),Jt.ValueExpected,null,[],[4,5]),r=!0}return 4!==i.getToken()?u(Qt("ExpectedCloseBracket","Expected comma or closing bracket"),Jt.CommaOrCloseBacketExpected,t):l(t,!0)}(e)||function(e){if(1!==i.getToken())return null;var t=new ln(e,i.getTokenOffset()),n=Object.create(null);s();for(var r=!1;2!==i.getToken()&&17!==i.getToken();){if(5===i.getToken()){r||u(Qt("PropertyExpected","Property expected"),Jt.PropertyExpected);var o=i.getTokenOffset();if(s(),2===i.getToken()){r&&a(Qt("TrailingComma","Trailing comma"),Jt.TrailingComma,{offset:o,length:1});continue}}else r&&u(Qt("ExpectedComma","Expected comma"),Jt.CommaExpected);var c=f(t,n);c?t.properties.push(c):u(Qt("PropertyExpected","Property expected"),Jt.PropertyExpected,null,[],[2,5]),r=!0}return 2!==i.getToken()?u(Qt("ExpectedCloseBrace","Expected comma or closing brace"),Jt.CommaOrCloseBraceExpected,t):l(t,!0)}(e)||h(e)||function(e){if(11!==i.getToken())return null;var t=new an(e,i.getTokenOffset());if(0===i.getTokenError()){var n=i.getTokenValue();try{var r=JSON.parse(n);if("number"!=typeof r)return u(Qt("InvalidNumberFormat","Invalid number format."),Jt.Undefined,t);t.value=r}catch(e){return u(Qt("InvalidNumberFormat","Invalid number format."),Jt.Undefined,t)}t.isInteger=-1===n.indexOf(".")}return l(t,!0)}(e)||function(e){switch(i.getToken()){case 7:return l(new rn(e,i.getTokenOffset()),!0);case 8:return l(new on(e,!0,i.getTokenOffset()),!0);case 9:return l(new on(e,!1,i.getTokenOffset()),!0);default:return null}}(e)}var m=null;return 17!==s()&&((m=p(null))?17!==i.getToken()&&u(Qt("End of file expected","End of file expected."),Jt.Undefined):u(Qt("Invalid symbol","Expected a JSON object, array or literal."),Jt.Undefined)),new yn(m,n,o)}function Sn(e,t){var n=e.length-t.length;return n>0?e.lastIndexOf(t)===n:0===n&&e===t}var Cn=Ht(),En=function(){function e(e,t,n){void 0===t&&(t=[]),this.templateVarIdCounter=0,this.schemaService=e,this.contributions=t,this.promise=n||Promise}return e.prototype.doResolve=function(e){for(var t=this.contributions.length-1;t>=0;t--)if(this.contributions[t].resolveCompletion){var n=this.contributions[t].resolveCompletion(e);if(n)return n}return this.promise.resolve(e)},e.prototype.doComplete=function(e,t,n){var r=this,i={items:[],isIncomplete:!1},o=e.offsetAt(t),s=n.getNodeFromOffsetEndInclusive(o);if(this.isInComment(e,s?s.offset:0,o))return Promise.resolve(i);var a=this.getCurrentWord(e,o),u=null;if(!s||"string"!==s.type&&"number"!==s.type&&"boolean"!==s.type&&"null"!==s.type){var c=o-a.length;c>0&&'"'===e.getText()[c-1]&&c--,u=nt.create(e.positionAt(c),t)}else u=nt.create(e.positionAt(s.offset),e.positionAt(s.offset+s.length));var l={},f={add:function(e){var t=l[e.label];t?t.documentation||(t.documentation=e.documentation):(l[e.label]=e,u&&(e.textEdit=at.replace(u,e.insertText)),i.items.push(e))},setAsIncomplete:function(){i.isIncomplete=!0},error:function(e){console.error(e)},log:function(e){console.log(e)},getNumberOfProposals:function(){return i.items.length}};return this.schemaService.getSchemaForResource(e.uri,n).then(function(t){var c=[],h=!0,p="",m=null;if(s&&"string"===s.type){var d=s.parent;d&&"property"===d.type&&d.keyNode===s&&(h=!d.valueNode,m=d,p=e.getText().substr(s.offset+1,s.length-2),d&&(s=d.parent))}if(s&&"object"===s.type){if(s.offset===o)return i;s.properties.forEach(function(e){m&&m===e||(l[e.keyNode.value]=vt.create("__"))});var g="";h&&(g=r.evaluateSeparatorAfter(e,e.offsetAt(u.end))),t?r.getPropertyCompletions(t,n,s,h,g,f):r.getSchemaLessPropertyCompletions(n,s,p,f);var v=gn(s);r.contributions.forEach(function(t){var n=t.collectPropertyCompletions(e.uri,v,a,h,""===g,f);n&&c.push(n)}),!t&&a.length>0&&'"'!==e.getText().charAt(o-a.length-1)&&f.add({kind:dt.Property,label:r.getLabelForValue(a),insertText:r.getInsertTextForProperty(a,null,!1,g),insertTextFormat:gt.Snippet,documentation:""})}var y={};return t?r.getValueCompletions(t,n,s,o,e,f,y):r.getSchemaLessValueCompletions(n,s,o,e,f),r.contributions.length>0&&r.getContributedValueCompletions(n,s,o,e,f,c),r.promise.all(c).then(function(){if(0===f.getNumberOfProposals()){var t=o;!s||"string"!==s.type&&"number"!==s.type&&"boolean"!==s.type&&"null"!==s.type||(t=s.offset+s.length);var n=r.evaluateSeparatorAfter(e,t);r.addFillerValueCompletions(y,n,f)}return i})})},e.prototype.getPropertyCompletions=function(e,t,n,r,i,o){var s=this;t.getMatchingSchemas(e.schema,n.offset).forEach(function(e){if(e.node===n&&!e.inverted){var t=e.schema.properties;t&&Object.keys(t).forEach(function(e){var n=t[e];if("object"==typeof n&&!n.deprecationMessage&&!n.doNotSuggest){var a={kind:dt.Property,label:e,insertText:s.getInsertTextForProperty(e,n,r,i),insertTextFormat:gt.Snippet,filterText:s.getFilterTextForValue(e),documentation:n.description||""};Sn(a.insertText,"$1"+i)&&(a.command={title:"Suggest",command:"editor.action.triggerSuggest"}),o.add(a)}})}})},e.prototype.getSchemaLessPropertyCompletions=function(e,t,n,r){var i=this,o=function(e){e.properties.forEach(function(e){var t=e.keyNode.value;r.add({kind:dt.Property,label:t,insertText:i.getInsertTextForValue(t,""),insertTextFormat:gt.Snippet,filterText:i.getFilterTextForValue(t),documentation:""})})};if(t.parent)if("property"===t.parent.type){var s=t.parent.keyNode.value;e.visit(function(e){return"property"===e.type&&e!==t.parent&&e.keyNode.value===s&&e.valueNode&&"object"===e.valueNode.type&&o(e.valueNode),!0})}else"array"===t.parent.type&&t.parent.items.forEach(function(e){"object"===e.type&&e!==t&&o(e)});else"object"===t.type&&r.add({kind:dt.Property,label:"$schema",insertText:this.getInsertTextForProperty("$schema",null,!0,""),insertTextFormat:gt.Snippet,documentation:"",filterText:this.getFilterTextForValue("$schema")})},e.prototype.getSchemaLessValueCompletions=function(e,t,n,r,i){var o=this,s=n;if(!t||"string"!==t.type&&"number"!==t.type&&"boolean"!==t.type&&"null"!==t.type||(s=t.offset+t.length,t=t.parent),!t)return i.add({kind:this.getSuggestionKind("object"),label:"Empty object",insertText:this.getInsertTextForValue({},""),insertTextFormat:gt.Snippet,documentation:""}),void i.add({kind:this.getSuggestionKind("array"),label:"Empty array",insertText:this.getInsertTextForValue([],""),insertTextFormat:gt.Snippet,documentation:""});var a=this.evaluateSeparatorAfter(r,s),u=function(e){vn(e.parent,n,!0)||i.add({kind:o.getSuggestionKind(e.type),label:o.getLabelTextForMatchingNode(e,r),insertText:o.getInsertTextForMatchingNode(e,r,a),insertTextFormat:gt.Snippet,documentation:""}),"boolean"===e.type&&o.addBooleanValueCompletion(!e.value,a,i)};if("property"===t.type&&n>t.colonOffset){var c=t.valueNode;if(c&&(n>c.offset+c.length||"object"===c.type||"array"===c.type))return;var l=t.keyNode.value;e.visit(function(e){return"property"===e.type&&e.keyNode.value===l&&e.valueNode&&u(e.valueNode),!0}),"$schema"===l&&t.parent&&!t.parent.parent&&this.addDollarSchemaCompletions(a,i)}if("array"===t.type)if(t.parent&&"property"===t.parent.type){var f=t.parent.keyNode.value;e.visit(function(e){var t=e;return"property"===e.type&&t.keyNode.value===f&&t.valueNode&&"array"===t.valueNode.type&&t.valueNode.items.forEach(u),!0})}else t.items.forEach(u)},e.prototype.getValueCompletions=function(e,t,n,r,i,o,s){var a=this,u=r,c=null,l=null;if(!n||"string"!==n.type&&"number"!==n.type&&"boolean"!==n.type&&"null"!==n.type||(u=n.offset+n.length,l=n,n=n.parent),n){if("property"===n.type&&r>n.colonOffset){var f=n.valueNode;if(f&&r>f.offset+f.length)return;c=n.keyNode.value,n=n.parent}if(n&&(null!==c||"array"===n.type)){var h=this.evaluateSeparatorAfter(i,u);t.getMatchingSchemas(e.schema,n.offset,l).forEach(function(e){if(e.node===n&&!e.inverted&&e.schema){if("array"===n.type&&e.schema.items)if(Array.isArray(e.schema.items)){var t=a.findItemAtOffset(n,i,r);t<e.schema.items.length&&a.addSchemaValueCompletions(e.schema.items[t],h,o,s)}else a.addSchemaValueCompletions(e.schema.items,h,o,s);if(e.schema.properties){var u=e.schema.properties[c];u&&a.addSchemaValueCompletions(u,h,o,s)}}}),"$schema"!==c||n.parent||this.addDollarSchemaCompletions(h,o),s.boolean&&(this.addBooleanValueCompletion(!0,h,o),this.addBooleanValueCompletion(!1,h,o)),s.null&&this.addNullValueCompletion(h,o)}}else this.addSchemaValueCompletions(e.schema,"",o,s)},e.prototype.getContributedValueCompletions=function(e,t,n,r,i,o){if(t){if("string"!==t.type&&"number"!==t.type&&"boolean"!==t.type&&"null"!==t.type||(t=t.parent),"property"===t.type&&n>t.colonOffset){var s=t.keyNode.value,a=t.valueNode;if(!a||n<=a.offset+a.length){var u=gn(t.parent);this.contributions.forEach(function(e){var t=e.collectValueCompletions(r.uri,u,s,i);t&&o.push(t)})}}}else this.contributions.forEach(function(e){var t=e.collectDefaultCompletions(r.uri,i);t&&o.push(t)})},e.prototype.addSchemaValueCompletions=function(e,t,n,r){var i=this;"object"==typeof e&&(this.addEnumValueCompletions(e,t,n),this.addDefaultValueCompletions(e,t,n),this.collectTypes(e,r),Array.isArray(e.allOf)&&e.allOf.forEach(function(e){return i.addSchemaValueCompletions(e,t,n,r)}),Array.isArray(e.anyOf)&&e.anyOf.forEach(function(e){return i.addSchemaValueCompletions(e,t,n,r)}),Array.isArray(e.oneOf)&&e.oneOf.forEach(function(e){return i.addSchemaValueCompletions(e,t,n,r)}))},e.prototype.addDefaultValueCompletions=function(e,t,n,r){var i=this;void 0===r&&(r=0);var o=!1;if(e.default){for(var s=e.type,a=e.default,u=r;u>0;u--)a=[a],s="array";n.add({kind:this.getSuggestionKind(s),label:this.getLabelForValue(a),insertText:this.getInsertTextForValue(a,t),insertTextFormat:gt.Snippet,detail:Cn("json.suggest.default","Default value")}),o=!0}Array.isArray(e.defaultSnippets)&&e.defaultSnippets.forEach(function(s){var a,u,c=e.type,l=s.body,f=s.label;if(void 0!==l){e.type;for(var h=r;h>0;h--)l=[l],"array";a=i.getInsertTextForSnippetValue(l,t),u=i.getFilterTextForSnippetValue(l),f=f||i.getLabelForSnippetValue(l)}else if("string"==typeof s.bodyText){var p="",m="",d="";for(h=r;h>0;h--)p=p+d+"[\n",m=m+"\n"+d+"]",d+="\t",c="array";a=p+d+s.bodyText.split("\n").join("\n"+d)+m+t,f=f||a,u=a.replace(/[\n]/g,"")}n.add({kind:i.getSuggestionKind(c),label:f,documentation:s.description,insertText:a,insertTextFormat:gt.Snippet,filterText:u}),o=!0}),o||"object"!=typeof e.items||Array.isArray(e.items)||this.addDefaultValueCompletions(e.items,t,n,r+1)},e.prototype.addEnumValueCompletions=function(e,t,n){if(Array.isArray(e.enum))for(var r=0,i=e.enum.length;r<i;r++){var o=e.enum[r],s=e.description;e.enumDescriptions&&r<e.enumDescriptions.length&&(s=e.enumDescriptions[r]),n.add({kind:this.getSuggestionKind(e.type),label:this.getLabelForValue(o),insertText:this.getInsertTextForValue(o,t),insertTextFormat:gt.Snippet,documentation:s})}},e.prototype.collectTypes=function(e,t){if(!Array.isArray(e.enum)){var n=e.type;Array.isArray(n)?n.forEach(function(e){return t[e]=!0}):t[n]=!0}},e.prototype.addFillerValueCompletions=function(e,t,n){e.object&&n.add({kind:this.getSuggestionKind("object"),label:"{}",insertText:this.getInsertTextForGuessedValue({},t),insertTextFormat:gt.Snippet,detail:Cn("defaults.object","New object"),documentation:""}),e.array&&n.add({kind:this.getSuggestionKind("array"),label:"[]",insertText:this.getInsertTextForGuessedValue([],t),insertTextFormat:gt.Snippet,detail:Cn("defaults.array","New array"),documentation:""})},e.prototype.addBooleanValueCompletion=function(e,t,n){n.add({kind:this.getSuggestionKind("boolean"),label:e?"true":"false",insertText:this.getInsertTextForValue(e,t),insertTextFormat:gt.Snippet,documentation:""})},e.prototype.addNullValueCompletion=function(e,t){t.add({kind:this.getSuggestionKind("null"),label:"null",insertText:"null"+e,insertTextFormat:gt.Snippet,documentation:""})},e.prototype.addDollarSchemaCompletions=function(e,t){var n=this;this.schemaService.getRegisteredSchemaIds(function(e){return"http"===e||"https"===e}).forEach(function(r){return t.add({kind:dt.Module,label:n.getLabelForValue(r),filterText:n.getFilterTextForValue(r),insertText:n.getInsertTextForValue(r,e),insertTextFormat:gt.Snippet,documentation:""})})},e.prototype.getLabelForValue=function(e){var t=JSON.stringify(e);return t.length>57?t.substr(0,57).trim()+"...":t},e.prototype.getFilterTextForValue=function(e){return JSON.stringify(e)},e.prototype.getFilterTextForSnippetValue=function(e){return JSON.stringify(e).replace(/\$\{\d+:([^}]+)\}|\$\d+/g,"$1")},e.prototype.getLabelForSnippetValue=function(e){var t=JSON.stringify(e);return(t=t.replace(/\$\{\d+:([^}]+)\}|\$\d+/g,"$1")).length>57?t.substr(0,57).trim()+"...":t},e.prototype.getInsertTextForPlainText=function(e){return e.replace(/[\\\$\}]/g,"\\$&")},e.prototype.getInsertTextForValue=function(e,t){var n=JSON.stringify(e,null,"\t");return"{}"===n?"{\n\t$1\n}"+t:"[]"===n?"[\n\t$1\n]"+t:this.getInsertTextForPlainText(n+t)},e.prototype.getInsertTextForSnippetValue=function(e,t){return function e(t,n,r){if(null!==t&&"object"==typeof t){var i=n+"\t";if(Array.isArray(t)){if(0===t.length)return"[]";for(var o="[\n",s=0;s<t.length;s++)o+=i+e(t[s],i,r),s<t.length-1&&(o+=","),o+="\n";return o+=n+"]"}var a=Object.keys(t);if(0===a.length)return"{}";for(o="{\n",s=0;s<a.length;s++){var u=a[s];o+=i+JSON.stringify(u)+": "+e(t[u],i,r),s<a.length-1&&(o+=","),o+="\n"}return o+=n+"}"}return r(t)}(e,"",function(e){return"string"==typeof e&&"^"===e[0]?e.substr(1):JSON.stringify(e)})+t},e.prototype.getInsertTextForGuessedValue=function(e,t){switch(typeof e){case"object":return null===e?"${1:null}"+t:this.getInsertTextForValue(e,t);case"string":var n=JSON.stringify(e);return n=n.substr(1,n.length-2),'"${1:'+(n=this.getInsertTextForPlainText(n))+'}"'+t;case"number":case"boolean":return"${1:"+JSON.stringify(e)+"}"+t}return this.getInsertTextForValue(e,t)},e.prototype.getSuggestionKind=function(e){if(Array.isArray(e)){var t=e;e=t.length>0?t[0]:null}if(!e)return dt.Value;switch(e){case"string":return dt.Value;case"object":return dt.Module;case"property":return dt.Property;default:return dt.Value}},e.prototype.getLabelTextForMatchingNode=function(e,t){switch(e.type){case"array":return"[]";case"object":return"{}";default:return t.getText().substr(e.offset,e.length)}},e.prototype.getInsertTextForMatchingNode=function(e,t,n){switch(e.type){case"array":return this.getInsertTextForValue([],n);case"object":return this.getInsertTextForValue({},n);default:var r=t.getText().substr(e.offset,e.length)+n;return this.getInsertTextForPlainText(r)}},e.prototype.getInsertTextForProperty=function(e,t,n,r){var i=this.getInsertTextForValue(e,"");if(!n)return i;var o,s=i+": ",a=0;if(t){if(Array.isArray(t.defaultSnippets)){if(1===t.defaultSnippets.length){var u=t.defaultSnippets[0].body;void 0!==u&&(o=this.getInsertTextForSnippetValue(u,""))}a+=t.defaultSnippets.length}if(t.enum&&(o||1!==t.enum.length||(o=this.getInsertTextForGuessedValue(t.enum[0],"")),a+=t.enum.length),void 0!==t.default&&(o||(o=this.getInsertTextForGuessedValue(t.default,"")),a++),0===a){var c=Array.isArray(t.type)?t.type[0]:t.type;switch(c||(t.properties?c="object":t.items&&(c="array")),c){case"boolean":o="$1";break;case"string":o='"$1"';break;case"object":o="{\n\t$1\n}";break;case"array":o="[\n\t$1\n]";break;case"number":case"integer":o="${1:0}";break;case"null":o="${1:null}";break;default:return i}}}return(!o||a>1)&&(o="$1"),s+o+r},e.prototype.getCurrentWord=function(e,t){for(var n=t-1,r=e.getText();n>=0&&-1===' \t\n\r\v":{[,]}'.indexOf(r.charAt(n));)n--;return r.substring(n+1,t)},e.prototype.evaluateSeparatorAfter=function(e,t){var n=Kt(e.getText(),!0);switch(n.setPosition(t),n.scan()){case 5:case 2:case 4:case 17:return"";default:return","}},e.prototype.findItemAtOffset=function(e,t,n){for(var r=Kt(t.getText(),!0),i=e.items,o=i.length-1;o>=0;o--){var s=i[o];if(n>s.offset+s.length)return r.setPosition(s.offset+s.length),5===r.scan()&&n>=r.getTokenOffset()+r.getTokenLength()?o+1:o;if(n>=s.offset)return o}return 0},e.prototype.isInComment=function(e,t,n){var r=Kt(e.getText(),!1);r.setPosition(t);for(var i=r.scan();17!==i&&r.getTokenOffset()+r.getTokenLength()<n;)i=r.scan();return(12===i||13===i)&&r.getTokenOffset()<=n},e}(),xn=function(){function e(e,t,n){void 0===t&&(t=[]),this.schemaService=e,this.contributions=t,this.promise=n||Promise}return e.prototype.doHover=function(e,t,n){var r=e.offsetAt(t),i=n.getNodeFromOffset(r);if(!i||("object"===i.type||"array"===i.type)&&r>i.offset+1&&r<i.offset+i.length-1)return this.promise.resolve(null);var o=i;if("string"===i.type){var s=i.parent;if("property"===s.type&&s.keyNode===i&&!(i=s.valueNode))return this.promise.resolve(null)}for(var a=nt.create(e.positionAt(o.offset),e.positionAt(o.offset+o.length)),u=function(e){return{contents:e,range:a}},c=gn(i),l=this.contributions.length-1;l>=0;l--){var f=this.contributions[l].getInfoContribution(e.uri,c);if(f)return f.then(function(e){return u(e)})}return this.schemaService.getSchemaForResource(e.uri,n).then(function(e){if(e){var t=null,r=null,o=null,s=null;n.getMatchingSchemas(e.schema,i.offset).every(function(e){if(e.node===i&&!e.inverted&&e.schema&&(t=t||e.schema.title,r=r||e.schema.markdownDescription||Nn(e.schema.description),e.schema.enum)){var n=e.schema.enum.indexOf(dn(i));e.schema.markdownEnumDescriptions?o=e.schema.markdownEnumDescriptions[n]:e.schema.enumDescriptions&&(o=Nn(e.schema.enumDescriptions[n])),o&&"string"!=typeof(s=e.schema.enum[n])&&(s=JSON.stringify(s))}return!0});var a="";return t&&(a=Nn(t)),r&&(a.length>0&&(a+="\n\n"),a+=r),o&&(a.length>0&&(a+="\n\n"),a+="`"+Nn(s)+"`: "+o),u([a])}return null})},e}();function Nn(e){if(e)return e.replace(/([^\n\r])(\r?\n)([^\n\r])/gm,"$1\n\n$3").replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}var wn=Ht(),An=function(){function e(e,t){this.jsonSchemaService=e,this.promise=t,this.validationEnabled=!0}return e.prototype.configure=function(e){e&&(this.validationEnabled=e.validate,this.commentSeverity=e.allowComments?Xt.Ignore:Xt.Error)},e.prototype.doValidation=function(e,t,n){var r=this;if(!this.validationEnabled)return this.promise.resolve([]);var i=[],o={},s=function(t){if(t.severity!==Xt.Ignore){var n=t.location.offset+" "+t.location.length+" "+t.message;if(!o[n]){o[n]=!0;var r={start:e.positionAt(t.location.offset),end:e.positionAt(t.location.offset+t.location.length)},s=t.severity===Xt.Error?it.Error:it.Warning;i.push({severity:s,range:r,message:t.message})}}};return this.jsonSchemaService.getSchemaForResource(e.uri,t).then(function(e){var o=n?n.trailingCommas:Xt.Error,a=n?n.comments:r.commentSeverity;if(e){if(e.errors.length&&t.root){var u=t.root,c="object"===u.type?u.properties[0]:null;if(c&&"$schema"===c.keyNode.value){var l=c.valueNode||c;s({location:{offset:l.offset,length:l.length},message:e.errors[0],severity:Xt.Warning})}else s({location:{offset:u.offset,length:1},message:e.errors[0],severity:Xt.Warning})}else{var f=t.validate(e.schema);f&&f.forEach(s)}kn(e.schema)&&(o=a=Xt.Ignore)}if(t.syntaxErrors.forEach(function(e){e.code===Jt.TrailingComma&&(e.severity=o),s(e)}),i.push.apply(i,t.externalDiagnostic),a!==Xt.Ignore){var h=wn("InvalidCommentToken","Comments are not permitted in JSON.");t.comments.forEach(function(e){s({location:e,severity:a,message:h})})}return i})},e}();function kn(e){if(e&&"object"==typeof e){if(e.allowComments)return!0;if(e.allOf)return e.allOf.some(kn)}return!1}var Pn=48,On=57,Ln=65,Tn=97,Mn=102;function In(e){return e<Pn?0:e<=On?e-Pn:(e<Tn&&(e+=Tn-Ln),e>=Tn&&e<=Mn?e-Tn+10:0)}function jn(e){if("#"!==e[0])return null;switch(e.length){case 4:return{red:17*In(e.charCodeAt(1))/255,green:17*In(e.charCodeAt(2))/255,blue:17*In(e.charCodeAt(3))/255,alpha:1};case 5:return{red:17*In(e.charCodeAt(1))/255,green:17*In(e.charCodeAt(2))/255,blue:17*In(e.charCodeAt(3))/255,alpha:17*In(e.charCodeAt(4))/255};case 7:return{red:(16*In(e.charCodeAt(1))+In(e.charCodeAt(2)))/255,green:(16*In(e.charCodeAt(3))+In(e.charCodeAt(4)))/255,blue:(16*In(e.charCodeAt(5))+In(e.charCodeAt(6)))/255,alpha:1};case 9:return{red:(16*In(e.charCodeAt(1))+In(e.charCodeAt(2)))/255,green:(16*In(e.charCodeAt(3))+In(e.charCodeAt(4)))/255,blue:(16*In(e.charCodeAt(5))+In(e.charCodeAt(6)))/255,alpha:(16*In(e.charCodeAt(7))+In(e.charCodeAt(8)))/255}}return null}var Vn=function(){function e(e){this.schemaService=e}return e.prototype.findDocumentSymbols=function(e,t){var n=this,r=t.root;if(!r)return null;var i=e.uri;if(("vscode://defaultsettings/keybindings.json"===i||Sn(i.toLowerCase(),"/user/keybindings.json"))&&"array"===r.type){var o=[];return r.items.forEach(function(t){if("object"===t.type)for(var n=0,r=t.properties;n<r.length;n++){var i=r[n];if("key"===i.keyNode.value){if(i.valueNode){var s=rt.create(e.uri,nt.create(e.positionAt(t.offset),e.positionAt(t.offset+t.length)));o.push({name:dn(i.valueNode),kind:xt.Function,location:s})}return}}}),o}var s=function(t,r,i){return"array"===r.type?r.items.forEach(function(e){return s(t,e,i)}):"object"===r.type&&r.properties.forEach(function(r){var o=rt.create(e.uri,nt.create(e.positionAt(r.offset),e.positionAt(r.offset+r.length))),a=r.valueNode;if(a){var u=i?i+"."+r.keyNode.value:r.keyNode.value;t.push({name:r.keyNode.value,kind:n.getSymbolKind(a.type),location:o,containerName:i}),s(t,a,u)}}),t};return s([],r,void 0)},e.prototype.getSymbolKind=function(e){switch(e){case"object":return xt.Module;case"string":return xt.String;case"number":return xt.Number;case"array":return xt.Array;case"boolean":return xt.Boolean;default:return xt.Variable}},e.prototype.findDocumentColors=function(e,t){return this.schemaService.getSchemaForResource(e.uri,t).then(function(n){var r=[];if(n)for(var i={},o=0,s=t.getMatchingSchemas(n.schema);o<s.length;o++){var a=s[o];if(!a.inverted&&a.schema&&("color"===a.schema.format||"color-hex"===a.schema.format)&&a.node&&"string"===a.node.type){var u=String(a.node.offset);if(!i[u]){var c=jn(dn(a.node));if(c){var l=nt.create(e.positionAt(a.node.offset),e.positionAt(a.node.offset+a.node.length));r.push({color:c,range:l})}i[u]=!0}}}return r})},e.prototype.getColorPresentations=function(e,t,n,r){var i,o=[],s=Math.round(255*n.red),a=Math.round(255*n.green),u=Math.round(255*n.blue);function c(e){var t=e.toString(16);return 2!==t.length?"0"+t:t}return i=1===n.alpha?"#"+c(s)+c(a)+c(u):"#"+c(s)+c(a)+c(u)+c(Math.round(255*n.alpha)),o.push({label:i,textEdit:at.replace(r,JSON.stringify(i))}),o},e}(),Dn=Ht(),Fn={schemaAssociations:{},schemas:{"http://json-schema.org/draft-04/schema#":{title:Dn("schema.json","Describes a JSON file using a schema. See json-schema.org for more info."),$schema:"http://json-schema.org/draft-04/schema#",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},positiveInteger:{type:"integer",minimum:0},positiveIntegerDefault0:{allOf:[{$ref:"#/definitions/positiveInteger"},{default:0}]},simpleTypes:{type:"string",enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},minItems:1,uniqueItems:!0}},type:"object",properties:{id:{type:"string",format:"uri",description:Dn("schema.json.id","A unique identifier for the schema.")},$schema:{type:"string",format:"uri",description:Dn("schema.json.$schema","The schema to verify this document against ")},title:{type:"string",description:Dn("schema.json.title","A descriptive title of the element")},description:{type:"string",description:Dn("schema.json.description","A long description of the element. Used in hover menus and suggestions.")},default:{description:Dn("schema.json.default","A default value. Used by suggestions.")},multipleOf:{type:"number",minimum:0,exclusiveMinimum:!0,description:Dn("schema.json.multipleOf","A number that should cleanly divide the current value (i.e. have no remainder)")},maximum:{type:"number",description:Dn("schema.json.maximum","The maximum numerical value, inclusive by default.")},exclusiveMaximum:{type:"boolean",default:!1,description:Dn("schema.json.exclusiveMaximum","Makes the maximum property exclusive.")},minimum:{type:"number",description:Dn("schema.json.minimum","The minimum numerical value, inclusive by default.")},exclusiveMinimum:{type:"boolean",default:!1,description:Dn("schema.json.exclusiveMininum","Makes the minimum property exclusive.")},maxLength:{allOf:[{$ref:"#/definitions/positiveInteger"}],description:Dn("schema.json.maxLength","The maximum length of a string.")},minLength:{allOf:[{$ref:"#/definitions/positiveIntegerDefault0"}],description:Dn("schema.json.minLength","The minimum length of a string.")},pattern:{type:"string",format:"regex",description:Dn("schema.json.pattern","A regular expression to match the string against. It is not implicitly anchored.")},additionalItems:{anyOf:[{type:"boolean"},{$ref:"#"}],default:{},description:Dn("schema.json.additionalItems","For arrays, only when items is set as an array. If it is a schema, then this schema validates items after the ones specified by the items array. If it is false, then additional items will cause validation to fail.")},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:{},description:Dn("schema.json.items","For arrays. Can either be a schema to validate every element against or an array of schemas to validate each item against in order (the first schema will validate the first element, the second schema will validate the second element, and so on.")},maxItems:{allOf:[{$ref:"#/definitions/positiveInteger"}],description:Dn("schema.json.maxItems","The maximum number of items that can be inside an array. Inclusive.")},minItems:{allOf:[{$ref:"#/definitions/positiveIntegerDefault0"}],description:Dn("schema.json.minItems","The minimum number of items that can be inside an array. Inclusive.")},uniqueItems:{type:"boolean",default:!1,description:Dn("schema.json.uniqueItems","If all of the items in the array must be unique. Defaults to false.")},maxProperties:{allOf:[{$ref:"#/definitions/positiveInteger"}],description:Dn("schema.json.maxProperties","The maximum number of properties an object can have. Inclusive.")},minProperties:{allOf:[{$ref:"#/definitions/positiveIntegerDefault0"}],description:Dn("schema.json.minProperties","The minimum number of properties an object can have. Inclusive.")},required:{allOf:[{$ref:"#/definitions/stringArray"}],description:Dn("schema.json.required","An array of strings that lists the names of all properties required on this object.")},additionalProperties:{anyOf:[{type:"boolean"},{$ref:"#"}],default:{},description:Dn("schema.json.additionalProperties","Either a schema or a boolean. If a schema, then used to validate all properties not matched by 'properties' or 'patternProperties'. If false, then any properties not matched by either will cause this schema to fail.")},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{},description:Dn("schema.json.definitions","Not used for validation. Place subschemas here that you wish to reference inline with $ref")},properties:{type:"object",additionalProperties:{$ref:"#"},default:{},description:Dn("schema.json.properties","A map of property names to schemas for each property.")},patternProperties:{type:"object",additionalProperties:{$ref:"#"},default:{},description:Dn("schema.json.patternProperties","A map of regular expressions on property names to schemas for matching properties.")},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]},description:Dn("schema.json.dependencies","A map of property names to either an array of property names or a schema. An array of property names means the property named in the key depends on the properties in the array being present in the object in order to be valid. If the value is a schema, then the schema is only applied to the object if the property in the key exists on the object.")},enum:{type:"array",minItems:1,uniqueItems:!0,description:Dn("schema.json.enum","The set of literal values that are valid")},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}],description:Dn("schema.json.type","Either a string of one of the basic schema types (number, integer, null, array, object, boolean, string) or an array of strings specifying a subset of those types.")},format:{anyOf:[{type:"string",description:Dn("schema.json.format","Describes the format expected for the value."),enum:["date-time","uri","email","hostname","ipv4","ipv6","regex"]},{type:"string"}]},allOf:{allOf:[{$ref:"#/definitions/schemaArray"}],description:Dn("schema.json.allOf","An array of schemas, all of which must match.")},anyOf:{allOf:[{$ref:"#/definitions/schemaArray"}],description:Dn("schema.json.anyOf","An array of schemas, where at least one must match.")},oneOf:{allOf:[{$ref:"#/definitions/schemaArray"}],description:Dn("schema.json.oneOf","An array of schemas, exactly one of which must match.")},not:{allOf:[{$ref:"#"}],description:Dn("schema.json.not","A schema which must not match.")}},dependencies:{exclusiveMaximum:["maximum"],exclusiveMinimum:["minimum"]},default:{}}}},Un=Ht(),Rn=function(){function e(e){try{this.patternRegExp=new RegExp(function(e){return e.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}(e)+"$")}catch(e){this.patternRegExp=null}this.schemas=[]}return e.prototype.addSchema=function(e){this.schemas.push(e)},e.prototype.matchesPattern=function(e){return this.patternRegExp&&this.patternRegExp.test(e)},e.prototype.getSchemas=function(){return this.schemas},e}(),Wn=function(){function e(e,t,n){this.service=e,this.url=t,n&&(this.unresolvedSchema=this.service.promise.resolve(new qn(n)))}return e.prototype.getUnresolvedSchema=function(){return this.unresolvedSchema||(this.unresolvedSchema=this.service.loadSchema(this.url)),this.unresolvedSchema},e.prototype.getResolvedSchema=function(){var e=this;return this.resolvedSchema||(this.resolvedSchema=this.getUnresolvedSchema().then(function(t){return e.service.resolveSchemaContent(t,e.url)})),this.resolvedSchema},e.prototype.clearSchema=function(){this.resolvedSchema=null,this.unresolvedSchema=null},e}(),qn=function(){return function(e,t){void 0===t&&(t=[]),this.schema=e,this.errors=t}}(),Kn=function(){function e(e,t){void 0===t&&(t=[]),this.schema=e,this.errors=t}return e.prototype.getSection=function(e){return fn(this.getSectionRecursive(e,this.schema))},e.prototype.getSectionRecursive=function(e,t){var n=this;if(!t||"boolean"==typeof t||0===e.length)return t;var r=e.shift();if(t.properties&&(t.properties[r],1))return this.getSectionRecursive(e,t.properties[r]);if(t.patternProperties)Object.keys(t.patternProperties).forEach(function(i){if(new RegExp(i).test(r))return n.getSectionRecursive(e,t.patternProperties[i])});else{if("object"==typeof t.additionalProperties)return this.getSectionRecursive(e,t.additionalProperties);if(r.match("[0-9]+"))if(Array.isArray(t.items)){var i=parseInt(r,10);if(!isNaN(i)&&t.items[i])return this.getSectionRecursive(e,t.items[i])}else if(t.items)return this.getSectionRecursive(e,t.items)}return null},e}(),Bn=function(){function e(e,t,n){this.contextService=t,this.requestService=e,this.promiseConstructor=n||Promise,this.callOnDispose=[],this.contributionSchemas={},this.contributionAssociations={},this.schemasById={},this.filePatternAssociations=[],this.filePatternAssociationById={},this.registeredSchemasIds={}}return e.prototype.getRegisteredSchemaIds=function(e){return Object.keys(this.registeredSchemasIds).filter(function(t){var n=zt.a.parse(t).scheme;return"schemaservice"!==n&&(!e||e(n))})},Object.defineProperty(e.prototype,"promise",{get:function(){return this.promiseConstructor},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){for(;this.callOnDispose.length>0;)this.callOnDispose.pop()()},e.prototype.onResourceChange=function(e){e=this.normalizeId(e);var t=this.schemasById[e];return!!t&&(t.clearSchema(),!0)},e.prototype.normalizeId=function(e){return zt.a.parse(e).toString()},e.prototype.setSchemaContributions=function(e){var t=this;if(e.schemas){var n=e.schemas;for(var r in n){var i=this.normalizeId(r);this.contributionSchemas[i]=this.addSchemaHandle(i,n[r])}}if(e.schemaAssociations){var o=e.schemaAssociations;for(var s in o){var a=o[s];this.contributionAssociations[s]=a;var u=this.getOrAddFilePatternAssociation(s);a.forEach(function(e){var n=t.normalizeId(e);u.addSchema(n)})}}},e.prototype.addSchemaHandle=function(e,t){var n=new Wn(this,e,t);return this.schemasById[e]=n,n},e.prototype.getOrAddSchemaHandle=function(e,t){return this.schemasById[e]||this.addSchemaHandle(e,t)},e.prototype.getOrAddFilePatternAssociation=function(e){var t=this.filePatternAssociationById[e];return t||(t=new Rn(e),this.filePatternAssociationById[e]=t,this.filePatternAssociations.push(t)),t},e.prototype.registerExternalSchema=function(e,t,n){var r=this;void 0===t&&(t=null);var i=this.normalizeId(e);return this.registeredSchemasIds[i]=!0,t&&t.forEach(function(e){r.getOrAddFilePatternAssociation(e).addSchema(i)}),n?this.addSchemaHandle(i,n):this.getOrAddSchemaHandle(i)},e.prototype.clearExternalSchemas=function(){var e=this;for(var t in this.schemasById={},this.filePatternAssociations=[],this.filePatternAssociationById={},this.registeredSchemasIds={},this.contributionSchemas)this.schemasById[t]=this.contributionSchemas[t],this.registeredSchemasIds[t]=!0;for(var n in this.contributionAssociations){var r=this.getOrAddFilePatternAssociation(n);this.contributionAssociations[n].forEach(function(t){var n=e.normalizeId(t);r.addSchema(n)})}},e.prototype.getResolvedSchema=function(e){var t=this.normalizeId(e),n=this.schemasById[t];return n?n.getResolvedSchema():this.promise.resolve(null)},e.prototype.loadSchema=function(e){if(!this.requestService){var t=Un("json.schema.norequestservice","Unable to load schema from '{0}'. No schema request service available",Yn(e));return this.promise.resolve(new qn({},[t]))}return this.requestService(e).then(function(t){if(!t){var n=Un("json.schema.nocontent","Unable to load schema from '{0}': No content.",Yn(e));return new qn({},[n])}var r,i=[];r=Bt(t,i);var o=i.length?[Un("json.schema.invalidFormat","Unable to parse content from '{0}': Parse error at offset {1}.",Yn(e),i[0].offset)]:[];return new qn(r,o)},function(t){var n=Un("json.schema.unabletoload","Unable to load schema from '{0}': {1}",Yn(e),t.toString());return new qn({},[n])})},e.prototype.resolveSchemaContent=function(e,t){var n=this,r=e.errors.slice(0),i=e.schema,o=this.contextService,s=function(e,t,n,i){var o=function(e,t){if(!t)return e;var n=e;return"/"===t[0]&&(t=t.substr(1)),t.split("/").some(function(e){return!(n=n[e])}),n}(t,i);if(o)for(var s in o)o.hasOwnProperty(s)&&!e.hasOwnProperty(s)&&(e[s]=o[s]);else r.push(Un("json.schema.invalidref","$ref '{0}' in '{1}' can not be resolved.",i,n))},a=function(e,t,i,a){return o&&!/^\w+:\/\/.*/.test(t)&&(t=o.resolveRelativePath(t,a)),t=n.normalizeId(t),n.getOrAddSchemaHandle(t).getUnresolvedSchema().then(function(n){if(n.errors.length){var o=i?t+"#"+i:t;r.push(Un("json.schema.problemloadingref","Problems loading reference '{0}': {1}",o,n.errors[0]))}return s(e,n.schema,t,i),u(e,n.schema,t)})},u=function(e,t,r){if(!e||"object"!=typeof e)return Promise.resolve(null);for(var i=[e],o=[],u=[],c=function(e){for(;e.$ref;){var n=e.$ref.split("#",2);if(delete e.$ref,n[0].length>0)return void u.push(a(e,n[0],n[1],r));s(e,t,r,n[1])}!function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0,r=e;n<r.length;n++){var o=r[n];"object"==typeof o&&i.push(o)}}(e.items,e.additionalProperties,e.not,e.contains,e.propertyNames),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0,r=e;n<r.length;n++){var o=r[n];if("object"==typeof o)for(var s in o){var a=o[s];"object"==typeof a&&i.push(a)}}}(e.definitions,e.properties,e.patternProperties,e.dependencies),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0,r=e;n<r.length;n++){var o=r[n];if(Array.isArray(o))for(var s=0,a=o;s<a.length;s++){var u=a[s];"object"==typeof u&&i.push(u)}}}(e.anyOf,e.allOf,e.oneOf,e.items)};i.length;){var l=i.pop();o.indexOf(l)>=0||(o.push(l),c(l))}return n.promise.all(u)};return u(i,i,t).then(function(e){return new Kn(i,r)})},e.prototype.getSchemaForResource=function(e,t){if(t&&t.root&&"object"===t.root.type){var n=t.root.properties.filter(function(e){return"$schema"===e.keyNode.value&&e.valueNode&&"string"===e.valueNode.type});if(n.length>0){var r=dn(n[0].valueNode);if(r&&function(e,t){if(e.length<t.length)return!1;for(var n=0;n<t.length;n++)if(e[n]!==t[n])return!1;return!0}(r,".")&&this.contextService&&(r=this.contextService.resolveRelativePath(r,e)),r){var i=this.normalizeId(r);return this.getOrAddSchemaHandle(i).getResolvedSchema()}}}for(var o=Object.create(null),s=[],a=0,u=this.filePatternAssociations;a<u.length;a++){var c=u[a];if(c.matchesPattern(e))for(var l=0,f=c.getSchemas();l<f.length;l++){var h=f[l];o[h]||(s.push(h),o[h]=!0)}}return s.length>0?this.createCombinedSchema(e,s).getResolvedSchema():this.promise.resolve(null)},e.prototype.createCombinedSchema=function(e,t){if(1===t.length)return this.getOrAddSchemaHandle(t[0]);var n="schemaservice://combinedSchema/"+encodeURIComponent(e),r={allOf:t.map(function(e){return{$ref:e}})};return this.addSchemaHandle(n,r)},e}();function Yn(e){try{var t=zt.a.parse(e);if("file"===t.scheme)return t.fsPath}catch(e){}return e}function $n(e){var t=e.promiseConstructor||Promise,n=new Bn(e.schemaRequestService,e.workspaceContext,t);n.setSchemaContributions(Fn);var r=new En(n,e.contributions,t),i=new xn(n,e.contributions,t),o=new Vn(n),s=new An(n,t);return{configure:function(e){n.clearExternalSchemas(),e.schemas&&e.schemas.forEach(function(e){n.registerExternalSchema(e.uri,e.fileMatch,e.schema)}),s.configure(e)},resetSchema:function(e){return n.onResourceChange(e)},doValidation:s.doValidation.bind(s),parseJSONDocument:function(e){return bn(e,{collectComments:!0})},newJSONDocument:function(e,t){return function(e,t){return void 0===t&&(t=[]),new yn(e,[],[],t)}(e,t)},doResolve:r.doResolve.bind(r),doComplete:r.doComplete.bind(r),findDocumentSymbols:o.findDocumentSymbols.bind(o),findColorSymbols:function(e,t){return o.findDocumentColors(e,t).then(function(e){return e.map(function(e){return e.range})})},findDocumentColors:o.findDocumentColors.bind(o),getColorPresentations:o.getColorPresentations.bind(o),doHover:i.doHover.bind(i),format:function(e,t,n){var r=void 0;if(t){var i=e.offsetAt(t.start);r={offset:i,length:e.offsetAt(t.end)-i}}var o={tabSize:n?n.tabSize:4,insertSpaces:!n||n.insertSpaces,eol:"\n"};return function(e,t,n){return Ut(e,t,n)}(e.getText(),r,o).map(function(t){return at.replace(nt.create(e.positionAt(t.offset),e.positionAt(t.offset+t.length)),t.content)})}}}var Hn=monaco.Promise,Jn=function(){function e(e){this.wrapped=new monaco.Promise(e)}return e.prototype.then=function(e,t){return this.wrapped.then(e,t)},e.prototype.getWrapped=function(){return this.wrapped},e.prototype.cancel=function(){this.wrapped.cancel()},e.resolve=function(e){return monaco.Promise.as(e)},e.reject=function(e){return monaco.Promise.wrapError(e)},e.all=function(e){return monaco.Promise.join(e)},e}(),zn=function(){function e(e,t){this._ctx=e,this._languageSettings=t.languageSettings,this._languageId=t.languageId,this._languageService=$n({promiseConstructor:Jn}),this._languageService.configure(this._languageSettings)}return e.prototype.doValidation=function(e){var t=this._getTextDocument(e);if(t){var n=this._languageService.parseJSONDocument(t);return this._languageService.doValidation(t,n)}return Hn.as([])},e.prototype.doComplete=function(e,t){var n=this._getTextDocument(e),r=this._languageService.parseJSONDocument(n);return this._languageService.doComplete(n,t,r)},e.prototype.doResolve=function(e){return this._languageService.doResolve(e)},e.prototype.doHover=function(e,t){var n=this._getTextDocument(e),r=this._languageService.parseJSONDocument(n);return this._languageService.doHover(n,t,r)},e.prototype.format=function(e,t,n){var r=this._getTextDocument(e),i=this._languageService.format(r,t,n);return Hn.as(i)},e.prototype.resetSchema=function(e){return Hn.as(this._languageService.resetSchema(e))},e.prototype.findDocumentSymbols=function(e){var t=this._getTextDocument(e),n=this._languageService.parseJSONDocument(t),r=this._languageService.findDocumentSymbols(t,n);return Hn.as(r)},e.prototype.findDocumentColors=function(e){var t=this._getTextDocument(e),n=this._languageService.parseJSONDocument(t),r=this._languageService.findDocumentColors(t,n);return Hn.as(r)},e.prototype.getColorPresentations=function(e,t,n){var r=this._getTextDocument(e),i=this._languageService.parseJSONDocument(r),o=this._languageService.getColorPresentations(r,i,t,n);return Hn.as(o)},e.prototype._getTextDocument=function(e){for(var t=0,n=this._ctx.getMirrorModels();t<n.length;t++){var r=n[t];if(r.uri.toString()===e)return Lt.create(e,this._languageId,r.version,r.getValue())}return null},e}();self.onmessage=function(){lt(function(e,t){return new zn(e,t)})}},function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=6}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2Jhc2UvY29tbW9uL3dpbmpzLmJhc2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2Jhc2UvY29tbW9uL3BsYXRmb3JtLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9sYW5ndWFnZS9qc29uL19kZXBzL3ZzY29kZS11cmkvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Byb2Nlc3MvYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vZ2xvYmFsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9iYXNlL2NvbW1vbi91cmkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2VkaXRvci9jb21tb24vY29yZS9wb3NpdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvZWRpdG9yL2NvbW1vbi9jb3JlL3JhbmdlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9iYXNlL2NvbW1vbi9kaWZmL2RpZmZDaGFuZ2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2Jhc2UvY29tbW9uL2RpZmYvZGlmZi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvYmFzZS9jb21tb24vbWFwLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9iYXNlL2NvbW1vbi9zdHJpbmdzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9lZGl0b3IvY29tbW9uL2RpZmYvZGlmZkNvbXB1dGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9lZGl0b3IvY29tbW9uL2NvcmUvdWludC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvZWRpdG9yL2NvbW1vbi92aWV3TW9kZWwvcHJlZml4U3VtQ29tcHV0ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2VkaXRvci9jb21tb24vbW9kZWwvbWlycm9yVGV4dE1vZGVsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9lZGl0b3IvY29tbW9uL2NvcmUvY2hhcmFjdGVyQ2xhc3NpZmllci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvZWRpdG9yL2NvbW1vbi9tb2Rlcy9saW5rQ29tcHV0ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2VkaXRvci9jb21tb24vbW9kZXMvc3VwcG9ydHMvaW5wbGFjZVJlcGxhY2VTdXBwb3J0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9lZGl0b3IvY29tbW9uL21vZGVsL3dvcmRIZWxwZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2Jhc2UvY29tbW9uL2Z1bmN0aW9uYWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2Jhc2UvY29tbW9uL2xpZmVjeWNsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvYmFzZS9jb21tb24vZXJyb3JzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9iYXNlL2NvbW1vbi9saW5rZWRMaXN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9iYXNlL2NvbW1vbi9ldmVudC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvYmFzZS9jb21tb24va2V5Q29kZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2VkaXRvci9jb21tb24vY29yZS9zZWxlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2Jhc2UvY29tbW9uL2NhbmNlbGxhdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvZWRpdG9yL2NvbW1vbi9zdGFuZGFsb25lL3N0YW5kYWxvbmVCYXNlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9lZGl0b3IvY29tbW9uL2NvcmUvdG9rZW4uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2VkaXRvci9jb21tb24vc2VydmljZXMvZWRpdG9yU2ltcGxlV29ya2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9iYXNlL2NvbW1vbi9hc3luYy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvYmFzZS9jb21tb24vd29ya2VyL3NpbXBsZVdvcmtlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvZWRpdG9yL2VkaXRvci53b3JrZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2xhbmd1YWdlL2pzb24vX2RlcHMvdnNjb2RlLWxhbmd1YWdlc2VydmVyLXR5cGVzL21haW4uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2xhbmd1YWdlL2pzb24vX2RlcHMvanNvbmMtcGFyc2VyL2ltcGwvc2Nhbm5lci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvbGFuZ3VhZ2UvanNvbi9fZGVwcy9qc29uYy1wYXJzZXIvaW1wbC9mb3JtYXQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2xhbmd1YWdlL2pzb24vX2RlcHMvanNvbmMtcGFyc2VyL2ltcGwvcGFyc2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9sYW5ndWFnZS9qc29uL19kZXBzL2pzb25jLXBhcnNlci9tYWluLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9sYW5ndWFnZS9qc29uL19kZXBzL3ZzY29kZS1qc29uLWxhbmd1YWdlc2VydmljZS91dGlscy9vYmplY3RzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9sYW5ndWFnZS9qc29uL2ZpbGxlcnMvdnNjb2RlLW5scy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvbGFuZ3VhZ2UvanNvbi9fZGVwcy92c2NvZGUtanNvbi1sYW5ndWFnZXNlcnZpY2UvcGFyc2VyL2pzb25QYXJzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2xhbmd1YWdlL2pzb24vX2RlcHMvdnNjb2RlLWpzb24tbGFuZ3VhZ2VzZXJ2aWNlL3V0aWxzL3N0cmluZ3MuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2xhbmd1YWdlL2pzb24vX2RlcHMvdnNjb2RlLWpzb24tbGFuZ3VhZ2VzZXJ2aWNlL3NlcnZpY2VzL2pzb25Db21wbGV0aW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9sYW5ndWFnZS9qc29uL19kZXBzL3ZzY29kZS1qc29uLWxhbmd1YWdlc2VydmljZS91dGlscy9qc29uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9sYW5ndWFnZS9qc29uL19kZXBzL3ZzY29kZS1qc29uLWxhbmd1YWdlc2VydmljZS9zZXJ2aWNlcy9qc29uSG92ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2xhbmd1YWdlL2pzb24vX2RlcHMvdnNjb2RlLWpzb24tbGFuZ3VhZ2VzZXJ2aWNlL3NlcnZpY2VzL2pzb25WYWxpZGF0aW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9sYW5ndWFnZS9qc29uL19kZXBzL3ZzY29kZS1qc29uLWxhbmd1YWdlc2VydmljZS91dGlscy9jb2xvcnMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2xhbmd1YWdlL2pzb24vX2RlcHMvdnNjb2RlLWpzb24tbGFuZ3VhZ2VzZXJ2aWNlL3NlcnZpY2VzL2pzb25Eb2N1bWVudFN5bWJvbHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2xhbmd1YWdlL2pzb24vX2RlcHMvdnNjb2RlLWpzb24tbGFuZ3VhZ2VzZXJ2aWNlL3NlcnZpY2VzL2NvbmZpZ3VyYXRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2xhbmd1YWdlL2pzb24vX2RlcHMvdnNjb2RlLWpzb24tbGFuZ3VhZ2VzZXJ2aWNlL3NlcnZpY2VzL2pzb25TY2hlbWFTZXJ2aWNlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9sYW5ndWFnZS9qc29uL19kZXBzL3ZzY29kZS1qc29uLWxhbmd1YWdlc2VydmljZS9qc29uTGFuZ3VhZ2VTZXJ2aWNlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9sYW5ndWFnZS9qc29uL2pzb25Xb3JrZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2xhbmd1YWdlL2pzb24vanNvbi53b3JrZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2VkaXRvci9jb21tb24vc2VydmljZXMgc3luYyJdLCJuYW1lcyI6WyJ0aGlzIiwiY2h1bmtJZHMiLCJtb3JlTW9kdWxlcyIsIm1vZHVsZUlkIiwibW9kdWxlcyIsImxlbmd0aCIsImluc3RhbGxlZENodW5rcyIsInBvcCIsImluc3RhbGxlZE1vZHVsZXMiLCIwIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIl9fd2luanNfZXhwb3J0cyIsIl9tb2R1bGVzIiwiX3dpbmpzIiwiZGVwcyIsImZhY3RvcnkiLCJleHBvcnRzUGFzc2VkSW4iLCJkZXBzVmFsdWVzIiwibWFwIiwiZGVwIiwicmVzdWx0IiwiYXBwbHkiLCJ3aW5kb3ciLCJzZWxmIiwiZ2xvYmFsIiwiX0dsb2JhbCIsImFjdHVhbFNldEltbWVkaWF0ZSIsImhhc1dpblJUIiwiV2luZG93cyIsIm1hcmtTdXBwb3J0ZWRGb3JQcm9jZXNzaW5nIiwiZnVuYyIsInN1cHBvcnRlZEZvclByb2Nlc3NpbmciLCJfc2V0SW1tZWRpYXRlIiwiY2FsbGJhY2siLCJzZXRJbW1lZGlhdGUiLCJwcm9jZXNzIiwibmV4dFRpY2siLCJzZXRUaW1lb3V0IiwibXNXcml0ZVByb2ZpbGVyTWFyayIsIl9XaW5KUyIsIl9CYXNlQ29yZVV0aWxzIiwiX1dyaXRlUHJvZmlsZXJNYXJrIiwiaW5pdGlhbGl6ZVByb3BlcnRpZXMiLCJ0YXJnZXQiLCJtZW1iZXJzIiwicHJlZml4IiwicHJvcGVydGllcyIsImxlbiIsImtleXMiLCJpc0FycmF5IiwiQXJyYXkiLCJjaGFyQ29kZUF0IiwibWVtYmVyIiwidW5kZWZpbmVkIiwic2V0IiwiZm9yRWFjaCIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwic2V0TmFtZSIsImRlZmluZVByb3BlcnRpZXMiLCJfcm9vdE5hbWVzcGFjZSIsImNyZWF0ZU5hbWVzcGFjZSIsInBhcmVudE5hbWVzcGFjZSIsImN1cnJlbnROYW1lc3BhY2UiLCJuYW1lc3BhY2VGcmFnbWVudHMiLCJzcGxpdCIsInNwbGljZSIsIm5hbWVzcGFjZU5hbWUiLCJkZWZpbmVXaXRoUGFyZW50IiwiTmFtZXNwYWNlIiwiTGF6eVN0YXRlcyIsInVuaW5pdGlhbGl6ZWQiLCJ3b3JraW5nIiwiaW5pdGlhbGl6ZWQiLCJkZWZpbmUiLCJfbGF6eSIsImYiLCJzdGF0ZSIsIl9tb2R1bGVEZWZpbmUiLCJwdWJsaWNOUyIsInB1c2giLCJjb25zdHJ1Y3RvciIsImluc3RhbmNlTWVtYmVycyIsInN0YXRpY01lbWJlcnMiLCJkZXJpdmUiLCJiYXNlQ2xhc3MiLCJiYXNlUHJvdG90eXBlIiwibWl4IiwiYXJndW1lbnRzIiwiQ2xhc3MiLCJfQmFzZSIsIkVycm9yRnJvbU5hbWUiLCJFcnJvciIsIm1lc3NhZ2UiLCJjcmVhdGVFdmVudFByb3BlcnR5IiwiZXZlbnRQcm9wU3RhdGVOYW1lIiwidXNlckhhbmRsZXIiLCJoYW5kbGVyIiwid3JhcHBlciIsImV2dCIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiRXZlbnRNaXhpbkV2ZW50IiwidHlwZSIsImRldGFpbCIsInRpbWVTdGFtcCIsIkRhdGUiLCJub3ciLCJidWJibGVzIiwiY2FuY2VsYWJsZSIsImN1cnJlbnRUYXJnZXQiLCJkZWZhdWx0UHJldmVudGVkIiwiX3ByZXZlbnREZWZhdWx0Q2FsbGVkIiwidHJ1c3RlZCIsImV2ZW50UGhhc2UiLCJwcmV2ZW50RGVmYXVsdCIsInN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiIsIl9zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb25DYWxsZWQiLCJzdG9wUHJvcGFnYXRpb24iLCJldmVudE1peGluIiwiX2xpc3RlbmVycyIsImxpc3RlbmVyIiwidXNlQ2FwdHVyZSIsImV2ZW50TGlzdGVuZXJzIiwiZGlzcGF0Y2hFdmVudCIsImRldGFpbHMiLCJsaXN0ZW5lcnMiLCJldmVudFZhbHVlIiwic2xpY2UiLCJfY3JlYXRlRXZlbnRQcm9wZXJ0eSIsImNyZWF0ZUV2ZW50UHJvcGVydGllcyIsInByb3BzIiwibm9wIiwidiIsIl90cmFjZUFzeW5jT3BlcmF0aW9uU3RhcnRpbmciLCJEZWJ1ZyIsIm1zVHJhY2VBc3luY09wZXJhdGlvblN0YXJ0aW5nIiwiX3RyYWNlQXN5bmNPcGVyYXRpb25Db21wbGV0ZWQiLCJtc1RyYWNlQXN5bmNPcGVyYXRpb25Db21wbGV0ZWQiLCJfdHJhY2VBc3luY0NhbGxiYWNrU3RhcnRpbmciLCJtc1RyYWNlQXN5bmNDYWxsYmFja1N0YXJ0aW5nIiwiX3RyYWNlQXN5bmNDYWxsYmFja0NvbXBsZXRlZCIsIm1zVHJhY2VBc3luY0NhbGxiYWNrQ29tcGxldGVkIiwiX0Vycm9yRnJvbU5hbWUiLCJfRXZlbnRzIiwiX1RyYWNlIiwic2V0Tm9uVXNlckNvZGVFeGNlcHRpb25zIiwicHJvbWlzZUV2ZW50TGlzdGVuZXJzIiwiZXJyb3JFVCIsImNhbmNlbGVkTmFtZSIsInRhZ1dpdGhTdGFjayIsInRhZyIsInByb21pc2UiLCJ0aGVuUHJvbWlzZSIsImVycm9yUHJvbWlzZSIsImV4Y2VwdGlvblByb21pc2UiLCJjb21wbGV0ZVByb21pc2UiLCJhbGwiLCJzdGF0ZV9jcmVhdGVkIiwic3RhdGVfd29ya2luZyIsInN0YXRlX3dhaXRpbmciLCJzdGF0ZV93YWl0aW5nX2NhbmNlbGVkIiwic3RhdGVfY2FuY2VsZWQiLCJzdGF0ZV9jYW5jZWxpbmciLCJzdGF0ZV9zdWNjZXNzX25vdGlmeSIsInN0YXRlX3N1Y2Nlc3MiLCJzdGF0ZV9lcnJvcl9ub3RpZnkiLCJzdGF0ZV9lcnJvciIsImVycm9yX251bWJlciIsIl8iLCJlbnRlciIsIl9zZXRTdGF0ZSIsImNhbmNlbCIsImRvbmUiLCJ0aGVuIiwiX2NvbXBsZXRlZCIsIl9lcnJvciIsIl9ub3RpZnkiLCJfcHJvZ3Jlc3MiLCJfc2V0Q29tcGxldGVWYWx1ZSIsIl9zZXRFcnJvclZhbHVlIiwiY29tcGxldGVkIiwiZXJyb3IiLCJwcm9ncmVzcyIsInNldENvbXBsZXRlVmFsdWUiLCJzZXRFcnJvclZhbHVlIiwid2FpdGVkVXBvbiIsIl92YWx1ZSIsIlRoZW5Qcm9taXNlIiwiX3N0YXRlIiwicHVzaExpc3RlbmVyIiwiX2Vycm9ySWQiLCJfY2hhaW5lZEVycm9yIiwiY2FsbG9uZXJyb3IiLCJkZXRhaWxzRm9ySGFuZGxlZEVycm9yIiwiaGFuZGxlc09uRXJyb3IiLCJfY2FuY2VsQWN0aW9uIiwiQ29tcGxldGVQcm9taXNlIiwicXVldWUiLCJzaGlmdCIsIm5vdGlmeVN1Y2Nlc3MiLCJfY2xlYW51cEFjdGlvbiIsIkVycm9yUHJvbWlzZSIsIm5vdGlmeUVycm9yIiwiUHJvbWlzZVN0YXRlTWFjaGluZSIsIl9uZXh0U3RhdGUiLCJfcnVuIiwib25Db21wbGV0ZSIsIm9uRXJyb3IiLCJvblByb2dyZXNzIiwiY29udGV4dCIsImRldGFpbHNGb3JDaGFpbmVkRXJyb3IiLCJkZXRhaWxzRm9yRXJyb3IiLCJfc2V0Q2hhaW5lZEVycm9yVmFsdWUiLCJfc2V0RXhjZXB0aW9uVmFsdWUiLCJkZXRhaWxzRm9yRXhjZXB0aW9uIiwidGFyZ2V0U3RhdGUiLCJjcmVhdGVFcnJvckRldGFpbHMiLCJleGNlcHRpb24iLCJpZCIsInBhcmVudCIsImVycm9yVmFsdWUiLCJfaXNFeGNlcHRpb24iLCJlcnJvcklkIiwic2V0RXJyb3JJbmZvIiwiZXhjZXB0aW9uVmFsdWUiLCJlIiwiYXN5bmNPcElEIiwib25lcnJvckRldGFpbHMiLCJNU19BU1lOQ19PUF9TVEFUVVNfU1VDQ0VTUyIsImV4IiwiZXJyb3JJRCIsIk1TX0FTWU5DX09QX1NUQVRVU19DQU5DRUxFRCIsIk1TX0FTWU5DX09QX1NUQVRVU19FUlJPUiIsImFzeW5jQ2FsbGJhY2tTdGFydGVkIiwib25lcnJvckRldGFpbHNHZW5lcmF0b3IiLCJpc0V4Y2VwdGlvbiIsInN0YXRpY0NhbmNlbGVkUHJvbWlzZSIsImNyZWF0b3IiLCJfc3RhY2siLCJQcm9taXNlIiwiX2dldFN0YWNrIiwiX2NyZWF0b3IiLCJ1bnVzZWQiLCJfZG9uZUhhbmRsZXIiLCJFeGNlcHRpb25Qcm9taXNlIiwibmV3VmFsdWUiLCJpbml0Iiwib25jYW5jZWwiLCJfb25jYW5jZWwiLCJzdGFjayIsImV2ZW50VHlwZSIsImNhcHR1cmUiLCJhbnkiLCJ2YWx1ZXMiLCJjb21wbGV0ZSIsImNhbmNlbGVkIiwiYXMiLCJpcyIsImpvaW4iLCJlcnJvcnMiLCJyZXN1bHRzIiwidW5kZWZpbmVkcyIsInBlbmRpbmciLCJhcmdEb25lIiwiZXJyb3JDb3VudCIsImNhbmNlbGVkQ291bnQiLCJLZXkiLCJEb25lIiwidGhlbkVhY2giLCJ0aW1lb3V0IiwidGltZSIsInRpbWVvdXRNUyIsInRvIiwiY2xlYXJUaW1lb3V0IiwiY2FuY2VsVGltZW91dCIsInRpbWVvdXRXaXRoUHJvbWlzZSIsIndyYXAiLCJ3cmFwRXJyb3IiLCJfdmVyeUV4cGVuc2l2ZVRhZ1dpdGhTdGFjayIsIl92ZXJ5RXhwZW5zaXZlVGFnV2l0aFN0YWNrX3RhZyIsImRlYnVnZ2VyRW5hYmxlZCIsIl9jYW5jZWxCbG9ja2VyIiwiaW5wdXQiLCJvdXRwdXQiLCJfU3RhdGVNYWNoaW5lIiwiVFByb21pc2UiLCJQUHJvbWlzZSIsIlBsYXRmb3JtIiwiX2lzV2luZG93cyIsIl9pc01hY2ludG9zaCIsIl9pc0xpbnV4IiwiX2lzTmF0aXZlIiwiX2lzV2ViIiwicGxhdGZvcm0iLCJyYXdObHNDb25maWciLCJlbnYiLCJubHNDb25maWciLCJKU09OIiwicGFyc2UiLCJyZXNvbHZlZCIsImF2YWlsYWJsZUxhbmd1YWdlcyIsImxvY2FsZSIsIl90cmFuc2xhdGlvbnNDb25maWdGaWxlIiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwiaW5kZXhPZiIsImxhbmd1YWdlIiwiV2ViIiwiTWFjIiwiTGludXgiLCJpc1dpbmRvd3MiLCJpc1dlYiIsImdsb2JhbHMiLCJfZW5jb2RlIiwiY2giLCJ0b1N0cmluZyIsInRvVXBwZXJDYXNlIiwiZW5jb2RlVVJJQ29tcG9uZW50MiIsInN0ciIsImVuY29kZVVSSUNvbXBvbmVudCIsInJlcGxhY2UiLCJlbmNvZGVOb29wIiwiVVJJIiwiX3NjaGVtZSIsIl9lbXB0eSIsIl9hdXRob3JpdHkiLCJfcGF0aCIsIl9xdWVyeSIsIl9mcmFnbWVudCIsIl9mb3JtYXR0ZWQiLCJfZnNQYXRoIiwiaXNVcmkiLCJ0aGluZyIsImF1dGhvcml0eSIsImZyYWdtZW50IiwicGF0aCIsInF1ZXJ5Iiwic2NoZW1lIiwiX2RyaXZlTGV0dGVyUGF0aCIsInRlc3QiLCJ0b0xvd2VyQ2FzZSIsInN1YnN0ciIsIndpdGgiLCJjaGFuZ2UiLCJyZXQiLCJfdmFsaWRhdGUiLCJkYXRhIiwiX3BhcnNlQ29tcG9uZW50cyIsImRlY29kZVVSSUNvbXBvbmVudCIsImZpbGUiLCJfc2xhc2giLCJpZHgiLCJzdWJzdHJpbmciLCJtYXRjaCIsIl9yZWdleHAiLCJleGVjIiwiZnJvbSIsImNvbXBvbmVudHMiLCJfc2NoZW1lUGF0dGVybiIsIl9zaW5nbGVTbGFzaFN0YXJ0IiwiX2RvdWJsZVNsYXNoU3RhcnQiLCJza2lwRW5jb2RpbmciLCJfYXNGb3JtYXR0ZWQiLCJ1cmkiLCJlbmNvZGVyIiwicGFydHMiLCJfdXBwZXJDYXNlRHJpdmUiLCJsYXN0SWR4IiwidG9KU09OIiwicmVzIiwiZnNQYXRoIiwiZXh0ZXJuYWwiLCIkbWlkIiwicmV2aXZlIiwiX193ZWJwYWNrX2V4cG9ydHNfXyIsImNhY2hlZFNldFRpbWVvdXQiLCJjYWNoZWRDbGVhclRpbWVvdXQiLCJkZWZhdWx0U2V0VGltb3V0IiwiZGVmYXVsdENsZWFyVGltZW91dCIsInJ1blRpbWVvdXQiLCJmdW4iLCJjdXJyZW50UXVldWUiLCJkcmFpbmluZyIsInF1ZXVlSW5kZXgiLCJjbGVhblVwTmV4dFRpY2siLCJjb25jYXQiLCJkcmFpblF1ZXVlIiwicnVuIiwibWFya2VyIiwicnVuQ2xlYXJUaW1lb3V0IiwiSXRlbSIsImFycmF5Iiwibm9vcCIsImFyZ3MiLCJ0aXRsZSIsImJyb3dzZXIiLCJhcmd2IiwidmVyc2lvbiIsInZlcnNpb25zIiwib24iLCJhZGRMaXN0ZW5lciIsIm9uY2UiLCJvZmYiLCJyZW1vdmVMaXN0ZW5lciIsInJlbW92ZUFsbExpc3RlbmVycyIsImVtaXQiLCJwcmVwZW5kTGlzdGVuZXIiLCJwcmVwZW5kT25jZUxpc3RlbmVyIiwiYmluZGluZyIsImN3ZCIsImNoZGlyIiwiZGlyIiwidW1hc2siLCJnIiwiRnVuY3Rpb24iLCJldmFsIiwiZXh0ZW5kU3RhdGljcyIsIl9fZXh0ZW5kcyIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiYiIsIl9fIiwiX2RyaXZlTGV0dGVyIiwidXJpX1VSSSIsInNjaGVtZU9yRGF0YSIsIl92YWxpZGF0ZVVyaSIsIl9tYWtlRnNQYXRoIiwiX1VSSSIsImNvbW1vbl91cmkiLCJfc3VwZXIiLCJfdGhpcyIsInVzZXJpbmZvIiwiUG9zaXRpb24iLCJsaW5lTnVtYmVyIiwiY29sdW1uIiwiZXF1YWxzIiwib3RoZXIiLCJhIiwiaXNCZWZvcmUiLCJpc0JlZm9yZU9yRXF1YWwiLCJjb21wYXJlIiwiYUxpbmVOdW1iZXIiLCJiTGluZU51bWJlciIsImNsb25lIiwibGlmdCIsInBvcyIsImlzSVBvc2l0aW9uIiwib2JqIiwicmFuZ2VfUmFuZ2UiLCJSYW5nZSIsInN0YXJ0TGluZU51bWJlciIsInN0YXJ0Q29sdW1uIiwiZW5kTGluZU51bWJlciIsImVuZENvbHVtbiIsImlzRW1wdHkiLCJyYW5nZSIsImNvbnRhaW5zUG9zaXRpb24iLCJwb3NpdGlvbiIsImNvbnRhaW5zUmFuZ2UiLCJvdGhlclJhbmdlIiwicGx1c1JhbmdlIiwiTWF0aCIsIm1pbiIsIm1heCIsImludGVyc2VjdFJhbmdlcyIsInJlc3VsdFN0YXJ0TGluZU51bWJlciIsInJlc3VsdFN0YXJ0Q29sdW1uIiwicmVzdWx0RW5kTGluZU51bWJlciIsInJlc3VsdEVuZENvbHVtbiIsIm90aGVyU3RhcnRMaW5lTnVtYmVyIiwib3RoZXJTdGFydENvbHVtbiIsIm90aGVyRW5kTGluZU51bWJlciIsIm90aGVyRW5kQ29sdW1uIiwiZXF1YWxzUmFuZ2UiLCJnZXRFbmRQb3NpdGlvbiIsImdldFN0YXJ0UG9zaXRpb24iLCJzZXRFbmRQb3NpdGlvbiIsInNldFN0YXJ0UG9zaXRpb24iLCJjb2xsYXBzZVRvU3RhcnQiLCJmcm9tUG9zaXRpb25zIiwic3RhcnQiLCJlbmQiLCJpc0lSYW5nZSIsImFyZUludGVyc2VjdGluZ09yVG91Y2hpbmciLCJjb21wYXJlUmFuZ2VzVXNpbmdTdGFydHMiLCJhU3RhcnRMaW5lTnVtYmVyIiwiYlN0YXJ0TGluZU51bWJlciIsImFTdGFydENvbHVtbiIsImJTdGFydENvbHVtbiIsImFFbmRMaW5lTnVtYmVyIiwiYkVuZExpbmVOdW1iZXIiLCJjb21wYXJlUmFuZ2VzVXNpbmdFbmRzIiwic3BhbnNNdWx0aXBsZUxpbmVzIiwiRGlmZkNoYW5nZSIsIm9yaWdpbmFsU3RhcnQiLCJvcmlnaW5hbExlbmd0aCIsIm1vZGlmaWVkU3RhcnQiLCJtb2RpZmllZExlbmd0aCIsImdldE9yaWdpbmFsRW5kIiwiZ2V0TW9kaWZpZWRFbmQiLCJjcmVhdGVTdHJpbmdTZXF1ZW5jZSIsImdldExlbmd0aCIsImdldEVsZW1lbnRIYXNoIiwic3RyaW5nRGlmZiIsIm9yaWdpbmFsIiwibW9kaWZpZWQiLCJwcmV0dHkiLCJkaWZmX0xjc0RpZmYiLCJDb21wdXRlRGlmZiIsIkFzc2VydCIsImNvbmRpdGlvbiIsIk15QXJyYXkiLCJDb3B5Iiwic291cmNlQXJyYXkiLCJzb3VyY2VJbmRleCIsImRlc3RpbmF0aW9uQXJyYXkiLCJkZXN0aW5hdGlvbkluZGV4IiwiZGlmZl9EaWZmQ2hhbmdlSGVscGVyIiwiRGlmZkNoYW5nZUhlbHBlciIsIm1fY2hhbmdlcyIsIm1fb3JpZ2luYWxTdGFydCIsIk51bWJlciIsIk1BWF9WQUxVRSIsIm1fbW9kaWZpZWRTdGFydCIsIm1fb3JpZ2luYWxDb3VudCIsIm1fbW9kaWZpZWRDb3VudCIsIk1hcmtOZXh0Q2hhbmdlIiwiQWRkT3JpZ2luYWxFbGVtZW50Iiwib3JpZ2luYWxJbmRleCIsIm1vZGlmaWVkSW5kZXgiLCJBZGRNb2RpZmllZEVsZW1lbnQiLCJnZXRDaGFuZ2VzIiwiZ2V0UmV2ZXJzZUNoYW5nZXMiLCJyZXZlcnNlIiwiZGlmZl9oYXNPd25Qcm9wZXJ0eSIsIkxjc0RpZmYiLCJvcmlnaW5hbFNlcXVlbmNlIiwibmV3U2VxdWVuY2UiLCJjb250aW51ZVByb2Nlc3NpbmdQcmVkaWNhdGUiLCJPcmlnaW5hbFNlcXVlbmNlIiwiTW9kaWZpZWRTZXF1ZW5jZSIsIkNvbnRpbnVlUHJvY2Vzc2luZ1ByZWRpY2F0ZSIsIm1fb3JpZ2luYWxJZHMiLCJtX21vZGlmaWVkSWRzIiwibV9mb3J3YXJkSGlzdG9yeSIsIm1fcmV2ZXJzZUhpc3RvcnkiLCJDb21wdXRlVW5pcXVlSWRlbnRpZmllcnMiLCJvcmlnaW5hbFNlcXVlbmNlTGVuZ3RoIiwibW9kaWZpZWRTZXF1ZW5jZUxlbmd0aCIsImhhc2hUYWJsZSIsImN1cnJlbnRVbmlxdWVJZCIsIm9yaWdpbmFsRWxlbWVudEhhc2giLCJtb2RpZmllZEVsZW1lbnRIYXNoIiwiRWxlbWVudHNBcmVFcXVhbCIsIm5ld0luZGV4IiwiT3JpZ2luYWxFbGVtZW50c0FyZUVxdWFsIiwiaW5kZXgxIiwiaW5kZXgyIiwiTW9kaWZpZWRFbGVtZW50c0FyZUVxdWFsIiwiX0NvbXB1dGVEaWZmIiwib3JpZ2luYWxFbmQiLCJtb2RpZmllZEVuZCIsImNoYW5nZXMiLCJDb21wdXRlRGlmZlJlY3Vyc2l2ZSIsIlNoaWZ0Q2hhbmdlcyIsInF1aXRFYXJseUFyciIsIm1pZE9yaWdpbmFsQXJyIiwibWlkTW9kaWZpZWRBcnIiLCJDb21wdXRlUmVjdXJzaW9uUG9pbnQiLCJtaWRPcmlnaW5hbCIsIm1pZE1vZGlmaWVkIiwibGVmdENoYW5nZXMiLCJyaWdodENoYW5nZXMiLCJDb25jYXRlbmF0ZUNoYW5nZXMiLCJXQUxLVFJBQ0UiLCJkaWFnb25hbEZvcndhcmRCYXNlIiwiZGlhZ29uYWxGb3J3YXJkU3RhcnQiLCJkaWFnb25hbEZvcndhcmRFbmQiLCJkaWFnb25hbEZvcndhcmRPZmZzZXQiLCJkaWFnb25hbFJldmVyc2VCYXNlIiwiZGlhZ29uYWxSZXZlcnNlU3RhcnQiLCJkaWFnb25hbFJldmVyc2VFbmQiLCJkaWFnb25hbFJldmVyc2VPZmZzZXQiLCJmb3J3YXJkUG9pbnRzIiwicmV2ZXJzZVBvaW50cyIsImRlbHRhSXNFdmVuIiwiZm9yd2FyZENoYW5nZXMiLCJkaWFnb25hbCIsInJldmVyc2VDaGFuZ2VzIiwiY2hhbmdlSGVscGVyIiwiZGlhZ29uYWxNaW4iLCJkaWFnb25hbE1heCIsImRpYWdvbmFsUmVsYXRpdmUiLCJsYXN0T3JpZ2luYWxJbmRleCIsIk1JTl9WQUxVRSIsImhpc3RvcnlJbmRleCIsIm9yaWdpbmFsU3RhcnRQb2ludCIsIm1vZGlmaWVkU3RhcnRQb2ludCIsImxhc3RGb3J3YXJkQ2hhbmdlIiwibnVtRGlmZmVyZW5jZXMiLCJ0ZW1wT3JpZ2luYWxJbmRleCIsIm1heERpZmZlcmVuY2VzIiwibnVtRGlhZ29uYWxzIiwiZnVydGhlc3RPcmlnaW5hbEluZGV4IiwiZnVydGhlc3RNb2RpZmllZEluZGV4IiwiQ2xpcERpYWdvbmFsQm91bmQiLCJhYnMiLCJtYXRjaExlbmd0aE9mTG9uZ2VzdCIsInRlbXAiLCJtZXJnZWREaWZmcyIsIm9yaWdpbmFsU3RvcCIsIm1vZGlmaWVkU3RvcCIsImNoZWNrT3JpZ2luYWwiLCJjaGVja01vZGlmaWVkIiwibWVyZ2VkQ2hhbmdlQXJyIiwiQ2hhbmdlc092ZXJsYXAiLCJwcmV2Q2hhbmdlIiwiYmVzdERlbHRhIiwiYmVzdFNjb3JlIiwiX2JvdW5kYXJ5U2NvcmUiLCJkZWx0YSIsInNjb3JlIiwiX09yaWdpbmFsSXNCb3VuZGFyeSIsImluZGV4IiwiX09yaWdpbmFsUmVnaW9uSXNCb3VuZGFyeSIsIl9Nb2RpZmllZElzQm91bmRhcnkiLCJfTW9kaWZpZWRSZWdpb25Jc0JvdW5kYXJ5IiwibGVmdCIsInJpZ2h0IiwiZGlhZ29uYWxCYXNlSW5kZXgiLCJkaWZmRXZlbiIsIm1hcF9leHRlbmRzIiwiVG91Y2giLCJTdHJpbmdJdGVyYXRvciIsIl9wb3MiLCJyZXNldCIsIm5leHQiLCJoYXNOZXh0IiwiY21wIiwiUGF0aEl0ZXJhdG9yIiwiX2Zyb20iLCJfdG8iLCJqdXN0U2VwcyIsIl9md2QiLCJfYndkIiwiYVBvcyIsImFMZW4iLCJ0aGlzUG9zIiwiVGVybmFyeVNlYXJjaFRyZWVOb2RlIiwibWlkIiwiZWxlbWVudCIsIlRlcm5hcnlTZWFyY2hUcmVlIiwic2VnbWVudHMiLCJfaXRlciIsImZvclBhdGhzIiwiZm9yU3RyaW5ncyIsImNsZWFyIiwiX3Jvb3QiLCJub2RlIiwiaXRlciIsInZhbCIsIm9sZEVsZW1lbnQiLCJkZWxldGUiLCJfYSIsInBhcmVudF8xIiwiZmluZFN1YnN0ciIsImNhbmRpZGF0ZSIsImZpbmRTdXBlcnN0ciIsIl9mb3JFYWNoIiwiUmVzb3VyY2VNYXAiLCJNYXAiLCJpZ25vcmVDYXNlIiwicmVzb3VyY2UiLCJ0b0tleSIsImhhcyIsInNpemUiLCJjbGIiLCJmb3JFYWNoYWJsZSIsIkxSVUNhY2hlIiwibGltaXQiLCJyYXRpbyIsIl9saW1pdCIsIl9yYXRpbyIsImNoZWNrVHJpbSIsIkFzTmV3IiwicGVlayIsIk5vbmUiLCJ0cmltT2xkIiwicm91bmQiLCJMaW5rZWRNYXAiLCJfbWFwIiwiX2hlYWQiLCJfdGFpbCIsIl9zaXplIiwidG91Y2giLCJpdGVtIiwicHJldmlvdXMiLCJhZGRJdGVtTGFzdCIsIkFzT2xkIiwiYWRkSXRlbUZpcnN0IiwicmVtb3ZlIiwicmVtb3ZlSXRlbSIsImNhbGxiYWNrZm4iLCJ0aGlzQXJnIiwiY3VycmVudCIsIm5ld1NpemUiLCJjdXJyZW50U2l6ZSIsImZyb21KU09OIiwiX2kiLCJkYXRhXzEiLCJTdHJpbmciLCJmcm9tQ2hhckNvZGUiLCJkaWZmQ29tcHV0ZXJfZXh0ZW5kcyIsIk1BWElNVU1fUlVOX1RJTUUiLCJNSU5JTVVNX01BVENISU5HX0NIQVJBQ1RFUl9MRU5HVEgiLCJjb21wdXRlRGlmZiIsIm1vZGlmaWVkU2VxdWVuY2UiLCJNYXJrZXJTZXF1ZW5jZSIsImJ1ZmZlciIsInN0YXJ0TWFya2VycyIsImVuZE1hcmtlcnMiLCJvZmZzZXQiLCJnZXRTdGFydExpbmVOdW1iZXIiLCJnZXRTdGFydENvbHVtbiIsImdldEVuZExpbmVOdW1iZXIiLCJnZXRFbmRDb2x1bW4iLCJkaWZmQ29tcHV0ZXJfTGluZU1hcmtlclNlcXVlbmNlIiwiTGluZU1hcmtlclNlcXVlbmNlIiwibGluZXMiLCJsZW5ndGhfMSIsIl9nZXRGaXJzdE5vbkJsYW5rQ29sdW1uIiwiX2dldExhc3ROb25CbGFua0NvbHVtbiIsInR4dCIsImRlZmF1bHRWYWx1ZSIsImNoQ29kZSIsImZpcnN0Tm9uV2hpdGVzcGFjZUluZGV4Iiwic3RhcnRJbmRleCIsImxhc3ROb25XaGl0ZXNwYWNlSW5kZXgiLCJnZXRDaGFyU2VxdWVuY2UiLCJlbmRJbmRleCIsInN0YXJ0TWFya2VyIiwiZW5kTWFya2VyIiwiQ2hhckNoYW5nZSIsIm9yaWdpbmFsU3RhcnRMaW5lTnVtYmVyIiwib3JpZ2luYWxTdGFydENvbHVtbiIsIm9yaWdpbmFsRW5kTGluZU51bWJlciIsIm9yaWdpbmFsRW5kQ29sdW1uIiwibW9kaWZpZWRTdGFydExpbmVOdW1iZXIiLCJtb2RpZmllZFN0YXJ0Q29sdW1uIiwibW9kaWZpZWRFbmRMaW5lTnVtYmVyIiwibW9kaWZpZWRFbmRDb2x1bW4iLCJjcmVhdGVGcm9tRGlmZkNoYW5nZSIsImRpZmZDaGFuZ2UiLCJvcmlnaW5hbENoYXJTZXF1ZW5jZSIsIm1vZGlmaWVkQ2hhclNlcXVlbmNlIiwiTGluZUNoYW5nZSIsImNoYXJDaGFuZ2VzIiwiY3JlYXRlRnJvbURpZmZSZXN1bHQiLCJvcmlnaW5hbExpbmVTZXF1ZW5jZSIsIm1vZGlmaWVkTGluZVNlcXVlbmNlIiwic2hvdWxkUG9zdFByb2Nlc3NDaGFyQ2hhbmdlcyIsInJhd0NoYW5nZXMiLCJjdXJyQ2hhbmdlIiwib3JpZ2luYWxNYXRjaGluZ0xlbmd0aCIsIm1vZGlmaWVkTWF0Y2hpbmdMZW5ndGgiLCJwb3N0UHJvY2Vzc0NoYXJDaGFuZ2VzIiwibGVuZ3RoXzIiLCJEaWZmQ29tcHV0ZXIiLCJvcmlnaW5hbExpbmVzIiwibW9kaWZpZWRMaW5lcyIsIm9wdHMiLCJzaG91bGRJZ25vcmVUcmltV2hpdGVzcGFjZSIsInNob3VsZE1ha2VQcmV0dHlEaWZmIiwibWF4aW11bVJ1blRpbWVNcyIsImNvbXB1dGF0aW9uU3RhcnRUaW1lIiwiZ2V0VGltZSIsIl9jb250aW51ZVByb2Nlc3NpbmdQcmVkaWNhdGUiLCJsaW5lQ2hhbmdlcyIsImxlbmd0aF8zIiwib3JpZ2luYWxMaW5lSW5kZXgiLCJtb2RpZmllZExpbmVJbmRleCIsIm5leHRDaGFuZ2UiLCJvcmlnaW5hbExpbmUiLCJtb2RpZmllZExpbmUiLCJfcHVzaFRyaW1XaGl0ZXNwYWNlQ2hhckNoYW5nZSIsIm9yaWdpbmFsTWF4Q29sdW1uIiwibW9kaWZpZWRNYXhDb2x1bW4iLCJvcmlnaW5hbExpbmVOdW1iZXIiLCJtb2RpZmllZExpbmVOdW1iZXIiLCJfbWVyZ2VUcmltV2hpdGVzcGFjZUNoYXJDaGFuZ2UiLCJVaW50OE1hdHJpeCIsInJvd3MiLCJjb2xzIiwiVWludDhBcnJheSIsIl9kYXRhIiwicm93IiwiY29sIiwidG9VaW50OCIsInRvVWludDMyIiwiUHJlZml4U3VtSW5kZXhPZlJlc3VsdCIsInJlbWFpbmRlciIsInByZWZpeFN1bUNvbXB1dGVyX1ByZWZpeFN1bUNvbXB1dGVyIiwiUHJlZml4U3VtQ29tcHV0ZXIiLCJwcmVmaXhTdW0iLCJVaW50MzJBcnJheSIsInByZWZpeFN1bVZhbGlkSW5kZXgiLCJJbnQzMkFycmF5IiwiZ2V0Q291bnQiLCJpbnNlcnRWYWx1ZXMiLCJpbnNlcnRJbmRleCIsIm9sZFZhbHVlcyIsIm9sZFByZWZpeFN1bSIsImluc2VydFZhbHVlc0xlbiIsInN1YmFycmF5IiwiY2hhbmdlVmFsdWUiLCJyZW1vdmVWYWx1ZXMiLCJjbnQiLCJtYXhDbnQiLCJnZXRUb3RhbFZhbHVlIiwiX2dldEFjY3VtdWxhdGVkVmFsdWUiLCJnZXRBY2N1bXVsYXRlZFZhbHVlIiwiZ2V0SW5kZXhPZiIsImFjY3VtdWxhdGVkVmFsdWUiLCJmbG9vciIsIm1pZFN0b3AiLCJtaWRTdGFydCIsImxvdyIsImhpZ2giLCJtaXJyb3JUZXh0TW9kZWxfTWlycm9yVGV4dE1vZGVsIiwiUHJlZml4U3VtQ29tcHV0ZXJXaXRoQ2FjaGUiLCJfY2FjaGVBY2N1bXVsYXRlZFZhbHVlU3RhcnQiLCJfY2FjaGUiLCJfYWN0dWFsIiwiX2J1c3RDYWNoZSIsImNhY2hlSW5kZXgiLCJ3YXJtVXBDYWNoZSIsImFjY3VtdWxhdGVkVmFsdWVTdGFydCIsImFjY3VtdWxhdGVkVmFsdWVFbmQiLCJuZXdDYWNoZSIsIk1pcnJvclRleHRNb2RlbCIsImVvbCIsInZlcnNpb25JZCIsIl91cmkiLCJfbGluZXMiLCJfZW9sIiwiX3ZlcnNpb25JZCIsImRpc3Bvc2UiLCJnZXRUZXh0Iiwib25FdmVudHMiLCJfbGluZVN0YXJ0cyIsIl9hY2NlcHREZWxldGVSYW5nZSIsIl9hY2NlcHRJbnNlcnRUZXh0IiwidGV4dCIsIl9lbnN1cmVMaW5lU3RhcnRzIiwiZW9sTGVuZ3RoIiwibGluZXNMZW5ndGgiLCJsaW5lU3RhcnRWYWx1ZXMiLCJfc2V0TGluZVRleHQiLCJsaW5lSW5kZXgiLCJpbnNlcnRUZXh0IiwiaW5zZXJ0TGluZXMiLCJuZXdMZW5ndGhzIiwiY2hhcmFjdGVyQ2xhc3NpZmllcl9DaGFyYWN0ZXJDbGFzc2lmaWVyIiwiQ2hhcmFjdGVyQ2xhc3NpZmllciIsIl9kZWZhdWx0VmFsdWUiLCJfYXNjaWlNYXAiLCJfY3JlYXRlQXNjaWlNYXAiLCJhc2NpaU1hcCIsImNoYXJDb2RlIiwibGlua0NvbXB1dGVyX1N0YXRlTWFjaGluZSIsIkNoYXJhY3RlclNldCIsImFkZCIsIlN0YXRlTWFjaGluZSIsImVkZ2VzIiwibWF4Q2hhckNvZGUiLCJtYXhTdGF0ZSIsInN0YXRlcyIsIl9iIiwiX3N0YXRlcyIsIl9tYXhDaGFyQ29kZSIsIm5leHRTdGF0ZSIsImN1cnJlbnRTdGF0ZSIsIl9zdGF0ZU1hY2hpbmUiLCJfY2xhc3NpZmllciIsIkxpbmtDb21wdXRlciIsIl9jcmVhdGVMaW5rIiwiY2xhc3NpZmllciIsImxpbmUiLCJsaW5rQmVnaW5JbmRleCIsImxpbmtFbmRJbmRleCIsImxhc3RJbmNsdWRlZENoYXJJbmRleCIsImNoYXJDb2RlQmVmb3JlTGluayIsImxhc3RDaGFyQ29kZUluTGluayIsInVybCIsImNvbXB1dGVMaW5rcyIsIm1vZGVsIiwic3RhdGVNYWNoaW5lIiwiZ2V0Q2xhc3NpZmllciIsImxpbmVDb3VudCIsImdldExpbmVDb3VudCIsImdldExpbmVDb250ZW50IiwiaiIsImxpbmtCZWdpbkNoQ29kZSIsImhhc09wZW5QYXJlbnMiLCJoYXNPcGVuU3F1YXJlQnJhY2tldCIsImhhc09wZW5DdXJseUJyYWNrZXQiLCJyZXNldFN0YXRlTWFjaGluZSIsImNoQ2xhc3MiLCJCYXNpY0lucGxhY2VSZXBsYWNlIiwiX2RlZmF1bHRWYWx1ZVNldCIsIm5hdmlnYXRlVmFsdWVTZXQiLCJyYW5nZTEiLCJ0ZXh0MSIsInJhbmdlMiIsInRleHQyIiwidXAiLCJkb05hdmlnYXRlVmFsdWVTZXQiLCJudW1iZXJSZXN1bHQiLCJudW1iZXJSZXBsYWNlIiwidGV4dFJlcGxhY2UiLCJwcmVjaXNpb24iLCJwb3ciLCJsYXN0SW5kZXhPZiIsIm4xIiwibjIiLCJwYXJzZUZsb2F0IiwiaXNOYU4iLCJ2YWx1ZVNldHNSZXBsYWNlIiwidmFsdWVTZXRzIiwidmFsdWVTZXRSZXBsYWNlIiwidmFsdWVTZXQiLCJJTlNUQU5DRSIsIlVTVUFMX1dPUkRfU0VQQVJBVE9SUyIsIkRFRkFVTFRfV09SRF9SRUdFWFAiLCJhbGxvd0luV29yZHMiLCJzb3VyY2UiLCJSZWdFeHAiLCJjcmVhdGVXb3JkUmVnRXhwIiwiZm4iLCJkaWRDYWxsIiwibGlmZWN5Y2xlX2VtcHR5IiwiZnJlZXplIiwibGlmZWN5Y2xlX2Rpc3Bvc2UiLCJmaXJzdCIsInJlc3QiLCJEaXNwb3NhYmxlIiwiX3RvRGlzcG9zZSIsIl9yZWdpc3RlciIsIm91dHN0YW5kaW5nUHJvbWlzZUVycm9ycyIsIlJlZmVyZW5jZUNvbGxlY3Rpb24iLCJyZWZlcmVuY2VzIiwiYWNxdWlyZSIsInJlZmVyZW5jZSIsImNvdW50ZXIiLCJjcmVhdGVSZWZlcmVuY2VkT2JqZWN0IiwiZGVzdHJveVJlZmVyZW5jZWRPYmplY3QiLCJJbW1vcnRhbFJlZmVyZW5jZSIsIndpbmpzX2Jhc2UiLCJvblVuZXhwZWN0ZWRFcnJvciIsImNvbnNvbGUiLCJsb2ciLCJlcnJvckhhbmRsZXIiLCJFcnJvckhhbmRsZXIiLCJ1bmV4cGVjdGVkRXJyb3JIYW5kbGVyIiwiX3JlbW92ZUxpc3RlbmVyIiwic2V0VW5leHBlY3RlZEVycm9ySGFuZGxlciIsIm5ld1VuZXhwZWN0ZWRFcnJvckhhbmRsZXIiLCJnZXRVbmV4cGVjdGVkRXJyb3JIYW5kbGVyIiwib25VbmV4cGVjdGVkRXh0ZXJuYWxFcnJvciIsImlzUHJvbWlzZUNhbmNlbGVkRXJyb3IiLCJ0cmFuc2Zvcm1FcnJvckZvclNlcmlhbGl6YXRpb24iLCIkaXNFcnJvciIsInN0YWNrdHJhY2UiLCJFdmVudCIsIk5vZGUiLCJMaW5rZWRMaXN0IiwiX2ZpcnN0IiwiX2xhc3QiLCJ1bnNoaWZ0IiwiaW5zZXJ0IiwiYXRUaGVFbmQiLCJuZXdOb2RlIiwib2xkTGFzdCIsInByZXYiLCJvbGRGaXJzdCIsImFuY2hvciIsIml0ZXJhdG9yIiwidG9BcnJheSIsIl9kaXNwb3NhYmxlIiwiZXZlbnRfRW1pdHRlciIsIkVtaXR0ZXIiLCJfb3B0aW9ucyIsIl9ldmVudCIsInRoaXNBcmdzIiwiZGlzcG9zYWJsZXMiLCJmaXJzdExpc3RlbmVyIiwib25GaXJzdExpc3RlbmVyQWRkIiwib25GaXJzdExpc3RlbmVyRGlkQWRkIiwib25MaXN0ZW5lckRpZEFkZCIsIl9ub29wIiwiX2Rpc3Bvc2VkIiwib25MYXN0TGlzdGVuZXJSZW1vdmUiLCJmaXJlIiwiZXZlbnQiLCJfZGVsaXZlcnlRdWV1ZSIsImV2ZW50XzEiLCJFdmVudE11bHRpcGxleGVyIiwiaGFzTGlzdGVuZXJzIiwiZXZlbnRzIiwiZW1pdHRlciIsImhvb2siLCJmbnMiLCJmbnNfMSIsInRvRGlzcG9zYWJsZSIsInVuaG9vayIsIkV2ZW50QnVmZmVyZXIiLCJidWZmZXJzIiwid3JhcEV2ZW50IiwiYnVmZmVyRXZlbnRzIiwiZmx1c2giLCJtYXBFdmVudCIsImZpbHRlckV2ZW50IiwiZmlsdGVyIiwiQ2hhaW5hYmxlRXZlbnQiLCJlYWNoIiwibGF0Y2giLCJmaXJzdENhbGwiLCJzaG91bGRFbWl0IiwiY2FjaGUiLCJSZWxheSIsImRpc3Bvc2FibGUiLCJLZXlDb2RlVXRpbHMiLCJLZXlDb2RlU3RyTWFwIiwiX2tleUNvZGVUb1N0ciIsIl9zdHJUb0tleUNvZGUiLCJrZXlDb2RlIiwia2V5Q29kZVRvU3RyIiwic3RyVG9LZXlDb2RlIiwidWlNYXAiLCJ1c2VyU2V0dGluZ3NVU01hcCIsInVzZXJTZXR0aW5nc0dlbmVyYWxNYXAiLCJ1aUxhYmVsIiwidXNVc2VyU2V0dGluZ3NMYWJlbCIsImdlbmVyYWxVc2VyU2V0dGluZ3NMYWJlbCIsImZyb21TdHJpbmciLCJ0b1VzZXJTZXR0aW5nc1VTIiwidG9Vc2VyU2V0dGluZ3NHZW5lcmFsIiwiZnJvbVVzZXJTZXR0aW5ncyIsIlNpbXBsZUtleWJpbmRpbmciLCJjdHJsS2V5Iiwic2hpZnRLZXkiLCJhbHRLZXkiLCJtZXRhS2V5IiwiZ2V0SGFzaENvZGUiLCJpc01vZGlmaWVyS2V5IiwiaXNEdXBsaWNhdGVNb2RpZmllckNhc2UiLCJDaG9yZEtleWJpbmRpbmciLCJmaXJzdFBhcnQiLCJjaG9yZFBhcnQiLCJTZWxlY3Rpb25EaXJlY3Rpb24iLCJzZWxlY3Rpb25fZXh0ZW5kcyIsImNhbmNlbGxhdGlvbl9DYW5jZWxsYXRpb25Ub2tlbiIsIkNhbmNlbGxhdGlvblRva2VuIiwic2VsZWN0aW9uX1NlbGVjdGlvbiIsIlNlbGVjdGlvbiIsInNlbGVjdGlvblN0YXJ0TGluZU51bWJlciIsInNlbGVjdGlvblN0YXJ0Q29sdW1uIiwicG9zaXRpb25MaW5lTnVtYmVyIiwicG9zaXRpb25Db2x1bW4iLCJlcXVhbHNTZWxlY3Rpb24iLCJzZWxlY3Rpb25zRXF1YWwiLCJnZXREaXJlY3Rpb24iLCJMVFIiLCJSVEwiLCJnZXRQb3NpdGlvbiIsImxpZnRTZWxlY3Rpb24iLCJzZWwiLCJzZWxlY3Rpb25zQXJyRXF1YWwiLCJpc0lTZWxlY3Rpb24iLCJjcmVhdGVXaXRoRGlyZWN0aW9uIiwiZGlyZWN0aW9uIiwic2hvcnRjdXRFdmVudCIsImhhbmRsZSIsImlzQ2FuY2VsbGF0aW9uUmVxdWVzdGVkIiwib25DYW5jZWxsYXRpb25SZXF1ZXN0ZWQiLCJDYW5jZWxsZWQiLCJTZXZlcml0eSIsIk1hcmtlclNldmVyaXR5IiwiY2FuY2VsbGF0aW9uX011dGFibGVUb2tlbiIsIk11dGFibGVUb2tlbiIsIl9pc0NhbmNlbGxlZCIsIl9lbWl0dGVyIiwiQ2FuY2VsbGF0aW9uVG9rZW5Tb3VyY2UiLCJfdG9rZW4iLCJUb2tlbiIsIktleUNvZGUiLCJzdGFuZGFsb25lQmFzZV9LZXlNb2QiLCJLZXlNb2QiLCJjaG9yZCIsInNlY29uZFBhcnQiLCJLZXlDaG9yZCIsIkN0cmxDbWQiLCJTaGlmdCIsIkFsdCIsIldpbkN0cmwiLCJlZGl0b3JTaW1wbGVXb3JrZXJfZXh0ZW5kcyIsImVkaXRvclNpbXBsZVdvcmtlcl9NaXJyb3JNb2RlbCIsIk1pcnJvck1vZGVsIiwiZ2V0VmFsdWUiLCJnZXRMaW5lc0NvbnRlbnQiLCJnZXRXb3JkQXRQb3NpdGlvbiIsIndvcmREZWZpbml0aW9uIiwid29yZEF0VGV4dCIsInRleHRPZmZzZXQiLCJsYXN0SW5kZXgiLCJ3b3JkIiwiZ2V0V29yZEF0UG9zU2xvdyIsImdldFdvcmRBdFBvc0Zhc3QiLCJnZXRXb3JkQXRUZXh0IiwiZmxhZ3MiLCJtdWx0aWxpbmUiLCJlbnN1cmVWYWxpZFdvcmREZWZpbml0aW9uIiwiZ2V0V29yZFVudGlsUG9zaXRpb24iLCJ3b3JkQXRQb3NpdGlvbiIsImNyZWF0ZVdvcmRJdGVyYXRvciIsImxpbmVUZXh0Iiwid29yZFJhbmdlc0lkeCIsIndvcmRSYW5nZXMiLCJfd29yZGVuaXplIiwiY29udGVudCIsImdldFZhbHVlSW5SYW5nZSIsIl92YWxpZGF0ZVJhbmdlIiwibGluZUVuZGluZyIsInN0YXJ0TGluZUluZGV4IiwiZW5kTGluZUluZGV4IiwicmVzdWx0TGluZXMiLCJvZmZzZXRBdCIsIl92YWxpZGF0ZVBvc2l0aW9uIiwicG9zaXRpb25BdCIsIm91dCIsImxpbmVMZW5ndGgiLCJoYXNDaGFuZ2VkIiwibWF4Q2hhcmFjdGVyIiwiZWRpdG9yU2ltcGxlV29ya2VyX0VkaXRvclNpbXBsZVdvcmtlckltcGwiLCJFZGl0b3JTaW1wbGVXb3JrZXJJbXBsIiwiZm9yZWlnbk1vZHVsZUZhY3RvcnkiLCJfbW9kZWxzIiwiX2dldE1vZGVsIiwiX2dldE1vZGVscyIsImFjY2VwdE5ld01vZGVsIiwiRU9MIiwiYWNjZXB0TW9kZWxDaGFuZ2VkIiwic3RyVVJMIiwiYWNjZXB0UmVtb3ZlZE1vZGVsIiwiQmFzZUVkaXRvclNpbXBsZVdvcmtlciIsIl9mb3JlaWduTW9kdWxlRmFjdG9yeSIsIl9mb3JlaWduTW9kdWxlIiwib3JpZ2luYWxVcmwiLCJtb2RpZmllZFVybCIsImlnbm9yZVRyaW1XaGl0ZXNwYWNlIiwiZGlmZkNvbXB1dGVyIiwiY29tcHV0ZURpcnR5RGlmZiIsImNvbXB1dGVNb3JlTWluaW1hbEVkaXRzIiwibW9kZWxVcmwiLCJlZGl0cyIsImxhc3RFb2wiLCJlZGl0c18xIiwiX2RpZmZMaW1pdCIsImVkaXRPZmZzZXQiLCJjaGFuZ2VzXzEiLCJuZXdFZGl0IiwidGV4dHVhbFN1Z2dlc3QiLCJ3b3JkRGVmIiwid29yZERlZkZsYWdzIiwic3VnZ2VzdGlvbnMiLCJ3b3JkRGVmUmVnRXhwIiwiY3VycmVudFdvcmQiLCJzZWVuIiwiX3N1Z2dlc3Rpb25zTGltaXQiLCJsYWJlbCIsIm5vQXV0b0FjY2VwdCIsIm92ZXJ3cml0ZUJlZm9yZSIsInNlbGVjdGlvblRleHQiLCJ3b3JkUmFuZ2UiLCJsb2FkRm9yZWlnbk1vZHVsZSIsImNyZWF0ZURhdGEiLCJjdHgiLCJnZXRNaXJyb3JNb2RlbHMiLCJtZXRob2RzIiwicHJvcCIsInJlc29sdmUiLCJfX1dFQlBBQ0tfQU1EX1JFUVVJUkVfQVJSQVlfXyIsImZvcmVpZ25Nb2R1bGUiLCJjYXRjaCIsImZtciIsIm1ldGhvZCIsImltcG9ydFNjcmlwdHMiLCJtb25hY28iLCJlZGl0b3IiLCJsYW5ndWFnZXMiLCJVcmkiLCJhc3luY19leHRlbmRzIiwiYXN5bmNfVGhyb3R0bGVyIiwiVGhyb3R0bGVyIiwiYWN0aXZlUHJvbWlzZSIsInF1ZXVlZFByb21pc2UiLCJxdWV1ZWRQcm9taXNlRmFjdG9yeSIsInByb21pc2VGYWN0b3J5Iiwib25Db21wbGV0ZV8xIiwiZXJyIiwiYXN5bmNfU2hhbGxvd0NhbmNlbFRoZW5Qcm9taXNlIiwiU2ltcGxlVGhyb3R0bGVyIiwicHJvbWlzZVRhc2siLCJUaHJvdHRsZWREZWxheWVyIiwiZGVmYXVsdERlbGF5IiwidGhyb3R0bGVyIiwidHJpZ2dlciIsImRlbGF5IiwiRGVsYXllciIsImNvbXBsZXRpb25Qcm9taXNlIiwib25TdWNjZXNzIiwidGFzayIsImlzVHJpZ2dlcmVkIiwiQmFycmllciIsIl9pc09wZW4iLCJfcHJvbWlzZSIsIl9jb21wbGV0ZVByb21pc2UiLCJ3YXJuIiwiaXNPcGVuIiwib3BlbiIsIndhaXQiLCJTaGFsbG93Q2FuY2VsVGhlblByb21pc2UiLCJvdXRlciIsImNvbXBsZXRlQ2FsbGJhY2siLCJlcnJvckNhbGxiYWNrIiwicHJvZ3Jlc3NDYWxsYmFjayIsImFsd2F5cyIsIndpbmpzUHJvbWlzZU9yUHJvbWlzZUxpa2UiLCJlMSIsIlF1ZXVlIiwiTGltaXRlciIsIm1heERlZ3JlZU9mUGFyYWxlbGxpc20iLCJvdXRzdGFuZGluZ1Byb21pc2VzIiwicnVubmluZ1Byb21pc2VzIiwiX29uRmluaXNoZWQiLCJjb25zdW1lIiwiaUxpbWl0ZWRUYXNrIiwiY29uc3VtZWQiLCJSZXNvdXJjZVF1ZXVlIiwicXVldWVzIiwicXVldWVGb3IiLCJxdWV1ZV8xIiwib25GaW5pc2hlZCIsIlRpbWVvdXRUaW1lciIsImNhbmNlbEFuZFNldCIsInJ1bm5lciIsInNldElmTm90U2V0IiwiSW50ZXJ2YWxUaW1lciIsImNsZWFySW50ZXJ2YWwiLCJpbnRlcnZhbCIsInNldEludGVydmFsIiwiUnVuT25jZVNjaGVkdWxlciIsInRpbWVvdXRUb2tlbiIsInRpbWVvdXRIYW5kbGVyIiwib25UaW1lb3V0IiwiaXNTY2hlZHVsZWQiLCJzY2hlZHVsZSIsIlRocm90dGxlZEVtaXR0ZXIiLCJ0aHJvdHRsZSIsInN1c3BlbmRlZCIsInJlc3VtZSIsImxhc3RFdmVudCIsImhhc0xhc3RFdmVudCIsInNpbXBsZVdvcmtlcl9leHRlbmRzIiwiSU5JVElBTElaRSIsInNpbXBsZVdvcmtlcl9TaW1wbGVXb3JrZXJQcm90b2NvbCIsIlNpbXBsZVdvcmtlclByb3RvY29sIiwiX3dvcmtlcklkIiwiX2hhbmRsZXIiLCJfbGFzdFNlbnRSZXEiLCJfcGVuZGluZ1JlcGxpZXMiLCJzZXRXb3JrZXJJZCIsIndvcmtlcklkIiwic2VuZE1lc3NhZ2UiLCJyZXEiLCJyZXBseSIsIl9zZW5kIiwidnNXb3JrZXIiLCJoYW5kbGVNZXNzYWdlIiwic2VyaWFsaXplZE1lc3NhZ2UiLCJfaGFuZGxlTWVzc2FnZSIsIm1zZyIsInNlcSIsInJlcGx5TWVzc2FnZSIsInJlcXVlc3RNZXNzYWdlIiwic3RyTXNnIiwic3RyaW5naWZ5Iiwic2ltcGxlV29ya2VyX1NpbXBsZVdvcmtlclNlcnZlciIsIlNpbXBsZVdvcmtlckNsaWVudCIsIndvcmtlckZhY3RvcnkiLCJsYXp5UHJveHlGdWxmaWxsIiwibGF6eVByb3h5UmVqZWN0IiwiX3dvcmtlciIsIl9wcm90b2NvbCIsInBvc3RNZXNzYWdlIiwiZ2V0SWQiLCJsb2FkZXJDb25maWd1cmF0aW9uIiwicmVxdWlyZSIsImdldENvbmZpZyIsInJlcXVpcmVqcyIsImNvbnRleHRzIiwiY29uZmlnIiwiX2xhenlQcm94eSIsIl9vbk1vZHVsZUxvYWRlZCIsImF2YWlsYWJsZU1ldGhvZHMiLCJwcm94eSIsImNyZWF0ZVByb3h5TWV0aG9kIiwicHJveHlNZXRob2RSZXF1ZXN0IiwiX29uRXJyb3IiLCJfcmVxdWVzdCIsImdldFByb3h5T2JqZWN0IiwiaW5mbyIsIlNpbXBsZVdvcmtlclNlcnZlciIsInBvc3RTZXJpYWxpemVkTWVzc2FnZSIsInJlcXVlc3RIYW5kbGVyIiwiX3JlcXVlc3RIYW5kbGVyIiwib25tZXNzYWdlIiwiaW5pdGlhbGl6ZSIsImxvYWRlckNvbmZpZyIsImNjIiwiZWUiLCJiYXNlVXJsIiwicGF0aHMiLCJ2cyIsImNhdGNoRXJyb3IiLCJoYW5kbGVyTW9kdWxlIiwibWFpbl9Qb3NpdGlvbiIsIm1haW5fUmFuZ2UiLCJMb2NhdGlvbiIsIkRpYWdub3N0aWNTZXZlcml0eSIsIkRpYWdub3N0aWMiLCJDb21tYW5kIiwiVGV4dEVkaXQiLCJUZXh0RG9jdW1lbnRFZGl0IiwiZWRpdG9yV29ya2VyIiwic2ltcGxlV29ya2VyIiwiY2hhcmFjdGVyIiwiSXMiLCJkZWZpbmVkIiwibnVtYmVyIiwib25lIiwidHdvIiwidGhyZWUiLCJmb3VyIiwic3RyaW5nIiwiV2FybmluZyIsIkluZm9ybWF0aW9uIiwiSGludCIsInNldmVyaXR5IiwiY29kZSIsImNvbW1hbmQiLCJuZXdUZXh0IiwiZGVsIiwidGV4dERvY3VtZW50IiwiVmVyc2lvbmVkVGV4dERvY3VtZW50SWRlbnRpZmllciIsIlRleHREb2N1bWVudElkZW50aWZpZXIiLCJUZXh0RG9jdW1lbnRJdGVtIiwiTWFya3VwS2luZCIsIkNvbXBsZXRpb25JdGVtS2luZCIsIkluc2VydFRleHRGb3JtYXQiLCJDb21wbGV0aW9uSXRlbSIsIkNvbXBsZXRpb25MaXN0IiwiTWFya2VkU3RyaW5nIiwiUGFyYW1ldGVySW5mb3JtYXRpb24iLCJTaWduYXR1cmVJbmZvcm1hdGlvbiIsIkRvY3VtZW50SGlnaGxpZ2h0S2luZCIsIkRvY3VtZW50SGlnaGxpZ2h0IiwiU3ltYm9sS2luZCIsIlN5bWJvbEluZm9ybWF0aW9uIiwiQ29kZUFjdGlvbkNvbnRleHQiLCJDb2RlTGVucyIsIkZvcm1hdHRpbmdPcHRpb25zIiwiVGV4dEVkaXRDaGFuZ2VJbXBsIiwiZWRpdCIsIldvcmtzcGFjZUNoYW5nZSIsIndvcmtzcGFjZUVkaXQiLCJfdGV4dEVkaXRDaGFuZ2VzIiwiX3dvcmtzcGFjZUVkaXQiLCJkb2N1bWVudENoYW5nZXMiLCJ0ZXh0RG9jdW1lbnRFZGl0IiwidGV4dEVkaXRDaGFuZ2UiLCJnZXRUZXh0RWRpdENoYW5nZSIsImxhbmd1YWdlSWQiLCJQbGFpblRleHQiLCJNYXJrZG93biIsIlRleHQiLCJNZXRob2QiLCJDb25zdHJ1Y3RvciIsIkZpZWxkIiwiVmFyaWFibGUiLCJJbnRlcmZhY2UiLCJNb2R1bGUiLCJQcm9wZXJ0eSIsIlVuaXQiLCJWYWx1ZSIsIkVudW0iLCJLZXl3b3JkIiwiU25pcHBldCIsIkNvbG9yIiwiRmlsZSIsIlJlZmVyZW5jZSIsIkZvbGRlciIsIkVudW1NZW1iZXIiLCJDb25zdGFudCIsIlN0cnVjdCIsIk9wZXJhdG9yIiwiVHlwZVBhcmFtZXRlciIsIml0ZW1zIiwiaXNJbmNvbXBsZXRlIiwiZnJvbVBsYWluVGV4dCIsInBsYWluVGV4dCIsImRvY3VtZW50YXRpb24iLCJwYXJhbWV0ZXJzIiwiUmVhZCIsIldyaXRlIiwia2luZCIsIlBhY2thZ2UiLCJCb29sZWFuIiwiTnVsbCIsImNvbnRhaW5lck5hbWUiLCJsb2NhdGlvbiIsImRpYWdub3N0aWNzIiwidHlwZWRBcnJheSIsInRhYlNpemUiLCJpbnNlcnRTcGFjZXMiLCJib29sZWFuIiwiRG9jdW1lbnRMaW5rIiwiVGV4dERvY3VtZW50IiwiVGV4dERvY3VtZW50U2F2ZVJlYXNvbiIsIkZ1bGxUZXh0RG9jdW1lbnQiLCJhcHBseUVkaXRzIiwiZG9jdW1lbnQiLCJzb3J0ZWRFZGl0cyIsIm1lcmdlU29ydCIsImxlZnRJZHgiLCJyaWdodElkeCIsImxhc3RNb2RpZmllZE9mZnNldCIsInN0YXJ0T2Zmc2V0IiwiZW5kT2Zmc2V0IiwiTWFudWFsIiwiQWZ0ZXJEZWxheSIsIkZvY3VzT3V0IiwiX2xhbmd1YWdlSWQiLCJfdmVyc2lvbiIsIl9jb250ZW50IiwiX2xpbmVPZmZzZXRzIiwidXBkYXRlIiwiZ2V0TGluZU9mZnNldHMiLCJsaW5lT2Zmc2V0cyIsImlzTGluZVN0YXJ0IiwiY2hhckF0IiwibGluZU9mZnNldCIsIm5leHRMaW5lT2Zmc2V0IiwiY3JlYXRlU2Nhbm5lciIsImlnbm9yZVRyaXZpYSIsInRva2VuT2Zmc2V0IiwidG9rZW4iLCJzY2FuRXJyb3IiLCJzY2FuSGV4RGlnaXRzIiwiY291bnQiLCJleGFjdCIsImRpZ2l0cyIsInNjYW5OZXh0IiwiaXNXaGl0ZVNwYWNlIiwiaXNMaW5lQnJlYWsiLCJjaF8xIiwic2NhblN0cmluZyIsImNvbW1lbnRDbG9zZWQiLCJpc0RpZ2l0Iiwic2Nhbk51bWJlciIsImlzVW5rbm93bkNvbnRlbnRDaGFyYWN0ZXIiLCJzZXRQb3NpdGlvbiIsIm5ld1Bvc2l0aW9uIiwic2NhbiIsImdldFRva2VuIiwiZ2V0VG9rZW5WYWx1ZSIsImdldFRva2VuT2Zmc2V0IiwiZ2V0VG9rZW5MZW5ndGgiLCJnZXRUb2tlbkVycm9yIiwiZm9ybWF0X2Zvcm1hdCIsImRvY3VtZW50VGV4dCIsIm9wdGlvbnMiLCJpbml0aWFsSW5kZW50TGV2ZWwiLCJmb3JtYXRUZXh0IiwiZm9ybWF0VGV4dFN0YXJ0IiwicmFuZ2VTdGFydCIsInJhbmdlRW5kIiwiaXNFT0wiLCJuQ2hhcnMiLCJjb21wdXRlSW5kZW50TGV2ZWwiLCJpbmRlbnRWYWx1ZSIsImdldEVPTCIsImxpbmVCcmVhayIsImluZGVudExldmVsIiwiZm9ybWF0X3JlcGVhdCIsInNjYW5uZXIiLCJoYXNFcnJvciIsIm5ld0xpbmVBbmRJbmRlbnQiLCJlZGl0T3BlcmF0aW9ucyIsImFkZEVkaXQiLCJmaXJzdFRva2VuIiwiZmlyc3RUb2tlblN0YXJ0IiwiZmlyc3RUb2tlbkVuZCIsInNlY29uZFRva2VuIiwicmVwbGFjZUNvbnRlbnQiLCJ2aXNpdCIsInZpc2l0b3IiLCJfc2Nhbm5lciIsInRvTm9BcmdWaXNpdCIsInZpc2l0RnVuY3Rpb24iLCJ0b09uZUFyZ1Zpc2l0IiwiYXJnIiwib25PYmplY3RCZWdpbiIsIm9uT2JqZWN0UHJvcGVydHkiLCJvbk9iamVjdEVuZCIsIm9uQXJyYXlCZWdpbiIsIm9uQXJyYXlFbmQiLCJvbkxpdGVyYWxWYWx1ZSIsIm9uU2VwYXJhdG9yIiwib25Db21tZW50IiwiZGlzYWxsb3dDb21tZW50cyIsImFsbG93VHJhaWxpbmdDb21tYSIsImhhbmRsZUVycm9yIiwic2tpcFVudGlsQWZ0ZXIiLCJza2lwVW50aWwiLCJwYXJzZVN0cmluZyIsImlzVmFsdWUiLCJwYXJzZVZhbHVlIiwibmVlZHNDb21tYSIsInBhcnNlQXJyYXkiLCJwYXJzZU9iamVjdCIsInBhcnNlTGl0ZXJhbCIsImNoZWNrIiwiZXZlcnkiLCJtYWluX2NyZWF0ZVNjYW5uZXIiLCJtYWluX3BhcnNlIiwiY3VycmVudFByb3BlcnR5IiwiY3VycmVudFBhcmVudCIsInByZXZpb3VzUGFyZW50cyIsIm9uVmFsdWUiLCJvbmVLZXlzIiwic29ydCIsIm90aGVyS2V5cyIsImxvY2FsaXplIiwidnNjb2RlX25sc19mb3JtYXQiLCJsb2FkTWVzc2FnZUJ1bmRsZSIsIkVycm9yQ29kZSIsImpzb25QYXJzZXJfZXh0ZW5kcyIsImpzb25QYXJzZXJfbG9jYWxpemUiLCJQcm9ibGVtU2V2ZXJpdHkiLCJjb2xvckhleFBhdHRlcm4iLCJlbWFpbFBhdHRlcm4iLCJFbnVtTWF0Y2giLCJBU1ROb2RlSW1wbCIsIk51bGxBU1ROb2RlSW1wbCIsIkJvb2xlYW5BU1ROb2RlSW1wbCIsImJvb2xWYWx1ZSIsIkFycmF5QVNUTm9kZUltcGwiLCJOdW1iZXJBU1ROb2RlSW1wbCIsImlzSW50ZWdlciIsIk5hTiIsIlN0cmluZ0FTVE5vZGVJbXBsIiwiUHJvcGVydHlBU1ROb2RlSW1wbCIsImNvbG9uT2Zmc2V0IiwidmFsdWVOb2RlIiwia2V5Tm9kZSIsIk9iamVjdEFTVE5vZGVJbXBsIiwiYXNTY2hlbWEiLCJzY2hlbWEiLCJub3QiLCJTY2hlbWFDb2xsZWN0b3IiLCJmb2N1c09mZnNldCIsImV4Y2x1ZGUiLCJzY2hlbWFzIiwibWVyZ2UiLCJpbmNsdWRlIiwiY29udGFpbnMiLCJuZXdTdWIiLCJOb09wU2NoZW1hQ29sbGVjdG9yIiwiaW5zdGFuY2UiLCJWYWxpZGF0aW9uUmVzdWx0IiwicHJvYmxlbXMiLCJwcm9wZXJ0aWVzTWF0Y2hlcyIsInByb3BlcnRpZXNWYWx1ZU1hdGNoZXMiLCJwcmltYXJ5VmFsdWVNYXRjaGVzIiwiZW51bVZhbHVlTWF0Y2giLCJlbnVtVmFsdWVzIiwiaGFzUHJvYmxlbXMiLCJtZXJnZUFsbCIsInZhbGlkYXRpb25SZXN1bHRzIiwidmFsaWRhdGlvblJlc3VsdCIsIm1lcmdlRW51bVZhbHVlcyIsIkVudW1WYWx1ZU1pc21hdGNoIiwibWVyZ2VQcm9wZXJ0eU1hdGNoIiwicHJvcGVydHlWYWxpZGF0aW9uUmVzdWx0IiwianNvblBhcnNlcl9nZXROb2RlVmFsdWUiLCJnZXROb2RlUGF0aCIsImluY2x1ZGVSaWdodEJvdW5kIiwiSlNPTkRvY3VtZW50Iiwicm9vdCIsInN5bnRheEVycm9ycyIsImNvbW1lbnRzIiwiZXh0ZXJuYWxEaWFnbm9zdGljIiwiZ2V0Tm9kZUZyb21PZmZzZXQiLCJmaW5kTm9kZSIsImNoaWxkcmVuIiwiZ2V0Tm9kZUZyb21PZmZzZXRFbmRJbmNsdXNpdmUiLCJkb1Zpc2l0XzEiLCJjdG4iLCJ2YWxpZGF0ZSIsImdldE1hdGNoaW5nU2NoZW1hcyIsIm1hdGNoaW5nU2NoZW1hcyIsInNlZW5LZXlzIiwidW5wcm9jZXNzZWRQcm9wZXJ0aWVzIiwicmVxdWlyZWQiLCJwcm9wZXJ0eU5hbWUiLCJwcm9wZXJ0eVByb2Nlc3NlZCIsInByb3BlcnR5U2NoZW1hIiwiY2hpbGQiLCJwcm9wZXJ0eU5vZGUiLCJlcnJvck1lc3NhZ2UiLCJwYXR0ZXJuUHJvcGVydGllcyIsInByb3BlcnR5UGF0dGVybiIsInJlZ2V4IiwiYWRkaXRpb25hbFByb3BlcnRpZXMiLCJtYXhQcm9wZXJ0aWVzIiwibWluUHJvcGVydGllcyIsImRlcGVuZGVuY2llcyIsInByb3BlcnR5RGVwIiwicmVxdWlyZWRQcm9wIiwicHJvcGVydHlOYW1lcyIsIl92YWxpZGF0ZU9iamVjdE5vZGUiLCJzdWJTY2hlbWFzXzEiLCJzdWJTY2hlbWFSZWYiLCJzdWJTY2hlbWEiLCJpdGVtVmFsaWRhdGlvblJlc3VsdCIsImFkZGl0aW9uYWxJdGVtcyIsIml0ZW1TY2hlbWFfMSIsImNvbnRhaW5zU2NoZW1hIiwiZG9lc0NvbnRhaW4iLCJzb21lIiwibWluSXRlbXMiLCJtYXhJdGVtcyIsInVuaXF1ZUl0ZW1zIiwidmFsdWVzXzEiLCJkdXBsaWNhdGVzIiwiX3ZhbGlkYXRlQXJyYXlOb2RlIiwibWluTGVuZ3RoIiwibWF4TGVuZ3RoIiwicGF0dGVybiIsInBhdHRlcm5FcnJvck1lc3NhZ2UiLCJmb3JtYXQiLCJ2c2NvZGVfdXJpIiwiX3ZhbGlkYXRlU3RyaW5nTm9kZSIsIm11bHRpcGxlT2YiLCJnZXRFeGNsdXNpdmVMaW1pdCIsImV4Y2x1c2l2ZSIsImdldExpbWl0IiwiZXhjbHVzaXZlTWluaW11bSIsIm1pbmltdW0iLCJleGNsdXNpdmVNYXhpbXVtIiwibWF4aW11bSIsIl92YWxpZGF0ZU51bWJlck5vZGUiLCJtYXRjaGVzVHlwZSIsImFsbE9mIiwibm90U2NoZW1hIiwic3ViVmFsaWRhdGlvblJlc3VsdCIsInN1Yk1hdGNoaW5nU2NoZW1hcyIsIm1zIiwiaW52ZXJ0ZWQiLCJ0ZXN0QWx0ZXJuYXRpdmVzIiwiYWx0ZXJuYXRpdmVzIiwibWF4T25lTWF0Y2giLCJtYXRjaGVzIiwiYmVzdE1hdGNoIiwiY29tcGFyZVJlc3VsdCIsImFueU9mIiwib25lT2YiLCJlbnVtIiwiY29uc3QiLCJkZXByZWNhdGlvbk1lc3NhZ2UiLCJfdmFsaWRhdGVOb2RlIiwianNvblBhcnNlcl9wYXJzZSIsImNvbGxlY3RDb21tZW50cyIsIl9zY2FuTmV4dCIsInRva2VuXzEiLCJfY2hlY2tTY2FuRXJyb3IiLCJfZXJyb3JBdFJhbmdlIiwiX2ZpbmFsaXplIiwidG9rZW5fMiIsIkludmFsaWRVbmljb2RlIiwiSW52YWxpZEVzY2FwZUNoYXJhY3RlciIsIlVuZXhwZWN0ZWRFbmRPZk51bWJlciIsIlVuZXhwZWN0ZWRFbmRPZkNvbW1lbnQiLCJVbmV4cGVjdGVkRW5kT2ZTdHJpbmciLCJJbnZhbGlkQ2hhcmFjdGVyIiwiX3BhcnNlUHJvcGVydHkiLCJrZXlzU2VlbiIsIl9wYXJzZVN0cmluZyIsIlVuZGVmaW5lZCIsIkNvbG9uRXhwZWN0ZWQiLCJfcGFyc2VWYWx1ZSIsIlZhbHVlRXhwZWN0ZWQiLCJjb21tYU9mZnNldCIsIlRyYWlsaW5nQ29tbWEiLCJDb21tYUV4cGVjdGVkIiwiQ29tbWFPckNsb3NlQmFja2V0RXhwZWN0ZWQiLCJfcGFyc2VBcnJheSIsIlByb3BlcnR5RXhwZWN0ZWQiLCJDb21tYU9yQ2xvc2VCcmFjZUV4cGVjdGVkIiwiX3BhcnNlT2JqZWN0IiwidG9rZW5WYWx1ZSIsIm51bWJlclZhbHVlIiwiX3BhcnNlTnVtYmVyIiwiX3BhcnNlTGl0ZXJhbCIsInN0cmluZ3NfZW5kc1dpdGgiLCJoYXlzdGFjayIsIm5lZWRsZSIsImRpZmYiLCJqc29uQ29tcGxldGlvbl9sb2NhbGl6ZSIsImpzb25Db21wbGV0aW9uX0pTT05Db21wbGV0aW9uIiwiSlNPTkNvbXBsZXRpb24iLCJzY2hlbWFTZXJ2aWNlIiwiY29udHJpYnV0aW9ucyIsInByb21pc2VDb25zdHJ1Y3RvciIsInRlbXBsYXRlVmFySWRDb3VudGVyIiwiZG9SZXNvbHZlIiwicmVzb2x2ZUNvbXBsZXRpb24iLCJyZXNvbHZlciIsImRvQ29tcGxldGUiLCJkb2MiLCJpc0luQ29tbWVudCIsImdldEN1cnJlbnRXb3JkIiwib3ZlcndyaXRlUmFuZ2UiLCJvdmVyd3JpdGVTdGFydCIsInByb3Bvc2VkIiwiY29sbGVjdG9yIiwic3VnZ2VzdGlvbiIsImV4aXN0aW5nIiwidGV4dEVkaXQiLCJzZXRBc0luY29tcGxldGUiLCJnZXROdW1iZXJPZlByb3Bvc2FscyIsImdldFNjaGVtYUZvclJlc291cmNlIiwiY29sbGVjdGlvblByb21pc2VzIiwiYWRkVmFsdWUiLCJjdXJyZW50S2V5Iiwic2VwYXJhdG9yQWZ0ZXJfMSIsImV2YWx1YXRlU2VwYXJhdG9yQWZ0ZXIiLCJnZXRQcm9wZXJ0eUNvbXBsZXRpb25zIiwiZ2V0U2NoZW1hTGVzc1Byb3BlcnR5Q29tcGxldGlvbnMiLCJsb2NhdGlvbl8xIiwiY29udHJpYnV0aW9uIiwiY29sbGVjdFByb21pc2UiLCJjb2xsZWN0UHJvcGVydHlDb21wbGV0aW9ucyIsImdldExhYmVsRm9yVmFsdWUiLCJnZXRJbnNlcnRUZXh0Rm9yUHJvcGVydHkiLCJpbnNlcnRUZXh0Rm9ybWF0IiwidHlwZXMiLCJnZXRWYWx1ZUNvbXBsZXRpb25zIiwiZ2V0U2NoZW1hTGVzc1ZhbHVlQ29tcGxldGlvbnMiLCJnZXRDb250cmlidXRlZFZhbHVlQ29tcGxldGlvbnMiLCJvZmZzZXRGb3JTZXBhcmF0b3IiLCJzZXBhcmF0b3JBZnRlciIsImFkZEZpbGxlclZhbHVlQ29tcGxldGlvbnMiLCJzY2hlbWFQcm9wZXJ0aWVzXzEiLCJkb05vdFN1Z2dlc3QiLCJwcm9wb3NhbCIsImZpbHRlclRleHQiLCJnZXRGaWx0ZXJUZXh0Rm9yVmFsdWUiLCJkZXNjcmlwdGlvbiIsImNvbGxlY3RDb21wbGV0aW9uc0ZvclNpbWlsYXJPYmplY3QiLCJnZXRJbnNlcnRUZXh0Rm9yVmFsdWUiLCJwYXJlbnRLZXlfMSIsImdldFN1Z2dlc3Rpb25LaW5kIiwiY29sbGVjdFN1Z2dlc3Rpb25zRm9yVmFsdWVzIiwiZ2V0TGFiZWxUZXh0Rm9yTWF0Y2hpbmdOb2RlIiwiZ2V0SW5zZXJ0VGV4dEZvck1hdGNoaW5nTm9kZSIsImFkZEJvb2xlYW5WYWx1ZUNvbXBsZXRpb24iLCJwYXJlbnRLZXlfMiIsImFkZERvbGxhclNjaGVtYUNvbXBsZXRpb25zIiwicGFyZW50S2V5XzMiLCJwYXJlbnRLZXkiLCJ2YWx1ZU5vZGVfMSIsInNlcGFyYXRvckFmdGVyXzIiLCJmaW5kSXRlbUF0T2Zmc2V0IiwiYWRkU2NoZW1hVmFsdWVDb21wbGV0aW9ucyIsImFkZE51bGxWYWx1ZUNvbXBsZXRpb24iLCJwYXJlbnRLZXlfNCIsImxvY2F0aW9uXzIiLCJjb2xsZWN0VmFsdWVDb21wbGV0aW9ucyIsImNvbGxlY3REZWZhdWx0Q29tcGxldGlvbnMiLCJhZGRFbnVtVmFsdWVDb21wbGV0aW9ucyIsImFkZERlZmF1bHRWYWx1ZUNvbXBsZXRpb25zIiwiY29sbGVjdFR5cGVzIiwiYXJyYXlEZXB0aCIsImhhc1Byb3Bvc2FscyIsImRlZmF1bHQiLCJkZWZhdWx0U25pcHBldHMiLCJib2R5IiwiZ2V0SW5zZXJ0VGV4dEZvclNuaXBwZXRWYWx1ZSIsImdldEZpbHRlclRleHRGb3JTbmlwcGV0VmFsdWUiLCJnZXRMYWJlbEZvclNuaXBwZXRWYWx1ZSIsImJvZHlUZXh0Iiwic3VmZml4IiwiaW5kZW50IiwiZW5tIiwiZW51bURlc2NyaXB0aW9ucyIsImdldEluc2VydFRleHRGb3JHdWVzc2VkVmFsdWUiLCJnZXRSZWdpc3RlcmVkU2NoZW1hSWRzIiwic2NoZW1hSWQiLCJ0cmltIiwiZ2V0SW5zZXJ0VGV4dEZvclBsYWluVGV4dCIsInN0cmluZ2lmeU9iamVjdCIsInN0cmluZ2lmeUxpdGVyYWwiLCJuZXdJbmRlbnQiLCJzbmlwcGV0VmFsdWUiLCJwcm9wZXJ0eVRleHQiLCJyZXN1bHRUZXh0IiwiblZhbHVlUHJvcG9zYWxzIiwianNvbkhvdmVyX0pTT05Ib3ZlciIsIkpTT05Ib3ZlciIsImRvSG92ZXIiLCJob3ZlclJhbmdlTm9kZSIsImhvdmVyUmFuZ2UiLCJjcmVhdGVIb3ZlciIsImNvbnRlbnRzIiwiZ2V0SW5mb0NvbnRyaWJ1dGlvbiIsImh0bWxDb250ZW50IiwidGl0bGVfMSIsIm1hcmtkb3duRGVzY3JpcHRpb25fMSIsIm1hcmtkb3duRW51bVZhbHVlRGVzY3JpcHRpb25fMSIsImVudW1WYWx1ZV8xIiwibWFya2Rvd25EZXNjcmlwdGlvbiIsInRvTWFya2Rvd24iLCJtYXJrZG93bkVudW1EZXNjcmlwdGlvbnMiLCJwbGFpbiIsImpzb25WYWxpZGF0aW9uX2xvY2FsaXplIiwianNvblZhbGlkYXRpb25fSlNPTlZhbGlkYXRpb24iLCJKU09OVmFsaWRhdGlvbiIsImpzb25TY2hlbWFTZXJ2aWNlIiwidmFsaWRhdGlvbkVuYWJsZWQiLCJjb25maWd1cmUiLCJyYXciLCJjb21tZW50U2V2ZXJpdHkiLCJhbGxvd0NvbW1lbnRzIiwiSWdub3JlIiwiZG9WYWxpZGF0aW9uIiwianNvbkRvY3VtZW50IiwiZG9jdW1lbnRTZXR0aW5ncyIsImFkZGVkIiwiYWRkUHJvYmxlbSIsInByb2JsZW0iLCJzaWduYXR1cmUiLCJ0cmFpbGluZ0NvbW1hU2V2ZXJpdHkiLCJ0cmFpbGluZ0NvbW1hcyIsImFzdFJvb3QiLCJzZW1hbnRpY0Vycm9ycyIsInNjaGVtYUFsbG93c0NvbW1lbnRzIiwibWVzc2FnZV8xIiwic2NoZW1hUmVmIiwiRGlnaXQwIiwiRGlnaXQ5IiwiQSIsImNvbG9yc19mIiwiaGV4RGlnaXQiLCJjb2xvckZyb21IZXgiLCJyZWQiLCJncmVlbiIsImJsdWUiLCJhbHBoYSIsImpzb25Eb2N1bWVudFN5bWJvbHNfSlNPTkRvY3VtZW50U3ltYm9scyIsIkpTT05Eb2N1bWVudFN5bWJvbHMiLCJmaW5kRG9jdW1lbnRTeW1ib2xzIiwicmVzb3VyY2VTdHJpbmciLCJyZXN1bHRfMSIsImNvbGxlY3RPdXRsaW5lRW50cmllcyIsImNoaWxkQ29udGFpbmVyTmFtZSIsImdldFN5bWJvbEtpbmQiLCJub2RlVHlwZSIsImZpbmREb2N1bWVudENvbG9ycyIsInZpc2l0ZWROb2RlIiwibWF0Y2hpbmdTY2hlbWFzXzEiLCJub2RlSWQiLCJjb2xvciIsImdldENvbG9yUHJlc2VudGF0aW9ucyIsInJlZDI1NiIsImdyZWVuMjU2IiwiYmx1ZTI1NiIsInRvVHdvRGlnaXRIZXgiLCJjb25maWd1cmF0aW9uX2xvY2FsaXplIiwic2NoZW1hQ29udHJpYnV0aW9ucyIsInNjaGVtYUFzc29jaWF0aW9ucyIsImh0dHA6Ly9qc29uLXNjaGVtYS5vcmcvZHJhZnQtMDQvc2NoZW1hIyIsIiRzY2hlbWEiLCJkZWZpbml0aW9ucyIsInNjaGVtYUFycmF5IiwiJHJlZiIsInBvc2l0aXZlSW50ZWdlciIsInBvc2l0aXZlSW50ZWdlckRlZmF1bHQwIiwic2ltcGxlVHlwZXMiLCJzdHJpbmdBcnJheSIsImpzb25TY2hlbWFTZXJ2aWNlX2xvY2FsaXplIiwianNvblNjaGVtYVNlcnZpY2VfRmlsZVBhdHRlcm5Bc3NvY2lhdGlvbiIsIkZpbGVQYXR0ZXJuQXNzb2NpYXRpb24iLCJwYXR0ZXJuUmVnRXhwIiwic3RyaW5nc19jb252ZXJ0U2ltcGxlMlJlZ0V4cFBhdHRlcm4iLCJhZGRTY2hlbWEiLCJtYXRjaGVzUGF0dGVybiIsImZpbGVOYW1lIiwiZ2V0U2NoZW1hcyIsIlNjaGVtYUhhbmRsZSIsInNlcnZpY2UiLCJ1bnJlc29sdmVkU2NoZW1hQ29udGVudCIsInVucmVzb2x2ZWRTY2hlbWEiLCJVbnJlc29sdmVkU2NoZW1hIiwiZ2V0VW5yZXNvbHZlZFNjaGVtYSIsImxvYWRTY2hlbWEiLCJnZXRSZXNvbHZlZFNjaGVtYSIsInJlc29sdmVkU2NoZW1hIiwidW5yZXNvbHZlZCIsInJlc29sdmVTY2hlbWFDb250ZW50IiwiY2xlYXJTY2hlbWEiLCJqc29uU2NoZW1hU2VydmljZV9SZXNvbHZlZFNjaGVtYSIsIlJlc29sdmVkU2NoZW1hIiwiZ2V0U2VjdGlvbiIsImdldFNlY3Rpb25SZWN1cnNpdmUiLCJwYXJzZUludCIsImpzb25TY2hlbWFTZXJ2aWNlX0pTT05TY2hlbWFTZXJ2aWNlIiwiSlNPTlNjaGVtYVNlcnZpY2UiLCJyZXF1ZXN0U2VydmljZSIsImNvbnRleHRTZXJ2aWNlIiwiY2FsbE9uRGlzcG9zZSIsImNvbnRyaWJ1dGlvblNjaGVtYXMiLCJjb250cmlidXRpb25Bc3NvY2lhdGlvbnMiLCJzY2hlbWFzQnlJZCIsImZpbGVQYXR0ZXJuQXNzb2NpYXRpb25zIiwiZmlsZVBhdHRlcm5Bc3NvY2lhdGlvbkJ5SWQiLCJyZWdpc3RlcmVkU2NoZW1hc0lkcyIsIm9uUmVzb3VyY2VDaGFuZ2UiLCJub3JtYWxpemVJZCIsInNjaGVtYUZpbGUiLCJzZXRTY2hlbWFDb250cmlidXRpb25zIiwibm9ybWFsaXplZElkIiwiYWRkU2NoZW1hSGFuZGxlIiwiYXNzb2NpYXRpb25zIiwiZnBhIiwiZ2V0T3JBZGRGaWxlUGF0dGVybkFzc29jaWF0aW9uIiwic2NoZW1hSGFuZGxlIiwiZ2V0T3JBZGRTY2hlbWFIYW5kbGUiLCJyZWdpc3RlckV4dGVybmFsU2NoZW1hIiwiZmlsZVBhdHRlcm5zIiwiY2xlYXJFeHRlcm5hbFNjaGVtYXMiLCJ0b0Rpc3BsYXlTdHJpbmciLCJzY2hlbWFDb250ZW50IiwianNvbkVycm9ycyIsInNjaGVtYVRvUmVzb2x2ZSIsInNjaGVtYVVSTCIsInJlc29sdmVFcnJvcnMiLCJzb3VyY2VSb290Iiwic291cmNlVVJJIiwic2VjdGlvbiIsInBhcnQiLCJmaW5kU2VjdGlvbiIsInJlc29sdmVFeHRlcm5hbExpbmsiLCJsaW5rUGF0aCIsInBhcmVudFNjaGVtYVVSTCIsInJlc29sdmVSZWxhdGl2ZVBhdGgiLCJsb2MiLCJyZXNvbHZlUmVmcyIsInBhcmVudFNjaGVtYSIsInRvV2FsayIsIm9wZW5Qcm9taXNlcyIsImhhbmRsZVJlZiIsImVudHJpZXMiLCJlbnRyaWVzXzEiLCJlbnRyeSIsImNvbGxlY3RFbnRyaWVzIiwibWFwcyIsIm1hcHNfMSIsImNvbGxlY3RNYXBFbnRyaWVzIiwiYXJyYXlzIiwiYXJyYXlzXzEiLCJhcnJheV8xIiwiY29sbGVjdEFycmF5RW50cmllcyIsInNjaGVtYVByb3BlcnRpZXMiLCJzY2hlbWVJZCIsInN0cmluZ3Nfc3RhcnRzV2l0aCIsIl9jIiwiY3JlYXRlQ29tYmluZWRTY2hlbWEiLCJzY2hlbWFJZHMiLCJjb21iaW5lZFNjaGVtYUlkIiwiY29tYmluZWRTY2hlbWEiLCJnZXRMYW5ndWFnZVNlcnZpY2UiLCJwYXJhbXMiLCJzY2hlbWFSZXF1ZXN0U2VydmljZSIsIndvcmtzcGFjZUNvbnRleHQiLCJqc29uQ29tcGxldGlvbiIsImpzb25Ib3ZlciIsImpzb25Eb2N1bWVudFN5bWJvbHMiLCJqc29uVmFsaWRhdGlvbiIsInNldHRpbmdzIiwiZmlsZU1hdGNoIiwicmVzZXRTY2hlbWEiLCJwYXJzZUpTT05Eb2N1bWVudCIsIm5ld0pTT05Eb2N1bWVudCIsImZpbmRDb2xvclN5bWJvbHMiLCJtYWluX2Zvcm1hdCIsImpzb25Xb3JrZXJfUHJvbWlzZSIsIlByb21pc2VBZGFwdGVyIiwiZXhlY3V0b3IiLCJ3cmFwcGVkIiwib25mdWxmaWxsZWQiLCJvbnJlamVjdGVkIiwiZ2V0V3JhcHBlZCIsInJlamVjdCIsImpzb25Xb3JrZXJfSlNPTldvcmtlciIsIkpTT05Xb3JrZXIiLCJfY3R4IiwiX2xhbmd1YWdlU2V0dGluZ3MiLCJsYW5ndWFnZVNldHRpbmdzIiwiX2xhbmd1YWdlU2VydmljZSIsIl9nZXRUZXh0RG9jdW1lbnQiLCJ0ZXh0RWRpdHMiLCJzeW1ib2xzIiwic3R5bGVzaGVldCIsImNvbG9yU3ltYm9scyIsImNvbG9yUHJlc2VudGF0aW9ucyIsIm1vZGVsc18xIiwid2VicGFja0VtcHR5Q29udGV4dCJdLCJtYXBwaW5ncyI6ImFBQUFBLEtBQUEsc0JBQUFDLEVBQUFDLEdBQ0EsUUFBQUMsS0FBQUQsRUFDQUUsRUFBQUQsR0FBQUQsRUFBQUMsR0FFQSxLQUFBRixFQUFBSSxRQUNBQyxFQUFBTCxFQUFBTSxPQUFBLEdBSUEsSUFBQUMsS0FJQUYsR0FDQUcsRUFBQSxHQUlBLFNBQUFDLEVBQUFQLEdBR0EsR0FBQUssRUFBQUwsR0FDQSxPQUFBSyxFQUFBTCxHQUFBUSxRQUdBLElBQUFDLEVBQUFKLEVBQUFMLElBQ0FVLEVBQUFWLEVBQ0FXLEdBQUEsRUFDQUgsWUFVQSxPQU5BUCxFQUFBRCxHQUFBWSxLQUFBSCxFQUFBRCxRQUFBQyxJQUFBRCxRQUFBRCxHQUdBRSxFQUFBRSxHQUFBLEVBR0FGLEVBQUFELFFBS0FELEVBQUFNLEVBQUFaLEVBR0FNLEVBQUFPLEVBQUFULEVBR0FFLEVBQUFRLEVBQUEsU0FBQVAsRUFBQVEsRUFBQUMsR0FDQVYsRUFBQVcsRUFBQVYsRUFBQVEsSUFDQUcsT0FBQUMsZUFBQVosRUFBQVEsR0FBMENLLFlBQUEsRUFBQUMsSUFBQUwsS0FLMUNWLEVBQUFnQixFQUFBLFNBQUFmLEdBQ0Esb0JBQUFnQixlQUFBQyxhQUNBTixPQUFBQyxlQUFBWixFQUFBZ0IsT0FBQUMsYUFBd0RDLE1BQUEsV0FFeERQLE9BQUFDLGVBQUFaLEVBQUEsY0FBaURrQixPQUFBLEtBUWpEbkIsRUFBQW9CLEVBQUEsU0FBQUQsRUFBQUUsR0FFQSxHQURBLEVBQUFBLElBQUFGLEVBQUFuQixFQUFBbUIsSUFDQSxFQUFBRSxFQUFBLE9BQUFGLEVBQ0EsS0FBQUUsR0FBQSxpQkFBQUYsUUFBQUcsV0FBQSxPQUFBSCxFQUNBLElBQUFJLEVBQUFYLE9BQUFZLE9BQUEsTUFHQSxHQUZBeEIsRUFBQWdCLEVBQUFPLEdBQ0FYLE9BQUFDLGVBQUFVLEVBQUEsV0FBeUNULFlBQUEsRUFBQUssVUFDekMs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QUYsR0FBQXY4QixPQUFBazhCLEVBQUFRLEdBRUExOEIsRUFBQSxhQUNBQSxFQUFBLGVBQ0FBLEVBQUEsU0FDQUEsRUFBQSxXQUNBQSxFQUFBLFdBQ0FBLEVBQUEsVUFDQUEsRUFBQSxTQUNBQSxFQUFBLGdCQUNBQSxFQUFBLGNBQ0FBLEVBQUEsWUFDQUEsRUFBQSxZQUNBQSxFQUFBLGFBQ0FBLEVBQUEsZUFDQUEsRUFBQSxVQUNBQSxFQUFBLFdBQ0FBLEVBQUEsdUJBQ0FBLEVBQUEsbUJBQ0FBLEVBQUEseUJBQ0FBLEVBQUEsdUJBQ0FBLEVBQUEsYUFDQUEsRUFBQSxhQUNBQSxFQUFBLFFBQ0FBLEVBQUEsUUFDQUEsRUFBQSxRQUNBQSxFQUFBLFFBQ0FBLEVBQUEsUUFDQUEsRUFBQSxRQUNBQSxFQUFBLFFBQ0FBLEVBQUEsUUFDQUEsRUFBQSxRQUNBQSxFQUFBLFFBQ0FBLEVBQUEsUUFDQUEsRUFBQSxRQUNBQSxFQUFBLFFBQ0FBLEVBQUEsUUFDQUEsRUFBQSxRQUNBQSxFQUFBLFFBQ0FBLEVBQUEsUUFDQUEsRUFBQSxRQUNBQSxFQUFBLFFBQ0FBLEVBQUEsUUFDQUEsRUFBQSxRQUNBQSxFQUFBLFFBQ0FBLEVBQUEsUUFDQUEsRUFBQSxRQUNBQSxFQUFBLFFBQ0FBLEVBQUEsUUFDQUEsRUFBQSxRQUNBQSxFQUFBLFFBQ0FBLEVBQUEsUUFDQUEsRUFBQSxRQUNBQSxFQUFBLFFBQ0FBLEVBQUEsUUFDQUEsRUFBQSxRQUNBQSxFQUFBLFFBQ0FBLEVBQUEsUUFDQUEsRUFBQSxRQUNBQSxFQUFBLFdBQ0FBLEVBQUEsa0JBQ0FBLEVBQUEsU0FDQUEsRUFBQSxTQUNBQSxFQUFBLFNBQ0FBLEVBQUEsU0FDQUEsRUFBQSxTQUNBQSxFQUFBLFNBQ0FBLEVBQUEsU0FDQUEsRUFBQSxTQUNBQSxFQUFBLFNBQ0FBLEVBQUEsVUFDQUEsRUFBQSxVQUNBQSxFQUFBLFVBQ0FBLEVBQUEsVUFDQUEsRUFBQSxVQUNBQSxFQUFBLFVBQ0FBLEVBQUEsVUFDQUEsRUFBQSxVQUNBQSxFQUFBLFVBQ0FBLEVBQUEsVUFDQUEsRUFB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QSxJQUFBLGtCQUNBQSxJQUFBLGtCQUNBQSxJQUFBLGtCQUNBQSxJQUFBLGtCQUNBQSxJQUFBLGtCQUNBQSxJQUFBLGtCQUNBQSxJQUFBLGtCQUNBQSxJQUFBLGtCQUNBQSxJQUFBLGtCQUNBQSxJQUFBLGtCQUNBQSxJQUFBLGtCQUNBQSxJQUFBLGtCQUNBQSxJQUFBLGtCQUNBQSxJQUFBLGtCQUNBQSxJQUFBLGtCQUNBQSxJQUFBLGtCQUNBQSxJQUFBLGtCQUNBQSxJQUFBLGtCQUNBQSxJQUFBLGtCQUNBQSxJQUFBLGtCQUNBQSxJQUFBLGtCQUNBQSxJQUFBLGtCQUNBQSxJQUFBLGtCQUNBQSxJQUFBLGtCQUNBQSxJQUFBLGtCQUNBQSxJQUFBLGdCQUNBQSxJQUFBLDhCQUNBQSxJQUFBLFlBQ0FBLElBQUEsWUFDQUEsSUFBQSxZQUNBQSxJQUFBLFlBQ0FBLElBQUEsWUFDQUEsSUFBQSxZQUNBQSxJQUFBLFlBQ0FBLElBQUEsWUFDQUEsSUFBQSxZQUNBQSxJQUFBLGNBQ0FBLElBQUEsY0FDQUEsSUFBQSxjQUNBQSxJQUFBLGNBQ0FBLElBQUEsY0FDQUEsSUFBQSxjQUNBQSxJQUFBLGNBQ0FBLElBQUEsY0FDQUEsSUFBQSxjQUNBQSxJQUFBLGNBQ0FBLElBQUEsc0JBQ0FBLElBQUEsNEJBS0FBLElBQUEsZ0NBS0FBLElBQUEsd0JBS0FBLElBQUEsd0JBS0FBLElBQUEsd0JBS0FBLElBQUEsb0JBS0FBLElBQUEsd0JBS0FBLElBQUEsOEJBS0FBLElBQUEsb0RBS0FBLElBQUEsZ0NBS0FBLElBQUEsc0RBS0FBLElBQUEsd0JBSUFBLElBQUEsa0JBSUFBLElBQUEsc0JBQ0FBLElBQUEsd0JBQ0FBLElBQUEsd0JBQ0FBLElBQUEsd0JBQ0FBLElBQUEsd0JBQ0FBLElBQUEsd0JBQ0FBLElBQUEsd0JBQ0FBLElBQUEsd0JBQ0FBLElBQUEseUJBQ0FBLElBQUEseUJBQ0FBLElBQUEseUJBQ0FBLElBQUEsdUNBQ0FBLElBQUEsNkJBQ0FBLElBQUEseUNBQ0FBLElBQUEsdUNBQ0FBLElBQUEscUNBQ0FBLElBQUEs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QWpCLEdBQUFqdUQsR0FBQW12RCxJQUVBVCxFQUFBcCtELFVBQUFnMkQsc0JBQUEsU0FBQTMvQyxFQUFBMC9DLEVBQUE5NUMsR0FDQSxJQUFBMDlCLEVBQUFuOEMsS0FBQWloRSxpQkFBQXBvRCxHQUNBdW9ELEVBQUFwaEUsS0FBQWdoRSxpQkFBQWpCLGtCQUFBNWpCLEdBQ0FtbEIsRUFBQXRoRSxLQUFBZ2hFLGlCQUFBeEksc0JBQUFyYyxFQUFBaWxCLEVBQUE3SSxFQUFBOTVDLEdBQ0EsT0FBQTBoRCxHQUFBanVELEdBQUFvdkQsSUFFQVYsRUFBQXArRCxVQUFBeStELGlCQUFBLFNBQUFwb0QsR0FFQSxJQURBLElBQ0F5VixFQUFBLEVBQUFpekMsRUFEQXZoRSxLQUFBNmdFLEtBQUF4MEIsa0JBQzJDL2QsRUFBQWl6QyxFQUFBbGhFLE9BQXNCaXVCLElBQUEsQ0FDakUsSUFBQTJMLEVBQUFzbkMsRUFBQWp6QyxHQUNBLEdBQUEyTCxFQUFBcGhCLElBQUFoRCxhQUFBZ0QsRUFDQSxPQUFBa2pDLEdBQUE3NUMsT0FBQTJXLEVBQUE3WSxLQUFBODhDLFlBQUE3aUIsRUFBQWxmLFFBQUFrZixFQUFBcU4sWUFHQSxhQUVBczVCLEVBakVBLEdDMUJBcDlELEtBQUF3eEMsVUFBQSxXQUVBQyxHQUFBLFNBQUE3SSxFQUFBRCxHQUNBLFdBQUF3MEIsR0FBQXYwQixFQUFBRCxxQkNWQSxTQUFBcTFCLEVBQUFsdkIsR0FDQSxJQUFBbmlDLEVBQUEsSUFBQXRJLE1BQUEsdUJBQUF5cUMsRUFBQSxLQUVBLE1BREFuaUMsRUFBQThtQyxLQUFBLG1CQUNBOW1DLEVBRUFxeEQsRUFBQXY4RCxLQUFBLFdBQXVDLFVBQ3ZDdThELEVBQUFoMUIsUUFBQWcxQixFQUNBNWdFLEVBQUFELFFBQUE2Z0UsRUFDQUEsRUFBQTV4RCxHQUFBIiwiZmlsZSI6Impzb24ud29ya2VyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0dGhpc1tcIndlYnBhY2tDaHVua1wiXSA9IGZ1bmN0aW9uIHdlYnBhY2tDaHVua0NhbGxiYWNrKGNodW5rSWRzLCBtb3JlTW9kdWxlcykge1xuIFx0XHRmb3IodmFyIG1vZHVsZUlkIGluIG1vcmVNb2R1bGVzKSB7XG4gXHRcdFx0bW9kdWxlc1ttb2R1bGVJZF0gPSBtb3JlTW9kdWxlc1ttb2R1bGVJZF07XG4gXHRcdH1cbiBcdFx0d2hpbGUoY2h1bmtJZHMubGVuZ3RoKVxuIFx0XHRcdGluc3RhbGxlZENodW5rc1tjaHVua0lkcy5wb3AoKV0gPSAxO1xuIFx0fTtcblxuIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gb2JqZWN0IHRvIHN0b3JlIGxvYWRlZCBjaHVua3NcbiBcdC8vIFwiMVwiIG1lYW5zIFwiYWxyZWFkeSBsb2FkZWRcIlxuIFx0dmFyIGluc3RhbGxlZENodW5rcyA9IHtcbiBcdFx0MDogMVxuIFx0fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDUpO1xuIiwiLyoqXG4gKiBFeHRyYWN0ZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vd2luanMvd2luanNcbiAqIFZlcnNpb246IDQuNC4wKGVjMzI1OGE5ZjNhMzY4MDVhMTg3ODQ4OTg0ZTNiYjkzODA0NDE3OGQpXG4gKiBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cbiAqIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKi9cbnZhciBfX3dpbmpzX2V4cG9ydHM7XG5cbihmdW5jdGlvbigpIHtcblxudmFyIF9tb2R1bGVzID0gT2JqZWN0LmNyZWF0ZShudWxsKTsvL3t9O1xuX21vZHVsZXNbXCJXaW5KUy9Db3JlL19XaW5KU1wiXSA9IHt9O1xuXG52YXIgX3dpbmpzID0gZnVuY3Rpb24obW9kdWxlSWQsIGRlcHMsIGZhY3RvcnkpIHtcbiAgICB2YXIgZXhwb3J0cyA9IHt9O1xuICAgIHZhciBleHBvcnRzUGFzc2VkSW4gPSBmYWxzZTtcblxuICAgIHZhciBkZXBzVmFsdWVzID0gZGVwcy5tYXAoZnVuY3Rpb24oZGVwKSB7XG4gICAgICAgIGlmIChkZXAgPT09ICdleHBvcnRzJykge1xuICAgICAgICAgICAgZXhwb3J0c1Bhc3NlZEluID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybiBleHBvcnRzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfbW9kdWxlc1tkZXBdO1xuICAgIH0pO1xuXG4gICAgdmFyIHJlc3VsdCA9IGZhY3RvcnkuYXBwbHkoe30sIGRlcHNWYWx1ZXMpO1xuXG4gICAgX21vZHVsZXNbbW9kdWxlSWRdID0gZXhwb3J0c1Bhc3NlZEluID8gZXhwb3J0cyA6IHJlc3VsdDtcbn07XG5cblxuX3dpbmpzKFwiV2luSlMvQ29yZS9fR2xvYmFsXCIsIFtdLCBmdW5jdGlvbiAoKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgICAvLyBBcHBlYXNlIGpzaGludFxuICAgIC8qIGdsb2JhbCB3aW5kb3csIHNlbGYsIGdsb2JhbCAqL1xuXG4gICAgdmFyIGdsb2JhbE9iamVjdCA9XG4gICAgICAgIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDpcbiAgICAgICAgdHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnID8gc2VsZiA6XG4gICAgICAgIHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnID8gZ2xvYmFsIDpcbiAgICAgICAge307XG4gICAgcmV0dXJuIGdsb2JhbE9iamVjdDtcbn0pO1xuXG5fd2luanMoXCJXaW5KUy9Db3JlL19CYXNlQ29yZVV0aWxzXCIsIFtcIldpbkpTL0NvcmUvX0dsb2JhbFwiXSwgZnVuY3Rpb24gYmFzZUNvcmVVdGlsc0luaXQoX0dsb2JhbCkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuXG4gICAgdmFyIGhhc1dpblJUID0gISFfR2xvYmFsLldpbmRvd3M7XG5cbiAgICBmdW5jdGlvbiBtYXJrU3VwcG9ydGVkRm9yUHJvY2Vzc2luZyhmdW5jKSB7XG4gICAgICAgIC8vLyA8c2lnbmF0dXJlIGhlbHBLZXl3b3JkPVwiV2luSlMuVXRpbGl0aWVzLm1hcmtTdXBwb3J0ZWRGb3JQcm9jZXNzaW5nXCI+XG4gICAgICAgIC8vLyA8c3VtbWFyeSBsb2NpZD1cIldpbkpTLlV0aWxpdGllcy5tYXJrU3VwcG9ydGVkRm9yUHJvY2Vzc2luZ1wiPlxuICAgICAgICAvLy8gTWFya3MgYSBmdW5jdGlvbiBhcyBiZWluZyBjb21wYXRpYmxlIHdpdGggZGVjbGFyYXRpdmUgcHJvY2Vzc2luZywgc3VjaCBhcyBXaW5KUy5VSS5wcm9jZXNzQWxsXG4gICAgICAgIC8vLyBvciBXaW5KUy5CaW5kaW5nLnByb2Nlc3NBbGwuXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XG4gICAgICAgIC8vLyA8cGFyYW0gbmFtZT1cImZ1bmNcIiB0eXBlPVwiRnVuY3Rpb25cIiBsb2NpZD1cIldpbkpTLlV0aWxpdGllcy5tYXJrU3VwcG9ydGVkRm9yUHJvY2Vzc2luZ19wOmZ1bmNcIj5cbiAgICAgICAgLy8vIFRoZSBmdW5jdGlvbiB0byBiZSBtYXJrZWQgYXMgY29tcGF0aWJsZSB3aXRoIGRlY2xhcmF0aXZlIHByb2Nlc3NpbmcuXG4gICAgICAgIC8vLyA8L3BhcmFtPlxuICAgICAgICAvLy8gPHJldHVybnMgdHlwZT1cIkZ1bmN0aW9uXCIgbG9jaWQ9XCJXaW5KUy5VdGlsaXRpZXMubWFya1N1cHBvcnRlZEZvclByb2Nlc3NpbmdfcmV0dXJuVmFsdWVcIj5cbiAgICAgICAgLy8vIFRoZSBpbnB1dCBmdW5jdGlvbi5cbiAgICAgICAgLy8vIDwvcmV0dXJucz5cbiAgICAgICAgLy8vIDwvc2lnbmF0dXJlPlxuICAgICAgICBmdW5jLnN1cHBvcnRlZEZvclByb2Nlc3NpbmcgPSB0cnVlO1xuICAgICAgICByZXR1cm4gZnVuYztcbiAgICB9XG5cbiAgICB2YXIgYWN0dWFsU2V0SW1tZWRpYXRlID0gbnVsbDtcblxuICAgIHJldHVybiB7XG4gICAgICAgIGhhc1dpblJUOiBoYXNXaW5SVCxcbiAgICAgICAgbWFya1N1cHBvcnRlZEZvclByb2Nlc3Npbmc6IG1hcmtTdXBwb3J0ZWRGb3JQcm9jZXNzaW5nLFxuICAgICAgICBfc2V0SW1tZWRpYXRlOiBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgIC8vIEJFR0lOIG1vbmFjbyBjaGFuZ2VcbiAgICAgICAgICAgIGlmIChhY3R1YWxTZXRJbW1lZGlhdGUgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAoX0dsb2JhbC5zZXRJbW1lZGlhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgYWN0dWFsU2V0SW1tZWRpYXRlID0gX0dsb2JhbC5zZXRJbW1lZGlhdGUuYmluZChfR2xvYmFsKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgcHJvY2Vzcy5uZXh0VGljayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICBhY3R1YWxTZXRJbW1lZGlhdGUgPSBwcm9jZXNzLm5leHRUaWNrLmJpbmQocHJvY2Vzcyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYWN0dWFsU2V0SW1tZWRpYXRlID0gX0dsb2JhbC5zZXRUaW1lb3V0LmJpbmQoX0dsb2JhbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYWN0dWFsU2V0SW1tZWRpYXRlKGNhbGxiYWNrKTtcbiAgICAgICAgICAgIC8vIEVORCBtb25hY28gY2hhbmdlXG4gICAgICAgIH1cbiAgICB9O1xufSk7XG5fd2luanMoXCJXaW5KUy9Db3JlL19Xcml0ZVByb2ZpbGVyTWFya1wiLCBbXCJXaW5KUy9Db3JlL19HbG9iYWxcIl0sIGZ1bmN0aW9uIHByb2ZpbGVySW5pdChfR2xvYmFsKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgICByZXR1cm4gX0dsb2JhbC5tc1dyaXRlUHJvZmlsZXJNYXJrIHx8IGZ1bmN0aW9uICgpIHsgfTtcbn0pO1xuX3dpbmpzKFwiV2luSlMvQ29yZS9fQmFzZVwiLCBbXCJXaW5KUy9Db3JlL19XaW5KU1wiLFwiV2luSlMvQ29yZS9fR2xvYmFsXCIsXCJXaW5KUy9Db3JlL19CYXNlQ29yZVV0aWxzXCIsXCJXaW5KUy9Db3JlL19Xcml0ZVByb2ZpbGVyTWFya1wiXSwgZnVuY3Rpb24gYmFzZUluaXQoX1dpbkpTLCBfR2xvYmFsLCBfQmFzZUNvcmVVdGlscywgX1dyaXRlUHJvZmlsZXJNYXJrKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgICBmdW5jdGlvbiBpbml0aWFsaXplUHJvcGVydGllcyh0YXJnZXQsIG1lbWJlcnMsIHByZWZpeCkge1xuICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG1lbWJlcnMpO1xuICAgICAgICB2YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXkodGFyZ2V0KTtcbiAgICAgICAgdmFyIHByb3BlcnRpZXM7XG4gICAgICAgIHZhciBpLCBsZW47XG4gICAgICAgIGZvciAoaSA9IDAsIGxlbiA9IGtleXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuICAgICAgICAgICAgdmFyIGVudW1lcmFibGUgPSBrZXkuY2hhckNvZGVBdCgwKSAhPT0gLypfKi85NTtcbiAgICAgICAgICAgIHZhciBtZW1iZXIgPSBtZW1iZXJzW2tleV07XG4gICAgICAgICAgICBpZiAobWVtYmVyICYmIHR5cGVvZiBtZW1iZXIgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1lbWJlci52YWx1ZSAhPT0gdW5kZWZpbmVkIHx8IHR5cGVvZiBtZW1iZXIuZ2V0ID09PSAnZnVuY3Rpb24nIHx8IHR5cGVvZiBtZW1iZXIuc2V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZW1iZXIuZW51bWVyYWJsZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZW1iZXIuZW51bWVyYWJsZSA9IGVudW1lcmFibGU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHByZWZpeCAmJiBtZW1iZXIuc2V0TmFtZSAmJiB0eXBlb2YgbWVtYmVyLnNldE5hbWUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lbWJlci5zZXROYW1lKHByZWZpeCArIFwiLlwiICsga2V5KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzID0gcHJvcGVydGllcyB8fCB7fTtcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllc1trZXldID0gbWVtYmVyO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWVudW1lcmFibGUpIHtcbiAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzID0gcHJvcGVydGllcyB8fCB7fTtcbiAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzW2tleV0gPSB7IHZhbHVlOiBtZW1iZXIsIGVudW1lcmFibGU6IGVudW1lcmFibGUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpc0FycmF5KSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0LmZvckVhY2goZnVuY3Rpb24gKHRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXRba2V5XSA9IG1lbWJlcjtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0W2tleV0gPSBtZW1iZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgIGlmIChpc0FycmF5KSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0LmZvckVhY2goZnVuY3Rpb24gKHRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BlcnRpZXMpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BlcnRpZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICB2YXIgX3Jvb3ROYW1lc3BhY2UgPSBfV2luSlM7XG4gICAgICAgIGlmICghX3Jvb3ROYW1lc3BhY2UuTmFtZXNwYWNlKSB7XG4gICAgICAgICAgICBfcm9vdE5hbWVzcGFjZS5OYW1lc3BhY2UgPSBPYmplY3QuY3JlYXRlKE9iamVjdC5wcm90b3R5cGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlTmFtZXNwYWNlKHBhcmVudE5hbWVzcGFjZSwgbmFtZSkge1xuICAgICAgICAgICAgdmFyIGN1cnJlbnROYW1lc3BhY2UgPSBwYXJlbnROYW1lc3BhY2UgfHwge307XG4gICAgICAgICAgICBpZiAobmFtZSkge1xuICAgICAgICAgICAgICAgIHZhciBuYW1lc3BhY2VGcmFnbWVudHMgPSBuYW1lLnNwbGl0KFwiLlwiKTtcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudE5hbWVzcGFjZSA9PT0gX0dsb2JhbCAmJiBuYW1lc3BhY2VGcmFnbWVudHNbMF0gPT09IFwiV2luSlNcIikge1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50TmFtZXNwYWNlID0gX1dpbkpTO1xuICAgICAgICAgICAgICAgICAgICBuYW1lc3BhY2VGcmFnbWVudHMuc3BsaWNlKDAsIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gbmFtZXNwYWNlRnJhZ21lbnRzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBuYW1lc3BhY2VOYW1lID0gbmFtZXNwYWNlRnJhZ21lbnRzW2ldO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWN1cnJlbnROYW1lc3BhY2VbbmFtZXNwYWNlTmFtZV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjdXJyZW50TmFtZXNwYWNlLCBuYW1lc3BhY2VOYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgdmFsdWU6IHt9LCB3cml0YWJsZTogZmFsc2UsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9XG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnROYW1lc3BhY2UgPSBjdXJyZW50TmFtZXNwYWNlW25hbWVzcGFjZU5hbWVdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjdXJyZW50TmFtZXNwYWNlO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZGVmaW5lV2l0aFBhcmVudChwYXJlbnROYW1lc3BhY2UsIG5hbWUsIG1lbWJlcnMpIHtcbiAgICAgICAgICAgIC8vLyA8c2lnbmF0dXJlIGhlbHBLZXl3b3JkPVwiV2luSlMuTmFtZXNwYWNlLmRlZmluZVdpdGhQYXJlbnRcIj5cbiAgICAgICAgICAgIC8vLyA8c3VtbWFyeSBsb2NpZD1cIldpbkpTLk5hbWVzcGFjZS5kZWZpbmVXaXRoUGFyZW50XCI+XG4gICAgICAgICAgICAvLy8gRGVmaW5lcyBhIG5ldyBuYW1lc3BhY2Ugd2l0aCB0aGUgc3BlY2lmaWVkIG5hbWUgdW5kZXIgdGhlIHNwZWNpZmllZCBwYXJlbnQgbmFtZXNwYWNlLlxuICAgICAgICAgICAgLy8vIDwvc3VtbWFyeT5cbiAgICAgICAgICAgIC8vLyA8cGFyYW0gbmFtZT1cInBhcmVudE5hbWVzcGFjZVwiIHR5cGU9XCJPYmplY3RcIiBsb2NpZD1cIldpbkpTLk5hbWVzcGFjZS5kZWZpbmVXaXRoUGFyZW50X3A6cGFyZW50TmFtZXNwYWNlXCI+XG4gICAgICAgICAgICAvLy8gVGhlIHBhcmVudCBuYW1lc3BhY2UuXG4gICAgICAgICAgICAvLy8gPC9wYXJhbT5cbiAgICAgICAgICAgIC8vLyA8cGFyYW0gbmFtZT1cIm5hbWVcIiB0eXBlPVwiU3RyaW5nXCIgbG9jaWQ9XCJXaW5KUy5OYW1lc3BhY2UuZGVmaW5lV2l0aFBhcmVudF9wOm5hbWVcIj5cbiAgICAgICAgICAgIC8vLyBUaGUgbmFtZSBvZiB0aGUgbmV3IG5hbWVzcGFjZS5cbiAgICAgICAgICAgIC8vLyA8L3BhcmFtPlxuICAgICAgICAgICAgLy8vIDxwYXJhbSBuYW1lPVwibWVtYmVyc1wiIHR5cGU9XCJPYmplY3RcIiBsb2NpZD1cIldpbkpTLk5hbWVzcGFjZS5kZWZpbmVXaXRoUGFyZW50X3A6bWVtYmVyc1wiPlxuICAgICAgICAgICAgLy8vIFRoZSBtZW1iZXJzIG9mIHRoZSBuZXcgbmFtZXNwYWNlLlxuICAgICAgICAgICAgLy8vIDwvcGFyYW0+XG4gICAgICAgICAgICAvLy8gPHJldHVybnMgdHlwZT1cIk9iamVjdFwiIGxvY2lkPVwiV2luSlMuTmFtZXNwYWNlLmRlZmluZVdpdGhQYXJlbnRfcmV0dXJuVmFsdWVcIj5cbiAgICAgICAgICAgIC8vLyBUaGUgbmV3bHktZGVmaW5lZCBuYW1lc3BhY2UuXG4gICAgICAgICAgICAvLy8gPC9yZXR1cm5zPlxuICAgICAgICAgICAgLy8vIDwvc2lnbmF0dXJlPlxuICAgICAgICAgICAgdmFyIGN1cnJlbnROYW1lc3BhY2UgPSBjcmVhdGVOYW1lc3BhY2UocGFyZW50TmFtZXNwYWNlLCBuYW1lKTtcblxuICAgICAgICAgICAgaWYgKG1lbWJlcnMpIHtcbiAgICAgICAgICAgICAgICBpbml0aWFsaXplUHJvcGVydGllcyhjdXJyZW50TmFtZXNwYWNlLCBtZW1iZXJzLCBuYW1lIHx8IFwiPEFOT05ZTU9VUz5cIik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBjdXJyZW50TmFtZXNwYWNlO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZGVmaW5lKG5hbWUsIG1lbWJlcnMpIHtcbiAgICAgICAgICAgIC8vLyA8c2lnbmF0dXJlIGhlbHBLZXl3b3JkPVwiV2luSlMuTmFtZXNwYWNlLmRlZmluZVwiPlxuICAgICAgICAgICAgLy8vIDxzdW1tYXJ5IGxvY2lkPVwiV2luSlMuTmFtZXNwYWNlLmRlZmluZVwiPlxuICAgICAgICAgICAgLy8vIERlZmluZXMgYSBuZXcgbmFtZXNwYWNlIHdpdGggdGhlIHNwZWNpZmllZCBuYW1lLlxuICAgICAgICAgICAgLy8vIDwvc3VtbWFyeT5cbiAgICAgICAgICAgIC8vLyA8cGFyYW0gbmFtZT1cIm5hbWVcIiB0eXBlPVwiU3RyaW5nXCIgbG9jaWQ9XCJXaW5KUy5OYW1lc3BhY2UuZGVmaW5lX3A6bmFtZVwiPlxuICAgICAgICAgICAgLy8vIFRoZSBuYW1lIG9mIHRoZSBuYW1lc3BhY2UuIFRoaXMgY291bGQgYmUgYSBkb3Qtc2VwYXJhdGVkIG5hbWUgZm9yIG5lc3RlZCBuYW1lc3BhY2VzLlxuICAgICAgICAgICAgLy8vIDwvcGFyYW0+XG4gICAgICAgICAgICAvLy8gPHBhcmFtIG5hbWU9XCJtZW1iZXJzXCIgdHlwZT1cIk9iamVjdFwiIGxvY2lkPVwiV2luSlMuTmFtZXNwYWNlLmRlZmluZV9wOm1lbWJlcnNcIj5cbiAgICAgICAgICAgIC8vLyBUaGUgbWVtYmVycyBvZiB0aGUgbmV3IG5hbWVzcGFjZS5cbiAgICAgICAgICAgIC8vLyA8L3BhcmFtPlxuICAgICAgICAgICAgLy8vIDxyZXR1cm5zIHR5cGU9XCJPYmplY3RcIiBsb2NpZD1cIldpbkpTLk5hbWVzcGFjZS5kZWZpbmVfcmV0dXJuVmFsdWVcIj5cbiAgICAgICAgICAgIC8vLyBUaGUgbmV3bHktZGVmaW5lZCBuYW1lc3BhY2UuXG4gICAgICAgICAgICAvLy8gPC9yZXR1cm5zPlxuICAgICAgICAgICAgLy8vIDwvc2lnbmF0dXJlPlxuICAgICAgICAgICAgcmV0dXJuIGRlZmluZVdpdGhQYXJlbnQoX0dsb2JhbCwgbmFtZSwgbWVtYmVycyk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgTGF6eVN0YXRlcyA9IHtcbiAgICAgICAgICAgIHVuaW5pdGlhbGl6ZWQ6IDEsXG4gICAgICAgICAgICB3b3JraW5nOiAyLFxuICAgICAgICAgICAgaW5pdGlhbGl6ZWQ6IDMsXG4gICAgICAgIH07XG5cbiAgICAgICAgZnVuY3Rpb24gbGF6eShmKSB7XG4gICAgICAgICAgICB2YXIgbmFtZTtcbiAgICAgICAgICAgIHZhciBzdGF0ZSA9IExhenlTdGF0ZXMudW5pbml0aWFsaXplZDtcbiAgICAgICAgICAgIHZhciByZXN1bHQ7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHNldE5hbWU6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBuYW1lID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChzdGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBMYXp5U3RhdGVzLmluaXRpYWxpemVkOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgTGF6eVN0YXRlcy51bmluaXRpYWxpemVkOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlID0gTGF6eVN0YXRlcy53b3JraW5nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9Xcml0ZVByb2ZpbGVyTWFyayhcIldpbkpTLk5hbWVzcGFjZS5fbGF6eTpcIiArIG5hbWUgKyBcIixTdGFydFRNXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBmKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX1dyaXRlUHJvZmlsZXJNYXJrKFwiV2luSlMuTmFtZXNwYWNlLl9sYXp5OlwiICsgbmFtZSArIFwiLFN0b3BUTVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSBMYXp5U3RhdGVzLnVuaW5pdGlhbGl6ZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGYgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlID0gTGF6eVN0YXRlcy5pbml0aWFsaXplZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIExhenlTdGF0ZXMud29ya2luZzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBcIklsbGVnYWw6IHJlZW50cmFuY3kgb24gaW5pdGlhbGl6YXRpb25cIjtcblxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBcIklsbGVnYWxcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChzdGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBMYXp5U3RhdGVzLndvcmtpbmc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgXCJJbGxlZ2FsOiByZWVudHJhbmN5IG9uIGluaXRpYWxpemF0aW9uXCI7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSBMYXp5U3RhdGVzLmluaXRpYWxpemVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBoZWxwZXIgZm9yIGRlZmluaW5nIEFNRCBtb2R1bGUgbWVtYmVyc1xuICAgICAgICBmdW5jdGlvbiBtb2R1bGVEZWZpbmUoZXhwb3J0cywgbmFtZSwgbWVtYmVycykge1xuICAgICAgICAgICAgdmFyIHRhcmdldCA9IFtleHBvcnRzXTtcbiAgICAgICAgICAgIHZhciBwdWJsaWNOUyA9IG51bGw7XG4gICAgICAgICAgICBpZiAobmFtZSkge1xuICAgICAgICAgICAgICAgIHB1YmxpY05TID0gY3JlYXRlTmFtZXNwYWNlKF9HbG9iYWwsIG5hbWUpO1xuICAgICAgICAgICAgICAgIHRhcmdldC5wdXNoKHB1YmxpY05TKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGluaXRpYWxpemVQcm9wZXJ0aWVzKHRhcmdldCwgbWVtYmVycywgbmFtZSB8fCBcIjxBTk9OWU1PVVM+XCIpO1xuICAgICAgICAgICAgcmV0dXJuIHB1YmxpY05TO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRXN0YWJsaXNoIG1lbWJlcnMgb2YgdGhlIFwiV2luSlMuTmFtZXNwYWNlXCIgbmFtZXNwYWNlXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKF9yb290TmFtZXNwYWNlLk5hbWVzcGFjZSwge1xuXG4gICAgICAgICAgICBkZWZpbmVXaXRoUGFyZW50OiB7IHZhbHVlOiBkZWZpbmVXaXRoUGFyZW50LCB3cml0YWJsZTogdHJ1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0sXG5cbiAgICAgICAgICAgIGRlZmluZTogeyB2YWx1ZTogZGVmaW5lLCB3cml0YWJsZTogdHJ1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0sXG5cbiAgICAgICAgICAgIF9sYXp5OiB7IHZhbHVlOiBsYXp5LCB3cml0YWJsZTogdHJ1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0sXG5cbiAgICAgICAgICAgIF9tb2R1bGVEZWZpbmU6IHsgdmFsdWU6IG1vZHVsZURlZmluZSwgd3JpdGFibGU6IHRydWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9XG5cbiAgICAgICAgfSk7XG5cbiAgICB9KSgpO1xuXG4gICAgKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICBmdW5jdGlvbiBkZWZpbmUoY29uc3RydWN0b3IsIGluc3RhbmNlTWVtYmVycywgc3RhdGljTWVtYmVycykge1xuICAgICAgICAgICAgLy8vIDxzaWduYXR1cmUgaGVscEtleXdvcmQ9XCJXaW5KUy5DbGFzcy5kZWZpbmVcIj5cbiAgICAgICAgICAgIC8vLyA8c3VtbWFyeSBsb2NpZD1cIldpbkpTLkNsYXNzLmRlZmluZVwiPlxuICAgICAgICAgICAgLy8vIERlZmluZXMgYSBjbGFzcyB1c2luZyB0aGUgZ2l2ZW4gY29uc3RydWN0b3IgYW5kIHRoZSBzcGVjaWZpZWQgaW5zdGFuY2UgbWVtYmVycy5cbiAgICAgICAgICAgIC8vLyA8L3N1bW1hcnk+XG4gICAgICAgICAgICAvLy8gPHBhcmFtIG5hbWU9XCJjb25zdHJ1Y3RvclwiIHR5cGU9XCJGdW5jdGlvblwiIGxvY2lkPVwiV2luSlMuQ2xhc3MuZGVmaW5lX3A6Y29uc3RydWN0b3JcIj5cbiAgICAgICAgICAgIC8vLyBBIGNvbnN0cnVjdG9yIGZ1bmN0aW9uIHRoYXQgaXMgdXNlZCB0byBpbnN0YW50aWF0ZSB0aGlzIGNsYXNzLlxuICAgICAgICAgICAgLy8vIDwvcGFyYW0+XG4gICAgICAgICAgICAvLy8gPHBhcmFtIG5hbWU9XCJpbnN0YW5jZU1lbWJlcnNcIiB0eXBlPVwiT2JqZWN0XCIgbG9jaWQ9XCJXaW5KUy5DbGFzcy5kZWZpbmVfcDppbnN0YW5jZU1lbWJlcnNcIj5cbiAgICAgICAgICAgIC8vLyBUaGUgc2V0IG9mIGluc3RhbmNlIGZpZWxkcywgcHJvcGVydGllcywgYW5kIG1ldGhvZHMgbWFkZSBhdmFpbGFibGUgb24gdGhlIGNsYXNzLlxuICAgICAgICAgICAgLy8vIDwvcGFyYW0+XG4gICAgICAgICAgICAvLy8gPHBhcmFtIG5hbWU9XCJzdGF0aWNNZW1iZXJzXCIgdHlwZT1cIk9iamVjdFwiIGxvY2lkPVwiV2luSlMuQ2xhc3MuZGVmaW5lX3A6c3RhdGljTWVtYmVyc1wiPlxuICAgICAgICAgICAgLy8vIFRoZSBzZXQgb2Ygc3RhdGljIGZpZWxkcywgcHJvcGVydGllcywgYW5kIG1ldGhvZHMgbWFkZSBhdmFpbGFibGUgb24gdGhlIGNsYXNzLlxuICAgICAgICAgICAgLy8vIDwvcGFyYW0+XG4gICAgICAgICAgICAvLy8gPHJldHVybnMgdHlwZT1cIkZ1bmN0aW9uXCIgbG9jaWQ9XCJXaW5KUy5DbGFzcy5kZWZpbmVfcmV0dXJuVmFsdWVcIj5cbiAgICAgICAgICAgIC8vLyBUaGUgbmV3bHktZGVmaW5lZCBjbGFzcy5cbiAgICAgICAgICAgIC8vLyA8L3JldHVybnM+XG4gICAgICAgICAgICAvLy8gPC9zaWduYXR1cmU+XG4gICAgICAgICAgICBjb25zdHJ1Y3RvciA9IGNvbnN0cnVjdG9yIHx8IGZ1bmN0aW9uICgpIHsgfTtcbiAgICAgICAgICAgIF9CYXNlQ29yZVV0aWxzLm1hcmtTdXBwb3J0ZWRGb3JQcm9jZXNzaW5nKGNvbnN0cnVjdG9yKTtcbiAgICAgICAgICAgIGlmIChpbnN0YW5jZU1lbWJlcnMpIHtcbiAgICAgICAgICAgICAgICBpbml0aWFsaXplUHJvcGVydGllcyhjb25zdHJ1Y3Rvci5wcm90b3R5cGUsIGluc3RhbmNlTWVtYmVycyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc3RhdGljTWVtYmVycykge1xuICAgICAgICAgICAgICAgIGluaXRpYWxpemVQcm9wZXJ0aWVzKGNvbnN0cnVjdG9yLCBzdGF0aWNNZW1iZXJzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjb25zdHJ1Y3RvcjtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGRlcml2ZShiYXNlQ2xhc3MsIGNvbnN0cnVjdG9yLCBpbnN0YW5jZU1lbWJlcnMsIHN0YXRpY01lbWJlcnMpIHtcbiAgICAgICAgICAgIC8vLyA8c2lnbmF0dXJlIGhlbHBLZXl3b3JkPVwiV2luSlMuQ2xhc3MuZGVyaXZlXCI+XG4gICAgICAgICAgICAvLy8gPHN1bW1hcnkgbG9jaWQ9XCJXaW5KUy5DbGFzcy5kZXJpdmVcIj5cbiAgICAgICAgICAgIC8vLyBDcmVhdGVzIGEgc3ViLWNsYXNzIGJhc2VkIG9uIHRoZSBzdXBwbGllZCBiYXNlQ2xhc3MgcGFyYW1ldGVyLCB1c2luZyBwcm90b3R5cGFsIGluaGVyaXRhbmNlLlxuICAgICAgICAgICAgLy8vIDwvc3VtbWFyeT5cbiAgICAgICAgICAgIC8vLyA8cGFyYW0gbmFtZT1cImJhc2VDbGFzc1wiIHR5cGU9XCJGdW5jdGlvblwiIGxvY2lkPVwiV2luSlMuQ2xhc3MuZGVyaXZlX3A6YmFzZUNsYXNzXCI+XG4gICAgICAgICAgICAvLy8gVGhlIGNsYXNzIHRvIGluaGVyaXQgZnJvbS5cbiAgICAgICAgICAgIC8vLyA8L3BhcmFtPlxuICAgICAgICAgICAgLy8vIDxwYXJhbSBuYW1lPVwiY29uc3RydWN0b3JcIiB0eXBlPVwiRnVuY3Rpb25cIiBsb2NpZD1cIldpbkpTLkNsYXNzLmRlcml2ZV9wOmNvbnN0cnVjdG9yXCI+XG4gICAgICAgICAgICAvLy8gQSBjb25zdHJ1Y3RvciBmdW5jdGlvbiB0aGF0IGlzIHVzZWQgdG8gaW5zdGFudGlhdGUgdGhpcyBjbGFzcy5cbiAgICAgICAgICAgIC8vLyA8L3BhcmFtPlxuICAgICAgICAgICAgLy8vIDxwYXJhbSBuYW1lPVwiaW5zdGFuY2VNZW1iZXJzXCIgdHlwZT1cIk9iamVjdFwiIGxvY2lkPVwiV2luSlMuQ2xhc3MuZGVyaXZlX3A6aW5zdGFuY2VNZW1iZXJzXCI+XG4gICAgICAgICAgICAvLy8gVGhlIHNldCBvZiBpbnN0YW5jZSBmaWVsZHMsIHByb3BlcnRpZXMsIGFuZCBtZXRob2RzIHRvIGJlIG1hZGUgYXZhaWxhYmxlIG9uIHRoZSBjbGFzcy5cbiAgICAgICAgICAgIC8vLyA8L3BhcmFtPlxuICAgICAgICAgICAgLy8vIDxwYXJhbSBuYW1lPVwic3RhdGljTWVtYmVyc1wiIHR5cGU9XCJPYmplY3RcIiBsb2NpZD1cIldpbkpTLkNsYXNzLmRlcml2ZV9wOnN0YXRpY01lbWJlcnNcIj5cbiAgICAgICAgICAgIC8vLyBUaGUgc2V0IG9mIHN0YXRpYyBmaWVsZHMsIHByb3BlcnRpZXMsIGFuZCBtZXRob2RzIHRvIGJlIG1hZGUgYXZhaWxhYmxlIG9uIHRoZSBjbGFzcy5cbiAgICAgICAgICAgIC8vLyA8L3BhcmFtPlxuICAgICAgICAgICAgLy8vIDxyZXR1cm5zIHR5cGU9XCJGdW5jdGlvblwiIGxvY2lkPVwiV2luSlMuQ2xhc3MuZGVyaXZlX3JldHVyblZhbHVlXCI+XG4gICAgICAgICAgICAvLy8gVGhlIG5ld2x5LWRlZmluZWQgY2xhc3MuXG4gICAgICAgICAgICAvLy8gPC9yZXR1cm5zPlxuICAgICAgICAgICAgLy8vIDwvc2lnbmF0dXJlPlxuICAgICAgICAgICAgaWYgKGJhc2VDbGFzcykge1xuICAgICAgICAgICAgICAgIGNvbnN0cnVjdG9yID0gY29uc3RydWN0b3IgfHwgZnVuY3Rpb24gKCkgeyB9O1xuICAgICAgICAgICAgICAgIHZhciBiYXNlUHJvdG90eXBlID0gYmFzZUNsYXNzLnByb3RvdHlwZTtcbiAgICAgICAgICAgICAgICBjb25zdHJ1Y3Rvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKGJhc2VQcm90b3R5cGUpO1xuICAgICAgICAgICAgICAgIF9CYXNlQ29yZVV0aWxzLm1hcmtTdXBwb3J0ZWRGb3JQcm9jZXNzaW5nKGNvbnN0cnVjdG9yKTtcbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29uc3RydWN0b3IucHJvdG90eXBlLCBcImNvbnN0cnVjdG9yXCIsIHsgdmFsdWU6IGNvbnN0cnVjdG9yLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCBlbnVtZXJhYmxlOiB0cnVlIH0pO1xuICAgICAgICAgICAgICAgIGlmIChpbnN0YW5jZU1lbWJlcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5pdGlhbGl6ZVByb3BlcnRpZXMoY29uc3RydWN0b3IucHJvdG90eXBlLCBpbnN0YW5jZU1lbWJlcnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoc3RhdGljTWVtYmVycykge1xuICAgICAgICAgICAgICAgICAgICBpbml0aWFsaXplUHJvcGVydGllcyhjb25zdHJ1Y3Rvciwgc3RhdGljTWVtYmVycyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBjb25zdHJ1Y3RvcjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRlZmluZShjb25zdHJ1Y3RvciwgaW5zdGFuY2VNZW1iZXJzLCBzdGF0aWNNZW1iZXJzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIG1peChjb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgLy8vIDxzaWduYXR1cmUgaGVscEtleXdvcmQ9XCJXaW5KUy5DbGFzcy5taXhcIj5cbiAgICAgICAgICAgIC8vLyA8c3VtbWFyeSBsb2NpZD1cIldpbkpTLkNsYXNzLm1peFwiPlxuICAgICAgICAgICAgLy8vIERlZmluZXMgYSBjbGFzcyB1c2luZyB0aGUgZ2l2ZW4gY29uc3RydWN0b3IgYW5kIHRoZSB1bmlvbiBvZiB0aGUgc2V0IG9mIGluc3RhbmNlIG1lbWJlcnNcbiAgICAgICAgICAgIC8vLyBzcGVjaWZpZWQgYnkgYWxsIHRoZSBtaXhpbiBvYmplY3RzLiBUaGUgbWl4aW4gcGFyYW1ldGVyIGxpc3QgaXMgb2YgdmFyaWFibGUgbGVuZ3RoLlxuICAgICAgICAgICAgLy8vIDwvc3VtbWFyeT5cbiAgICAgICAgICAgIC8vLyA8cGFyYW0gbmFtZT1cImNvbnN0cnVjdG9yXCIgbG9jaWQ9XCJXaW5KUy5DbGFzcy5taXhfcDpjb25zdHJ1Y3RvclwiPlxuICAgICAgICAgICAgLy8vIEEgY29uc3RydWN0b3IgZnVuY3Rpb24gdGhhdCBpcyB1c2VkIHRvIGluc3RhbnRpYXRlIHRoaXMgY2xhc3MuXG4gICAgICAgICAgICAvLy8gPC9wYXJhbT5cbiAgICAgICAgICAgIC8vLyA8cmV0dXJucyB0eXBlPVwiRnVuY3Rpb25cIiBsb2NpZD1cIldpbkpTLkNsYXNzLm1peF9yZXR1cm5WYWx1ZVwiPlxuICAgICAgICAgICAgLy8vIFRoZSBuZXdseS1kZWZpbmVkIGNsYXNzLlxuICAgICAgICAgICAgLy8vIDwvcmV0dXJucz5cbiAgICAgICAgICAgIC8vLyA8L3NpZ25hdHVyZT5cbiAgICAgICAgICAgIGNvbnN0cnVjdG9yID0gY29uc3RydWN0b3IgfHwgZnVuY3Rpb24gKCkgeyB9O1xuICAgICAgICAgICAgdmFyIGksIGxlbjtcbiAgICAgICAgICAgIGZvciAoaSA9IDEsIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICAgIGluaXRpYWxpemVQcm9wZXJ0aWVzKGNvbnN0cnVjdG9yLnByb3RvdHlwZSwgYXJndW1lbnRzW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjb25zdHJ1Y3RvcjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEVzdGFibGlzaCBtZW1iZXJzIG9mIFwiV2luSlMuQ2xhc3NcIiBuYW1lc3BhY2VcbiAgICAgICAgX1dpbkpTLk5hbWVzcGFjZS5kZWZpbmUoXCJXaW5KUy5DbGFzc1wiLCB7XG4gICAgICAgICAgICBkZWZpbmU6IGRlZmluZSxcbiAgICAgICAgICAgIGRlcml2ZTogZGVyaXZlLFxuICAgICAgICAgICAgbWl4OiBtaXhcbiAgICAgICAgfSk7XG5cbiAgICB9KSgpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgTmFtZXNwYWNlOiBfV2luSlMuTmFtZXNwYWNlLFxuICAgICAgICBDbGFzczogX1dpbkpTLkNsYXNzXG4gICAgfTtcblxufSk7XG5fd2luanMoXCJXaW5KUy9Db3JlL19FcnJvckZyb21OYW1lXCIsIFtcIldpbkpTL0NvcmUvX0Jhc2VcIl0sIGZ1bmN0aW9uIGVycm9yc0luaXQoX0Jhc2UpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcblxuICAgIHZhciBFcnJvckZyb21OYW1lID0gX0Jhc2UuQ2xhc3MuZGVyaXZlKEVycm9yLCBmdW5jdGlvbiAobmFtZSwgbWVzc2FnZSkge1xuICAgICAgICAvLy8gPHNpZ25hdHVyZSBoZWxwS2V5d29yZD1cIldpbkpTLkVycm9yRnJvbU5hbWVcIj5cbiAgICAgICAgLy8vIDxzdW1tYXJ5IGxvY2lkPVwiV2luSlMuRXJyb3JGcm9tTmFtZVwiPlxuICAgICAgICAvLy8gQ3JlYXRlcyBhbiBFcnJvciBvYmplY3Qgd2l0aCB0aGUgc3BlY2lmaWVkIG5hbWUgYW5kIG1lc3NhZ2UgcHJvcGVydGllcy5cbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cbiAgICAgICAgLy8vIDxwYXJhbSBuYW1lPVwibmFtZVwiIHR5cGU9XCJTdHJpbmdcIiBsb2NpZD1cIldpbkpTLkVycm9yRnJvbU5hbWVfcDpuYW1lXCI+VGhlIG5hbWUgb2YgdGhpcyBlcnJvci4gVGhlIG5hbWUgaXMgbWVhbnQgdG8gYmUgY29uc3VtZWQgcHJvZ3JhbW1hdGljYWxseSBhbmQgc2hvdWxkIG5vdCBiZSBsb2NhbGl6ZWQuPC9wYXJhbT5cbiAgICAgICAgLy8vIDxwYXJhbSBuYW1lPVwibWVzc2FnZVwiIHR5cGU9XCJTdHJpbmdcIiBvcHRpb25hbD1cInRydWVcIiBsb2NpZD1cIldpbkpTLkVycm9yRnJvbU5hbWVfcDptZXNzYWdlXCI+VGhlIG1lc3NhZ2UgZm9yIHRoaXMgZXJyb3IuIFRoZSBtZXNzYWdlIGlzIG1lYW50IHRvIGJlIGNvbnN1bWVkIGJ5IGh1bWFucyBhbmQgc2hvdWxkIGJlIGxvY2FsaXplZC48L3BhcmFtPlxuICAgICAgICAvLy8gPHJldHVybnMgdHlwZT1cIkVycm9yXCIgbG9jaWQ9XCJXaW5KUy5FcnJvckZyb21OYW1lX3JldHVyblZhbHVlXCI+RXJyb3IgaW5zdGFuY2Ugd2l0aCAubmFtZSBhbmQgLm1lc3NhZ2UgcHJvcGVydGllcyBwb3B1bGF0ZWQ8L3JldHVybnM+XG4gICAgICAgIC8vLyA8L3NpZ25hdHVyZT5cbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZSB8fCBuYW1lO1xuICAgIH0sIHtcbiAgICAgICAgLyogZW1wdHkgKi9cbiAgICB9LCB7XG4gICAgICAgIHN1cHBvcnRlZEZvclByb2Nlc3Npbmc6IGZhbHNlLFxuICAgIH0pO1xuXG4gICAgX0Jhc2UuTmFtZXNwYWNlLmRlZmluZShcIldpbkpTXCIsIHtcbiAgICAgICAgLy8gRXJyb3JGcm9tTmFtZSBlc3RhYmxpc2hlcyBhIHNpbXBsZSBwYXR0ZXJuIGZvciByZXR1cm5pbmcgZXJyb3IgY29kZXMuXG4gICAgICAgIC8vXG4gICAgICAgIEVycm9yRnJvbU5hbWU6IEVycm9yRnJvbU5hbWVcbiAgICB9KTtcblxuICAgIHJldHVybiBFcnJvckZyb21OYW1lO1xuXG59KTtcblxuXG5fd2luanMoXCJXaW5KUy9Db3JlL19FdmVudHNcIiwgW1wiZXhwb3J0c1wiLFwiV2luSlMvQ29yZS9fQmFzZVwiXSwgZnVuY3Rpb24gZXZlbnRzSW5pdChleHBvcnRzLCBfQmFzZSkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuXG5cbiAgICBmdW5jdGlvbiBjcmVhdGVFdmVudFByb3BlcnR5KG5hbWUpIHtcbiAgICAgICAgdmFyIGV2ZW50UHJvcFN0YXRlTmFtZSA9IFwiX29uXCIgKyBuYW1lICsgXCJzdGF0ZVwiO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgc3RhdGUgPSB0aGlzW2V2ZW50UHJvcFN0YXRlTmFtZV07XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0YXRlICYmIHN0YXRlLnVzZXJIYW5kbGVyO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICB2YXIgc3RhdGUgPSB0aGlzW2V2ZW50UHJvcFN0YXRlTmFtZV07XG4gICAgICAgICAgICAgICAgaWYgKGhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzdGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSB7IHdyYXBwZXI6IGZ1bmN0aW9uIChldnQpIHsgcmV0dXJuIHN0YXRlLnVzZXJIYW5kbGVyKGV2dCk7IH0sIHVzZXJIYW5kbGVyOiBoYW5kbGVyIH07XG4gICAgICAgICAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgZXZlbnRQcm9wU3RhdGVOYW1lLCB7IHZhbHVlOiBzdGF0ZSwgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOnRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihuYW1lLCBzdGF0ZS53cmFwcGVyLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc3RhdGUudXNlckhhbmRsZXIgPSBoYW5kbGVyO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc3RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKG5hbWUsIHN0YXRlLndyYXBwZXIsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpc1tldmVudFByb3BTdGF0ZU5hbWVdID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZUV2ZW50UHJvcGVydGllcygpIHtcbiAgICAgICAgLy8vIDxzaWduYXR1cmUgaGVscEtleXdvcmQ9XCJXaW5KUy5VdGlsaXRpZXMuY3JlYXRlRXZlbnRQcm9wZXJ0aWVzXCI+XG4gICAgICAgIC8vLyA8c3VtbWFyeSBsb2NpZD1cIldpbkpTLlV0aWxpdGllcy5jcmVhdGVFdmVudFByb3BlcnRpZXNcIj5cbiAgICAgICAgLy8vIENyZWF0ZXMgYW4gb2JqZWN0IHRoYXQgaGFzIG9uZSBwcm9wZXJ0eSBmb3IgZWFjaCBuYW1lIHBhc3NlZCB0byB0aGUgZnVuY3Rpb24uXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XG4gICAgICAgIC8vLyA8cGFyYW0gbmFtZT1cImV2ZW50c1wiIGxvY2lkPVwiV2luSlMuVXRpbGl0aWVzLmNyZWF0ZUV2ZW50UHJvcGVydGllc19wOmV2ZW50c1wiPlxuICAgICAgICAvLy8gQSB2YXJpYWJsZSBsaXN0IG9mIHByb3BlcnR5IG5hbWVzLlxuICAgICAgICAvLy8gPC9wYXJhbT5cbiAgICAgICAgLy8vIDxyZXR1cm5zIHR5cGU9XCJPYmplY3RcIiBsb2NpZD1cIldpbkpTLlV0aWxpdGllcy5jcmVhdGVFdmVudFByb3BlcnRpZXNfcmV0dXJuVmFsdWVcIj5cbiAgICAgICAgLy8vIFRoZSBvYmplY3Qgd2l0aCB0aGUgc3BlY2lmaWVkIHByb3BlcnRpZXMuIFRoZSBuYW1lcyBvZiB0aGUgcHJvcGVydGllcyBhcmUgcHJlZml4ZWQgd2l0aCAnb24nLlxuICAgICAgICAvLy8gPC9yZXR1cm5zPlxuICAgICAgICAvLy8gPC9zaWduYXR1cmU+XG4gICAgICAgIHZhciBwcm9wcyA9IHt9O1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgbmFtZSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIHByb3BzW1wib25cIiArIG5hbWVdID0gY3JlYXRlRXZlbnRQcm9wZXJ0eShuYW1lKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcHJvcHM7XG4gICAgfVxuXG4gICAgdmFyIEV2ZW50TWl4aW5FdmVudCA9IF9CYXNlLkNsYXNzLmRlZmluZShcbiAgICAgICAgZnVuY3Rpb24gRXZlbnRNaXhpbkV2ZW50X2N0b3IodHlwZSwgZGV0YWlsLCB0YXJnZXQpIHtcbiAgICAgICAgICAgIHRoaXMuZGV0YWlsID0gZGV0YWlsO1xuICAgICAgICAgICAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XG4gICAgICAgICAgICB0aGlzLnRpbWVTdGFtcCA9IERhdGUubm93KCk7XG4gICAgICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBidWJibGVzOiB7IHZhbHVlOiBmYWxzZSwgd3JpdGFibGU6IGZhbHNlIH0sXG4gICAgICAgICAgICBjYW5jZWxhYmxlOiB7IHZhbHVlOiBmYWxzZSwgd3JpdGFibGU6IGZhbHNlIH0sXG4gICAgICAgICAgICBjdXJyZW50VGFyZ2V0OiB7XG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLnRhcmdldDsgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRlZmF1bHRQcmV2ZW50ZWQ6IHtcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuX3ByZXZlbnREZWZhdWx0Q2FsbGVkOyB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdHJ1c3RlZDogeyB2YWx1ZTogZmFsc2UsIHdyaXRhYmxlOiBmYWxzZSB9LFxuICAgICAgICAgICAgZXZlbnRQaGFzZTogeyB2YWx1ZTogMCwgd3JpdGFibGU6IGZhbHNlIH0sXG4gICAgICAgICAgICB0YXJnZXQ6IG51bGwsXG4gICAgICAgICAgICB0aW1lU3RhbXA6IG51bGwsXG4gICAgICAgICAgICB0eXBlOiBudWxsLFxuXG4gICAgICAgICAgICBwcmV2ZW50RGVmYXVsdDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3ByZXZlbnREZWZhdWx0Q2FsbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb246IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb25DYWxsZWQgPSB0cnVlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN0b3BQcm9wYWdhdGlvbjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBzdXBwb3J0ZWRGb3JQcm9jZXNzaW5nOiBmYWxzZSxcbiAgICAgICAgfVxuICAgICk7XG5cbiAgICB2YXIgZXZlbnRNaXhpbiA9IHtcbiAgICAgICAgX2xpc3RlbmVyczogbnVsbCxcblxuICAgICAgICBhZGRFdmVudExpc3RlbmVyOiBmdW5jdGlvbiAodHlwZSwgbGlzdGVuZXIsIHVzZUNhcHR1cmUpIHtcbiAgICAgICAgICAgIC8vLyA8c2lnbmF0dXJlIGhlbHBLZXl3b3JkPVwiV2luSlMuVXRpbGl0aWVzLmV2ZW50TWl4aW4uYWRkRXZlbnRMaXN0ZW5lclwiPlxuICAgICAgICAgICAgLy8vIDxzdW1tYXJ5IGxvY2lkPVwiV2luSlMuVXRpbGl0aWVzLmV2ZW50TWl4aW4uYWRkRXZlbnRMaXN0ZW5lclwiPlxuICAgICAgICAgICAgLy8vIEFkZHMgYW4gZXZlbnQgbGlzdGVuZXIgdG8gdGhlIGNvbnRyb2wuXG4gICAgICAgICAgICAvLy8gPC9zdW1tYXJ5PlxuICAgICAgICAgICAgLy8vIDxwYXJhbSBuYW1lPVwidHlwZVwiIGxvY2lkPVwiV2luSlMuVXRpbGl0aWVzLmV2ZW50TWl4aW4uYWRkRXZlbnRMaXN0ZW5lcl9wOnR5cGVcIj5cbiAgICAgICAgICAgIC8vLyBUaGUgdHlwZSAobmFtZSkgb2YgdGhlIGV2ZW50LlxuICAgICAgICAgICAgLy8vIDwvcGFyYW0+XG4gICAgICAgICAgICAvLy8gPHBhcmFtIG5hbWU9XCJsaXN0ZW5lclwiIGxvY2lkPVwiV2luSlMuVXRpbGl0aWVzLmV2ZW50TWl4aW4uYWRkRXZlbnRMaXN0ZW5lcl9wOmxpc3RlbmVyXCI+XG4gICAgICAgICAgICAvLy8gVGhlIGxpc3RlbmVyIHRvIGludm9rZSB3aGVuIHRoZSBldmVudCBpcyByYWlzZWQuXG4gICAgICAgICAgICAvLy8gPC9wYXJhbT5cbiAgICAgICAgICAgIC8vLyA8cGFyYW0gbmFtZT1cInVzZUNhcHR1cmVcIiBsb2NpZD1cIldpbkpTLlV0aWxpdGllcy5ldmVudE1peGluLmFkZEV2ZW50TGlzdGVuZXJfcDp1c2VDYXB0dXJlXCI+XG4gICAgICAgICAgICAvLy8gaWYgdHJ1ZSBpbml0aWF0ZXMgY2FwdHVyZSwgb3RoZXJ3aXNlIGZhbHNlLlxuICAgICAgICAgICAgLy8vIDwvcGFyYW0+XG4gICAgICAgICAgICAvLy8gPC9zaWduYXR1cmU+XG4gICAgICAgICAgICB1c2VDYXB0dXJlID0gdXNlQ2FwdHVyZSB8fCBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuX2xpc3RlbmVycyA9IHRoaXMuX2xpc3RlbmVycyB8fCB7fTtcbiAgICAgICAgICAgIHZhciBldmVudExpc3RlbmVycyA9ICh0aGlzLl9saXN0ZW5lcnNbdHlwZV0gPSB0aGlzLl9saXN0ZW5lcnNbdHlwZV0gfHwgW10pO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGV2ZW50TGlzdGVuZXJzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGwgPSBldmVudExpc3RlbmVyc1tpXTtcbiAgICAgICAgICAgICAgICBpZiAobC51c2VDYXB0dXJlID09PSB1c2VDYXB0dXJlICYmIGwubGlzdGVuZXIgPT09IGxpc3RlbmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBldmVudExpc3RlbmVycy5wdXNoKHsgbGlzdGVuZXI6IGxpc3RlbmVyLCB1c2VDYXB0dXJlOiB1c2VDYXB0dXJlIH0pO1xuICAgICAgICB9LFxuICAgICAgICBkaXNwYXRjaEV2ZW50OiBmdW5jdGlvbiAodHlwZSwgZGV0YWlscykge1xuICAgICAgICAgICAgLy8vIDxzaWduYXR1cmUgaGVscEtleXdvcmQ9XCJXaW5KUy5VdGlsaXRpZXMuZXZlbnRNaXhpbi5kaXNwYXRjaEV2ZW50XCI+XG4gICAgICAgICAgICAvLy8gPHN1bW1hcnkgbG9jaWQ9XCJXaW5KUy5VdGlsaXRpZXMuZXZlbnRNaXhpbi5kaXNwYXRjaEV2ZW50XCI+XG4gICAgICAgICAgICAvLy8gUmFpc2VzIGFuIGV2ZW50IG9mIHRoZSBzcGVjaWZpZWQgdHlwZSBhbmQgd2l0aCB0aGUgc3BlY2lmaWVkIGFkZGl0aW9uYWwgcHJvcGVydGllcy5cbiAgICAgICAgICAgIC8vLyA8L3N1bW1hcnk+XG4gICAgICAgICAgICAvLy8gPHBhcmFtIG5hbWU9XCJ0eXBlXCIgbG9jaWQ9XCJXaW5KUy5VdGlsaXRpZXMuZXZlbnRNaXhpbi5kaXNwYXRjaEV2ZW50X3A6dHlwZVwiPlxuICAgICAgICAgICAgLy8vIFRoZSB0eXBlIChuYW1lKSBvZiB0aGUgZXZlbnQuXG4gICAgICAgICAgICAvLy8gPC9wYXJhbT5cbiAgICAgICAgICAgIC8vLyA8cGFyYW0gbmFtZT1cImRldGFpbHNcIiBsb2NpZD1cIldpbkpTLlV0aWxpdGllcy5ldmVudE1peGluLmRpc3BhdGNoRXZlbnRfcDpkZXRhaWxzXCI+XG4gICAgICAgICAgICAvLy8gVGhlIHNldCBvZiBhZGRpdGlvbmFsIHByb3BlcnRpZXMgdG8gYmUgYXR0YWNoZWQgdG8gdGhlIGV2ZW50IG9iamVjdCB3aGVuIHRoZSBldmVudCBpcyByYWlzZWQuXG4gICAgICAgICAgICAvLy8gPC9wYXJhbT5cbiAgICAgICAgICAgIC8vLyA8cmV0dXJucyB0eXBlPVwiQm9vbGVhblwiIGxvY2lkPVwiV2luSlMuVXRpbGl0aWVzLmV2ZW50TWl4aW4uZGlzcGF0Y2hFdmVudF9yZXR1cm5WYWx1ZVwiPlxuICAgICAgICAgICAgLy8vIHRydWUgaWYgcHJldmVudERlZmF1bHQgd2FzIGNhbGxlZCBvbiB0aGUgZXZlbnQuXG4gICAgICAgICAgICAvLy8gPC9yZXR1cm5zPlxuICAgICAgICAgICAgLy8vIDwvc2lnbmF0dXJlPlxuICAgICAgICAgICAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2xpc3RlbmVycyAmJiB0aGlzLl9saXN0ZW5lcnNbdHlwZV07XG4gICAgICAgICAgICBpZiAobGlzdGVuZXJzKSB7XG4gICAgICAgICAgICAgICAgdmFyIGV2ZW50VmFsdWUgPSBuZXcgRXZlbnRNaXhpbkV2ZW50KHR5cGUsIGRldGFpbHMsIHRoaXMpO1xuICAgICAgICAgICAgICAgIC8vIE5lZWQgdG8gY29weSB0aGUgYXJyYXkgdG8gcHJvdGVjdCBhZ2FpbnN0IHBlb3BsZSB1bnJlZ2lzdGVyaW5nIHdoaWxlIHdlIGFyZSBkaXNwYXRjaGluZ1xuICAgICAgICAgICAgICAgIGxpc3RlbmVycyA9IGxpc3RlbmVycy5zbGljZSgwLCBsaXN0ZW5lcnMubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gbGlzdGVuZXJzLmxlbmd0aDsgaSA8IGxlbiAmJiAhZXZlbnRWYWx1ZS5fc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uQ2FsbGVkOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXJzW2ldLmxpc3RlbmVyKGV2ZW50VmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZXZlbnRWYWx1ZS5kZWZhdWx0UHJldmVudGVkIHx8IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9LFxuICAgICAgICByZW1vdmVFdmVudExpc3RlbmVyOiBmdW5jdGlvbiAodHlwZSwgbGlzdGVuZXIsIHVzZUNhcHR1cmUpIHtcbiAgICAgICAgICAgIC8vLyA8c2lnbmF0dXJlIGhlbHBLZXl3b3JkPVwiV2luSlMuVXRpbGl0aWVzLmV2ZW50TWl4aW4ucmVtb3ZlRXZlbnRMaXN0ZW5lclwiPlxuICAgICAgICAgICAgLy8vIDxzdW1tYXJ5IGxvY2lkPVwiV2luSlMuVXRpbGl0aWVzLmV2ZW50TWl4aW4ucmVtb3ZlRXZlbnRMaXN0ZW5lclwiPlxuICAgICAgICAgICAgLy8vIFJlbW92ZXMgYW4gZXZlbnQgbGlzdGVuZXIgZnJvbSB0aGUgY29udHJvbC5cbiAgICAgICAgICAgIC8vLyA8L3N1bW1hcnk+XG4gICAgICAgICAgICAvLy8gPHBhcmFtIG5hbWU9XCJ0eXBlXCIgbG9jaWQ9XCJXaW5KUy5VdGlsaXRpZXMuZXZlbnRNaXhpbi5yZW1vdmVFdmVudExpc3RlbmVyX3A6dHlwZVwiPlxuICAgICAgICAgICAgLy8vIFRoZSB0eXBlIChuYW1lKSBvZiB0aGUgZXZlbnQuXG4gICAgICAgICAgICAvLy8gPC9wYXJhbT5cbiAgICAgICAgICAgIC8vLyA8cGFyYW0gbmFtZT1cImxpc3RlbmVyXCIgbG9jaWQ9XCJXaW5KUy5VdGlsaXRpZXMuZXZlbnRNaXhpbi5yZW1vdmVFdmVudExpc3RlbmVyX3A6bGlzdGVuZXJcIj5cbiAgICAgICAgICAgIC8vLyBUaGUgbGlzdGVuZXIgdG8gcmVtb3ZlLlxuICAgICAgICAgICAgLy8vIDwvcGFyYW0+XG4gICAgICAgICAgICAvLy8gPHBhcmFtIG5hbWU9XCJ1c2VDYXB0dXJlXCIgbG9jaWQ9XCJXaW5KUy5VdGlsaXRpZXMuZXZlbnRNaXhpbi5yZW1vdmVFdmVudExpc3RlbmVyX3A6dXNlQ2FwdHVyZVwiPlxuICAgICAgICAgICAgLy8vIFNwZWNpZmllcyB3aGV0aGVyIHRvIGluaXRpYXRlIGNhcHR1cmUuXG4gICAgICAgICAgICAvLy8gPC9wYXJhbT5cbiAgICAgICAgICAgIC8vLyA8L3NpZ25hdHVyZT5cbiAgICAgICAgICAgIHVzZUNhcHR1cmUgPSB1c2VDYXB0dXJlIHx8IGZhbHNlO1xuICAgICAgICAgICAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2xpc3RlbmVycyAmJiB0aGlzLl9saXN0ZW5lcnNbdHlwZV07XG4gICAgICAgICAgICBpZiAobGlzdGVuZXJzKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGxpc3RlbmVycy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbCA9IGxpc3RlbmVyc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGwubGlzdGVuZXIgPT09IGxpc3RlbmVyICYmIGwudXNlQ2FwdHVyZSA9PT0gdXNlQ2FwdHVyZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXJzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsaXN0ZW5lcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuX2xpc3RlbmVyc1t0eXBlXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE9ubHkgd2FudCB0byByZW1vdmUgb25lIGVsZW1lbnQgZm9yIGVhY2ggY2FsbCB0byByZW1vdmVFdmVudExpc3RlbmVyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBfQmFzZS5OYW1lc3BhY2UuX21vZHVsZURlZmluZShleHBvcnRzLCBcIldpbkpTLlV0aWxpdGllc1wiLCB7XG4gICAgICAgIF9jcmVhdGVFdmVudFByb3BlcnR5OiBjcmVhdGVFdmVudFByb3BlcnR5LFxuICAgICAgICBjcmVhdGVFdmVudFByb3BlcnRpZXM6IGNyZWF0ZUV2ZW50UHJvcGVydGllcyxcbiAgICAgICAgZXZlbnRNaXhpbjogZXZlbnRNaXhpblxuICAgIH0pO1xuXG59KTtcblxuXG5fd2luanMoXCJXaW5KUy9Db3JlL19UcmFjZVwiLCBbXCJXaW5KUy9Db3JlL19HbG9iYWxcIl0sIGZ1bmN0aW9uIHRyYWNlSW5pdChfR2xvYmFsKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgICBmdW5jdGlvbiBub3Aodikge1xuICAgICAgICByZXR1cm4gdjtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBfdHJhY2VBc3luY09wZXJhdGlvblN0YXJ0aW5nOiAoX0dsb2JhbC5EZWJ1ZyAmJiBfR2xvYmFsLkRlYnVnLm1zVHJhY2VBc3luY09wZXJhdGlvblN0YXJ0aW5nICYmIF9HbG9iYWwuRGVidWcubXNUcmFjZUFzeW5jT3BlcmF0aW9uU3RhcnRpbmcuYmluZChfR2xvYmFsLkRlYnVnKSkgfHwgbm9wLFxuICAgICAgICBfdHJhY2VBc3luY09wZXJhdGlvbkNvbXBsZXRlZDogKF9HbG9iYWwuRGVidWcgJiYgX0dsb2JhbC5EZWJ1Zy5tc1RyYWNlQXN5bmNPcGVyYXRpb25Db21wbGV0ZWQgJiYgX0dsb2JhbC5EZWJ1Zy5tc1RyYWNlQXN5bmNPcGVyYXRpb25Db21wbGV0ZWQuYmluZChfR2xvYmFsLkRlYnVnKSkgfHwgbm9wLFxuICAgICAgICBfdHJhY2VBc3luY0NhbGxiYWNrU3RhcnRpbmc6IChfR2xvYmFsLkRlYnVnICYmIF9HbG9iYWwuRGVidWcubXNUcmFjZUFzeW5jQ2FsbGJhY2tTdGFydGluZyAmJiBfR2xvYmFsLkRlYnVnLm1zVHJhY2VBc3luY0NhbGxiYWNrU3RhcnRpbmcuYmluZChfR2xvYmFsLkRlYnVnKSkgfHwgbm9wLFxuICAgICAgICBfdHJhY2VBc3luY0NhbGxiYWNrQ29tcGxldGVkOiAoX0dsb2JhbC5EZWJ1ZyAmJiBfR2xvYmFsLkRlYnVnLm1zVHJhY2VBc3luY0NhbGxiYWNrQ29tcGxldGVkICYmIF9HbG9iYWwuRGVidWcubXNUcmFjZUFzeW5jQ2FsbGJhY2tDb21wbGV0ZWQuYmluZChfR2xvYmFsLkRlYnVnKSkgfHwgbm9wXG4gICAgfTtcbn0pO1xuX3dpbmpzKFwiV2luSlMvUHJvbWlzZS9fU3RhdGVNYWNoaW5lXCIsIFtcIldpbkpTL0NvcmUvX0dsb2JhbFwiLFwiV2luSlMvQ29yZS9fQmFzZUNvcmVVdGlsc1wiLFwiV2luSlMvQ29yZS9fQmFzZVwiLFwiV2luSlMvQ29yZS9fRXJyb3JGcm9tTmFtZVwiLFwiV2luSlMvQ29yZS9fRXZlbnRzXCIsXCJXaW5KUy9Db3JlL19UcmFjZVwiXSwgZnVuY3Rpb24gcHJvbWlzZVN0YXRlTWFjaGluZUluaXQoX0dsb2JhbCwgX0Jhc2VDb3JlVXRpbHMsIF9CYXNlLCBfRXJyb3JGcm9tTmFtZSwgX0V2ZW50cywgX1RyYWNlKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgICBfR2xvYmFsLkRlYnVnICYmIChfR2xvYmFsLkRlYnVnLnNldE5vblVzZXJDb2RlRXhjZXB0aW9ucyA9IHRydWUpO1xuXG4gICAgdmFyIExpc3RlbmVyVHlwZSA9IF9CYXNlLkNsYXNzLm1peChfQmFzZS5DbGFzcy5kZWZpbmUobnVsbCwgeyAvKmVtcHR5Ki8gfSwgeyBzdXBwb3J0ZWRGb3JQcm9jZXNzaW5nOiBmYWxzZSB9KSwgX0V2ZW50cy5ldmVudE1peGluKTtcbiAgICB2YXIgcHJvbWlzZUV2ZW50TGlzdGVuZXJzID0gbmV3IExpc3RlbmVyVHlwZSgpO1xuICAgIC8vIG1ha2Ugc3VyZSB0aGVyZSBpcyBhIGxpc3RlbmVycyBjb2xsZWN0aW9uIHNvIHRoYXQgd2UgY2FuIGRvIGEgbW9yZSB0cml2aWFsIGNoZWNrIGJlbG93XG4gICAgcHJvbWlzZUV2ZW50TGlzdGVuZXJzLl9saXN0ZW5lcnMgPSB7fTtcbiAgICB2YXIgZXJyb3JFVCA9IFwiZXJyb3JcIjtcbiAgICB2YXIgY2FuY2VsZWROYW1lID0gXCJDYW5jZWxlZFwiO1xuICAgIHZhciB0YWdXaXRoU3RhY2sgPSBmYWxzZTtcbiAgICB2YXIgdGFnID0ge1xuICAgICAgICBwcm9taXNlOiAweDAxLFxuICAgICAgICB0aGVuUHJvbWlzZTogMHgwMixcbiAgICAgICAgZXJyb3JQcm9taXNlOiAweDA0LFxuICAgICAgICBleGNlcHRpb25Qcm9taXNlOiAweDA4LFxuICAgICAgICBjb21wbGV0ZVByb21pc2U6IDB4MTAsXG4gICAgfTtcbiAgICB0YWcuYWxsID0gdGFnLnByb21pc2UgfCB0YWcudGhlblByb21pc2UgfCB0YWcuZXJyb3JQcm9taXNlIHwgdGFnLmV4Y2VwdGlvblByb21pc2UgfCB0YWcuY29tcGxldGVQcm9taXNlO1xuXG4gICAgLy9cbiAgICAvLyBHbG9iYWwgZXJyb3IgY291bnRlciwgZm9yIGVhY2ggZXJyb3Igd2hpY2ggZW50ZXJzIHRoZSBzeXN0ZW0gd2UgaW5jcmVtZW50IHRoaXMgb25jZSBhbmQgdGhlblxuICAgIC8vIHRoZSBlcnJvciBudW1iZXIgdHJhdmVscyB3aXRoIHRoZSBlcnJvciBhcyBpdCB0cmF2ZXJzZXMgdGhlIHRyZWUgb2YgcG90ZW50aWFsIGhhbmRsZXJzLlxuICAgIC8vXG4gICAgLy8gV2hlbiBzb21lb25lIGhhcyByZWdpc3RlcmVkIHRvIGJlIHRvbGQgYWJvdXQgZXJyb3JzIChXaW5KUy5Qcm9taXNlLmNhbGxvbmVycm9yKSBwcm9taXNlc1xuICAgIC8vIHdoaWNoIGFyZSBpbiBlcnJvciB3aWxsIGdldCB0YWdnZWQgd2l0aCBhIC5fZXJyb3JJZCBmaWVsZC4gVGhpcyB0YWdnZWQgZmllbGQgaXMgdGhlXG4gICAgLy8gY29udHJhY3QgYnkgd2hpY2ggbmVzdGVkIHByb21pc2VzIHdpdGggZXJyb3JzIHdpbGwgYmUgaWRlbnRpZmllZCBhcyBjaGFpbmluZyBmb3IgdGhlXG4gICAgLy8gcHVycG9zZXMgb2YgdGhlIGNhbGxvbmVycm9yIHNlbWFudGljcy4gSWYgYSBuZXN0ZWQgcHJvbWlzZSBpbiBlcnJvciBpcyBlbmNvdW50ZXJlZCB3aXRob3V0XG4gICAgLy8gYSAuX2Vycm9ySWQgaXQgd2lsbCBiZSBhc3N1bWVkIHRvIGJlIGZvcmVpZ24gYW5kIHRyZWF0ZWQgYXMgYW4gaW50ZXJvcCBib3VuZGFyeSBhbmRcbiAgICAvLyBhIG5ldyBlcnJvciBpZCB3aWxsIGJlIG1pbnRlZC5cbiAgICAvL1xuICAgIHZhciBlcnJvcl9udW1iZXIgPSAxO1xuXG4gICAgLy9cbiAgICAvLyBUaGUgc3RhdGUgbWFjaGluZSBoYXMgYSBpbnRlcmVzdGluZyBoaWNjdXAgaW4gaXQgd2l0aCByZWdhcmRzIHRvIG5vdGlmaWNhdGlvbiwgaW4gb3JkZXJcbiAgICAvLyB0byBmbGF0dGVuIG91dCBub3RpZmljYXRpb24gYW5kIGF2b2lkIHJlY3Vyc2lvbiBmb3Igc3luY2hyb25vdXMgY29tcGxldGlvbiB3ZSBoYXZlIGFuXG4gICAgLy8gZXhwbGljaXQgc2V0IG9mICpfbm90aWZ5IHN0YXRlcyB3aGljaCBhcmUgcmVzcG9uc2libGUgZm9yIG5vdGlmeWluZyB0aGVpciBlbnRpcmUgdHJlZVxuICAgIC8vIG9mIGNoaWxkcmVuLiBUaGV5IGNhbiBkbyB0aGlzIGJlY2F1c2UgdGhleSBrbm93IHRoYXQgaW1tZWRpYXRlIGNoaWxkcmVuIGFyZSBhbHdheXNcbiAgICAvLyBUaGVuUHJvbWlzZSBpbnN0YW5jZXMgYW5kIHdlIGNhbiB0aGVyZWZvcmUgcmVhY2ggaW50byB0aGVpciBzdGF0ZSB0byBhY2Nlc3MgdGhlXG4gICAgLy8gX2xpc3RlbmVycyBjb2xsZWN0aW9uLlxuICAgIC8vXG4gICAgLy8gU28sIHdoYXQgaGFwcGVucyBpcyB0aGF0IGEgUHJvbWlzZSB3aWxsIGJlIGZ1bGZpbGxlZCB0aHJvdWdoIHRoZSBfY29tcGxldGVkIG9yIF9lcnJvclxuICAgIC8vIG1lc3NhZ2VzIGF0IHdoaWNoIHBvaW50IGl0IHdpbGwgZW50ZXIgYSAqX25vdGlmeSBzdGF0ZSBhbmQgYmUgcmVzcG9uc2libGUgZm9yIHRvIG1vdmVcbiAgICAvLyBpdHMgY2hpbGRyZW4gaW50byBhbiAoYXMgYXBwcm9wcmlhdGUpIHN1Y2Nlc3Mgb3IgZXJyb3Igc3RhdGUgYW5kIGFsc28gbm90aWZ5IHRoYXQgY2hpbGQnc1xuICAgIC8vIGxpc3RlbmVycyBvZiB0aGUgc3RhdGUgdHJhbnNpdGlvbiwgdW50aWwgbGVhZiBub3RlcyBhcmUgcmVhY2hlZC5cbiAgICAvL1xuXG4gICAgdmFyIHN0YXRlX2NyZWF0ZWQsICAgICAgICAgICAgICAvLyAtPiB3b3JraW5nXG4gICAgICAgIHN0YXRlX3dvcmtpbmcsICAgICAgICAgICAgICAvLyAtPiBlcnJvciB8IGVycm9yX25vdGlmeSB8IHN1Y2Nlc3MgfCBzdWNjZXNzX25vdGlmeSB8IGNhbmNlbGVkIHwgd2FpdGluZ1xuICAgICAgICBzdGF0ZV93YWl0aW5nLCAgICAgICAgICAgICAgLy8gLT4gZXJyb3IgfCBlcnJvcl9ub3RpZnkgfCBzdWNjZXNzIHwgc3VjY2Vzc19ub3RpZnkgfCB3YWl0aW5nX2NhbmNlbGVkXG4gICAgICAgIHN0YXRlX3dhaXRpbmdfY2FuY2VsZWQsICAgICAvLyAtPiBlcnJvciB8IGVycm9yX25vdGlmeSB8IHN1Y2Nlc3MgfCBzdWNjZXNzX25vdGlmeSB8IGNhbmNlbGluZ1xuICAgICAgICBzdGF0ZV9jYW5jZWxlZCwgICAgICAgICAgICAgLy8gLT4gZXJyb3IgfCBlcnJvcl9ub3RpZnkgfCBzdWNjZXNzIHwgc3VjY2Vzc19ub3RpZnkgfCBjYW5jZWxpbmdcbiAgICAgICAgc3RhdGVfY2FuY2VsaW5nLCAgICAgICAgICAgIC8vIC0+IGVycm9yX25vdGlmeVxuICAgICAgICBzdGF0ZV9zdWNjZXNzX25vdGlmeSwgICAgICAgLy8gLT4gc3VjY2Vzc1xuICAgICAgICBzdGF0ZV9zdWNjZXNzLCAgICAgICAgICAgICAgLy8gLT4gLlxuICAgICAgICBzdGF0ZV9lcnJvcl9ub3RpZnksICAgICAgICAgLy8gLT4gZXJyb3JcbiAgICAgICAgc3RhdGVfZXJyb3I7ICAgICAgICAgICAgICAgIC8vIC0+IC5cblxuICAgIC8vIE5vb3AgZnVuY3Rpb24sIHVzZWQgaW4gdGhlIHZhcmlvdXMgc3RhdGVzIHRvIGluZGljYXRlIHRoYXQgdGhleSBkb24ndCBzdXBwb3J0IGEgZ2l2ZW5cbiAgICAvLyBtZXNzYWdlLiBOYW1lZCB3aXRoIHRoZSBzb21ld2hhdCBjdXRlIG5hbWUgJ18nIGJlY2F1c2UgaXQgcmVhZHMgcmVhbGx5IHdlbGwgaW4gdGhlIHN0YXRlcy5cblxuICAgIGZ1bmN0aW9uIF8oKSB7IH1cblxuICAgIC8vIEluaXRpYWwgc3RhdGVcbiAgICAvL1xuICAgIHN0YXRlX2NyZWF0ZWQgPSB7XG4gICAgICAgIG5hbWU6IFwiY3JlYXRlZFwiLFxuICAgICAgICBlbnRlcjogZnVuY3Rpb24gKHByb21pc2UpIHtcbiAgICAgICAgICAgIHByb21pc2UuX3NldFN0YXRlKHN0YXRlX3dvcmtpbmcpO1xuICAgICAgICB9LFxuICAgICAgICBjYW5jZWw6IF8sXG4gICAgICAgIGRvbmU6IF8sXG4gICAgICAgIHRoZW46IF8sXG4gICAgICAgIF9jb21wbGV0ZWQ6IF8sXG4gICAgICAgIF9lcnJvcjogXyxcbiAgICAgICAgX25vdGlmeTogXyxcbiAgICAgICAgX3Byb2dyZXNzOiBfLFxuICAgICAgICBfc2V0Q29tcGxldGVWYWx1ZTogXyxcbiAgICAgICAgX3NldEVycm9yVmFsdWU6IF9cbiAgICB9O1xuXG4gICAgLy8gUmVhZHkgc3RhdGUsIHdhaXRpbmcgZm9yIGEgbWVzc2FnZSAoY29tcGxldGVkL2Vycm9yL3Byb2dyZXNzKSwgYWJsZSB0byBiZSBjYW5jZWxlZFxuICAgIC8vXG4gICAgc3RhdGVfd29ya2luZyA9IHtcbiAgICAgICAgbmFtZTogXCJ3b3JraW5nXCIsXG4gICAgICAgIGVudGVyOiBfLFxuICAgICAgICBjYW5jZWw6IGZ1bmN0aW9uIChwcm9taXNlKSB7XG4gICAgICAgICAgICBwcm9taXNlLl9zZXRTdGF0ZShzdGF0ZV9jYW5jZWxlZCk7XG4gICAgICAgIH0sXG4gICAgICAgIGRvbmU6IGRvbmUsXG4gICAgICAgIHRoZW46IHRoZW4sXG4gICAgICAgIF9jb21wbGV0ZWQ6IGNvbXBsZXRlZCxcbiAgICAgICAgX2Vycm9yOiBlcnJvcixcbiAgICAgICAgX25vdGlmeTogXyxcbiAgICAgICAgX3Byb2dyZXNzOiBwcm9ncmVzcyxcbiAgICAgICAgX3NldENvbXBsZXRlVmFsdWU6IHNldENvbXBsZXRlVmFsdWUsXG4gICAgICAgIF9zZXRFcnJvclZhbHVlOiBzZXRFcnJvclZhbHVlXG4gICAgfTtcblxuICAgIC8vIFdhaXRpbmcgc3RhdGUsIGlmIGEgcHJvbWlzZSBpcyBjb21wbGV0ZWQgd2l0aCBhIHZhbHVlIHdoaWNoIGlzIGl0c2VsZiBhIHByb21pc2VcbiAgICAvLyAoaGFzIGEgdGhlbigpIG1ldGhvZCkgaXQgc2lnbnMgdXAgdG8gYmUgaW5mb3JtZWQgd2hlbiB0aGF0IGNoaWxkIHByb21pc2UgaXNcbiAgICAvLyBmdWxmaWxsZWQgYXQgd2hpY2ggcG9pbnQgaXQgd2lsbCBiZSBmdWxmaWxsZWQgd2l0aCB0aGF0IHZhbHVlLlxuICAgIC8vXG4gICAgc3RhdGVfd2FpdGluZyA9IHtcbiAgICAgICAgbmFtZTogXCJ3YWl0aW5nXCIsXG4gICAgICAgIGVudGVyOiBmdW5jdGlvbiAocHJvbWlzZSkge1xuICAgICAgICAgICAgdmFyIHdhaXRlZFVwb24gPSBwcm9taXNlLl92YWx1ZTtcbiAgICAgICAgICAgIC8vIFdlIGNhbiBzcGVjaWFsIGNhc2Ugb3VyIG93biBpbnRlcm1lZGlhdGUgcHJvbWlzZXMgd2hpY2ggYXJlIG5vdCBpbiBhXG4gICAgICAgICAgICAvLyAgdGVybWluYWwgc3RhdGUgYnkganVzdCBwdXNoaW5nIHRoaXMgcHJvbWlzZSBhcyBhIGxpc3RlbmVyIHdpdGhvdXRcbiAgICAgICAgICAgIC8vICBoYXZpbmcgdG8gY3JlYXRlIG5ldyBpbmRpcmVjdGlvbiBmdW5jdGlvbnNcbiAgICAgICAgICAgIGlmICh3YWl0ZWRVcG9uIGluc3RhbmNlb2YgVGhlblByb21pc2UgJiZcbiAgICAgICAgICAgICAgICB3YWl0ZWRVcG9uLl9zdGF0ZSAhPT0gc3RhdGVfZXJyb3IgJiZcbiAgICAgICAgICAgICAgICB3YWl0ZWRVcG9uLl9zdGF0ZSAhPT0gc3RhdGVfc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgIHB1c2hMaXN0ZW5lcih3YWl0ZWRVcG9uLCB7IHByb21pc2U6IHByb21pc2UgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBlcnJvciA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAod2FpdGVkVXBvbi5fZXJyb3JJZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvbWlzZS5fY2hhaW5lZEVycm9yKHZhbHVlLCB3YWl0ZWRVcG9uKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEJlY2F1c2UgdGhpcyBpcyBhbiBpbnRlcm9wIGJvdW5kYXJ5IHdlIHdhbnQgdG8gaW5kaWNhdGUgdGhhdCB0aGlzXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgZXJyb3IgaGFzIGJlZW4gaGFuZGxlZCBieSB0aGUgcHJvbWlzZSBpbmZyYXN0cnVjdHVyZSBiZWZvcmUgd2VcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICBiZWdpbiBhIG5ldyBoYW5kbGluZyBjaGFpbi5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsb25lcnJvcihwcm9taXNlLCB2YWx1ZSwgZGV0YWlsc0ZvckhhbmRsZWRFcnJvciwgd2FpdGVkVXBvbiwgZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvbWlzZS5fZXJyb3IodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBlcnJvci5oYW5kbGVzT25FcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgd2FpdGVkVXBvbi50aGVuKFxuICAgICAgICAgICAgICAgICAgICBwcm9taXNlLl9jb21wbGV0ZWQuYmluZChwcm9taXNlKSxcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IsXG4gICAgICAgICAgICAgICAgICAgIHByb21pc2UuX3Byb2dyZXNzLmJpbmQocHJvbWlzZSlcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBjYW5jZWw6IGZ1bmN0aW9uIChwcm9taXNlKSB7XG4gICAgICAgICAgICBwcm9taXNlLl9zZXRTdGF0ZShzdGF0ZV93YWl0aW5nX2NhbmNlbGVkKTtcbiAgICAgICAgfSxcbiAgICAgICAgZG9uZTogZG9uZSxcbiAgICAgICAgdGhlbjogdGhlbixcbiAgICAgICAgX2NvbXBsZXRlZDogY29tcGxldGVkLFxuICAgICAgICBfZXJyb3I6IGVycm9yLFxuICAgICAgICBfbm90aWZ5OiBfLFxuICAgICAgICBfcHJvZ3Jlc3M6IHByb2dyZXNzLFxuICAgICAgICBfc2V0Q29tcGxldGVWYWx1ZTogc2V0Q29tcGxldGVWYWx1ZSxcbiAgICAgICAgX3NldEVycm9yVmFsdWU6IHNldEVycm9yVmFsdWVcbiAgICB9O1xuXG4gICAgLy8gV2FpdGluZyBjYW5jZWxlZCBzdGF0ZSwgd2hlbiBhIHByb21pc2UgaGFzIGJlZW4gaW4gYSB3YWl0aW5nIHN0YXRlIGFuZCByZWNlaXZlcyBhXG4gICAgLy8gcmVxdWVzdCB0byBjYW5jZWwgaXRzIHBlbmRpbmcgd29yayBpdCB3aWxsIGZvcndhcmQgdGhhdCByZXF1ZXN0IHRvIHRoZSBjaGlsZCBwcm9taXNlXG4gICAgLy8gYW5kIHRoZW4gd2FpdHMgdG8gYmUgaW5mb3JtZWQgb2YgdGhlIHJlc3VsdC4gVGhpcyBwcm9taXNlIG1vdmVzIGl0c2VsZiBpbnRvIHRoZVxuICAgIC8vIGNhbmNlbGluZyBzdGF0ZSBidXQgdW5kZXJzdGFuZHMgdGhhdCB0aGUgY2hpbGQgcHJvbWlzZSBtYXkgaW5zdGVhZCBwdXNoIGl0IHRvIGFcbiAgICAvLyBkaWZmZXJlbnQgc3RhdGUuXG4gICAgLy9cbiAgICBzdGF0ZV93YWl0aW5nX2NhbmNlbGVkID0ge1xuICAgICAgICBuYW1lOiBcIndhaXRpbmdfY2FuY2VsZWRcIixcbiAgICAgICAgZW50ZXI6IGZ1bmN0aW9uIChwcm9taXNlKSB7XG4gICAgICAgICAgICAvLyBJbml0aWF0ZSBhIHRyYW5zaXRpb24gdG8gY2FuY2VsaW5nLiBUcmlnZ2VyaW5nIGEgY2FuY2VsIG9uIHRoZSBwcm9taXNlXG4gICAgICAgICAgICAvLyB0aGF0IHdlIGFyZSB3YWl0aW5nIHVwb24gbWF5IHJlc3VsdCBpbiBhIGRpZmZlcmVudCBzdGF0ZSB0cmFuc2l0aW9uXG4gICAgICAgICAgICAvLyBiZWZvcmUgdGhlIHN0YXRlIG1hY2hpbmUgcHVtcCBydW5zIGFnYWluLlxuICAgICAgICAgICAgcHJvbWlzZS5fc2V0U3RhdGUoc3RhdGVfY2FuY2VsaW5nKTtcbiAgICAgICAgICAgIHZhciB3YWl0ZWRVcG9uID0gcHJvbWlzZS5fdmFsdWU7XG4gICAgICAgICAgICBpZiAod2FpdGVkVXBvbi5jYW5jZWwpIHtcbiAgICAgICAgICAgICAgICB3YWl0ZWRVcG9uLmNhbmNlbCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBjYW5jZWw6IF8sXG4gICAgICAgIGRvbmU6IGRvbmUsXG4gICAgICAgIHRoZW46IHRoZW4sXG4gICAgICAgIF9jb21wbGV0ZWQ6IGNvbXBsZXRlZCxcbiAgICAgICAgX2Vycm9yOiBlcnJvcixcbiAgICAgICAgX25vdGlmeTogXyxcbiAgICAgICAgX3Byb2dyZXNzOiBwcm9ncmVzcyxcbiAgICAgICAgX3NldENvbXBsZXRlVmFsdWU6IHNldENvbXBsZXRlVmFsdWUsXG4gICAgICAgIF9zZXRFcnJvclZhbHVlOiBzZXRFcnJvclZhbHVlXG4gICAgfTtcblxuICAgIC8vIENhbmNlbGVkIHN0YXRlLCBtb3ZlcyB0byB0aGUgY2FuY2VsaW5nIHN0YXRlIGFuZCB0aGVuIHRlbGxzIHRoZSBwcm9taXNlIHRvIGRvXG4gICAgLy8gd2hhdGV2ZXIgaXQgbWlnaHQgbmVlZCB0byBkbyBvbiBjYW5jZWxhdGlvbi5cbiAgICAvL1xuICAgIHN0YXRlX2NhbmNlbGVkID0ge1xuICAgICAgICBuYW1lOiBcImNhbmNlbGVkXCIsXG4gICAgICAgIGVudGVyOiBmdW5jdGlvbiAocHJvbWlzZSkge1xuICAgICAgICAgICAgLy8gSW5pdGlhdGUgYSB0cmFuc2l0aW9uIHRvIGNhbmNlbGluZy4gVGhlIF9jYW5jZWxBY3Rpb24gbWF5IGNoYW5nZSB0aGUgc3RhdGVcbiAgICAgICAgICAgIC8vIGJlZm9yZSB0aGUgc3RhdGUgbWFjaGluZSBwdW1wIHJ1bnMgYWdhaW4uXG4gICAgICAgICAgICBwcm9taXNlLl9zZXRTdGF0ZShzdGF0ZV9jYW5jZWxpbmcpO1xuICAgICAgICAgICAgcHJvbWlzZS5fY2FuY2VsQWN0aW9uKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGNhbmNlbDogXyxcbiAgICAgICAgZG9uZTogZG9uZSxcbiAgICAgICAgdGhlbjogdGhlbixcbiAgICAgICAgX2NvbXBsZXRlZDogY29tcGxldGVkLFxuICAgICAgICBfZXJyb3I6IGVycm9yLFxuICAgICAgICBfbm90aWZ5OiBfLFxuICAgICAgICBfcHJvZ3Jlc3M6IHByb2dyZXNzLFxuICAgICAgICBfc2V0Q29tcGxldGVWYWx1ZTogc2V0Q29tcGxldGVWYWx1ZSxcbiAgICAgICAgX3NldEVycm9yVmFsdWU6IHNldEVycm9yVmFsdWVcbiAgICB9O1xuXG4gICAgLy8gQ2FuY2VsaW5nIHN0YXRlLCBjb21taXRzIHRvIHRoZSBwcm9taXNlIG1vdmluZyB0byBhbiBlcnJvciBzdGF0ZSB3aXRoIGFuIGVycm9yXG4gICAgLy8gb2JqZWN0IHdob3NlICduYW1lJyBhbmQgJ21lc3NhZ2UnIHByb3BlcnRpZXMgY29udGFpbiB0aGUgc3RyaW5nIFwiQ2FuY2VsZWRcIlxuICAgIC8vXG4gICAgc3RhdGVfY2FuY2VsaW5nID0ge1xuICAgICAgICBuYW1lOiBcImNhbmNlbGluZ1wiLFxuICAgICAgICBlbnRlcjogZnVuY3Rpb24gKHByb21pc2UpIHtcbiAgICAgICAgICAgIHZhciBlcnJvciA9IG5ldyBFcnJvcihjYW5jZWxlZE5hbWUpO1xuICAgICAgICAgICAgZXJyb3IubmFtZSA9IGVycm9yLm1lc3NhZ2U7XG4gICAgICAgICAgICBwcm9taXNlLl92YWx1ZSA9IGVycm9yO1xuICAgICAgICAgICAgcHJvbWlzZS5fc2V0U3RhdGUoc3RhdGVfZXJyb3Jfbm90aWZ5KTtcbiAgICAgICAgfSxcbiAgICAgICAgY2FuY2VsOiBfLFxuICAgICAgICBkb25lOiBfLFxuICAgICAgICB0aGVuOiBfLFxuICAgICAgICBfY29tcGxldGVkOiBfLFxuICAgICAgICBfZXJyb3I6IF8sXG4gICAgICAgIF9ub3RpZnk6IF8sXG4gICAgICAgIF9wcm9ncmVzczogXyxcbiAgICAgICAgX3NldENvbXBsZXRlVmFsdWU6IF8sXG4gICAgICAgIF9zZXRFcnJvclZhbHVlOiBfXG4gICAgfTtcblxuICAgIC8vIFN1Y2Nlc3Mgbm90aWZ5IHN0YXRlLCBtb3ZlcyBhIHByb21pc2UgdG8gdGhlIHN1Y2Nlc3Mgc3RhdGUgYW5kIG5vdGlmaWVzIGFsbCBjaGlsZHJlblxuICAgIC8vXG4gICAgc3RhdGVfc3VjY2Vzc19ub3RpZnkgPSB7XG4gICAgICAgIG5hbWU6IFwiY29tcGxldGVfbm90aWZ5XCIsXG4gICAgICAgIGVudGVyOiBmdW5jdGlvbiAocHJvbWlzZSkge1xuICAgICAgICAgICAgcHJvbWlzZS5kb25lID0gQ29tcGxldGVQcm9taXNlLnByb3RvdHlwZS5kb25lO1xuICAgICAgICAgICAgcHJvbWlzZS50aGVuID0gQ29tcGxldGVQcm9taXNlLnByb3RvdHlwZS50aGVuO1xuICAgICAgICAgICAgaWYgKHByb21pc2UuX2xpc3RlbmVycykge1xuICAgICAgICAgICAgICAgIHZhciBxdWV1ZSA9IFtwcm9taXNlXTtcbiAgICAgICAgICAgICAgICB2YXIgcDtcbiAgICAgICAgICAgICAgICB3aGlsZSAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHAgPSBxdWV1ZS5zaGlmdCgpO1xuICAgICAgICAgICAgICAgICAgICBwLl9zdGF0ZS5fbm90aWZ5KHAsIHF1ZXVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwcm9taXNlLl9zZXRTdGF0ZShzdGF0ZV9zdWNjZXNzKTtcbiAgICAgICAgfSxcbiAgICAgICAgY2FuY2VsOiBfLFxuICAgICAgICBkb25lOiBudWxsLCAvKmVycm9yIHRvIGdldCBoZXJlICovXG4gICAgICAgIHRoZW46IG51bGwsIC8qZXJyb3IgdG8gZ2V0IGhlcmUgKi9cbiAgICAgICAgX2NvbXBsZXRlZDogXyxcbiAgICAgICAgX2Vycm9yOiBfLFxuICAgICAgICBfbm90aWZ5OiBub3RpZnlTdWNjZXNzLFxuICAgICAgICBfcHJvZ3Jlc3M6IF8sXG4gICAgICAgIF9zZXRDb21wbGV0ZVZhbHVlOiBfLFxuICAgICAgICBfc2V0RXJyb3JWYWx1ZTogX1xuICAgIH07XG5cbiAgICAvLyBTdWNjZXNzIHN0YXRlLCBtb3ZlcyBhIHByb21pc2UgdG8gdGhlIHN1Y2Nlc3Mgc3RhdGUgYW5kIGRvZXMgTk9UIG5vdGlmeSBhbnkgY2hpbGRyZW4uXG4gICAgLy8gU29tZSB1cHN0cmVhbSBwcm9taXNlIGlzIG93bmluZyB0aGUgbm90aWZpY2F0aW9uIHBhc3MuXG4gICAgLy9cbiAgICBzdGF0ZV9zdWNjZXNzID0ge1xuICAgICAgICBuYW1lOiBcInN1Y2Nlc3NcIixcbiAgICAgICAgZW50ZXI6IGZ1bmN0aW9uIChwcm9taXNlKSB7XG4gICAgICAgICAgICBwcm9taXNlLmRvbmUgPSBDb21wbGV0ZVByb21pc2UucHJvdG90eXBlLmRvbmU7XG4gICAgICAgICAgICBwcm9taXNlLnRoZW4gPSBDb21wbGV0ZVByb21pc2UucHJvdG90eXBlLnRoZW47XG4gICAgICAgICAgICBwcm9taXNlLl9jbGVhbnVwQWN0aW9uKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGNhbmNlbDogXyxcbiAgICAgICAgZG9uZTogbnVsbCwgLyplcnJvciB0byBnZXQgaGVyZSAqL1xuICAgICAgICB0aGVuOiBudWxsLCAvKmVycm9yIHRvIGdldCBoZXJlICovXG4gICAgICAgIF9jb21wbGV0ZWQ6IF8sXG4gICAgICAgIF9lcnJvcjogXyxcbiAgICAgICAgX25vdGlmeTogbm90aWZ5U3VjY2VzcyxcbiAgICAgICAgX3Byb2dyZXNzOiBfLFxuICAgICAgICBfc2V0Q29tcGxldGVWYWx1ZTogXyxcbiAgICAgICAgX3NldEVycm9yVmFsdWU6IF9cbiAgICB9O1xuXG4gICAgLy8gRXJyb3Igbm90aWZ5IHN0YXRlLCBtb3ZlcyBhIHByb21pc2UgdG8gdGhlIGVycm9yIHN0YXRlIGFuZCBub3RpZmllcyBhbGwgY2hpbGRyZW5cbiAgICAvL1xuICAgIHN0YXRlX2Vycm9yX25vdGlmeSA9IHtcbiAgICAgICAgbmFtZTogXCJlcnJvcl9ub3RpZnlcIixcbiAgICAgICAgZW50ZXI6IGZ1bmN0aW9uIChwcm9taXNlKSB7XG4gICAgICAgICAgICBwcm9taXNlLmRvbmUgPSBFcnJvclByb21pc2UucHJvdG90eXBlLmRvbmU7XG4gICAgICAgICAgICBwcm9taXNlLnRoZW4gPSBFcnJvclByb21pc2UucHJvdG90eXBlLnRoZW47XG4gICAgICAgICAgICBpZiAocHJvbWlzZS5fbGlzdGVuZXJzKSB7XG4gICAgICAgICAgICAgICAgdmFyIHF1ZXVlID0gW3Byb21pc2VdO1xuICAgICAgICAgICAgICAgIHZhciBwO1xuICAgICAgICAgICAgICAgIHdoaWxlIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgcCA9IHF1ZXVlLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgIHAuX3N0YXRlLl9ub3RpZnkocCwgcXVldWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHByb21pc2UuX3NldFN0YXRlKHN0YXRlX2Vycm9yKTtcbiAgICAgICAgfSxcbiAgICAgICAgY2FuY2VsOiBfLFxuICAgICAgICBkb25lOiBudWxsLCAvKmVycm9yIHRvIGdldCBoZXJlKi9cbiAgICAgICAgdGhlbjogbnVsbCwgLyplcnJvciB0byBnZXQgaGVyZSovXG4gICAgICAgIF9jb21wbGV0ZWQ6IF8sXG4gICAgICAgIF9lcnJvcjogXyxcbiAgICAgICAgX25vdGlmeTogbm90aWZ5RXJyb3IsXG4gICAgICAgIF9wcm9ncmVzczogXyxcbiAgICAgICAgX3NldENvbXBsZXRlVmFsdWU6IF8sXG4gICAgICAgIF9zZXRFcnJvclZhbHVlOiBfXG4gICAgfTtcblxuICAgIC8vIEVycm9yIHN0YXRlLCBtb3ZlcyBhIHByb21pc2UgdG8gdGhlIGVycm9yIHN0YXRlIGFuZCBkb2VzIE5PVCBub3RpZnkgYW55IGNoaWxkcmVuLlxuICAgIC8vIFNvbWUgdXBzdHJlYW0gcHJvbWlzZSBpcyBvd25pbmcgdGhlIG5vdGlmaWNhdGlvbiBwYXNzLlxuICAgIC8vXG4gICAgc3RhdGVfZXJyb3IgPSB7XG4gICAgICAgIG5hbWU6IFwiZXJyb3JcIixcbiAgICAgICAgZW50ZXI6IGZ1bmN0aW9uIChwcm9taXNlKSB7XG4gICAgICAgICAgICBwcm9taXNlLmRvbmUgPSBFcnJvclByb21pc2UucHJvdG90eXBlLmRvbmU7XG4gICAgICAgICAgICBwcm9taXNlLnRoZW4gPSBFcnJvclByb21pc2UucHJvdG90eXBlLnRoZW47XG4gICAgICAgICAgICBwcm9taXNlLl9jbGVhbnVwQWN0aW9uKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGNhbmNlbDogXyxcbiAgICAgICAgZG9uZTogbnVsbCwgLyplcnJvciB0byBnZXQgaGVyZSovXG4gICAgICAgIHRoZW46IG51bGwsIC8qZXJyb3IgdG8gZ2V0IGhlcmUqL1xuICAgICAgICBfY29tcGxldGVkOiBfLFxuICAgICAgICBfZXJyb3I6IF8sXG4gICAgICAgIF9ub3RpZnk6IG5vdGlmeUVycm9yLFxuICAgICAgICBfcHJvZ3Jlc3M6IF8sXG4gICAgICAgIF9zZXRDb21wbGV0ZVZhbHVlOiBfLFxuICAgICAgICBfc2V0RXJyb3JWYWx1ZTogX1xuICAgIH07XG5cbiAgICAvL1xuICAgIC8vIFRoZSBzdGF0ZW1hY2hpbmUgaW1wbGVtZW50YXRpb24gZm9sbG93cyBhIHZlcnkgcGFydGljdWxhciBwYXR0ZXJuLCB0aGUgc3RhdGVzIGFyZSBzcGVjaWZpZWRcbiAgICAvLyBhcyBzdGF0aWMgc3RhdGVsZXNzIGJhZ3Mgb2YgZnVuY3Rpb25zIHdoaWNoIGFyZSB0aGVuIGluZGlyZWN0ZWQgdGhyb3VnaCB0aGUgc3RhdGUgbWFjaGluZVxuICAgIC8vIGluc3RhbmNlIChhIFByb21pc2UpLiBBcyBzdWNoIGFsbCBvZiB0aGUgZnVuY3Rpb25zIG9uIGVhY2ggc3RhdGUgaGF2ZSB0aGUgcHJvbWlzZSBpbnN0YW5jZVxuICAgIC8vIHBhc3NlZCB0byB0aGVtIGV4cGxpY2l0bHkgYXMgYSBwYXJhbWV0ZXIgYW5kIHRoZSBQcm9taXNlIGluc3RhbmNlIG1lbWJlcnMgZG8gYSBsaXR0bGVcbiAgICAvLyBkYW5jZSB3aGVyZSB0aGV5IGluZGlyZWN0IHRocm91Z2ggdGhlIHN0YXRlIGFuZCBpbnNlcnQgdGhlbXNlbHZlcyBpbiB0aGUgYXJndW1lbnQgbGlzdC5cbiAgICAvL1xuICAgIC8vIFdlIGNvdWxkIGluc3RlYWQgY2FsbCBkaXJlY3RseSB0aHJvdWdoIHRoZSBwcm9taXNlIHN0YXRlcyBob3dldmVyIHRoZW4gZXZlcnkgY2FsbGVyXG4gICAgLy8gd291bGQgaGF2ZSB0byByZW1lbWJlciB0byBkbyB0aGluZ3MgbGlrZSBwdW1waW5nIHRoZSBzdGF0ZSBtYWNoaW5lIHRvIGNhdGNoIHN0YXRlIHRyYW5zaXRpb25zLlxuICAgIC8vXG5cbiAgICB2YXIgUHJvbWlzZVN0YXRlTWFjaGluZSA9IF9CYXNlLkNsYXNzLmRlZmluZShudWxsLCB7XG4gICAgICAgIF9saXN0ZW5lcnM6IG51bGwsXG4gICAgICAgIF9uZXh0U3RhdGU6IG51bGwsXG4gICAgICAgIF9zdGF0ZTogbnVsbCxcbiAgICAgICAgX3ZhbHVlOiBudWxsLFxuXG4gICAgICAgIGNhbmNlbDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy8vIDxzaWduYXR1cmUgaGVscEtleXdvcmQ9XCJXaW5KUy5Qcm9taXNlU3RhdGVNYWNoaW5lLmNhbmNlbFwiPlxuICAgICAgICAgICAgLy8vIDxzdW1tYXJ5IGxvY2lkPVwiV2luSlMuUHJvbWlzZVN0YXRlTWFjaGluZS5jYW5jZWxcIj5cbiAgICAgICAgICAgIC8vLyBBdHRlbXB0cyB0byBjYW5jZWwgdGhlIGZ1bGZpbGxtZW50IG9mIGEgcHJvbWlzZWQgdmFsdWUuIElmIHRoZSBwcm9taXNlIGhhc24ndFxuICAgICAgICAgICAgLy8vIGFscmVhZHkgYmVlbiBmdWxmaWxsZWQgYW5kIGNhbmNlbGxhdGlvbiBpcyBzdXBwb3J0ZWQsIHRoZSBwcm9taXNlIGVudGVyc1xuICAgICAgICAgICAgLy8vIHRoZSBlcnJvciBzdGF0ZSB3aXRoIGEgdmFsdWUgb2YgRXJyb3IoXCJDYW5jZWxlZFwiKS5cbiAgICAgICAgICAgIC8vLyA8L3N1bW1hcnk+XG4gICAgICAgICAgICAvLy8gPC9zaWduYXR1cmU+XG4gICAgICAgICAgICB0aGlzLl9zdGF0ZS5jYW5jZWwodGhpcyk7XG4gICAgICAgICAgICB0aGlzLl9ydW4oKTtcbiAgICAgICAgfSxcbiAgICAgICAgZG9uZTogZnVuY3Rpb24gUHJvbWlzZV9kb25lKG9uQ29tcGxldGUsIG9uRXJyb3IsIG9uUHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgIC8vLyA8c2lnbmF0dXJlIGhlbHBLZXl3b3JkPVwiV2luSlMuUHJvbWlzZVN0YXRlTWFjaGluZS5kb25lXCI+XG4gICAgICAgICAgICAvLy8gPHN1bW1hcnkgbG9jaWQ9XCJXaW5KUy5Qcm9taXNlU3RhdGVNYWNoaW5lLmRvbmVcIj5cbiAgICAgICAgICAgIC8vLyBBbGxvd3MgeW91IHRvIHNwZWNpZnkgdGhlIHdvcmsgdG8gYmUgZG9uZSBvbiB0aGUgZnVsZmlsbG1lbnQgb2YgdGhlIHByb21pc2VkIHZhbHVlLFxuICAgICAgICAgICAgLy8vIHRoZSBlcnJvciBoYW5kbGluZyB0byBiZSBwZXJmb3JtZWQgaWYgdGhlIHByb21pc2UgZmFpbHMgdG8gZnVsZmlsbFxuICAgICAgICAgICAgLy8vIGEgdmFsdWUsIGFuZCB0aGUgaGFuZGxpbmcgb2YgcHJvZ3Jlc3Mgbm90aWZpY2F0aW9ucyBhbG9uZyB0aGUgd2F5LlxuICAgICAgICAgICAgLy8vXG4gICAgICAgICAgICAvLy8gQWZ0ZXIgdGhlIGhhbmRsZXJzIGhhdmUgZmluaXNoZWQgZXhlY3V0aW5nLCB0aGlzIGZ1bmN0aW9uIHRocm93cyBhbnkgZXJyb3IgdGhhdCB3b3VsZCBoYXZlIGJlZW4gcmV0dXJuZWRcbiAgICAgICAgICAgIC8vLyBmcm9tIHRoZW4oKSBhcyBhIHByb21pc2UgaW4gdGhlIGVycm9yIHN0YXRlLlxuICAgICAgICAgICAgLy8vIDwvc3VtbWFyeT5cbiAgICAgICAgICAgIC8vLyA8cGFyYW0gbmFtZT0nb25Db21wbGV0ZScgdHlwZT0nRnVuY3Rpb24nIGxvY2lkPVwiV2luSlMuUHJvbWlzZVN0YXRlTWFjaGluZS5kb25lX3A6b25Db21wbGV0ZVwiPlxuICAgICAgICAgICAgLy8vIFRoZSBmdW5jdGlvbiB0byBiZSBjYWxsZWQgaWYgdGhlIHByb21pc2UgaXMgZnVsZmlsbGVkIHN1Y2Nlc3NmdWxseSB3aXRoIGEgdmFsdWUuXG4gICAgICAgICAgICAvLy8gVGhlIGZ1bGZpbGxlZCB2YWx1ZSBpcyBwYXNzZWQgYXMgdGhlIHNpbmdsZSBhcmd1bWVudC4gSWYgdGhlIHZhbHVlIGlzIG51bGwsXG4gICAgICAgICAgICAvLy8gdGhlIGZ1bGZpbGxlZCB2YWx1ZSBpcyByZXR1cm5lZC4gVGhlIHZhbHVlIHJldHVybmVkXG4gICAgICAgICAgICAvLy8gZnJvbSB0aGUgZnVuY3Rpb24gYmVjb21lcyB0aGUgZnVsZmlsbGVkIHZhbHVlIG9mIHRoZSBwcm9taXNlIHJldHVybmVkIGJ5XG4gICAgICAgICAgICAvLy8gdGhlbigpLiBJZiBhbiBleGNlcHRpb24gaXMgdGhyb3duIHdoaWxlIGV4ZWN1dGluZyB0aGUgZnVuY3Rpb24sIHRoZSBwcm9taXNlIHJldHVybmVkXG4gICAgICAgICAgICAvLy8gYnkgdGhlbigpIG1vdmVzIGludG8gdGhlIGVycm9yIHN0YXRlLlxuICAgICAgICAgICAgLy8vIDwvcGFyYW0+XG4gICAgICAgICAgICAvLy8gPHBhcmFtIG5hbWU9J29uRXJyb3InIHR5cGU9J0Z1bmN0aW9uJyBvcHRpb25hbD0ndHJ1ZScgbG9jaWQ9XCJXaW5KUy5Qcm9taXNlU3RhdGVNYWNoaW5lLmRvbmVfcDpvbkVycm9yXCI+XG4gICAgICAgICAgICAvLy8gVGhlIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCBpZiB0aGUgcHJvbWlzZSBpcyBmdWxmaWxsZWQgd2l0aCBhbiBlcnJvci4gVGhlIGVycm9yXG4gICAgICAgICAgICAvLy8gaXMgcGFzc2VkIGFzIHRoZSBzaW5nbGUgYXJndW1lbnQuIElmIGl0IGlzIG51bGwsIHRoZSBlcnJvciBpcyBmb3J3YXJkZWQuXG4gICAgICAgICAgICAvLy8gVGhlIHZhbHVlIHJldHVybmVkIGZyb20gdGhlIGZ1bmN0aW9uIGlzIHRoZSBmdWxmaWxsZWQgdmFsdWUgb2YgdGhlIHByb21pc2UgcmV0dXJuZWQgYnkgdGhlbigpLlxuICAgICAgICAgICAgLy8vIDwvcGFyYW0+XG4gICAgICAgICAgICAvLy8gPHBhcmFtIG5hbWU9J29uUHJvZ3Jlc3MnIHR5cGU9J0Z1bmN0aW9uJyBvcHRpb25hbD0ndHJ1ZScgbG9jaWQ9XCJXaW5KUy5Qcm9taXNlU3RhdGVNYWNoaW5lLmRvbmVfcDpvblByb2dyZXNzXCI+XG4gICAgICAgICAgICAvLy8gdGhlIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCBpZiB0aGUgcHJvbWlzZSByZXBvcnRzIHByb2dyZXNzLiBEYXRhIGFib3V0IHRoZSBwcm9ncmVzc1xuICAgICAgICAgICAgLy8vIGlzIHBhc3NlZCBhcyB0aGUgc2luZ2xlIGFyZ3VtZW50LiBQcm9taXNlcyBhcmUgbm90IHJlcXVpcmVkIHRvIHN1cHBvcnRcbiAgICAgICAgICAgIC8vLyBwcm9ncmVzcy5cbiAgICAgICAgICAgIC8vLyA8L3BhcmFtPlxuICAgICAgICAgICAgLy8vIDwvc2lnbmF0dXJlPlxuICAgICAgICAgICAgdGhpcy5fc3RhdGUuZG9uZSh0aGlzLCBvbkNvbXBsZXRlLCBvbkVycm9yLCBvblByb2dyZXNzKTtcbiAgICAgICAgfSxcbiAgICAgICAgdGhlbjogZnVuY3Rpb24gUHJvbWlzZV90aGVuKG9uQ29tcGxldGUsIG9uRXJyb3IsIG9uUHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgIC8vLyA8c2lnbmF0dXJlIGhlbHBLZXl3b3JkPVwiV2luSlMuUHJvbWlzZVN0YXRlTWFjaGluZS50aGVuXCI+XG4gICAgICAgICAgICAvLy8gPHN1bW1hcnkgbG9jaWQ9XCJXaW5KUy5Qcm9taXNlU3RhdGVNYWNoaW5lLnRoZW5cIj5cbiAgICAgICAgICAgIC8vLyBBbGxvd3MgeW91IHRvIHNwZWNpZnkgdGhlIHdvcmsgdG8gYmUgZG9uZSBvbiB0aGUgZnVsZmlsbG1lbnQgb2YgdGhlIHByb21pc2VkIHZhbHVlLFxuICAgICAgICAgICAgLy8vIHRoZSBlcnJvciBoYW5kbGluZyB0byBiZSBwZXJmb3JtZWQgaWYgdGhlIHByb21pc2UgZmFpbHMgdG8gZnVsZmlsbFxuICAgICAgICAgICAgLy8vIGEgdmFsdWUsIGFuZCB0aGUgaGFuZGxpbmcgb2YgcHJvZ3Jlc3Mgbm90aWZpY2F0aW9ucyBhbG9uZyB0aGUgd2F5LlxuICAgICAgICAgICAgLy8vIDwvc3VtbWFyeT5cbiAgICAgICAgICAgIC8vLyA8cGFyYW0gbmFtZT0nb25Db21wbGV0ZScgdHlwZT0nRnVuY3Rpb24nIGxvY2lkPVwiV2luSlMuUHJvbWlzZVN0YXRlTWFjaGluZS50aGVuX3A6b25Db21wbGV0ZVwiPlxuICAgICAgICAgICAgLy8vIFRoZSBmdW5jdGlvbiB0byBiZSBjYWxsZWQgaWYgdGhlIHByb21pc2UgaXMgZnVsZmlsbGVkIHN1Y2Nlc3NmdWxseSB3aXRoIGEgdmFsdWUuXG4gICAgICAgICAgICAvLy8gVGhlIHZhbHVlIGlzIHBhc3NlZCBhcyB0aGUgc2luZ2xlIGFyZ3VtZW50LiBJZiB0aGUgdmFsdWUgaXMgbnVsbCwgdGhlIHZhbHVlIGlzIHJldHVybmVkLlxuICAgICAgICAgICAgLy8vIFRoZSB2YWx1ZSByZXR1cm5lZCBmcm9tIHRoZSBmdW5jdGlvbiBiZWNvbWVzIHRoZSBmdWxmaWxsZWQgdmFsdWUgb2YgdGhlIHByb21pc2UgcmV0dXJuZWQgYnlcbiAgICAgICAgICAgIC8vLyB0aGVuKCkuIElmIGFuIGV4Y2VwdGlvbiBpcyB0aHJvd24gd2hpbGUgdGhpcyBmdW5jdGlvbiBpcyBiZWluZyBleGVjdXRlZCwgdGhlIHByb21pc2UgcmV0dXJuZWRcbiAgICAgICAgICAgIC8vLyBieSB0aGVuKCkgbW92ZXMgaW50byB0aGUgZXJyb3Igc3RhdGUuXG4gICAgICAgICAgICAvLy8gPC9wYXJhbT5cbiAgICAgICAgICAgIC8vLyA8cGFyYW0gbmFtZT0nb25FcnJvcicgdHlwZT0nRnVuY3Rpb24nIG9wdGlvbmFsPSd0cnVlJyBsb2NpZD1cIldpbkpTLlByb21pc2VTdGF0ZU1hY2hpbmUudGhlbl9wOm9uRXJyb3JcIj5cbiAgICAgICAgICAgIC8vLyBUaGUgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIGlmIHRoZSBwcm9taXNlIGlzIGZ1bGZpbGxlZCB3aXRoIGFuIGVycm9yLiBUaGUgZXJyb3JcbiAgICAgICAgICAgIC8vLyBpcyBwYXNzZWQgYXMgdGhlIHNpbmdsZSBhcmd1bWVudC4gSWYgaXQgaXMgbnVsbCwgdGhlIGVycm9yIGlzIGZvcndhcmRlZC5cbiAgICAgICAgICAgIC8vLyBUaGUgdmFsdWUgcmV0dXJuZWQgZnJvbSB0aGUgZnVuY3Rpb24gYmVjb21lcyB0aGUgZnVsZmlsbGVkIHZhbHVlIG9mIHRoZSBwcm9taXNlIHJldHVybmVkIGJ5IHRoZW4oKS5cbiAgICAgICAgICAgIC8vLyA8L3BhcmFtPlxuICAgICAgICAgICAgLy8vIDxwYXJhbSBuYW1lPSdvblByb2dyZXNzJyB0eXBlPSdGdW5jdGlvbicgb3B0aW9uYWw9J3RydWUnIGxvY2lkPVwiV2luSlMuUHJvbWlzZVN0YXRlTWFjaGluZS50aGVuX3A6b25Qcm9ncmVzc1wiPlxuICAgICAgICAgICAgLy8vIFRoZSBmdW5jdGlvbiB0byBiZSBjYWxsZWQgaWYgdGhlIHByb21pc2UgcmVwb3J0cyBwcm9ncmVzcy4gRGF0YSBhYm91dCB0aGUgcHJvZ3Jlc3NcbiAgICAgICAgICAgIC8vLyBpcyBwYXNzZWQgYXMgdGhlIHNpbmdsZSBhcmd1bWVudC4gUHJvbWlzZXMgYXJlIG5vdCByZXF1aXJlZCB0byBzdXBwb3J0XG4gICAgICAgICAgICAvLy8gcHJvZ3Jlc3MuXG4gICAgICAgICAgICAvLy8gPC9wYXJhbT5cbiAgICAgICAgICAgIC8vLyA8cmV0dXJucyB0eXBlPVwiV2luSlMuUHJvbWlzZVwiIGxvY2lkPVwiV2luSlMuUHJvbWlzZVN0YXRlTWFjaGluZS50aGVuX3JldHVyblZhbHVlXCI+XG4gICAgICAgICAgICAvLy8gVGhlIHByb21pc2Ugd2hvc2UgdmFsdWUgaXMgdGhlIHJlc3VsdCBvZiBleGVjdXRpbmcgdGhlIGNvbXBsZXRlIG9yXG4gICAgICAgICAgICAvLy8gZXJyb3IgZnVuY3Rpb24uXG4gICAgICAgICAgICAvLy8gPC9yZXR1cm5zPlxuICAgICAgICAgICAgLy8vIDwvc2lnbmF0dXJlPlxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3N0YXRlLnRoZW4odGhpcywgb25Db21wbGV0ZSwgb25FcnJvciwgb25Qcm9ncmVzcyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX2NoYWluZWRFcnJvcjogZnVuY3Rpb24gKHZhbHVlLCBjb250ZXh0KSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gdGhpcy5fc3RhdGUuX2Vycm9yKHRoaXMsIHZhbHVlLCBkZXRhaWxzRm9yQ2hhaW5lZEVycm9yLCBjb250ZXh0KTtcbiAgICAgICAgICAgIHRoaXMuX3J1bigpO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfSxcbiAgICAgICAgX2NvbXBsZXRlZDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gdGhpcy5fc3RhdGUuX2NvbXBsZXRlZCh0aGlzLCB2YWx1ZSk7XG4gICAgICAgICAgICB0aGlzLl9ydW4oKTtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH0sXG4gICAgICAgIF9lcnJvcjogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gdGhpcy5fc3RhdGUuX2Vycm9yKHRoaXMsIHZhbHVlLCBkZXRhaWxzRm9yRXJyb3IpO1xuICAgICAgICAgICAgdGhpcy5fcnVuKCk7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9LFxuICAgICAgICBfcHJvZ3Jlc3M6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fc3RhdGUuX3Byb2dyZXNzKHRoaXMsIHZhbHVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgX3NldFN0YXRlOiBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgICAgIHRoaXMuX25leHRTdGF0ZSA9IHN0YXRlO1xuICAgICAgICB9LFxuICAgICAgICBfc2V0Q29tcGxldGVWYWx1ZTogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl9zdGF0ZS5fc2V0Q29tcGxldGVWYWx1ZSh0aGlzLCB2YWx1ZSk7XG4gICAgICAgICAgICB0aGlzLl9ydW4oKTtcbiAgICAgICAgfSxcbiAgICAgICAgX3NldENoYWluZWRFcnJvclZhbHVlOiBmdW5jdGlvbiAodmFsdWUsIGNvbnRleHQpIHtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSB0aGlzLl9zdGF0ZS5fc2V0RXJyb3JWYWx1ZSh0aGlzLCB2YWx1ZSwgZGV0YWlsc0ZvckNoYWluZWRFcnJvciwgY29udGV4dCk7XG4gICAgICAgICAgICB0aGlzLl9ydW4oKTtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH0sXG4gICAgICAgIF9zZXRFeGNlcHRpb25WYWx1ZTogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gdGhpcy5fc3RhdGUuX3NldEVycm9yVmFsdWUodGhpcywgdmFsdWUsIGRldGFpbHNGb3JFeGNlcHRpb24pO1xuICAgICAgICAgICAgdGhpcy5fcnVuKCk7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9LFxuICAgICAgICBfcnVuOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB3aGlsZSAodGhpcy5fbmV4dFN0YXRlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3RhdGUgPSB0aGlzLl9uZXh0U3RhdGU7XG4gICAgICAgICAgICAgICAgdGhpcy5fbmV4dFN0YXRlID0gbnVsbDtcbiAgICAgICAgICAgICAgICB0aGlzLl9zdGF0ZS5lbnRlcih0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAgc3VwcG9ydGVkRm9yUHJvY2Vzc2luZzogZmFsc2VcbiAgICB9KTtcblxuICAgIC8vXG4gICAgLy8gSW1wbGVtZW50YXRpb25zIG9mIHNoYXJlZCBzdGF0ZSBtYWNoaW5lIGNvZGUuXG4gICAgLy9cblxuICAgIGZ1bmN0aW9uIGNvbXBsZXRlZChwcm9taXNlLCB2YWx1ZSkge1xuICAgICAgICB2YXIgdGFyZ2V0U3RhdGU7XG4gICAgICAgIGlmICh2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIHZhbHVlLnRoZW4gPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgdGFyZ2V0U3RhdGUgPSBzdGF0ZV93YWl0aW5nO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGFyZ2V0U3RhdGUgPSBzdGF0ZV9zdWNjZXNzX25vdGlmeTtcbiAgICAgICAgfVxuICAgICAgICBwcm9taXNlLl92YWx1ZSA9IHZhbHVlO1xuICAgICAgICBwcm9taXNlLl9zZXRTdGF0ZSh0YXJnZXRTdGF0ZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNyZWF0ZUVycm9yRGV0YWlscyhleGNlcHRpb24sIGVycm9yLCBwcm9taXNlLCBpZCwgcGFyZW50LCBoYW5kbGVyKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBleGNlcHRpb246IGV4Y2VwdGlvbixcbiAgICAgICAgICAgIGVycm9yOiBlcnJvcixcbiAgICAgICAgICAgIHByb21pc2U6IHByb21pc2UsXG4gICAgICAgICAgICBoYW5kbGVyOiBoYW5kbGVyLFxuICAgICAgICAgICAgaWQ6IGlkLFxuICAgICAgICAgICAgcGFyZW50OiBwYXJlbnRcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGV0YWlsc0ZvckhhbmRsZWRFcnJvcihwcm9taXNlLCBlcnJvclZhbHVlLCBjb250ZXh0LCBoYW5kbGVyKSB7XG4gICAgICAgIHZhciBleGNlcHRpb24gPSBjb250ZXh0Ll9pc0V4Y2VwdGlvbjtcbiAgICAgICAgdmFyIGVycm9ySWQgPSBjb250ZXh0Ll9lcnJvcklkO1xuICAgICAgICByZXR1cm4gY3JlYXRlRXJyb3JEZXRhaWxzKFxuICAgICAgICAgICAgZXhjZXB0aW9uID8gZXJyb3JWYWx1ZSA6IG51bGwsXG4gICAgICAgICAgICBleGNlcHRpb24gPyBudWxsIDogZXJyb3JWYWx1ZSxcbiAgICAgICAgICAgIHByb21pc2UsXG4gICAgICAgICAgICBlcnJvcklkLFxuICAgICAgICAgICAgY29udGV4dCxcbiAgICAgICAgICAgIGhhbmRsZXJcbiAgICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGV0YWlsc0ZvckNoYWluZWRFcnJvcihwcm9taXNlLCBlcnJvclZhbHVlLCBjb250ZXh0KSB7XG4gICAgICAgIHZhciBleGNlcHRpb24gPSBjb250ZXh0Ll9pc0V4Y2VwdGlvbjtcbiAgICAgICAgdmFyIGVycm9ySWQgPSBjb250ZXh0Ll9lcnJvcklkO1xuICAgICAgICBzZXRFcnJvckluZm8ocHJvbWlzZSwgZXJyb3JJZCwgZXhjZXB0aW9uKTtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUVycm9yRGV0YWlscyhcbiAgICAgICAgICAgIGV4Y2VwdGlvbiA/IGVycm9yVmFsdWUgOiBudWxsLFxuICAgICAgICAgICAgZXhjZXB0aW9uID8gbnVsbCA6IGVycm9yVmFsdWUsXG4gICAgICAgICAgICBwcm9taXNlLFxuICAgICAgICAgICAgZXJyb3JJZCxcbiAgICAgICAgICAgIGNvbnRleHRcbiAgICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGV0YWlsc0ZvckVycm9yKHByb21pc2UsIGVycm9yVmFsdWUpIHtcbiAgICAgICAgdmFyIGVycm9ySWQgPSArK2Vycm9yX251bWJlcjtcbiAgICAgICAgc2V0RXJyb3JJbmZvKHByb21pc2UsIGVycm9ySWQpO1xuICAgICAgICByZXR1cm4gY3JlYXRlRXJyb3JEZXRhaWxzKFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIGVycm9yVmFsdWUsXG4gICAgICAgICAgICBwcm9taXNlLFxuICAgICAgICAgICAgZXJyb3JJZFxuICAgICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBkZXRhaWxzRm9yRXhjZXB0aW9uKHByb21pc2UsIGV4Y2VwdGlvblZhbHVlKSB7XG4gICAgICAgIHZhciBlcnJvcklkID0gKytlcnJvcl9udW1iZXI7XG4gICAgICAgIHNldEVycm9ySW5mbyhwcm9taXNlLCBlcnJvcklkLCB0cnVlKTtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUVycm9yRGV0YWlscyhcbiAgICAgICAgICAgIGV4Y2VwdGlvblZhbHVlLFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIHByb21pc2UsXG4gICAgICAgICAgICBlcnJvcklkXG4gICAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRvbmUocHJvbWlzZSwgb25Db21wbGV0ZSwgb25FcnJvciwgb25Qcm9ncmVzcykge1xuICAgICAgICB2YXIgYXN5bmNPcElEID0gX1RyYWNlLl90cmFjZUFzeW5jT3BlcmF0aW9uU3RhcnRpbmcoXCJXaW5KUy5Qcm9taXNlLmRvbmVcIik7XG4gICAgICAgIHB1c2hMaXN0ZW5lcihwcm9taXNlLCB7IGM6IG9uQ29tcGxldGUsIGU6IG9uRXJyb3IsIHA6IG9uUHJvZ3Jlc3MsIGFzeW5jT3BJRDogYXN5bmNPcElEIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBlcnJvcihwcm9taXNlLCB2YWx1ZSwgb25lcnJvckRldGFpbHMsIGNvbnRleHQpIHtcbiAgICAgICAgcHJvbWlzZS5fdmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgY2FsbG9uZXJyb3IocHJvbWlzZSwgdmFsdWUsIG9uZXJyb3JEZXRhaWxzLCBjb250ZXh0KTtcbiAgICAgICAgcHJvbWlzZS5fc2V0U3RhdGUoc3RhdGVfZXJyb3Jfbm90aWZ5KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbm90aWZ5U3VjY2Vzcyhwcm9taXNlLCBxdWV1ZSkge1xuICAgICAgICB2YXIgdmFsdWUgPSBwcm9taXNlLl92YWx1ZTtcbiAgICAgICAgdmFyIGxpc3RlbmVycyA9IHByb21pc2UuX2xpc3RlbmVycztcbiAgICAgICAgaWYgKCFsaXN0ZW5lcnMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBwcm9taXNlLl9saXN0ZW5lcnMgPSBudWxsO1xuICAgICAgICB2YXIgaSwgbGVuO1xuICAgICAgICBmb3IgKGkgPSAwLCBsZW4gPSBBcnJheS5pc0FycmF5KGxpc3RlbmVycykgPyBsaXN0ZW5lcnMubGVuZ3RoIDogMTsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgbGlzdGVuZXIgPSBsZW4gPT09IDEgPyBsaXN0ZW5lcnMgOiBsaXN0ZW5lcnNbaV07XG4gICAgICAgICAgICB2YXIgb25Db21wbGV0ZSA9IGxpc3RlbmVyLmM7XG4gICAgICAgICAgICB2YXIgdGFyZ2V0ID0gbGlzdGVuZXIucHJvbWlzZTtcblxuICAgICAgICAgICAgX1RyYWNlLl90cmFjZUFzeW5jT3BlcmF0aW9uQ29tcGxldGVkKGxpc3RlbmVyLmFzeW5jT3BJRCwgX0dsb2JhbC5EZWJ1ZyAmJiBfR2xvYmFsLkRlYnVnLk1TX0FTWU5DX09QX1NUQVRVU19TVUNDRVNTKTtcblxuICAgICAgICAgICAgaWYgKHRhcmdldCkge1xuICAgICAgICAgICAgICAgIF9UcmFjZS5fdHJhY2VBc3luY0NhbGxiYWNrU3RhcnRpbmcobGlzdGVuZXIuYXN5bmNPcElEKTtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXQuX3NldENvbXBsZXRlVmFsdWUob25Db21wbGV0ZSA/IG9uQ29tcGxldGUodmFsdWUpIDogdmFsdWUpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldC5fc2V0RXhjZXB0aW9uVmFsdWUoZXgpO1xuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIF9UcmFjZS5fdHJhY2VBc3luY0NhbGxiYWNrQ29tcGxldGVkKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0YXJnZXQuX3N0YXRlICE9PSBzdGF0ZV93YWl0aW5nICYmIHRhcmdldC5fbGlzdGVuZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgIHF1ZXVlLnB1c2godGFyZ2V0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIENvbXBsZXRlUHJvbWlzZS5wcm90b3R5cGUuZG9uZS5jYWxsKHByb21pc2UsIG9uQ29tcGxldGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIG5vdGlmeUVycm9yKHByb21pc2UsIHF1ZXVlKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IHByb21pc2UuX3ZhbHVlO1xuICAgICAgICB2YXIgbGlzdGVuZXJzID0gcHJvbWlzZS5fbGlzdGVuZXJzO1xuICAgICAgICBpZiAoIWxpc3RlbmVycykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHByb21pc2UuX2xpc3RlbmVycyA9IG51bGw7XG4gICAgICAgIHZhciBpLCBsZW47XG4gICAgICAgIGZvciAoaSA9IDAsIGxlbiA9IEFycmF5LmlzQXJyYXkobGlzdGVuZXJzKSA/IGxpc3RlbmVycy5sZW5ndGggOiAxOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBsaXN0ZW5lciA9IGxlbiA9PT0gMSA/IGxpc3RlbmVycyA6IGxpc3RlbmVyc1tpXTtcbiAgICAgICAgICAgIHZhciBvbkVycm9yID0gbGlzdGVuZXIuZTtcbiAgICAgICAgICAgIHZhciB0YXJnZXQgPSBsaXN0ZW5lci5wcm9taXNlO1xuXG4gICAgICAgICAgICB2YXIgZXJyb3JJRCA9IF9HbG9iYWwuRGVidWcgJiYgKHZhbHVlICYmIHZhbHVlLm5hbWUgPT09IGNhbmNlbGVkTmFtZSA/IF9HbG9iYWwuRGVidWcuTVNfQVNZTkNfT1BfU1RBVFVTX0NBTkNFTEVEIDogX0dsb2JhbC5EZWJ1Zy5NU19BU1lOQ19PUF9TVEFUVVNfRVJST1IpO1xuICAgICAgICAgICAgX1RyYWNlLl90cmFjZUFzeW5jT3BlcmF0aW9uQ29tcGxldGVkKGxpc3RlbmVyLmFzeW5jT3BJRCwgZXJyb3JJRCk7XG5cbiAgICAgICAgICAgIGlmICh0YXJnZXQpIHtcbiAgICAgICAgICAgICAgICB2YXIgYXN5bmNDYWxsYmFja1N0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAob25FcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgX1RyYWNlLl90cmFjZUFzeW5jQ2FsbGJhY2tTdGFydGluZyhsaXN0ZW5lci5hc3luY09wSUQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYXN5bmNDYWxsYmFja1N0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFvbkVycm9yLmhhbmRsZXNPbkVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbG9uZXJyb3IodGFyZ2V0LCB2YWx1ZSwgZGV0YWlsc0ZvckhhbmRsZWRFcnJvciwgcHJvbWlzZSwgb25FcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQuX3NldENvbXBsZXRlVmFsdWUob25FcnJvcih2YWx1ZSkpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0Ll9zZXRDaGFpbmVkRXJyb3JWYWx1ZSh2YWx1ZSwgcHJvbWlzZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChleCkge1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXQuX3NldEV4Y2VwdGlvblZhbHVlKGV4KTtcbiAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYXN5bmNDYWxsYmFja1N0YXJ0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9UcmFjZS5fdHJhY2VBc3luY0NhbGxiYWNrQ29tcGxldGVkKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRhcmdldC5fc3RhdGUgIT09IHN0YXRlX3dhaXRpbmcgJiYgdGFyZ2V0Ll9saXN0ZW5lcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgcXVldWUucHVzaCh0YXJnZXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgRXJyb3JQcm9taXNlLnByb3RvdHlwZS5kb25lLmNhbGwocHJvbWlzZSwgbnVsbCwgb25FcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gY2FsbG9uZXJyb3IocHJvbWlzZSwgdmFsdWUsIG9uZXJyb3JEZXRhaWxzR2VuZXJhdG9yLCBjb250ZXh0LCBoYW5kbGVyKSB7XG4gICAgICAgIGlmIChwcm9taXNlRXZlbnRMaXN0ZW5lcnMuX2xpc3RlbmVyc1tlcnJvckVUXSkge1xuICAgICAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgRXJyb3IgJiYgdmFsdWUubWVzc2FnZSA9PT0gY2FuY2VsZWROYW1lKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcHJvbWlzZUV2ZW50TGlzdGVuZXJzLmRpc3BhdGNoRXZlbnQoZXJyb3JFVCwgb25lcnJvckRldGFpbHNHZW5lcmF0b3IocHJvbWlzZSwgdmFsdWUsIGNvbnRleHQsIGhhbmRsZXIpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBwcm9ncmVzcyhwcm9taXNlLCB2YWx1ZSkge1xuICAgICAgICB2YXIgbGlzdGVuZXJzID0gcHJvbWlzZS5fbGlzdGVuZXJzO1xuICAgICAgICBpZiAobGlzdGVuZXJzKSB7XG4gICAgICAgICAgICB2YXIgaSwgbGVuO1xuICAgICAgICAgICAgZm9yIChpID0gMCwgbGVuID0gQXJyYXkuaXNBcnJheShsaXN0ZW5lcnMpID8gbGlzdGVuZXJzLmxlbmd0aCA6IDE7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBsaXN0ZW5lciA9IGxlbiA9PT0gMSA/IGxpc3RlbmVycyA6IGxpc3RlbmVyc1tpXTtcbiAgICAgICAgICAgICAgICB2YXIgb25Qcm9ncmVzcyA9IGxpc3RlbmVyLnA7XG4gICAgICAgICAgICAgICAgaWYgKG9uUHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHsgb25Qcm9ncmVzcyh2YWx1ZSk7IH0gY2F0Y2ggKGV4KSB7IH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCEobGlzdGVuZXIuYyB8fCBsaXN0ZW5lci5lKSAmJiBsaXN0ZW5lci5wcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpc3RlbmVyLnByb21pc2UuX3Byb2dyZXNzKHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gcHVzaExpc3RlbmVyKHByb21pc2UsIGxpc3RlbmVyKSB7XG4gICAgICAgIHZhciBsaXN0ZW5lcnMgPSBwcm9taXNlLl9saXN0ZW5lcnM7XG4gICAgICAgIGlmIChsaXN0ZW5lcnMpIHtcbiAgICAgICAgICAgIC8vIFdlIG1heSBoYXZlIGVpdGhlciBhIHNpbmdsZSBsaXN0ZW5lciAod2hpY2ggd2lsbCBuZXZlciBiZSB3cmFwcGVkIGluIGFuIGFycmF5KVxuICAgICAgICAgICAgLy8gb3IgMisgbGlzdGVuZXJzICh3aGljaCB3aWxsIGJlIHdyYXBwZWQpLiBTaW5jZSB3ZSBhcmUgbm93IGFkZGluZyBvbmUgbW9yZSBsaXN0ZW5lclxuICAgICAgICAgICAgLy8gd2UgbWF5IGhhdmUgdG8gd3JhcCB0aGUgc2luZ2xlIGxpc3RlbmVyIGJlZm9yZSBhZGRpbmcgdGhlIHNlY29uZC5cbiAgICAgICAgICAgIGxpc3RlbmVycyA9IEFycmF5LmlzQXJyYXkobGlzdGVuZXJzKSA/IGxpc3RlbmVycyA6IFtsaXN0ZW5lcnNdO1xuICAgICAgICAgICAgbGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGlzdGVuZXJzID0gbGlzdGVuZXI7XG4gICAgICAgIH1cbiAgICAgICAgcHJvbWlzZS5fbGlzdGVuZXJzID0gbGlzdGVuZXJzO1xuICAgIH1cbiAgICAvLyBUaGUgZGlmZmVyZW5jZSBiZXdlZW4gc2V0Q29tcGxldGVWYWx1ZSgpL3NldEVycm9yVmFsdWUoKSBhbmQgY29tcGxldGUoKS9lcnJvcigpIGlzIHRoYXQgc2V0WFhYVmFsdWUoKSBtb3Zlc1xuICAgIC8vIGEgcHJvbWlzZSBkaXJlY3RseSB0byB0aGUgc3VjY2Vzcy9lcnJvciBzdGF0ZSB3aXRob3V0IHN0YXJ0aW5nIGFub3RoZXIgbm90aWZpY2F0aW9uIHBhc3MgKGJlY2F1c2Ugb25lXG4gICAgLy8gaXMgYWxyZWFkeSBvbmdvaW5nKS5cbiAgICBmdW5jdGlvbiBzZXRFcnJvckluZm8ocHJvbWlzZSwgZXJyb3JJZCwgaXNFeGNlcHRpb24pIHtcbiAgICAgICAgcHJvbWlzZS5faXNFeGNlcHRpb24gPSBpc0V4Y2VwdGlvbiB8fCBmYWxzZTtcbiAgICAgICAgcHJvbWlzZS5fZXJyb3JJZCA9IGVycm9ySWQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNldEVycm9yVmFsdWUocHJvbWlzZSwgdmFsdWUsIG9uZXJyb3JEZXRhaWxzLCBjb250ZXh0KSB7XG4gICAgICAgIHByb21pc2UuX3ZhbHVlID0gdmFsdWU7XG4gICAgICAgIGNhbGxvbmVycm9yKHByb21pc2UsIHZhbHVlLCBvbmVycm9yRGV0YWlscywgY29udGV4dCk7XG4gICAgICAgIHByb21pc2UuX3NldFN0YXRlKHN0YXRlX2Vycm9yKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gc2V0Q29tcGxldGVWYWx1ZShwcm9taXNlLCB2YWx1ZSkge1xuICAgICAgICB2YXIgdGFyZ2V0U3RhdGU7XG4gICAgICAgIGlmICh2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIHZhbHVlLnRoZW4gPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgdGFyZ2V0U3RhdGUgPSBzdGF0ZV93YWl0aW5nO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGFyZ2V0U3RhdGUgPSBzdGF0ZV9zdWNjZXNzO1xuICAgICAgICB9XG4gICAgICAgIHByb21pc2UuX3ZhbHVlID0gdmFsdWU7XG4gICAgICAgIHByb21pc2UuX3NldFN0YXRlKHRhcmdldFN0YXRlKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdGhlbihwcm9taXNlLCBvbkNvbXBsZXRlLCBvbkVycm9yLCBvblByb2dyZXNzKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBuZXcgVGhlblByb21pc2UocHJvbWlzZSk7XG4gICAgICAgIHZhciBhc3luY09wSUQgPSBfVHJhY2UuX3RyYWNlQXN5bmNPcGVyYXRpb25TdGFydGluZyhcIldpbkpTLlByb21pc2UudGhlblwiKTtcbiAgICAgICAgcHVzaExpc3RlbmVyKHByb21pc2UsIHsgcHJvbWlzZTogcmVzdWx0LCBjOiBvbkNvbXBsZXRlLCBlOiBvbkVycm9yLCBwOiBvblByb2dyZXNzLCBhc3luY09wSUQ6IGFzeW5jT3BJRCB9KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvL1xuICAgIC8vIEludGVybmFsIGltcGxlbWVudGF0aW9uIGRldGFpbCBwcm9taXNlLCBUaGVuUHJvbWlzZSBpcyBjcmVhdGVkIHdoZW4gYSBwcm9taXNlIG5lZWRzXG4gICAgLy8gdG8gYmUgcmV0dXJuZWQgZnJvbSBhIHRoZW4oKSBtZXRob2QuXG4gICAgLy9cbiAgICB2YXIgVGhlblByb21pc2UgPSBfQmFzZS5DbGFzcy5kZXJpdmUoUHJvbWlzZVN0YXRlTWFjaGluZSxcbiAgICAgICAgZnVuY3Rpb24gKGNyZWF0b3IpIHtcblxuICAgICAgICAgICAgaWYgKHRhZ1dpdGhTdGFjayAmJiAodGFnV2l0aFN0YWNrID09PSB0cnVlIHx8ICh0YWdXaXRoU3RhY2sgJiB0YWcudGhlblByb21pc2UpKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3N0YWNrID0gUHJvbWlzZS5fZ2V0U3RhY2soKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fY3JlYXRvciA9IGNyZWF0b3I7XG4gICAgICAgICAgICB0aGlzLl9zZXRTdGF0ZShzdGF0ZV9jcmVhdGVkKTtcbiAgICAgICAgICAgIHRoaXMuX3J1bigpO1xuICAgICAgICB9LCB7XG4gICAgICAgICAgICBfY3JlYXRvcjogbnVsbCxcblxuICAgICAgICAgICAgX2NhbmNlbEFjdGlvbjogZnVuY3Rpb24gKCkgeyBpZiAodGhpcy5fY3JlYXRvcikgeyB0aGlzLl9jcmVhdG9yLmNhbmNlbCgpOyB9IH0sXG4gICAgICAgICAgICBfY2xlYW51cEFjdGlvbjogZnVuY3Rpb24gKCkgeyB0aGlzLl9jcmVhdG9yID0gbnVsbDsgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBzdXBwb3J0ZWRGb3JQcm9jZXNzaW5nOiBmYWxzZVxuICAgICAgICB9XG4gICAgKTtcblxuICAgIC8vXG4gICAgLy8gU2xpbSBwcm9taXNlIGltcGxlbWVudGF0aW9ucyBmb3IgYWxyZWFkeSBjb21wbGV0ZWQgcHJvbWlzZXMsIHRoZXNlIGFyZSBjcmVhdGVkXG4gICAgLy8gdW5kZXIgdGhlIGhvb2Qgb24gc3luY2hyb25vdXMgY29tcGxldGlvbiBwYXRocyBhcyB3ZWxsIGFzIGJ5IFdpbkpTLlByb21pc2Uud3JhcFxuICAgIC8vIGFuZCBXaW5KUy5Qcm9taXNlLndyYXBFcnJvci5cbiAgICAvL1xuXG4gICAgdmFyIEVycm9yUHJvbWlzZSA9IF9CYXNlLkNsYXNzLmRlZmluZShcbiAgICAgICAgZnVuY3Rpb24gRXJyb3JQcm9taXNlX2N0b3IodmFsdWUpIHtcblxuICAgICAgICAgICAgaWYgKHRhZ1dpdGhTdGFjayAmJiAodGFnV2l0aFN0YWNrID09PSB0cnVlIHx8ICh0YWdXaXRoU3RhY2sgJiB0YWcuZXJyb3JQcm9taXNlKSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zdGFjayA9IFByb21pc2UuX2dldFN0YWNrKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX3ZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgICBjYWxsb25lcnJvcih0aGlzLCB2YWx1ZSwgZGV0YWlsc0ZvckVycm9yKTtcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgY2FuY2VsOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgLy8vIDxzaWduYXR1cmUgaGVscEtleXdvcmQ9XCJXaW5KUy5Qcm9taXNlU3RhdGVNYWNoaW5lLmNhbmNlbFwiPlxuICAgICAgICAgICAgICAgIC8vLyA8c3VtbWFyeSBsb2NpZD1cIldpbkpTLlByb21pc2VTdGF0ZU1hY2hpbmUuY2FuY2VsXCI+XG4gICAgICAgICAgICAgICAgLy8vIEF0dGVtcHRzIHRvIGNhbmNlbCB0aGUgZnVsZmlsbG1lbnQgb2YgYSBwcm9taXNlZCB2YWx1ZS4gSWYgdGhlIHByb21pc2UgaGFzbid0XG4gICAgICAgICAgICAgICAgLy8vIGFscmVhZHkgYmVlbiBmdWxmaWxsZWQgYW5kIGNhbmNlbGxhdGlvbiBpcyBzdXBwb3J0ZWQsIHRoZSBwcm9taXNlIGVudGVyc1xuICAgICAgICAgICAgICAgIC8vLyB0aGUgZXJyb3Igc3RhdGUgd2l0aCBhIHZhbHVlIG9mIEVycm9yKFwiQ2FuY2VsZWRcIikuXG4gICAgICAgICAgICAgICAgLy8vIDwvc3VtbWFyeT5cbiAgICAgICAgICAgICAgICAvLy8gPC9zaWduYXR1cmU+XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZG9uZTogZnVuY3Rpb24gRXJyb3JQcm9taXNlX2RvbmUodW51c2VkLCBvbkVycm9yKSB7XG4gICAgICAgICAgICAgICAgLy8vIDxzaWduYXR1cmUgaGVscEtleXdvcmQ9XCJXaW5KUy5Qcm9taXNlU3RhdGVNYWNoaW5lLmRvbmVcIj5cbiAgICAgICAgICAgICAgICAvLy8gPHN1bW1hcnkgbG9jaWQ9XCJXaW5KUy5Qcm9taXNlU3RhdGVNYWNoaW5lLmRvbmVcIj5cbiAgICAgICAgICAgICAgICAvLy8gQWxsb3dzIHlvdSB0byBzcGVjaWZ5IHRoZSB3b3JrIHRvIGJlIGRvbmUgb24gdGhlIGZ1bGZpbGxtZW50IG9mIHRoZSBwcm9taXNlZCB2YWx1ZSxcbiAgICAgICAgICAgICAgICAvLy8gdGhlIGVycm9yIGhhbmRsaW5nIHRvIGJlIHBlcmZvcm1lZCBpZiB0aGUgcHJvbWlzZSBmYWlscyB0byBmdWxmaWxsXG4gICAgICAgICAgICAgICAgLy8vIGEgdmFsdWUsIGFuZCB0aGUgaGFuZGxpbmcgb2YgcHJvZ3Jlc3Mgbm90aWZpY2F0aW9ucyBhbG9uZyB0aGUgd2F5LlxuICAgICAgICAgICAgICAgIC8vL1xuICAgICAgICAgICAgICAgIC8vLyBBZnRlciB0aGUgaGFuZGxlcnMgaGF2ZSBmaW5pc2hlZCBleGVjdXRpbmcsIHRoaXMgZnVuY3Rpb24gdGhyb3dzIGFueSBlcnJvciB0aGF0IHdvdWxkIGhhdmUgYmVlbiByZXR1cm5lZFxuICAgICAgICAgICAgICAgIC8vLyBmcm9tIHRoZW4oKSBhcyBhIHByb21pc2UgaW4gdGhlIGVycm9yIHN0YXRlLlxuICAgICAgICAgICAgICAgIC8vLyA8L3N1bW1hcnk+XG4gICAgICAgICAgICAgICAgLy8vIDxwYXJhbSBuYW1lPSdvbkNvbXBsZXRlJyB0eXBlPSdGdW5jdGlvbicgbG9jaWQ9XCJXaW5KUy5Qcm9taXNlU3RhdGVNYWNoaW5lLmRvbmVfcDpvbkNvbXBsZXRlXCI+XG4gICAgICAgICAgICAgICAgLy8vIFRoZSBmdW5jdGlvbiB0byBiZSBjYWxsZWQgaWYgdGhlIHByb21pc2UgaXMgZnVsZmlsbGVkIHN1Y2Nlc3NmdWxseSB3aXRoIGEgdmFsdWUuXG4gICAgICAgICAgICAgICAgLy8vIFRoZSBmdWxmaWxsZWQgdmFsdWUgaXMgcGFzc2VkIGFzIHRoZSBzaW5nbGUgYXJndW1lbnQuIElmIHRoZSB2YWx1ZSBpcyBudWxsLFxuICAgICAgICAgICAgICAgIC8vLyB0aGUgZnVsZmlsbGVkIHZhbHVlIGlzIHJldHVybmVkLiBUaGUgdmFsdWUgcmV0dXJuZWRcbiAgICAgICAgICAgICAgICAvLy8gZnJvbSB0aGUgZnVuY3Rpb24gYmVjb21lcyB0aGUgZnVsZmlsbGVkIHZhbHVlIG9mIHRoZSBwcm9taXNlIHJldHVybmVkIGJ5XG4gICAgICAgICAgICAgICAgLy8vIHRoZW4oKS4gSWYgYW4gZXhjZXB0aW9uIGlzIHRocm93biB3aGlsZSBleGVjdXRpbmcgdGhlIGZ1bmN0aW9uLCB0aGUgcHJvbWlzZSByZXR1cm5lZFxuICAgICAgICAgICAgICAgIC8vLyBieSB0aGVuKCkgbW92ZXMgaW50byB0aGUgZXJyb3Igc3RhdGUuXG4gICAgICAgICAgICAgICAgLy8vIDwvcGFyYW0+XG4gICAgICAgICAgICAgICAgLy8vIDxwYXJhbSBuYW1lPSdvbkVycm9yJyB0eXBlPSdGdW5jdGlvbicgb3B0aW9uYWw9J3RydWUnIGxvY2lkPVwiV2luSlMuUHJvbWlzZVN0YXRlTWFjaGluZS5kb25lX3A6b25FcnJvclwiPlxuICAgICAgICAgICAgICAgIC8vLyBUaGUgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIGlmIHRoZSBwcm9taXNlIGlzIGZ1bGZpbGxlZCB3aXRoIGFuIGVycm9yLiBUaGUgZXJyb3JcbiAgICAgICAgICAgICAgICAvLy8gaXMgcGFzc2VkIGFzIHRoZSBzaW5nbGUgYXJndW1lbnQuIElmIGl0IGlzIG51bGwsIHRoZSBlcnJvciBpcyBmb3J3YXJkZWQuXG4gICAgICAgICAgICAgICAgLy8vIFRoZSB2YWx1ZSByZXR1cm5lZCBmcm9tIHRoZSBmdW5jdGlvbiBpcyB0aGUgZnVsZmlsbGVkIHZhbHVlIG9mIHRoZSBwcm9taXNlIHJldHVybmVkIGJ5IHRoZW4oKS5cbiAgICAgICAgICAgICAgICAvLy8gPC9wYXJhbT5cbiAgICAgICAgICAgICAgICAvLy8gPHBhcmFtIG5hbWU9J29uUHJvZ3Jlc3MnIHR5cGU9J0Z1bmN0aW9uJyBvcHRpb25hbD0ndHJ1ZScgbG9jaWQ9XCJXaW5KUy5Qcm9taXNlU3RhdGVNYWNoaW5lLmRvbmVfcDpvblByb2dyZXNzXCI+XG4gICAgICAgICAgICAgICAgLy8vIHRoZSBmdW5jdGlvbiB0byBiZSBjYWxsZWQgaWYgdGhlIHByb21pc2UgcmVwb3J0cyBwcm9ncmVzcy4gRGF0YSBhYm91dCB0aGUgcHJvZ3Jlc3NcbiAgICAgICAgICAgICAgICAvLy8gaXMgcGFzc2VkIGFzIHRoZSBzaW5nbGUgYXJndW1lbnQuIFByb21pc2VzIGFyZSBub3QgcmVxdWlyZWQgdG8gc3VwcG9ydFxuICAgICAgICAgICAgICAgIC8vLyBwcm9ncmVzcy5cbiAgICAgICAgICAgICAgICAvLy8gPC9wYXJhbT5cbiAgICAgICAgICAgICAgICAvLy8gPC9zaWduYXR1cmU+XG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gdGhpcy5fdmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKG9uRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghb25FcnJvci5oYW5kbGVzT25FcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxvbmVycm9yKG51bGwsIHZhbHVlLCBkZXRhaWxzRm9ySGFuZGxlZEVycm9yLCB0aGlzLCBvbkVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBvbkVycm9yKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgJiYgdHlwZW9mIHJlc3VsdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgcmVzdWx0LmRvbmUgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIGEgcHJvbWlzZSBpcyByZXR1cm5lZCB3ZSBuZWVkIHRvIHdhaXQgb24gaXQuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmRvbmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gZXg7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgRXJyb3IgJiYgdmFsdWUubWVzc2FnZSA9PT0gY2FuY2VsZWROYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHN1cHByZXNzIGNhbmNlbFxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGZvcmNlIHRoZSBleGNlcHRpb24gdG8gYmUgdGhyb3duIGFzeW5jcm9ub3VzbHkgdG8gYXZvaWQgYW55IHRyeS9jYXRjaCBibG9ja3NcbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIFByb21pc2UuX2RvbmVIYW5kbGVyKHZhbHVlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0aGVuOiBmdW5jdGlvbiBFcnJvclByb21pc2VfdGhlbih1bnVzZWQsIG9uRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAvLy8gPHNpZ25hdHVyZSBoZWxwS2V5d29yZD1cIldpbkpTLlByb21pc2VTdGF0ZU1hY2hpbmUudGhlblwiPlxuICAgICAgICAgICAgICAgIC8vLyA8c3VtbWFyeSBsb2NpZD1cIldpbkpTLlByb21pc2VTdGF0ZU1hY2hpbmUudGhlblwiPlxuICAgICAgICAgICAgICAgIC8vLyBBbGxvd3MgeW91IHRvIHNwZWNpZnkgdGhlIHdvcmsgdG8gYmUgZG9uZSBvbiB0aGUgZnVsZmlsbG1lbnQgb2YgdGhlIHByb21pc2VkIHZhbHVlLFxuICAgICAgICAgICAgICAgIC8vLyB0aGUgZXJyb3IgaGFuZGxpbmcgdG8gYmUgcGVyZm9ybWVkIGlmIHRoZSBwcm9taXNlIGZhaWxzIHRvIGZ1bGZpbGxcbiAgICAgICAgICAgICAgICAvLy8gYSB2YWx1ZSwgYW5kIHRoZSBoYW5kbGluZyBvZiBwcm9ncmVzcyBub3RpZmljYXRpb25zIGFsb25nIHRoZSB3YXkuXG4gICAgICAgICAgICAgICAgLy8vIDwvc3VtbWFyeT5cbiAgICAgICAgICAgICAgICAvLy8gPHBhcmFtIG5hbWU9J29uQ29tcGxldGUnIHR5cGU9J0Z1bmN0aW9uJyBsb2NpZD1cIldpbkpTLlByb21pc2VTdGF0ZU1hY2hpbmUudGhlbl9wOm9uQ29tcGxldGVcIj5cbiAgICAgICAgICAgICAgICAvLy8gVGhlIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCBpZiB0aGUgcHJvbWlzZSBpcyBmdWxmaWxsZWQgc3VjY2Vzc2Z1bGx5IHdpdGggYSB2YWx1ZS5cbiAgICAgICAgICAgICAgICAvLy8gVGhlIHZhbHVlIGlzIHBhc3NlZCBhcyB0aGUgc2luZ2xlIGFyZ3VtZW50LiBJZiB0aGUgdmFsdWUgaXMgbnVsbCwgdGhlIHZhbHVlIGlzIHJldHVybmVkLlxuICAgICAgICAgICAgICAgIC8vLyBUaGUgdmFsdWUgcmV0dXJuZWQgZnJvbSB0aGUgZnVuY3Rpb24gYmVjb21lcyB0aGUgZnVsZmlsbGVkIHZhbHVlIG9mIHRoZSBwcm9taXNlIHJldHVybmVkIGJ5XG4gICAgICAgICAgICAgICAgLy8vIHRoZW4oKS4gSWYgYW4gZXhjZXB0aW9uIGlzIHRocm93biB3aGlsZSB0aGlzIGZ1bmN0aW9uIGlzIGJlaW5nIGV4ZWN1dGVkLCB0aGUgcHJvbWlzZSByZXR1cm5lZFxuICAgICAgICAgICAgICAgIC8vLyBieSB0aGVuKCkgbW92ZXMgaW50byB0aGUgZXJyb3Igc3RhdGUuXG4gICAgICAgICAgICAgICAgLy8vIDwvcGFyYW0+XG4gICAgICAgICAgICAgICAgLy8vIDxwYXJhbSBuYW1lPSdvbkVycm9yJyB0eXBlPSdGdW5jdGlvbicgb3B0aW9uYWw9J3RydWUnIGxvY2lkPVwiV2luSlMuUHJvbWlzZVN0YXRlTWFjaGluZS50aGVuX3A6b25FcnJvclwiPlxuICAgICAgICAgICAgICAgIC8vLyBUaGUgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIGlmIHRoZSBwcm9taXNlIGlzIGZ1bGZpbGxlZCB3aXRoIGFuIGVycm9yLiBUaGUgZXJyb3JcbiAgICAgICAgICAgICAgICAvLy8gaXMgcGFzc2VkIGFzIHRoZSBzaW5nbGUgYXJndW1lbnQuIElmIGl0IGlzIG51bGwsIHRoZSBlcnJvciBpcyBmb3J3YXJkZWQuXG4gICAgICAgICAgICAgICAgLy8vIFRoZSB2YWx1ZSByZXR1cm5lZCBmcm9tIHRoZSBmdW5jdGlvbiBiZWNvbWVzIHRoZSBmdWxmaWxsZWQgdmFsdWUgb2YgdGhlIHByb21pc2UgcmV0dXJuZWQgYnkgdGhlbigpLlxuICAgICAgICAgICAgICAgIC8vLyA8L3BhcmFtPlxuICAgICAgICAgICAgICAgIC8vLyA8cGFyYW0gbmFtZT0nb25Qcm9ncmVzcycgdHlwZT0nRnVuY3Rpb24nIG9wdGlvbmFsPSd0cnVlJyBsb2NpZD1cIldpbkpTLlByb21pc2VTdGF0ZU1hY2hpbmUudGhlbl9wOm9uUHJvZ3Jlc3NcIj5cbiAgICAgICAgICAgICAgICAvLy8gVGhlIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCBpZiB0aGUgcHJvbWlzZSByZXBvcnRzIHByb2dyZXNzLiBEYXRhIGFib3V0IHRoZSBwcm9ncmVzc1xuICAgICAgICAgICAgICAgIC8vLyBpcyBwYXNzZWQgYXMgdGhlIHNpbmdsZSBhcmd1bWVudC4gUHJvbWlzZXMgYXJlIG5vdCByZXF1aXJlZCB0byBzdXBwb3J0XG4gICAgICAgICAgICAgICAgLy8vIHByb2dyZXNzLlxuICAgICAgICAgICAgICAgIC8vLyA8L3BhcmFtPlxuICAgICAgICAgICAgICAgIC8vLyA8cmV0dXJucyB0eXBlPVwiV2luSlMuUHJvbWlzZVwiIGxvY2lkPVwiV2luSlMuUHJvbWlzZVN0YXRlTWFjaGluZS50aGVuX3JldHVyblZhbHVlXCI+XG4gICAgICAgICAgICAgICAgLy8vIFRoZSBwcm9taXNlIHdob3NlIHZhbHVlIGlzIHRoZSByZXN1bHQgb2YgZXhlY3V0aW5nIHRoZSBjb21wbGV0ZSBvclxuICAgICAgICAgICAgICAgIC8vLyBlcnJvciBmdW5jdGlvbi5cbiAgICAgICAgICAgICAgICAvLy8gPC9yZXR1cm5zPlxuICAgICAgICAgICAgICAgIC8vLyA8L3NpZ25hdHVyZT5cblxuICAgICAgICAgICAgICAgIC8vIElmIHRoZSBwcm9taXNlIGlzIGFscmVhZHkgaW4gYSBlcnJvciBzdGF0ZSBhbmQgbm8gZXJyb3IgaGFuZGxlciBpcyBwcm92aWRlZFxuICAgICAgICAgICAgICAgIC8vIHdlIG9wdGltaXplIGJ5IHNpbXBseSByZXR1cm5pbmcgdGhlIHByb21pc2UgaW5zdGVhZCBvZiBjcmVhdGluZyBhIG5ldyBvbmUuXG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICBpZiAoIW9uRXJyb3IpIHsgcmV0dXJuIHRoaXM7IH1cbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0O1xuICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IHRoaXMuX3ZhbHVlO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghb25FcnJvci5oYW5kbGVzT25FcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbG9uZXJyb3IobnVsbCwgdmFsdWUsIGRldGFpbHNGb3JIYW5kbGVkRXJyb3IsIHRoaXMsIG9uRXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IG5ldyBDb21wbGV0ZVByb21pc2Uob25FcnJvcih2YWx1ZSkpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSB2YWx1ZSB0aHJvdyBmcm9tIHRoZSBlcnJvciBoYW5kbGVyIGlzIHRoZSBzYW1lIGFzIHRoZSB2YWx1ZVxuICAgICAgICAgICAgICAgICAgICAvLyBwcm92aWRlZCB0byB0aGUgZXJyb3IgaGFuZGxlciB0aGVuIHRoZXJlIGlzIG5vIG5lZWQgZm9yIGEgbmV3IHByb21pc2UuXG4gICAgICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgICAgIGlmIChleCA9PT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRoaXM7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBuZXcgRXhjZXB0aW9uUHJvbWlzZShleCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAgc3VwcG9ydGVkRm9yUHJvY2Vzc2luZzogZmFsc2VcbiAgICAgICAgfVxuICAgICk7XG5cbiAgICB2YXIgRXhjZXB0aW9uUHJvbWlzZSA9IF9CYXNlLkNsYXNzLmRlcml2ZShFcnJvclByb21pc2UsXG4gICAgICAgIGZ1bmN0aW9uIEV4Y2VwdGlvblByb21pc2VfY3Rvcih2YWx1ZSkge1xuXG4gICAgICAgICAgICBpZiAodGFnV2l0aFN0YWNrICYmICh0YWdXaXRoU3RhY2sgPT09IHRydWUgfHwgKHRhZ1dpdGhTdGFjayAmIHRhZy5leGNlcHRpb25Qcm9taXNlKSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zdGFjayA9IFByb21pc2UuX2dldFN0YWNrKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX3ZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgICBjYWxsb25lcnJvcih0aGlzLCB2YWx1ZSwgZGV0YWlsc0ZvckV4Y2VwdGlvbik7XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIC8qIGVtcHR5ICovXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIHN1cHBvcnRlZEZvclByb2Nlc3Npbmc6IGZhbHNlXG4gICAgICAgIH1cbiAgICApO1xuXG4gICAgdmFyIENvbXBsZXRlUHJvbWlzZSA9IF9CYXNlLkNsYXNzLmRlZmluZShcbiAgICAgICAgZnVuY3Rpb24gQ29tcGxldGVQcm9taXNlX2N0b3IodmFsdWUpIHtcblxuICAgICAgICAgICAgaWYgKHRhZ1dpdGhTdGFjayAmJiAodGFnV2l0aFN0YWNrID09PSB0cnVlIHx8ICh0YWdXaXRoU3RhY2sgJiB0YWcuY29tcGxldGVQcm9taXNlKSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zdGFjayA9IFByb21pc2UuX2dldFN0YWNrKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIHZhbHVlLnRoZW4gPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBuZXcgVGhlblByb21pc2UobnVsbCk7XG4gICAgICAgICAgICAgICAgcmVzdWx0Ll9zZXRDb21wbGV0ZVZhbHVlKHZhbHVlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fdmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgY2FuY2VsOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgLy8vIDxzaWduYXR1cmUgaGVscEtleXdvcmQ9XCJXaW5KUy5Qcm9taXNlU3RhdGVNYWNoaW5lLmNhbmNlbFwiPlxuICAgICAgICAgICAgICAgIC8vLyA8c3VtbWFyeSBsb2NpZD1cIldpbkpTLlByb21pc2VTdGF0ZU1hY2hpbmUuY2FuY2VsXCI+XG4gICAgICAgICAgICAgICAgLy8vIEF0dGVtcHRzIHRvIGNhbmNlbCB0aGUgZnVsZmlsbG1lbnQgb2YgYSBwcm9taXNlZCB2YWx1ZS4gSWYgdGhlIHByb21pc2UgaGFzbid0XG4gICAgICAgICAgICAgICAgLy8vIGFscmVhZHkgYmVlbiBmdWxmaWxsZWQgYW5kIGNhbmNlbGxhdGlvbiBpcyBzdXBwb3J0ZWQsIHRoZSBwcm9taXNlIGVudGVyc1xuICAgICAgICAgICAgICAgIC8vLyB0aGUgZXJyb3Igc3RhdGUgd2l0aCBhIHZhbHVlIG9mIEVycm9yKFwiQ2FuY2VsZWRcIikuXG4gICAgICAgICAgICAgICAgLy8vIDwvc3VtbWFyeT5cbiAgICAgICAgICAgICAgICAvLy8gPC9zaWduYXR1cmU+XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZG9uZTogZnVuY3Rpb24gQ29tcGxldGVQcm9taXNlX2RvbmUob25Db21wbGV0ZSkge1xuICAgICAgICAgICAgICAgIC8vLyA8c2lnbmF0dXJlIGhlbHBLZXl3b3JkPVwiV2luSlMuUHJvbWlzZVN0YXRlTWFjaGluZS5kb25lXCI+XG4gICAgICAgICAgICAgICAgLy8vIDxzdW1tYXJ5IGxvY2lkPVwiV2luSlMuUHJvbWlzZVN0YXRlTWFjaGluZS5kb25lXCI+XG4gICAgICAgICAgICAgICAgLy8vIEFsbG93cyB5b3UgdG8gc3BlY2lmeSB0aGUgd29yayB0byBiZSBkb25lIG9uIHRoZSBmdWxmaWxsbWVudCBvZiB0aGUgcHJvbWlzZWQgdmFsdWUsXG4gICAgICAgICAgICAgICAgLy8vIHRoZSBlcnJvciBoYW5kbGluZyB0byBiZSBwZXJmb3JtZWQgaWYgdGhlIHByb21pc2UgZmFpbHMgdG8gZnVsZmlsbFxuICAgICAgICAgICAgICAgIC8vLyBhIHZhbHVlLCBhbmQgdGhlIGhhbmRsaW5nIG9mIHByb2dyZXNzIG5vdGlmaWNhdGlvbnMgYWxvbmcgdGhlIHdheS5cbiAgICAgICAgICAgICAgICAvLy9cbiAgICAgICAgICAgICAgICAvLy8gQWZ0ZXIgdGhlIGhhbmRsZXJzIGhhdmUgZmluaXNoZWQgZXhlY3V0aW5nLCB0aGlzIGZ1bmN0aW9uIHRocm93cyBhbnkgZXJyb3IgdGhhdCB3b3VsZCBoYXZlIGJlZW4gcmV0dXJuZWRcbiAgICAgICAgICAgICAgICAvLy8gZnJvbSB0aGVuKCkgYXMgYSBwcm9taXNlIGluIHRoZSBlcnJvciBzdGF0ZS5cbiAgICAgICAgICAgICAgICAvLy8gPC9zdW1tYXJ5PlxuICAgICAgICAgICAgICAgIC8vLyA8cGFyYW0gbmFtZT0nb25Db21wbGV0ZScgdHlwZT0nRnVuY3Rpb24nIGxvY2lkPVwiV2luSlMuUHJvbWlzZVN0YXRlTWFjaGluZS5kb25lX3A6b25Db21wbGV0ZVwiPlxuICAgICAgICAgICAgICAgIC8vLyBUaGUgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIGlmIHRoZSBwcm9taXNlIGlzIGZ1bGZpbGxlZCBzdWNjZXNzZnVsbHkgd2l0aCBhIHZhbHVlLlxuICAgICAgICAgICAgICAgIC8vLyBUaGUgZnVsZmlsbGVkIHZhbHVlIGlzIHBhc3NlZCBhcyB0aGUgc2luZ2xlIGFyZ3VtZW50LiBJZiB0aGUgdmFsdWUgaXMgbnVsbCxcbiAgICAgICAgICAgICAgICAvLy8gdGhlIGZ1bGZpbGxlZCB2YWx1ZSBpcyByZXR1cm5lZC4gVGhlIHZhbHVlIHJldHVybmVkXG4gICAgICAgICAgICAgICAgLy8vIGZyb20gdGhlIGZ1bmN0aW9uIGJlY29tZXMgdGhlIGZ1bGZpbGxlZCB2YWx1ZSBvZiB0aGUgcHJvbWlzZSByZXR1cm5lZCBieVxuICAgICAgICAgICAgICAgIC8vLyB0aGVuKCkuIElmIGFuIGV4Y2VwdGlvbiBpcyB0aHJvd24gd2hpbGUgZXhlY3V0aW5nIHRoZSBmdW5jdGlvbiwgdGhlIHByb21pc2UgcmV0dXJuZWRcbiAgICAgICAgICAgICAgICAvLy8gYnkgdGhlbigpIG1vdmVzIGludG8gdGhlIGVycm9yIHN0YXRlLlxuICAgICAgICAgICAgICAgIC8vLyA8L3BhcmFtPlxuICAgICAgICAgICAgICAgIC8vLyA8cGFyYW0gbmFtZT0nb25FcnJvcicgdHlwZT0nRnVuY3Rpb24nIG9wdGlvbmFsPSd0cnVlJyBsb2NpZD1cIldpbkpTLlByb21pc2VTdGF0ZU1hY2hpbmUuZG9uZV9wOm9uRXJyb3JcIj5cbiAgICAgICAgICAgICAgICAvLy8gVGhlIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCBpZiB0aGUgcHJvbWlzZSBpcyBmdWxmaWxsZWQgd2l0aCBhbiBlcnJvci4gVGhlIGVycm9yXG4gICAgICAgICAgICAgICAgLy8vIGlzIHBhc3NlZCBhcyB0aGUgc2luZ2xlIGFyZ3VtZW50LiBJZiBpdCBpcyBudWxsLCB0aGUgZXJyb3IgaXMgZm9yd2FyZGVkLlxuICAgICAgICAgICAgICAgIC8vLyBUaGUgdmFsdWUgcmV0dXJuZWQgZnJvbSB0aGUgZnVuY3Rpb24gaXMgdGhlIGZ1bGZpbGxlZCB2YWx1ZSBvZiB0aGUgcHJvbWlzZSByZXR1cm5lZCBieSB0aGVuKCkuXG4gICAgICAgICAgICAgICAgLy8vIDwvcGFyYW0+XG4gICAgICAgICAgICAgICAgLy8vIDxwYXJhbSBuYW1lPSdvblByb2dyZXNzJyB0eXBlPSdGdW5jdGlvbicgb3B0aW9uYWw9J3RydWUnIGxvY2lkPVwiV2luSlMuUHJvbWlzZVN0YXRlTWFjaGluZS5kb25lX3A6b25Qcm9ncmVzc1wiPlxuICAgICAgICAgICAgICAgIC8vLyB0aGUgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIGlmIHRoZSBwcm9taXNlIHJlcG9ydHMgcHJvZ3Jlc3MuIERhdGEgYWJvdXQgdGhlIHByb2dyZXNzXG4gICAgICAgICAgICAgICAgLy8vIGlzIHBhc3NlZCBhcyB0aGUgc2luZ2xlIGFyZ3VtZW50LiBQcm9taXNlcyBhcmUgbm90IHJlcXVpcmVkIHRvIHN1cHBvcnRcbiAgICAgICAgICAgICAgICAvLy8gcHJvZ3Jlc3MuXG4gICAgICAgICAgICAgICAgLy8vIDwvcGFyYW0+XG4gICAgICAgICAgICAgICAgLy8vIDwvc2lnbmF0dXJlPlxuICAgICAgICAgICAgICAgIGlmICghb25Db21wbGV0ZSkgeyByZXR1cm47IH1cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gb25Db21wbGV0ZSh0aGlzLl92YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgJiYgdHlwZW9mIHJlc3VsdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgcmVzdWx0LmRvbmUgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmRvbmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGZvcmNlIHRoZSBleGNlcHRpb24gdG8gYmUgdGhyb3duIGFzeW5jaHJvbm91c2x5IHRvIGF2b2lkIGFueSB0cnkvY2F0Y2ggYmxvY2tzXG4gICAgICAgICAgICAgICAgICAgIFByb21pc2UuX2RvbmVIYW5kbGVyKGV4KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdGhlbjogZnVuY3Rpb24gQ29tcGxldGVQcm9taXNlX3RoZW4ob25Db21wbGV0ZSkge1xuICAgICAgICAgICAgICAgIC8vLyA8c2lnbmF0dXJlIGhlbHBLZXl3b3JkPVwiV2luSlMuUHJvbWlzZVN0YXRlTWFjaGluZS50aGVuXCI+XG4gICAgICAgICAgICAgICAgLy8vIDxzdW1tYXJ5IGxvY2lkPVwiV2luSlMuUHJvbWlzZVN0YXRlTWFjaGluZS50aGVuXCI+XG4gICAgICAgICAgICAgICAgLy8vIEFsbG93cyB5b3UgdG8gc3BlY2lmeSB0aGUgd29yayB0byBiZSBkb25lIG9uIHRoZSBmdWxmaWxsbWVudCBvZiB0aGUgcHJvbWlzZWQgdmFsdWUsXG4gICAgICAgICAgICAgICAgLy8vIHRoZSBlcnJvciBoYW5kbGluZyB0byBiZSBwZXJmb3JtZWQgaWYgdGhlIHByb21pc2UgZmFpbHMgdG8gZnVsZmlsbFxuICAgICAgICAgICAgICAgIC8vLyBhIHZhbHVlLCBhbmQgdGhlIGhhbmRsaW5nIG9mIHByb2dyZXNzIG5vdGlmaWNhdGlvbnMgYWxvbmcgdGhlIHdheS5cbiAgICAgICAgICAgICAgICAvLy8gPC9zdW1tYXJ5PlxuICAgICAgICAgICAgICAgIC8vLyA8cGFyYW0gbmFtZT0nb25Db21wbGV0ZScgdHlwZT0nRnVuY3Rpb24nIGxvY2lkPVwiV2luSlMuUHJvbWlzZVN0YXRlTWFjaGluZS50aGVuX3A6b25Db21wbGV0ZVwiPlxuICAgICAgICAgICAgICAgIC8vLyBUaGUgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIGlmIHRoZSBwcm9taXNlIGlzIGZ1bGZpbGxlZCBzdWNjZXNzZnVsbHkgd2l0aCBhIHZhbHVlLlxuICAgICAgICAgICAgICAgIC8vLyBUaGUgdmFsdWUgaXMgcGFzc2VkIGFzIHRoZSBzaW5nbGUgYXJndW1lbnQuIElmIHRoZSB2YWx1ZSBpcyBudWxsLCB0aGUgdmFsdWUgaXMgcmV0dXJuZWQuXG4gICAgICAgICAgICAgICAgLy8vIFRoZSB2YWx1ZSByZXR1cm5lZCBmcm9tIHRoZSBmdW5jdGlvbiBiZWNvbWVzIHRoZSBmdWxmaWxsZWQgdmFsdWUgb2YgdGhlIHByb21pc2UgcmV0dXJuZWQgYnlcbiAgICAgICAgICAgICAgICAvLy8gdGhlbigpLiBJZiBhbiBleGNlcHRpb24gaXMgdGhyb3duIHdoaWxlIHRoaXMgZnVuY3Rpb24gaXMgYmVpbmcgZXhlY3V0ZWQsIHRoZSBwcm9taXNlIHJldHVybmVkXG4gICAgICAgICAgICAgICAgLy8vIGJ5IHRoZW4oKSBtb3ZlcyBpbnRvIHRoZSBlcnJvciBzdGF0ZS5cbiAgICAgICAgICAgICAgICAvLy8gPC9wYXJhbT5cbiAgICAgICAgICAgICAgICAvLy8gPHBhcmFtIG5hbWU9J29uRXJyb3InIHR5cGU9J0Z1bmN0aW9uJyBvcHRpb25hbD0ndHJ1ZScgbG9jaWQ9XCJXaW5KUy5Qcm9taXNlU3RhdGVNYWNoaW5lLnRoZW5fcDpvbkVycm9yXCI+XG4gICAgICAgICAgICAgICAgLy8vIFRoZSBmdW5jdGlvbiB0byBiZSBjYWxsZWQgaWYgdGhlIHByb21pc2UgaXMgZnVsZmlsbGVkIHdpdGggYW4gZXJyb3IuIFRoZSBlcnJvclxuICAgICAgICAgICAgICAgIC8vLyBpcyBwYXNzZWQgYXMgdGhlIHNpbmdsZSBhcmd1bWVudC4gSWYgaXQgaXMgbnVsbCwgdGhlIGVycm9yIGlzIGZvcndhcmRlZC5cbiAgICAgICAgICAgICAgICAvLy8gVGhlIHZhbHVlIHJldHVybmVkIGZyb20gdGhlIGZ1bmN0aW9uIGJlY29tZXMgdGhlIGZ1bGZpbGxlZCB2YWx1ZSBvZiB0aGUgcHJvbWlzZSByZXR1cm5lZCBieSB0aGVuKCkuXG4gICAgICAgICAgICAgICAgLy8vIDwvcGFyYW0+XG4gICAgICAgICAgICAgICAgLy8vIDxwYXJhbSBuYW1lPSdvblByb2dyZXNzJyB0eXBlPSdGdW5jdGlvbicgb3B0aW9uYWw9J3RydWUnIGxvY2lkPVwiV2luSlMuUHJvbWlzZVN0YXRlTWFjaGluZS50aGVuX3A6b25Qcm9ncmVzc1wiPlxuICAgICAgICAgICAgICAgIC8vLyBUaGUgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIGlmIHRoZSBwcm9taXNlIHJlcG9ydHMgcHJvZ3Jlc3MuIERhdGEgYWJvdXQgdGhlIHByb2dyZXNzXG4gICAgICAgICAgICAgICAgLy8vIGlzIHBhc3NlZCBhcyB0aGUgc2luZ2xlIGFyZ3VtZW50LiBQcm9taXNlcyBhcmUgbm90IHJlcXVpcmVkIHRvIHN1cHBvcnRcbiAgICAgICAgICAgICAgICAvLy8gcHJvZ3Jlc3MuXG4gICAgICAgICAgICAgICAgLy8vIDwvcGFyYW0+XG4gICAgICAgICAgICAgICAgLy8vIDxyZXR1cm5zIHR5cGU9XCJXaW5KUy5Qcm9taXNlXCIgbG9jaWQ9XCJXaW5KUy5Qcm9taXNlU3RhdGVNYWNoaW5lLnRoZW5fcmV0dXJuVmFsdWVcIj5cbiAgICAgICAgICAgICAgICAvLy8gVGhlIHByb21pc2Ugd2hvc2UgdmFsdWUgaXMgdGhlIHJlc3VsdCBvZiBleGVjdXRpbmcgdGhlIGNvbXBsZXRlIG9yXG4gICAgICAgICAgICAgICAgLy8vIGVycm9yIGZ1bmN0aW9uLlxuICAgICAgICAgICAgICAgIC8vLyA8L3JldHVybnM+XG4gICAgICAgICAgICAgICAgLy8vIDwvc2lnbmF0dXJlPlxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSB2YWx1ZSByZXR1cm5lZCBmcm9tIHRoZSBjb21wbGV0aW9uIGhhbmRsZXIgaXMgdGhlIHNhbWUgYXMgdGhlIHZhbHVlXG4gICAgICAgICAgICAgICAgICAgIC8vIHByb3ZpZGVkIHRvIHRoZSBjb21wbGV0aW9uIGhhbmRsZXIgdGhlbiB0aGVyZSBpcyBubyBuZWVkIGZvciBhIG5ldyBwcm9taXNlLlxuICAgICAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgICAgICB2YXIgbmV3VmFsdWUgPSBvbkNvbXBsZXRlID8gb25Db21wbGV0ZSh0aGlzLl92YWx1ZSkgOiB0aGlzLl92YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ld1ZhbHVlID09PSB0aGlzLl92YWx1ZSA/IHRoaXMgOiBuZXcgQ29tcGxldGVQcm9taXNlKG5ld1ZhbHVlKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChleCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEV4Y2VwdGlvblByb21pc2UoZXgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAgc3VwcG9ydGVkRm9yUHJvY2Vzc2luZzogZmFsc2VcbiAgICAgICAgfVxuICAgICk7XG5cbiAgICAvL1xuICAgIC8vIFByb21pc2UgaXMgdGhlIHVzZXItY3JlYXRhYmxlIFdpbkpTLlByb21pc2Ugb2JqZWN0LlxuICAgIC8vXG5cbiAgICBmdW5jdGlvbiB0aW1lb3V0KHRpbWVvdXRNUykge1xuICAgICAgICB2YXIgaWQ7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShcbiAgICAgICAgICAgIGZ1bmN0aW9uIChjKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRpbWVvdXRNUykge1xuICAgICAgICAgICAgICAgICAgICBpZCA9IF9HbG9iYWwuc2V0VGltZW91dChjLCB0aW1lb3V0TVMpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIF9CYXNlQ29yZVV0aWxzLl9zZXRJbW1lZGlhdGUoYyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAoaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgX0dsb2JhbC5jbGVhclRpbWVvdXQoaWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0aW1lb3V0V2l0aFByb21pc2UodGltZW91dCwgcHJvbWlzZSkge1xuICAgICAgICB2YXIgY2FuY2VsUHJvbWlzZSA9IGZ1bmN0aW9uICgpIHsgcHJvbWlzZS5jYW5jZWwoKTsgfTtcbiAgICAgICAgdmFyIGNhbmNlbFRpbWVvdXQgPSBmdW5jdGlvbiAoKSB7IHRpbWVvdXQuY2FuY2VsKCk7IH07XG4gICAgICAgIHRpbWVvdXQudGhlbihjYW5jZWxQcm9taXNlKTtcbiAgICAgICAgcHJvbWlzZS50aGVuKGNhbmNlbFRpbWVvdXQsIGNhbmNlbFRpbWVvdXQpO1xuICAgICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICB9XG5cbiAgICB2YXIgc3RhdGljQ2FuY2VsZWRQcm9taXNlO1xuXG4gICAgdmFyIFByb21pc2UgPSBfQmFzZS5DbGFzcy5kZXJpdmUoUHJvbWlzZVN0YXRlTWFjaGluZSxcbiAgICAgICAgZnVuY3Rpb24gUHJvbWlzZV9jdG9yKGluaXQsIG9uY2FuY2VsKSB7XG4gICAgICAgICAgICAvLy8gPHNpZ25hdHVyZSBoZWxwS2V5d29yZD1cIldpbkpTLlByb21pc2VcIj5cbiAgICAgICAgICAgIC8vLyA8c3VtbWFyeSBsb2NpZD1cIldpbkpTLlByb21pc2VcIj5cbiAgICAgICAgICAgIC8vLyBBIHByb21pc2UgcHJvdmlkZXMgYSBtZWNoYW5pc20gdG8gc2NoZWR1bGUgd29yayB0byBiZSBkb25lIG9uIGEgdmFsdWUgdGhhdFxuICAgICAgICAgICAgLy8vIGhhcyBub3QgeWV0IGJlZW4gY29tcHV0ZWQuIEl0IGlzIGEgY29udmVuaWVudCBhYnN0cmFjdGlvbiBmb3IgbWFuYWdpbmdcbiAgICAgICAgICAgIC8vLyBpbnRlcmFjdGlvbnMgd2l0aCBhc3luY2hyb25vdXMgQVBJcy5cbiAgICAgICAgICAgIC8vLyA8L3N1bW1hcnk+XG4gICAgICAgICAgICAvLy8gPHBhcmFtIG5hbWU9XCJpbml0XCIgdHlwZT1cIkZ1bmN0aW9uXCIgbG9jaWQ9XCJXaW5KUy5Qcm9taXNlX3A6aW5pdFwiPlxuICAgICAgICAgICAgLy8vIFRoZSBmdW5jdGlvbiB0aGF0IGlzIGNhbGxlZCBkdXJpbmcgY29uc3RydWN0aW9uIG9mIHRoZSAgcHJvbWlzZS4gVGhlIGZ1bmN0aW9uXG4gICAgICAgICAgICAvLy8gaXMgZ2l2ZW4gdGhyZWUgYXJndW1lbnRzIChjb21wbGV0ZSwgZXJyb3IsIHByb2dyZXNzKS4gSW5zaWRlIHRoaXMgZnVuY3Rpb25cbiAgICAgICAgICAgIC8vLyB5b3Ugc2hvdWxkIGFkZCBldmVudCBsaXN0ZW5lcnMgZm9yIHRoZSBub3RpZmljYXRpb25zIHN1cHBvcnRlZCBieSB0aGlzIHZhbHVlLlxuICAgICAgICAgICAgLy8vIDwvcGFyYW0+XG4gICAgICAgICAgICAvLy8gPHBhcmFtIG5hbWU9XCJvbmNhbmNlbFwiIG9wdGlvbmFsPVwidHJ1ZVwiIGxvY2lkPVwiV2luSlMuUHJvbWlzZV9wOm9uY2FuY2VsXCI+XG4gICAgICAgICAgICAvLy8gVGhlIGZ1bmN0aW9uIHRvIGNhbGwgaWYgYSBjb25zdW1lciBvZiB0aGlzIHByb21pc2Ugd2FudHNcbiAgICAgICAgICAgIC8vLyB0byBjYW5jZWwgaXRzIHVuZG9uZSB3b3JrLiBQcm9taXNlcyBhcmUgbm90IHJlcXVpcmVkIHRvXG4gICAgICAgICAgICAvLy8gc3VwcG9ydCBjYW5jZWxsYXRpb24uXG4gICAgICAgICAgICAvLy8gPC9wYXJhbT5cbiAgICAgICAgICAgIC8vLyA8L3NpZ25hdHVyZT5cblxuICAgICAgICAgICAgaWYgKHRhZ1dpdGhTdGFjayAmJiAodGFnV2l0aFN0YWNrID09PSB0cnVlIHx8ICh0YWdXaXRoU3RhY2sgJiB0YWcucHJvbWlzZSkpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3RhY2sgPSBQcm9taXNlLl9nZXRTdGFjaygpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9vbmNhbmNlbCA9IG9uY2FuY2VsO1xuICAgICAgICAgICAgdGhpcy5fc2V0U3RhdGUoc3RhdGVfY3JlYXRlZCk7XG4gICAgICAgICAgICB0aGlzLl9ydW4oKTtcblxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB2YXIgY29tcGxldGUgPSB0aGlzLl9jb21wbGV0ZWQuYmluZCh0aGlzKTtcbiAgICAgICAgICAgICAgICB2YXIgZXJyb3IgPSB0aGlzLl9lcnJvci5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgICAgIHZhciBwcm9ncmVzcyA9IHRoaXMuX3Byb2dyZXNzLmJpbmQodGhpcyk7XG4gICAgICAgICAgICAgICAgaW5pdChjb21wbGV0ZSwgZXJyb3IsIHByb2dyZXNzKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2V0RXhjZXB0aW9uVmFsdWUoZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBfb25jYW5jZWw6IG51bGwsXG5cbiAgICAgICAgICAgIF9jYW5jZWxBY3Rpb246IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAvLyBCRUdJTiBtb25hY28gY2hhbmdlXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX29uY2FuY2VsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9vbmNhbmNlbCgpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQcm9taXNlIGRpZCBub3QgaW1wbGVtZW50IG9uY2FuY2VsJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChleCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBBY2Nlc3MgZmllbGRzIHRvIGdldCB0aGVtIGNyZWF0ZWRcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1zZyA9IGV4Lm1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzdGFjayA9IGV4LnN0YWNrO1xuICAgICAgICAgICAgICAgICAgICBwcm9taXNlRXZlbnRMaXN0ZW5lcnMuZGlzcGF0Y2hFdmVudCgnZXJyb3InLCBleCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIEVORCBtb25hY28gY2hhbmdlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2NsZWFudXBBY3Rpb246IGZ1bmN0aW9uICgpIHsgdGhpcy5fb25jYW5jZWwgPSBudWxsOyB9XG4gICAgICAgIH0sIHtcblxuICAgICAgICAgICAgYWRkRXZlbnRMaXN0ZW5lcjogZnVuY3Rpb24gUHJvbWlzZV9hZGRFdmVudExpc3RlbmVyKGV2ZW50VHlwZSwgbGlzdGVuZXIsIGNhcHR1cmUpIHtcbiAgICAgICAgICAgICAgICAvLy8gPHNpZ25hdHVyZSBoZWxwS2V5d29yZD1cIldpbkpTLlByb21pc2UuYWRkRXZlbnRMaXN0ZW5lclwiPlxuICAgICAgICAgICAgICAgIC8vLyA8c3VtbWFyeSBsb2NpZD1cIldpbkpTLlByb21pc2UuYWRkRXZlbnRMaXN0ZW5lclwiPlxuICAgICAgICAgICAgICAgIC8vLyBBZGRzIGFuIGV2ZW50IGxpc3RlbmVyIHRvIHRoZSBjb250cm9sLlxuICAgICAgICAgICAgICAgIC8vLyA8L3N1bW1hcnk+XG4gICAgICAgICAgICAgICAgLy8vIDxwYXJhbSBuYW1lPVwiZXZlbnRUeXBlXCIgbG9jaWQ9XCJXaW5KUy5Qcm9taXNlLmFkZEV2ZW50TGlzdGVuZXJfcDpldmVudFR5cGVcIj5cbiAgICAgICAgICAgICAgICAvLy8gVGhlIHR5cGUgKG5hbWUpIG9mIHRoZSBldmVudC5cbiAgICAgICAgICAgICAgICAvLy8gPC9wYXJhbT5cbiAgICAgICAgICAgICAgICAvLy8gPHBhcmFtIG5hbWU9XCJsaXN0ZW5lclwiIGxvY2lkPVwiV2luSlMuUHJvbWlzZS5hZGRFdmVudExpc3RlbmVyX3A6bGlzdGVuZXJcIj5cbiAgICAgICAgICAgICAgICAvLy8gVGhlIGxpc3RlbmVyIHRvIGludm9rZSB3aGVuIHRoZSBldmVudCBpcyByYWlzZWQuXG4gICAgICAgICAgICAgICAgLy8vIDwvcGFyYW0+XG4gICAgICAgICAgICAgICAgLy8vIDxwYXJhbSBuYW1lPVwiY2FwdHVyZVwiIGxvY2lkPVwiV2luSlMuUHJvbWlzZS5hZGRFdmVudExpc3RlbmVyX3A6Y2FwdHVyZVwiPlxuICAgICAgICAgICAgICAgIC8vLyBTcGVjaWZpZXMgd2hldGhlciBvciBub3QgdG8gaW5pdGlhdGUgY2FwdHVyZS5cbiAgICAgICAgICAgICAgICAvLy8gPC9wYXJhbT5cbiAgICAgICAgICAgICAgICAvLy8gPC9zaWduYXR1cmU+XG4gICAgICAgICAgICAgICAgcHJvbWlzZUV2ZW50TGlzdGVuZXJzLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnRUeXBlLCBsaXN0ZW5lciwgY2FwdHVyZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYW55OiBmdW5jdGlvbiBQcm9taXNlX2FueSh2YWx1ZXMpIHtcbiAgICAgICAgICAgICAgICAvLy8gPHNpZ25hdHVyZSBoZWxwS2V5d29yZD1cIldpbkpTLlByb21pc2UuYW55XCI+XG4gICAgICAgICAgICAgICAgLy8vIDxzdW1tYXJ5IGxvY2lkPVwiV2luSlMuUHJvbWlzZS5hbnlcIj5cbiAgICAgICAgICAgICAgICAvLy8gUmV0dXJucyBhIHByb21pc2UgdGhhdCBpcyBmdWxmaWxsZWQgd2hlbiBvbmUgb2YgdGhlIGlucHV0IHByb21pc2VzXG4gICAgICAgICAgICAgICAgLy8vIGhhcyBiZWVuIGZ1bGZpbGxlZC5cbiAgICAgICAgICAgICAgICAvLy8gPC9zdW1tYXJ5PlxuICAgICAgICAgICAgICAgIC8vLyA8cGFyYW0gbmFtZT1cInZhbHVlc1wiIHR5cGU9XCJBcnJheVwiIGxvY2lkPVwiV2luSlMuUHJvbWlzZS5hbnlfcDp2YWx1ZXNcIj5cbiAgICAgICAgICAgICAgICAvLy8gQW4gYXJyYXkgdGhhdCBjb250YWlucyBwcm9taXNlIG9iamVjdHMgb3Igb2JqZWN0cyB3aG9zZSBwcm9wZXJ0eVxuICAgICAgICAgICAgICAgIC8vLyB2YWx1ZXMgaW5jbHVkZSBwcm9taXNlIG9iamVjdHMuXG4gICAgICAgICAgICAgICAgLy8vIDwvcGFyYW0+XG4gICAgICAgICAgICAgICAgLy8vIDxyZXR1cm5zIHR5cGU9XCJXaW5KUy5Qcm9taXNlXCIgbG9jaWQ9XCJXaW5KUy5Qcm9taXNlLmFueV9yZXR1cm5WYWx1ZVwiPlxuICAgICAgICAgICAgICAgIC8vLyBBIHByb21pc2UgdGhhdCBvbiBmdWxmaWxsbWVudCB5aWVsZHMgdGhlIHZhbHVlIG9mIHRoZSBpbnB1dCAoY29tcGxldGUgb3IgZXJyb3IpLlxuICAgICAgICAgICAgICAgIC8vLyA8L3JldHVybnM+XG4gICAgICAgICAgICAgICAgLy8vIDwvc2lnbmF0dXJlPlxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKGNvbXBsZXRlLCBlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyh2YWx1ZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGtleXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjYW5jZWxlZCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFByb21pc2UuYXModmFsdWVzW2tleV0pLnRoZW4oXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uICgpIHsgY29tcGxldGUoeyBrZXk6IGtleSwgdmFsdWU6IHZhbHVlc1trZXldIH0pOyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUgaW5zdGFuY2VvZiBFcnJvciAmJiBlLm5hbWUgPT09IGNhbmNlbGVkTmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoKytjYW5jZWxlZCkgPT09IGtleXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlKFByb21pc2UuY2FuY2VsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3IoeyBrZXk6IGtleSwgdmFsdWU6IHZhbHVlc1trZXldIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHZhbHVlcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwcm9taXNlID0gUHJvbWlzZS5hcyh2YWx1ZXNba2V5XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBwcm9taXNlLmNhbmNlbCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb21pc2UuY2FuY2VsKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFzOiBmdW5jdGlvbiBQcm9taXNlX2FzKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgLy8vIDxzaWduYXR1cmUgaGVscEtleXdvcmQ9XCJXaW5KUy5Qcm9taXNlLmFzXCI+XG4gICAgICAgICAgICAgICAgLy8vIDxzdW1tYXJ5IGxvY2lkPVwiV2luSlMuUHJvbWlzZS5hc1wiPlxuICAgICAgICAgICAgICAgIC8vLyBSZXR1cm5zIGEgcHJvbWlzZS4gSWYgdGhlIG9iamVjdCBpcyBhbHJlYWR5IGEgcHJvbWlzZSBpdCBpcyByZXR1cm5lZDtcbiAgICAgICAgICAgICAgICAvLy8gb3RoZXJ3aXNlIHRoZSBvYmplY3QgaXMgd3JhcHBlZCBpbiBhIHByb21pc2UuXG4gICAgICAgICAgICAgICAgLy8vIDwvc3VtbWFyeT5cbiAgICAgICAgICAgICAgICAvLy8gPHBhcmFtIG5hbWU9XCJ2YWx1ZVwiIGxvY2lkPVwiV2luSlMuUHJvbWlzZS5hc19wOnZhbHVlXCI+XG4gICAgICAgICAgICAgICAgLy8vIFRoZSB2YWx1ZSB0byBiZSB0cmVhdGVkIGFzIGEgcHJvbWlzZS5cbiAgICAgICAgICAgICAgICAvLy8gPC9wYXJhbT5cbiAgICAgICAgICAgICAgICAvLy8gPHJldHVybnMgdHlwZT1cIldpbkpTLlByb21pc2VcIiBsb2NpZD1cIldpbkpTLlByb21pc2UuYXNfcmV0dXJuVmFsdWVcIj5cbiAgICAgICAgICAgICAgICAvLy8gQSBwcm9taXNlLlxuICAgICAgICAgICAgICAgIC8vLyA8L3JldHVybnM+XG4gICAgICAgICAgICAgICAgLy8vIDwvc2lnbmF0dXJlPlxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIHZhbHVlLnRoZW4gPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGxldGVQcm9taXNlKHZhbHVlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLy8gPGZpZWxkIHR5cGU9XCJXaW5KUy5Qcm9taXNlXCIgaGVscEtleXdvcmQ9XCJXaW5KUy5Qcm9taXNlLmNhbmNlbFwiIGxvY2lkPVwiV2luSlMuUHJvbWlzZS5jYW5jZWxcIj5cbiAgICAgICAgICAgIC8vLyBDYW5jZWxlZCBwcm9taXNlIHZhbHVlLCBjYW4gYmUgcmV0dXJuZWQgZnJvbSBhIHByb21pc2UgY29tcGxldGlvbiBoYW5kbGVyXG4gICAgICAgICAgICAvLy8gdG8gaW5kaWNhdGUgY2FuY2VsYXRpb24gb2YgdGhlIHByb21pc2UgY2hhaW4uXG4gICAgICAgICAgICAvLy8gPC9maWVsZD5cbiAgICAgICAgICAgIGNhbmNlbDoge1xuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKHN0YXRpY0NhbmNlbGVkUHJvbWlzZSA9IHN0YXRpY0NhbmNlbGVkUHJvbWlzZSB8fCBuZXcgRXJyb3JQcm9taXNlKG5ldyBfRXJyb3JGcm9tTmFtZShjYW5jZWxlZE5hbWUpKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRpc3BhdGNoRXZlbnQ6IGZ1bmN0aW9uIFByb21pc2VfZGlzcGF0Y2hFdmVudChldmVudFR5cGUsIGRldGFpbHMpIHtcbiAgICAgICAgICAgICAgICAvLy8gPHNpZ25hdHVyZSBoZWxwS2V5d29yZD1cIldpbkpTLlByb21pc2UuZGlzcGF0Y2hFdmVudFwiPlxuICAgICAgICAgICAgICAgIC8vLyA8c3VtbWFyeSBsb2NpZD1cIldpbkpTLlByb21pc2UuZGlzcGF0Y2hFdmVudFwiPlxuICAgICAgICAgICAgICAgIC8vLyBSYWlzZXMgYW4gZXZlbnQgb2YgdGhlIHNwZWNpZmllZCB0eXBlIGFuZCBwcm9wZXJ0aWVzLlxuICAgICAgICAgICAgICAgIC8vLyA8L3N1bW1hcnk+XG4gICAgICAgICAgICAgICAgLy8vIDxwYXJhbSBuYW1lPVwiZXZlbnRUeXBlXCIgbG9jaWQ9XCJXaW5KUy5Qcm9taXNlLmRpc3BhdGNoRXZlbnRfcDpldmVudFR5cGVcIj5cbiAgICAgICAgICAgICAgICAvLy8gVGhlIHR5cGUgKG5hbWUpIG9mIHRoZSBldmVudC5cbiAgICAgICAgICAgICAgICAvLy8gPC9wYXJhbT5cbiAgICAgICAgICAgICAgICAvLy8gPHBhcmFtIG5hbWU9XCJkZXRhaWxzXCIgbG9jaWQ9XCJXaW5KUy5Qcm9taXNlLmRpc3BhdGNoRXZlbnRfcDpkZXRhaWxzXCI+XG4gICAgICAgICAgICAgICAgLy8vIFRoZSBzZXQgb2YgYWRkaXRpb25hbCBwcm9wZXJ0aWVzIHRvIGJlIGF0dGFjaGVkIHRvIHRoZSBldmVudCBvYmplY3QuXG4gICAgICAgICAgICAgICAgLy8vIDwvcGFyYW0+XG4gICAgICAgICAgICAgICAgLy8vIDxyZXR1cm5zIHR5cGU9XCJCb29sZWFuXCIgbG9jaWQ9XCJXaW5KUy5Qcm9taXNlLmRpc3BhdGNoRXZlbnRfcmV0dXJuVmFsdWVcIj5cbiAgICAgICAgICAgICAgICAvLy8gU3BlY2lmaWVzIHdoZXRoZXIgcHJldmVudERlZmF1bHQgd2FzIGNhbGxlZCBvbiB0aGUgZXZlbnQuXG4gICAgICAgICAgICAgICAgLy8vIDwvcmV0dXJucz5cbiAgICAgICAgICAgICAgICAvLy8gPC9zaWduYXR1cmU+XG4gICAgICAgICAgICAgICAgcmV0dXJuIHByb21pc2VFdmVudExpc3RlbmVycy5kaXNwYXRjaEV2ZW50KGV2ZW50VHlwZSwgZGV0YWlscyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaXM6IGZ1bmN0aW9uIFByb21pc2VfaXModmFsdWUpIHtcbiAgICAgICAgICAgICAgICAvLy8gPHNpZ25hdHVyZSBoZWxwS2V5d29yZD1cIldpbkpTLlByb21pc2UuaXNcIj5cbiAgICAgICAgICAgICAgICAvLy8gPHN1bW1hcnkgbG9jaWQ9XCJXaW5KUy5Qcm9taXNlLmlzXCI+XG4gICAgICAgICAgICAgICAgLy8vIERldGVybWluZXMgd2hldGhlciBhIHZhbHVlIGZ1bGZpbGxzIHRoZSBwcm9taXNlIGNvbnRyYWN0LlxuICAgICAgICAgICAgICAgIC8vLyA8L3N1bW1hcnk+XG4gICAgICAgICAgICAgICAgLy8vIDxwYXJhbSBuYW1lPVwidmFsdWVcIiBsb2NpZD1cIldpbkpTLlByb21pc2UuaXNfcDp2YWx1ZVwiPlxuICAgICAgICAgICAgICAgIC8vLyBBIHZhbHVlIHRoYXQgbWF5IGJlIGEgcHJvbWlzZS5cbiAgICAgICAgICAgICAgICAvLy8gPC9wYXJhbT5cbiAgICAgICAgICAgICAgICAvLy8gPHJldHVybnMgdHlwZT1cIkJvb2xlYW5cIiBsb2NpZD1cIldpbkpTLlByb21pc2UuaXNfcmV0dXJuVmFsdWVcIj5cbiAgICAgICAgICAgICAgICAvLy8gdHJ1ZSBpZiB0aGUgc3BlY2lmaWVkIHZhbHVlIGlzIGEgcHJvbWlzZSwgb3RoZXJ3aXNlIGZhbHNlLlxuICAgICAgICAgICAgICAgIC8vLyA8L3JldHVybnM+XG4gICAgICAgICAgICAgICAgLy8vIDwvc2lnbmF0dXJlPlxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIHZhbHVlLnRoZW4gPT09IFwiZnVuY3Rpb25cIjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBqb2luOiBmdW5jdGlvbiBQcm9taXNlX2pvaW4odmFsdWVzKSB7XG4gICAgICAgICAgICAgICAgLy8vIDxzaWduYXR1cmUgaGVscEtleXdvcmQ9XCJXaW5KUy5Qcm9taXNlLmpvaW5cIj5cbiAgICAgICAgICAgICAgICAvLy8gPHN1bW1hcnkgbG9jaWQ9XCJXaW5KUy5Qcm9taXNlLmpvaW5cIj5cbiAgICAgICAgICAgICAgICAvLy8gQ3JlYXRlcyBhIHByb21pc2UgdGhhdCBpcyBmdWxmaWxsZWQgd2hlbiBhbGwgdGhlIHZhbHVlcyBhcmUgZnVsZmlsbGVkLlxuICAgICAgICAgICAgICAgIC8vLyA8L3N1bW1hcnk+XG4gICAgICAgICAgICAgICAgLy8vIDxwYXJhbSBuYW1lPVwidmFsdWVzXCIgdHlwZT1cIk9iamVjdFwiIGxvY2lkPVwiV2luSlMuUHJvbWlzZS5qb2luX3A6dmFsdWVzXCI+XG4gICAgICAgICAgICAgICAgLy8vIEFuIG9iamVjdCB3aG9zZSBmaWVsZHMgY29udGFpbiB2YWx1ZXMsIHNvbWUgb2Ygd2hpY2ggbWF5IGJlIHByb21pc2VzLlxuICAgICAgICAgICAgICAgIC8vLyA8L3BhcmFtPlxuICAgICAgICAgICAgICAgIC8vLyA8cmV0dXJucyB0eXBlPVwiV2luSlMuUHJvbWlzZVwiIGxvY2lkPVwiV2luSlMuUHJvbWlzZS5qb2luX3JldHVyblZhbHVlXCI+XG4gICAgICAgICAgICAgICAgLy8vIEEgcHJvbWlzZSB3aG9zZSB2YWx1ZSBpcyBhbiBvYmplY3Qgd2l0aCB0aGUgc2FtZSBmaWVsZCBuYW1lcyBhcyB0aG9zZSBvZiB0aGUgb2JqZWN0IGluIHRoZSB2YWx1ZXMgcGFyYW1ldGVyLCB3aGVyZVxuICAgICAgICAgICAgICAgIC8vLyBlYWNoIGZpZWxkIHZhbHVlIGlzIHRoZSBmdWxmaWxsZWQgdmFsdWUgb2YgYSBwcm9taXNlLlxuICAgICAgICAgICAgICAgIC8vLyA8L3JldHVybnM+XG4gICAgICAgICAgICAgICAgLy8vIDwvc2lnbmF0dXJlPlxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKGNvbXBsZXRlLCBlcnJvciwgcHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXModmFsdWVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlcnJvcnMgPSBBcnJheS5pc0FycmF5KHZhbHVlcykgPyBbXSA6IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdHMgPSBBcnJheS5pc0FycmF5KHZhbHVlcykgPyBbXSA6IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVuZGVmaW5lZHMgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBlbmRpbmcgPSBrZXlzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhcmdEb25lID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoLS1wZW5kaW5nKSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXJyb3JDb3VudCA9IE9iamVjdC5rZXlzKGVycm9ycykubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JDb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcGxldGUocmVzdWx0cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2FuY2VsZWRDb3VudCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlID0gZXJyb3JzW2tleV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUgaW5zdGFuY2VvZiBFcnJvciAmJiBlLm5hbWUgPT09IGNhbmNlbGVkTmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW5jZWxlZENvdW50Kys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2FuY2VsZWRDb3VudCA9PT0gZXJyb3JDb3VudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlKFByb21pc2UuY2FuY2VsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3IoZXJyb3JzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2dyZXNzKHsgS2V5OiBrZXksIERvbmU6IHRydWUgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gdmFsdWVzW2tleV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5kZWZpbmVkcysrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFByb21pc2UudGhlbih2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkgeyByZXN1bHRzW2tleV0gPSB2YWx1ZTsgYXJnRG9uZShrZXkpOyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7IGVycm9yc1trZXldID0gdmFsdWU7IGFyZ0RvbmUoa2V5KTsgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGVuZGluZyAtPSB1bmRlZmluZWRzO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBlbmRpbmcgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZShyZXN1bHRzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKHZhbHVlcykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByb21pc2UgPSBQcm9taXNlLmFzKHZhbHVlc1trZXldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHByb21pc2UuY2FuY2VsID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvbWlzZS5jYW5jZWwoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcjogZnVuY3Rpb24gUHJvbWlzZV9yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50VHlwZSwgbGlzdGVuZXIsIGNhcHR1cmUpIHtcbiAgICAgICAgICAgICAgICAvLy8gPHNpZ25hdHVyZSBoZWxwS2V5d29yZD1cIldpbkpTLlByb21pc2UucmVtb3ZlRXZlbnRMaXN0ZW5lclwiPlxuICAgICAgICAgICAgICAgIC8vLyA8c3VtbWFyeSBsb2NpZD1cIldpbkpTLlByb21pc2UucmVtb3ZlRXZlbnRMaXN0ZW5lclwiPlxuICAgICAgICAgICAgICAgIC8vLyBSZW1vdmVzIGFuIGV2ZW50IGxpc3RlbmVyIGZyb20gdGhlIGNvbnRyb2wuXG4gICAgICAgICAgICAgICAgLy8vIDwvc3VtbWFyeT5cbiAgICAgICAgICAgICAgICAvLy8gPHBhcmFtIG5hbWU9J2V2ZW50VHlwZScgbG9jaWQ9XCJXaW5KUy5Qcm9taXNlLnJlbW92ZUV2ZW50TGlzdGVuZXJfZXZlbnRUeXBlXCI+XG4gICAgICAgICAgICAgICAgLy8vIFRoZSB0eXBlIChuYW1lKSBvZiB0aGUgZXZlbnQuXG4gICAgICAgICAgICAgICAgLy8vIDwvcGFyYW0+XG4gICAgICAgICAgICAgICAgLy8vIDxwYXJhbSBuYW1lPSdsaXN0ZW5lcicgbG9jaWQ9XCJXaW5KUy5Qcm9taXNlLnJlbW92ZUV2ZW50TGlzdGVuZXJfbGlzdGVuZXJcIj5cbiAgICAgICAgICAgICAgICAvLy8gVGhlIGxpc3RlbmVyIHRvIHJlbW92ZS5cbiAgICAgICAgICAgICAgICAvLy8gPC9wYXJhbT5cbiAgICAgICAgICAgICAgICAvLy8gPHBhcmFtIG5hbWU9J2NhcHR1cmUnIGxvY2lkPVwiV2luSlMuUHJvbWlzZS5yZW1vdmVFdmVudExpc3RlbmVyX2NhcHR1cmVcIj5cbiAgICAgICAgICAgICAgICAvLy8gU3BlY2lmaWVzIHdoZXRoZXIgb3Igbm90IHRvIGluaXRpYXRlIGNhcHR1cmUuXG4gICAgICAgICAgICAgICAgLy8vIDwvcGFyYW0+XG4gICAgICAgICAgICAgICAgLy8vIDwvc2lnbmF0dXJlPlxuICAgICAgICAgICAgICAgIHByb21pc2VFdmVudExpc3RlbmVycy5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50VHlwZSwgbGlzdGVuZXIsIGNhcHR1cmUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN1cHBvcnRlZEZvclByb2Nlc3Npbmc6IGZhbHNlLFxuICAgICAgICAgICAgdGhlbjogZnVuY3Rpb24gUHJvbWlzZV90aGVuKHZhbHVlLCBvbkNvbXBsZXRlLCBvbkVycm9yLCBvblByb2dyZXNzKSB7XG4gICAgICAgICAgICAgICAgLy8vIDxzaWduYXR1cmUgaGVscEtleXdvcmQ9XCJXaW5KUy5Qcm9taXNlLnRoZW5cIj5cbiAgICAgICAgICAgICAgICAvLy8gPHN1bW1hcnkgbG9jaWQ9XCJXaW5KUy5Qcm9taXNlLnRoZW5cIj5cbiAgICAgICAgICAgICAgICAvLy8gQSBzdGF0aWMgdmVyc2lvbiBvZiB0aGUgcHJvbWlzZSBpbnN0YW5jZSBtZXRob2QgdGhlbigpLlxuICAgICAgICAgICAgICAgIC8vLyA8L3N1bW1hcnk+XG4gICAgICAgICAgICAgICAgLy8vIDxwYXJhbSBuYW1lPVwidmFsdWVcIiBsb2NpZD1cIldpbkpTLlByb21pc2UudGhlbl9wOnZhbHVlXCI+XG4gICAgICAgICAgICAgICAgLy8vIHRoZSB2YWx1ZSB0byBiZSB0cmVhdGVkIGFzIGEgcHJvbWlzZS5cbiAgICAgICAgICAgICAgICAvLy8gPC9wYXJhbT5cbiAgICAgICAgICAgICAgICAvLy8gPHBhcmFtIG5hbWU9XCJvbkNvbXBsZXRlXCIgdHlwZT1cIkZ1bmN0aW9uXCIgbG9jaWQ9XCJXaW5KUy5Qcm9taXNlLnRoZW5fcDpjb21wbGV0ZVwiPlxuICAgICAgICAgICAgICAgIC8vLyBUaGUgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIGlmIHRoZSBwcm9taXNlIGlzIGZ1bGZpbGxlZCB3aXRoIGEgdmFsdWUuXG4gICAgICAgICAgICAgICAgLy8vIElmIGl0IGlzIG51bGwsIHRoZSBwcm9taXNlIHNpbXBseVxuICAgICAgICAgICAgICAgIC8vLyByZXR1cm5zIHRoZSB2YWx1ZS4gVGhlIHZhbHVlIGlzIHBhc3NlZCBhcyB0aGUgc2luZ2xlIGFyZ3VtZW50LlxuICAgICAgICAgICAgICAgIC8vLyA8L3BhcmFtPlxuICAgICAgICAgICAgICAgIC8vLyA8cGFyYW0gbmFtZT1cIm9uRXJyb3JcIiB0eXBlPVwiRnVuY3Rpb25cIiBvcHRpb25hbD1cInRydWVcIiBsb2NpZD1cIldpbkpTLlByb21pc2UudGhlbl9wOmVycm9yXCI+XG4gICAgICAgICAgICAgICAgLy8vIFRoZSBmdW5jdGlvbiB0byBiZSBjYWxsZWQgaWYgdGhlIHByb21pc2UgaXMgZnVsZmlsbGVkIHdpdGggYW4gZXJyb3IuIFRoZSBlcnJvclxuICAgICAgICAgICAgICAgIC8vLyBpcyBwYXNzZWQgYXMgdGhlIHNpbmdsZSBhcmd1bWVudC5cbiAgICAgICAgICAgICAgICAvLy8gPC9wYXJhbT5cbiAgICAgICAgICAgICAgICAvLy8gPHBhcmFtIG5hbWU9XCJvblByb2dyZXNzXCIgdHlwZT1cIkZ1bmN0aW9uXCIgb3B0aW9uYWw9XCJ0cnVlXCIgbG9jaWQ9XCJXaW5KUy5Qcm9taXNlLnRoZW5fcDpwcm9ncmVzc1wiPlxuICAgICAgICAgICAgICAgIC8vLyBUaGUgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIGlmIHRoZSBwcm9taXNlIHJlcG9ydHMgcHJvZ3Jlc3MuIERhdGEgYWJvdXQgdGhlIHByb2dyZXNzXG4gICAgICAgICAgICAgICAgLy8vIGlzIHBhc3NlZCBhcyB0aGUgc2luZ2xlIGFyZ3VtZW50LiBQcm9taXNlcyBhcmUgbm90IHJlcXVpcmVkIHRvIHN1cHBvcnRcbiAgICAgICAgICAgICAgICAvLy8gcHJvZ3Jlc3MuXG4gICAgICAgICAgICAgICAgLy8vIDwvcGFyYW0+XG4gICAgICAgICAgICAgICAgLy8vIDxyZXR1cm5zIHR5cGU9XCJXaW5KUy5Qcm9taXNlXCIgbG9jaWQ9XCJXaW5KUy5Qcm9taXNlLnRoZW5fcmV0dXJuVmFsdWVcIj5cbiAgICAgICAgICAgICAgICAvLy8gQSBwcm9taXNlIHdob3NlIHZhbHVlIGlzIHRoZSByZXN1bHQgb2YgZXhlY3V0aW5nIHRoZSBwcm92aWRlZCBjb21wbGV0ZSBmdW5jdGlvbi5cbiAgICAgICAgICAgICAgICAvLy8gPC9yZXR1cm5zPlxuICAgICAgICAgICAgICAgIC8vLyA8L3NpZ25hdHVyZT5cbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hcyh2YWx1ZSkudGhlbihvbkNvbXBsZXRlLCBvbkVycm9yLCBvblByb2dyZXNzKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0aGVuRWFjaDogZnVuY3Rpb24gUHJvbWlzZV90aGVuRWFjaCh2YWx1ZXMsIG9uQ29tcGxldGUsIG9uRXJyb3IsIG9uUHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgICAgICAvLy8gPHNpZ25hdHVyZSBoZWxwS2V5d29yZD1cIldpbkpTLlByb21pc2UudGhlbkVhY2hcIj5cbiAgICAgICAgICAgICAgICAvLy8gPHN1bW1hcnkgbG9jaWQ9XCJXaW5KUy5Qcm9taXNlLnRoZW5FYWNoXCI+XG4gICAgICAgICAgICAgICAgLy8vIFBlcmZvcm1zIGFuIG9wZXJhdGlvbiBvbiBhbGwgdGhlIGlucHV0IHByb21pc2VzIGFuZCByZXR1cm5zIGEgcHJvbWlzZVxuICAgICAgICAgICAgICAgIC8vLyB0aGF0IGhhcyB0aGUgc2hhcGUgb2YgdGhlIGlucHV0IGFuZCBjb250YWlucyB0aGUgcmVzdWx0IG9mIHRoZSBvcGVyYXRpb25cbiAgICAgICAgICAgICAgICAvLy8gdGhhdCBoYXMgYmVlbiBwZXJmb3JtZWQgb24gZWFjaCBpbnB1dC5cbiAgICAgICAgICAgICAgICAvLy8gPC9zdW1tYXJ5PlxuICAgICAgICAgICAgICAgIC8vLyA8cGFyYW0gbmFtZT1cInZhbHVlc1wiIGxvY2lkPVwiV2luSlMuUHJvbWlzZS50aGVuRWFjaF9wOnZhbHVlc1wiPlxuICAgICAgICAgICAgICAgIC8vLyBBIHNldCBvZiB2YWx1ZXMgKHdoaWNoIGNvdWxkIGJlIGVpdGhlciBhbiBhcnJheSBvciBhbiBvYmplY3QpIG9mIHdoaWNoIHNvbWUgb3IgYWxsIGFyZSBwcm9taXNlcy5cbiAgICAgICAgICAgICAgICAvLy8gPC9wYXJhbT5cbiAgICAgICAgICAgICAgICAvLy8gPHBhcmFtIG5hbWU9XCJvbkNvbXBsZXRlXCIgdHlwZT1cIkZ1bmN0aW9uXCIgbG9jaWQ9XCJXaW5KUy5Qcm9taXNlLnRoZW5FYWNoX3A6Y29tcGxldGVcIj5cbiAgICAgICAgICAgICAgICAvLy8gVGhlIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCBpZiB0aGUgcHJvbWlzZSBpcyBmdWxmaWxsZWQgd2l0aCBhIHZhbHVlLlxuICAgICAgICAgICAgICAgIC8vLyBJZiB0aGUgdmFsdWUgaXMgbnVsbCwgdGhlIHByb21pc2UgcmV0dXJucyB0aGUgdmFsdWUuXG4gICAgICAgICAgICAgICAgLy8vIFRoZSB2YWx1ZSBpcyBwYXNzZWQgYXMgdGhlIHNpbmdsZSBhcmd1bWVudC5cbiAgICAgICAgICAgICAgICAvLy8gPC9wYXJhbT5cbiAgICAgICAgICAgICAgICAvLy8gPHBhcmFtIG5hbWU9XCJvbkVycm9yXCIgdHlwZT1cIkZ1bmN0aW9uXCIgb3B0aW9uYWw9XCJ0cnVlXCIgbG9jaWQ9XCJXaW5KUy5Qcm9taXNlLnRoZW5FYWNoX3A6ZXJyb3JcIj5cbiAgICAgICAgICAgICAgICAvLy8gVGhlIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCBpZiB0aGUgcHJvbWlzZSBpcyBmdWxmaWxsZWQgd2l0aCBhbiBlcnJvci4gVGhlIGVycm9yXG4gICAgICAgICAgICAgICAgLy8vIGlzIHBhc3NlZCBhcyB0aGUgc2luZ2xlIGFyZ3VtZW50LlxuICAgICAgICAgICAgICAgIC8vLyA8L3BhcmFtPlxuICAgICAgICAgICAgICAgIC8vLyA8cGFyYW0gbmFtZT1cIm9uUHJvZ3Jlc3NcIiB0eXBlPVwiRnVuY3Rpb25cIiBvcHRpb25hbD1cInRydWVcIiBsb2NpZD1cIldpbkpTLlByb21pc2UudGhlbkVhY2hfcDpwcm9ncmVzc1wiPlxuICAgICAgICAgICAgICAgIC8vLyBUaGUgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIGlmIHRoZSBwcm9taXNlIHJlcG9ydHMgcHJvZ3Jlc3MuIERhdGEgYWJvdXQgdGhlIHByb2dyZXNzXG4gICAgICAgICAgICAgICAgLy8vIGlzIHBhc3NlZCBhcyB0aGUgc2luZ2xlIGFyZ3VtZW50LiBQcm9taXNlcyBhcmUgbm90IHJlcXVpcmVkIHRvIHN1cHBvcnRcbiAgICAgICAgICAgICAgICAvLy8gcHJvZ3Jlc3MuXG4gICAgICAgICAgICAgICAgLy8vIDwvcGFyYW0+XG4gICAgICAgICAgICAgICAgLy8vIDxyZXR1cm5zIHR5cGU9XCJXaW5KUy5Qcm9taXNlXCIgbG9jaWQ9XCJXaW5KUy5Qcm9taXNlLnRoZW5FYWNoX3JldHVyblZhbHVlXCI+XG4gICAgICAgICAgICAgICAgLy8vIEEgcHJvbWlzZSB0aGF0IGlzIHRoZSByZXN1bHQgb2YgY2FsbGluZyBQcm9taXNlLmpvaW4gb24gdGhlIHZhbHVlcyBwYXJhbWV0ZXIuXG4gICAgICAgICAgICAgICAgLy8vIDwvcmV0dXJucz5cbiAgICAgICAgICAgICAgICAvLy8gPC9zaWduYXR1cmU+XG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IEFycmF5LmlzQXJyYXkodmFsdWVzKSA/IFtdIDoge307XG4gICAgICAgICAgICAgICAgT2JqZWN0LmtleXModmFsdWVzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0W2tleV0gPSBQcm9taXNlLmFzKHZhbHVlc1trZXldKS50aGVuKG9uQ29tcGxldGUsIG9uRXJyb3IsIG9uUHJvZ3Jlc3MpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmpvaW4ocmVzdWx0KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0aW1lb3V0OiBmdW5jdGlvbiBQcm9taXNlX3RpbWVvdXQodGltZSwgcHJvbWlzZSkge1xuICAgICAgICAgICAgICAgIC8vLyA8c2lnbmF0dXJlIGhlbHBLZXl3b3JkPVwiV2luSlMuUHJvbWlzZS50aW1lb3V0XCI+XG4gICAgICAgICAgICAgICAgLy8vIDxzdW1tYXJ5IGxvY2lkPVwiV2luSlMuUHJvbWlzZS50aW1lb3V0XCI+XG4gICAgICAgICAgICAgICAgLy8vIENyZWF0ZXMgYSBwcm9taXNlIHRoYXQgaXMgZnVsZmlsbGVkIGFmdGVyIGEgdGltZW91dC5cbiAgICAgICAgICAgICAgICAvLy8gPC9zdW1tYXJ5PlxuICAgICAgICAgICAgICAgIC8vLyA8cGFyYW0gbmFtZT1cInRpbWVvdXRcIiB0eXBlPVwiTnVtYmVyXCIgb3B0aW9uYWw9XCJ0cnVlXCIgbG9jaWQ9XCJXaW5KUy5Qcm9taXNlLnRpbWVvdXRfcDp0aW1lb3V0XCI+XG4gICAgICAgICAgICAgICAgLy8vIFRoZSB0aW1lb3V0IHBlcmlvZCBpbiBtaWxsaXNlY29uZHMuIElmIHRoaXMgdmFsdWUgaXMgemVybyBvciBub3Qgc3BlY2lmaWVkXG4gICAgICAgICAgICAgICAgLy8vIHNldEltbWVkaWF0ZSBpcyBjYWxsZWQsIG90aGVyd2lzZSBzZXRUaW1lb3V0IGlzIGNhbGxlZC5cbiAgICAgICAgICAgICAgICAvLy8gPC9wYXJhbT5cbiAgICAgICAgICAgICAgICAvLy8gPHBhcmFtIG5hbWU9XCJwcm9taXNlXCIgdHlwZT1cIlByb21pc2VcIiBvcHRpb25hbD1cInRydWVcIiBsb2NpZD1cIldpbkpTLlByb21pc2UudGltZW91dF9wOnByb21pc2VcIj5cbiAgICAgICAgICAgICAgICAvLy8gQSBwcm9taXNlIHRoYXQgd2lsbCBiZSBjYW5jZWxlZCBpZiBpdCBkb2Vzbid0IGNvbXBsZXRlIGJlZm9yZSB0aGVcbiAgICAgICAgICAgICAgICAvLy8gdGltZW91dCBoYXMgZXhwaXJlZC5cbiAgICAgICAgICAgICAgICAvLy8gPC9wYXJhbT5cbiAgICAgICAgICAgICAgICAvLy8gPHJldHVybnMgdHlwZT1cIldpbkpTLlByb21pc2VcIiBsb2NpZD1cIldpbkpTLlByb21pc2UudGltZW91dF9yZXR1cm5WYWx1ZVwiPlxuICAgICAgICAgICAgICAgIC8vLyBBIHByb21pc2UgdGhhdCBpcyBjb21wbGV0ZWQgYXN5bmNocm9ub3VzbHkgYWZ0ZXIgdGhlIHNwZWNpZmllZCB0aW1lb3V0LlxuICAgICAgICAgICAgICAgIC8vLyA8L3JldHVybnM+XG4gICAgICAgICAgICAgICAgLy8vIDwvc2lnbmF0dXJlPlxuICAgICAgICAgICAgICAgIHZhciB0byA9IHRpbWVvdXQodGltZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHByb21pc2UgPyB0aW1lb3V0V2l0aFByb21pc2UodG8sIHByb21pc2UpIDogdG87XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgd3JhcDogZnVuY3Rpb24gUHJvbWlzZV93cmFwKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgLy8vIDxzaWduYXR1cmUgaGVscEtleXdvcmQ9XCJXaW5KUy5Qcm9taXNlLndyYXBcIj5cbiAgICAgICAgICAgICAgICAvLy8gPHN1bW1hcnkgbG9jaWQ9XCJXaW5KUy5Qcm9taXNlLndyYXBcIj5cbiAgICAgICAgICAgICAgICAvLy8gV3JhcHMgYSBub24tcHJvbWlzZSB2YWx1ZSBpbiBhIHByb21pc2UuIFlvdSBjYW4gdXNlIHRoaXMgZnVuY3Rpb24gaWYgeW91IG5lZWRcbiAgICAgICAgICAgICAgICAvLy8gdG8gcGFzcyBhIHZhbHVlIHRvIGEgZnVuY3Rpb24gdGhhdCByZXF1aXJlcyBhIHByb21pc2UuXG4gICAgICAgICAgICAgICAgLy8vIDwvc3VtbWFyeT5cbiAgICAgICAgICAgICAgICAvLy8gPHBhcmFtIG5hbWU9XCJ2YWx1ZVwiIGxvY2lkPVwiV2luSlMuUHJvbWlzZS53cmFwX3A6dmFsdWVcIj5cbiAgICAgICAgICAgICAgICAvLy8gU29tZSBub24tcHJvbWlzZSB2YWx1ZSB0byBiZSB3cmFwcGVkIGluIGEgcHJvbWlzZS5cbiAgICAgICAgICAgICAgICAvLy8gPC9wYXJhbT5cbiAgICAgICAgICAgICAgICAvLy8gPHJldHVybnMgdHlwZT1cIldpbkpTLlByb21pc2VcIiBsb2NpZD1cIldpbkpTLlByb21pc2Uud3JhcF9yZXR1cm5WYWx1ZVwiPlxuICAgICAgICAgICAgICAgIC8vLyBBIHByb21pc2UgdGhhdCBpcyBzdWNjZXNzZnVsbHkgZnVsZmlsbGVkIHdpdGggdGhlIHNwZWNpZmllZCB2YWx1ZVxuICAgICAgICAgICAgICAgIC8vLyA8L3JldHVybnM+XG4gICAgICAgICAgICAgICAgLy8vIDwvc2lnbmF0dXJlPlxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGxldGVQcm9taXNlKHZhbHVlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB3cmFwRXJyb3I6IGZ1bmN0aW9uIFByb21pc2Vfd3JhcEVycm9yKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgLy8vIDxzaWduYXR1cmUgaGVscEtleXdvcmQ9XCJXaW5KUy5Qcm9taXNlLndyYXBFcnJvclwiPlxuICAgICAgICAgICAgICAgIC8vLyA8c3VtbWFyeSBsb2NpZD1cIldpbkpTLlByb21pc2Uud3JhcEVycm9yXCI+XG4gICAgICAgICAgICAgICAgLy8vIFdyYXBzIGEgbm9uLXByb21pc2UgZXJyb3IgdmFsdWUgaW4gYSBwcm9taXNlLiBZb3UgY2FuIHVzZSB0aGlzIGZ1bmN0aW9uIGlmIHlvdSBuZWVkXG4gICAgICAgICAgICAgICAgLy8vIHRvIHBhc3MgYW4gZXJyb3IgdG8gYSBmdW5jdGlvbiB0aGF0IHJlcXVpcmVzIGEgcHJvbWlzZS5cbiAgICAgICAgICAgICAgICAvLy8gPC9zdW1tYXJ5PlxuICAgICAgICAgICAgICAgIC8vLyA8cGFyYW0gbmFtZT1cImVycm9yXCIgbG9jaWQ9XCJXaW5KUy5Qcm9taXNlLndyYXBFcnJvcl9wOmVycm9yXCI+XG4gICAgICAgICAgICAgICAgLy8vIEEgbm9uLXByb21pc2UgZXJyb3IgdmFsdWUgdG8gYmUgd3JhcHBlZCBpbiBhIHByb21pc2UuXG4gICAgICAgICAgICAgICAgLy8vIDwvcGFyYW0+XG4gICAgICAgICAgICAgICAgLy8vIDxyZXR1cm5zIHR5cGU9XCJXaW5KUy5Qcm9taXNlXCIgbG9jaWQ9XCJXaW5KUy5Qcm9taXNlLndyYXBFcnJvcl9yZXR1cm5WYWx1ZVwiPlxuICAgICAgICAgICAgICAgIC8vLyBBIHByb21pc2UgdGhhdCBpcyBpbiBhbiBlcnJvciBzdGF0ZSB3aXRoIHRoZSBzcGVjaWZpZWQgdmFsdWUuXG4gICAgICAgICAgICAgICAgLy8vIDwvcmV0dXJucz5cbiAgICAgICAgICAgICAgICAvLy8gPC9zaWduYXR1cmU+XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBFcnJvclByb21pc2UoZXJyb3IpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgX3ZlcnlFeHBlbnNpdmVUYWdXaXRoU3RhY2s6IHtcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRhZ1dpdGhTdGFjazsgfSxcbiAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkgeyB0YWdXaXRoU3RhY2sgPSB2YWx1ZTsgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF92ZXJ5RXhwZW5zaXZlVGFnV2l0aFN0YWNrX3RhZzogdGFnLFxuICAgICAgICAgICAgX2dldFN0YWNrOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKF9HbG9iYWwuRGVidWcgJiYgX0dsb2JhbC5EZWJ1Zy5kZWJ1Z2dlckVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHsgdGhyb3cgbmV3IEVycm9yKCk7IH0gY2F0Y2ggKGUpIHsgcmV0dXJuIGUuc3RhY2s7IH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBfY2FuY2VsQmxvY2tlcjogZnVuY3Rpb24gUHJvbWlzZV9fY2FuY2VsQmxvY2tlcihpbnB1dCwgb25jYW5jZWwpIHtcbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIC8vIFJldHVybnMgYSBwcm9taXNlIHdoaWNoIG9uIGNhbmNlbGF0aW9uIHdpbGwgc3RpbGwgcmVzdWx0IGluIGRvd25zdHJlYW0gY2FuY2VsYXRpb24gd2hpbGVcbiAgICAgICAgICAgICAgICAvLyAgcHJvdGVjdGluZyB0aGUgcHJvbWlzZSAnaW5wdXQnIGZyb20gYmVpbmcgIGNhbmNlbGVkIHdoaWNoIGhhcyB0aGUgZWZmZWN0IG9mIGFsbG93aW5nXG4gICAgICAgICAgICAgICAgLy8gICdpbnB1dCcgdG8gYmUgc2hhcmVkIGFtb3VuZyB2YXJpb3VzIGNvbnN1bWVycy5cbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIGlmICghUHJvbWlzZS5pcyhpbnB1dCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2Uud3JhcChpbnB1dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBjb21wbGV0ZTtcbiAgICAgICAgICAgICAgICB2YXIgZXJyb3I7XG4gICAgICAgICAgICAgICAgdmFyIG91dHB1dCA9IG5ldyBQcm9taXNlKFxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoYywgZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29tcGxldGUgPSBjO1xuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3IgPSBlO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvciA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICBvbmNhbmNlbCAmJiBvbmNhbmNlbCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBpbnB1dC50aGVuKFxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAodikgeyBjb21wbGV0ZSAmJiBjb21wbGV0ZSh2KTsgfSxcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKGUpIHsgZXJyb3IgJiYgZXJyb3IoZSk7IH1cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgIH1cbiAgICApO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFByb21pc2UsIF9FdmVudHMuY3JlYXRlRXZlbnRQcm9wZXJ0aWVzKGVycm9yRVQpKTtcblxuICAgIFByb21pc2UuX2RvbmVIYW5kbGVyID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIF9CYXNlQ29yZVV0aWxzLl9zZXRJbW1lZGlhdGUoZnVuY3Rpb24gUHJvbWlzZV9kb25lX3JldGhyb3coKSB7XG4gICAgICAgICAgICB0aHJvdyB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIFByb21pc2VTdGF0ZU1hY2hpbmU6IFByb21pc2VTdGF0ZU1hY2hpbmUsXG4gICAgICAgIFByb21pc2U6IFByb21pc2UsXG4gICAgICAgIHN0YXRlX2NyZWF0ZWQ6IHN0YXRlX2NyZWF0ZWRcbiAgICB9O1xufSk7XG5cbl93aW5qcyhcIldpbkpTL1Byb21pc2VcIiwgW1wiV2luSlMvQ29yZS9fQmFzZVwiLFwiV2luSlMvUHJvbWlzZS9fU3RhdGVNYWNoaW5lXCJdLCBmdW5jdGlvbiBwcm9taXNlSW5pdCggX0Jhc2UsIF9TdGF0ZU1hY2hpbmUpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcblxuICAgIF9CYXNlLk5hbWVzcGFjZS5kZWZpbmUoXCJXaW5KU1wiLCB7XG4gICAgICAgIFByb21pc2U6IF9TdGF0ZU1hY2hpbmUuUHJvbWlzZVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIF9TdGF0ZU1hY2hpbmUuUHJvbWlzZTtcbn0pO1xuXG5fX3dpbmpzX2V4cG9ydHMgPSBfbW9kdWxlc1tcIldpbkpTL0NvcmUvX1dpbkpTXCJdO1xuX193aW5qc19leHBvcnRzLlRQcm9taXNlID0gX193aW5qc19leHBvcnRzLlByb21pc2U7XG5fX3dpbmpzX2V4cG9ydHMuUFByb21pc2UgPSBfX3dpbmpzX2V4cG9ydHMuUHJvbWlzZTtcblxuLy8gRVNNLWNvbW1lbnQtYmVnaW5cbi8vIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4vLyAgICAgZGVmaW5lKFtdLCBfX3dpbmpzX2V4cG9ydHMpO1xuLy8gfSBlbHNlIHtcbi8vICAgICBtb2R1bGUuZXhwb3J0cyA9IF9fd2luanNfZXhwb3J0cztcbi8vIH1cbi8vIEVTTS1jb21tZW50LWVuZFxuXG59KSgpO1xuXG4vLyBFU00tdW5jb21tZW50LWJlZ2luXG5leHBvcnQgdmFyIFByb21pc2UgPSBfX3dpbmpzX2V4cG9ydHMuUHJvbWlzZTtcbmV4cG9ydCB2YXIgVFByb21pc2UgPSBfX3dpbmpzX2V4cG9ydHMuVFByb21pc2U7XG5leHBvcnQgdmFyIFBQcm9taXNlID0gX193aW5qc19leHBvcnRzLlBQcm9taXNlO1xuLy8gRVNNLXVuY29tbWVudC1lbmRcbiIsIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuJ3VzZSBzdHJpY3QnO1xudmFyIF9pc1dpbmRvd3MgPSBmYWxzZTtcbnZhciBfaXNNYWNpbnRvc2ggPSBmYWxzZTtcbnZhciBfaXNMaW51eCA9IGZhbHNlO1xudmFyIF9pc05hdGl2ZSA9IGZhbHNlO1xudmFyIF9pc1dlYiA9IGZhbHNlO1xudmFyIF9sb2NhbGUgPSB1bmRlZmluZWQ7XG52YXIgX2xhbmd1YWdlID0gdW5kZWZpbmVkO1xudmFyIF90cmFuc2xhdGlvbnNDb25maWdGaWxlID0gdW5kZWZpbmVkO1xuZXhwb3J0IHZhciBMQU5HVUFHRV9ERUZBVUxUID0gJ2VuJztcbi8vIE9TIGRldGVjdGlvblxuaWYgKHR5cGVvZiBwcm9jZXNzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgcHJvY2Vzcy5uZXh0VGljayA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgcHJvY2Vzcy5wbGF0Zm9ybSA9PT0gJ3N0cmluZycpIHtcbiAgICBfaXNXaW5kb3dzID0gKHByb2Nlc3MucGxhdGZvcm0gPT09ICd3aW4zMicpO1xuICAgIF9pc01hY2ludG9zaCA9IChwcm9jZXNzLnBsYXRmb3JtID09PSAnZGFyd2luJyk7XG4gICAgX2lzTGludXggPSAocHJvY2Vzcy5wbGF0Zm9ybSA9PT0gJ2xpbnV4Jyk7XG4gICAgdmFyIHJhd05sc0NvbmZpZyA9IHByb2Nlc3MuZW52WydWU0NPREVfTkxTX0NPTkZJRyddO1xuICAgIGlmIChyYXdObHNDb25maWcpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciBubHNDb25maWcgPSBKU09OLnBhcnNlKHJhd05sc0NvbmZpZyk7XG4gICAgICAgICAgICB2YXIgcmVzb2x2ZWQgPSBubHNDb25maWcuYXZhaWxhYmxlTGFuZ3VhZ2VzWycqJ107XG4gICAgICAgICAgICBfbG9jYWxlID0gbmxzQ29uZmlnLmxvY2FsZTtcbiAgICAgICAgICAgIC8vIFZTQ29kZSdzIGRlZmF1bHQgbGFuZ3VhZ2UgaXMgJ2VuJ1xuICAgICAgICAgICAgX2xhbmd1YWdlID0gcmVzb2x2ZWQgPyByZXNvbHZlZCA6IExBTkdVQUdFX0RFRkFVTFQ7XG4gICAgICAgICAgICBfdHJhbnNsYXRpb25zQ29uZmlnRmlsZSA9IG5sc0NvbmZpZy5fdHJhbnNsYXRpb25zQ29uZmlnRmlsZTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICB9XG4gICAgfVxuICAgIF9pc05hdGl2ZSA9IHRydWU7XG59XG5lbHNlIGlmICh0eXBlb2YgbmF2aWdhdG9yID09PSAnb2JqZWN0Jykge1xuICAgIHZhciB1c2VyQWdlbnQgPSBuYXZpZ2F0b3IudXNlckFnZW50O1xuICAgIF9pc1dpbmRvd3MgPSB1c2VyQWdlbnQuaW5kZXhPZignV2luZG93cycpID49IDA7XG4gICAgX2lzTWFjaW50b3NoID0gdXNlckFnZW50LmluZGV4T2YoJ01hY2ludG9zaCcpID49IDA7XG4gICAgX2lzTGludXggPSB1c2VyQWdlbnQuaW5kZXhPZignTGludXgnKSA+PSAwO1xuICAgIF9pc1dlYiA9IHRydWU7XG4gICAgX2xvY2FsZSA9IG5hdmlnYXRvci5sYW5ndWFnZTtcbiAgICBfbGFuZ3VhZ2UgPSBfbG9jYWxlO1xufVxuZXhwb3J0IHZhciBQbGF0Zm9ybTtcbihmdW5jdGlvbiAoUGxhdGZvcm0pIHtcbiAgICBQbGF0Zm9ybVtQbGF0Zm9ybVtcIldlYlwiXSA9IDBdID0gXCJXZWJcIjtcbiAgICBQbGF0Zm9ybVtQbGF0Zm9ybVtcIk1hY1wiXSA9IDFdID0gXCJNYWNcIjtcbiAgICBQbGF0Zm9ybVtQbGF0Zm9ybVtcIkxpbnV4XCJdID0gMl0gPSBcIkxpbnV4XCI7XG4gICAgUGxhdGZvcm1bUGxhdGZvcm1bXCJXaW5kb3dzXCJdID0gM10gPSBcIldpbmRvd3NcIjtcbn0pKFBsYXRmb3JtIHx8IChQbGF0Zm9ybSA9IHt9KSk7XG52YXIgX3BsYXRmb3JtID0gUGxhdGZvcm0uV2ViO1xuaWYgKF9pc05hdGl2ZSkge1xuICAgIGlmIChfaXNNYWNpbnRvc2gpIHtcbiAgICAgICAgX3BsYXRmb3JtID0gUGxhdGZvcm0uTWFjO1xuICAgIH1cbiAgICBlbHNlIGlmIChfaXNXaW5kb3dzKSB7XG4gICAgICAgIF9wbGF0Zm9ybSA9IFBsYXRmb3JtLldpbmRvd3M7XG4gICAgfVxuICAgIGVsc2UgaWYgKF9pc0xpbnV4KSB7XG4gICAgICAgIF9wbGF0Zm9ybSA9IFBsYXRmb3JtLkxpbnV4O1xuICAgIH1cbn1cbmV4cG9ydCB2YXIgaXNXaW5kb3dzID0gX2lzV2luZG93cztcbmV4cG9ydCB2YXIgaXNNYWNpbnRvc2ggPSBfaXNNYWNpbnRvc2g7XG5leHBvcnQgdmFyIGlzTGludXggPSBfaXNMaW51eDtcbmV4cG9ydCB2YXIgaXNOYXRpdmUgPSBfaXNOYXRpdmU7XG5leHBvcnQgdmFyIGlzV2ViID0gX2lzV2ViO1xuZXhwb3J0IHZhciBwbGF0Zm9ybSA9IF9wbGF0Zm9ybTtcbmV4cG9ydCBmdW5jdGlvbiBpc1Jvb3RVc2VyKCkge1xuICAgIHJldHVybiBfaXNOYXRpdmUgJiYgIV9pc1dpbmRvd3MgJiYgKHByb2Nlc3MuZ2V0dWlkKCkgPT09IDApO1xufVxuLyoqXG4gKiBUaGUgbGFuZ3VhZ2UgdXNlZCBmb3IgdGhlIHVzZXIgaW50ZXJmYWNlLiBUaGUgZm9ybWF0IG9mXG4gKiB0aGUgc3RyaW5nIGlzIGFsbCBsb3dlciBjYXNlIChlLmcuIHpoLXR3IGZvciBUcmFkaXRpb25hbFxuICogQ2hpbmVzZSlcbiAqL1xuZXhwb3J0IHZhciBsYW5ndWFnZSA9IF9sYW5ndWFnZTtcbi8qKlxuICogVGhlIE9TIGxvY2FsZSBvciB0aGUgbG9jYWxlIHNwZWNpZmllZCBieSAtLWxvY2FsZS4gVGhlIGZvcm1hdCBvZlxuICogdGhlIHN0cmluZyBpcyBhbGwgbG93ZXIgY2FzZSAoZS5nLiB6aC10dyBmb3IgVHJhZGl0aW9uYWxcbiAqIENoaW5lc2UpLiBUaGUgVUkgaXMgbm90IG5lY2Vzc2FyaWx5IHNob3duIGluIHRoZSBwcm92aWRlZCBsb2NhbGUuXG4gKi9cbmV4cG9ydCB2YXIgbG9jYWxlID0gX2xvY2FsZTtcbi8qKlxuICogVGhlIHRyYW5zbGF0aW9zIHRoYXQgYXJlIGF2YWlsYWJsZSB0aHJvdWdoIGxhbmd1YWdlIHBhY2tzLlxuICovXG5leHBvcnQgdmFyIHRyYW5zbGF0aW9uc0NvbmZpZ0ZpbGUgPSBfdHJhbnNsYXRpb25zQ29uZmlnRmlsZTtcbnZhciBfZ2xvYmFscyA9ICh0eXBlb2Ygc2VsZiA9PT0gJ29iamVjdCcgPyBzZWxmIDogdHlwZW9mIGdsb2JhbCA9PT0gJ29iamVjdCcgPyBnbG9iYWwgOiB7fSk7XG5leHBvcnQgdmFyIGdsb2JhbHMgPSBfZ2xvYmFscztcbnZhciBfc2V0SW1tZWRpYXRlID0gbnVsbDtcbmV4cG9ydCBmdW5jdGlvbiBzZXRJbW1lZGlhdGUoY2FsbGJhY2spIHtcbiAgICBpZiAoX3NldEltbWVkaWF0ZSA9PT0gbnVsbCkge1xuICAgICAgICBpZiAoZ2xvYmFscy5zZXRJbW1lZGlhdGUpIHtcbiAgICAgICAgICAgIF9zZXRJbW1lZGlhdGUgPSBnbG9iYWxzLnNldEltbWVkaWF0ZS5iaW5kKGdsb2JhbHMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgcHJvY2Vzcy5uZXh0VGljayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgX3NldEltbWVkaWF0ZSA9IHByb2Nlc3MubmV4dFRpY2suYmluZChwcm9jZXNzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIF9zZXRJbW1lZGlhdGUgPSBnbG9iYWxzLnNldFRpbWVvdXQuYmluZChnbG9iYWxzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gX3NldEltbWVkaWF0ZShjYWxsYmFjayk7XG59XG5leHBvcnQgdmFyIE9TID0gKF9pc01hY2ludG9zaCA/IDIgLyogTWFjaW50b3NoICovIDogKF9pc1dpbmRvd3MgPyAxIC8qIFdpbmRvd3MgKi8gOiAzIC8qIExpbnV4ICovKSk7XG4iLCIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbid1c2Ugc3RyaWN0JztcbmZ1bmN0aW9uIF9lbmNvZGUoY2gpIHtcbiAgICByZXR1cm4gJyUnICsgY2guY2hhckNvZGVBdCgwKS50b1N0cmluZygxNikudG9VcHBlckNhc2UoKTtcbn1cbi8vIHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9lbmNvZGVVUklDb21wb25lbnRcbmZ1bmN0aW9uIGVuY29kZVVSSUNvbXBvbmVudDIoc3RyKSB7XG4gICAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChzdHIpLnJlcGxhY2UoL1shJygpKl0vZywgX2VuY29kZSk7XG59XG5mdW5jdGlvbiBlbmNvZGVOb29wKHN0cikge1xuICAgIHJldHVybiBzdHIucmVwbGFjZSgvWyM/XS8sIF9lbmNvZGUpO1xufVxuLyoqXG4gKiBVbmlmb3JtIFJlc291cmNlIElkZW50aWZpZXIgKFVSSSkgaHR0cDovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzk4Ni5cbiAqIFRoaXMgY2xhc3MgaXMgYSBzaW1wbGUgcGFyc2VyIHdoaWNoIGNyZWF0ZXMgdGhlIGJhc2ljIGNvbXBvbmVudCBwYXRoc1xuICogKGh0dHA6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzM5ODYjc2VjdGlvbi0zKSB3aXRoIG1pbmltYWwgdmFsaWRhdGlvblxuICogYW5kIGVuY29kaW5nLlxuICpcbiAqICAgICAgIGZvbzovL2V4YW1wbGUuY29tOjgwNDIvb3Zlci90aGVyZT9uYW1lPWZlcnJldCNub3NlXG4gKiAgICAgICBcXF8vICAgXFxfX19fX19fX19fX19fXy9cXF9fX19fX19fXy8gXFxfX19fX19fX18vIFxcX18vXG4gKiAgICAgICAgfCAgICAgICAgICAgfCAgICAgICAgICAgIHwgICAgICAgICAgICB8ICAgICAgICB8XG4gKiAgICAgc2NoZW1lICAgICBhdXRob3JpdHkgICAgICAgcGF0aCAgICAgICAgcXVlcnkgICBmcmFnbWVudFxuICogICAgICAgIHwgICBfX19fX19fX19fX19fX19fX19fX198X19cbiAqICAgICAgIC8gXFwgLyAgICAgICAgICAgICAgICAgICAgICAgIFxcXG4gKiAgICAgICB1cm46ZXhhbXBsZTphbmltYWw6ZmVycmV0Om5vc2VcbiAqXG4gKlxuICovXG52YXIgVVJJID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBVUkkoKSB7XG4gICAgICAgIHRoaXMuX3NjaGVtZSA9IFVSSS5fZW1wdHk7XG4gICAgICAgIHRoaXMuX2F1dGhvcml0eSA9IFVSSS5fZW1wdHk7XG4gICAgICAgIHRoaXMuX3BhdGggPSBVUkkuX2VtcHR5O1xuICAgICAgICB0aGlzLl9xdWVyeSA9IFVSSS5fZW1wdHk7XG4gICAgICAgIHRoaXMuX2ZyYWdtZW50ID0gVVJJLl9lbXB0eTtcbiAgICAgICAgdGhpcy5fZm9ybWF0dGVkID0gbnVsbDtcbiAgICAgICAgdGhpcy5fZnNQYXRoID0gbnVsbDtcbiAgICB9XG4gICAgVVJJLmlzVXJpID0gZnVuY3Rpb24gKHRoaW5nKSB7XG4gICAgICAgIGlmICh0aGluZyBpbnN0YW5jZW9mIFVSSSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGluZykge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0eXBlb2YgdGhpbmcuYXV0aG9yaXR5ID09PSAnc3RyaW5nJ1xuICAgICAgICAgICAgJiYgdHlwZW9mIHRoaW5nLmZyYWdtZW50ID09PSAnc3RyaW5nJ1xuICAgICAgICAgICAgJiYgdHlwZW9mIHRoaW5nLnBhdGggPT09ICdzdHJpbmcnXG4gICAgICAgICAgICAmJiB0eXBlb2YgdGhpbmcucXVlcnkgPT09ICdzdHJpbmcnXG4gICAgICAgICAgICAmJiB0eXBlb2YgdGhpbmcuc2NoZW1lID09PSAnc3RyaW5nJztcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShVUkkucHJvdG90eXBlLCBcInNjaGVtZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBzY2hlbWUgaXMgdGhlICdodHRwJyBwYXJ0IG9mICdodHRwOi8vd3d3Lm1zZnQuY29tL3NvbWUvcGF0aD9xdWVyeSNmcmFnbWVudCcuXG4gICAgICAgICAqIFRoZSBwYXJ0IGJlZm9yZSB0aGUgZmlyc3QgY29sb24uXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zY2hlbWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShVUkkucHJvdG90eXBlLCBcImF1dGhvcml0eVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBhdXRob3JpdHkgaXMgdGhlICd3d3cubXNmdC5jb20nIHBhcnQgb2YgJ2h0dHA6Ly93d3cubXNmdC5jb20vc29tZS9wYXRoP3F1ZXJ5I2ZyYWdtZW50Jy5cbiAgICAgICAgICogVGhlIHBhcnQgYmV0d2VlbiB0aGUgZmlyc3QgZG91YmxlIHNsYXNoZXMgYW5kIHRoZSBuZXh0IHNsYXNoLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYXV0aG9yaXR5O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVVJJLnByb3RvdHlwZSwgXCJwYXRoXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIHBhdGggaXMgdGhlICcvc29tZS9wYXRoJyBwYXJ0IG9mICdodHRwOi8vd3d3Lm1zZnQuY29tL3NvbWUvcGF0aD9xdWVyeSNmcmFnbWVudCcuXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9wYXRoO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVVJJLnByb3RvdHlwZSwgXCJxdWVyeVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBxdWVyeSBpcyB0aGUgJ3F1ZXJ5JyBwYXJ0IG9mICdodHRwOi8vd3d3Lm1zZnQuY29tL3NvbWUvcGF0aD9xdWVyeSNmcmFnbWVudCcuXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9xdWVyeTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFVSSS5wcm90b3R5cGUsIFwiZnJhZ21lbnRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogZnJhZ21lbnQgaXMgdGhlICdmcmFnbWVudCcgcGFydCBvZiAnaHR0cDovL3d3dy5tc2Z0LmNvbS9zb21lL3BhdGg/cXVlcnkjZnJhZ21lbnQnLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZnJhZ21lbnQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShVUkkucHJvdG90eXBlLCBcImZzUGF0aFwiLCB7XG4gICAgICAgIC8vIC0tLS0gZmlsZXN5c3RlbSBwYXRoIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXR1cm5zIGEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgY29ycmVzcG9uZGluZyBmaWxlIHN5c3RlbSBwYXRoIG9mIHRoaXMgVVJJLlxuICAgICAgICAgKiBXaWxsIGhhbmRsZSBVTkMgcGF0aHMgYW5kIG5vcm1hbGl6ZSB3aW5kb3dzIGRyaXZlIGxldHRlcnMgdG8gbG93ZXItY2FzZS4gQWxzb1xuICAgICAgICAgKiB1c2VzIHRoZSBwbGF0Zm9ybSBzcGVjaWZpYyBwYXRoIHNlcGFyYXRvci4gV2lsbCAqbm90KiB2YWxpZGF0ZSB0aGUgcGF0aCBmb3JcbiAgICAgICAgICogaW52YWxpZCBjaGFyYWN0ZXJzIGFuZCBzZW1hbnRpY3MuIFdpbGwgKm5vdCogbG9vayBhdCB0aGUgc2NoZW1lIG9mIHRoaXMgVVJJLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2ZzUGF0aCkge1xuICAgICAgICAgICAgICAgIHZhciB2YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fYXV0aG9yaXR5ICYmIHRoaXMuX3BhdGggJiYgdGhpcy5zY2hlbWUgPT09ICdmaWxlJykge1xuICAgICAgICAgICAgICAgICAgICAvLyB1bmMgcGF0aDogZmlsZTovL3NoYXJlcy9jJC9mYXIvYm9vXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gXCIvL1wiICsgdGhpcy5fYXV0aG9yaXR5ICsgdGhpcy5fcGF0aDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoVVJJLl9kcml2ZUxldHRlclBhdGgudGVzdCh0aGlzLl9wYXRoKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyB3aW5kb3dzIGRyaXZlIGxldHRlcjogZmlsZTovLy9jOi9mYXIvYm9vXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gdGhpcy5fcGF0aFsxXS50b0xvd2VyQ2FzZSgpICsgdGhpcy5fcGF0aC5zdWJzdHIoMik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBvdGhlciBwYXRoXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gdGhpcy5fcGF0aDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGlzV2luZG93cykge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UoL1xcLy9nLCAnXFxcXCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLl9mc1BhdGggPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9mc1BhdGg7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8vIC0tLS0gbW9kaWZ5IHRvIG5ldyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgVVJJLnByb3RvdHlwZS53aXRoID0gZnVuY3Rpb24gKGNoYW5nZSkge1xuICAgICAgICBpZiAoIWNoYW5nZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNjaGVtZSA9IGNoYW5nZS5zY2hlbWUsIGF1dGhvcml0eSA9IGNoYW5nZS5hdXRob3JpdHksIHBhdGggPSBjaGFuZ2UucGF0aCwgcXVlcnkgPSBjaGFuZ2UucXVlcnksIGZyYWdtZW50ID0gY2hhbmdlLmZyYWdtZW50O1xuICAgICAgICBpZiAoc2NoZW1lID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIHNjaGVtZSA9IHRoaXMuc2NoZW1lO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHNjaGVtZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgc2NoZW1lID0gJyc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGF1dGhvcml0eSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBhdXRob3JpdHkgPSB0aGlzLmF1dGhvcml0eTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChhdXRob3JpdHkgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGF1dGhvcml0eSA9ICcnO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXRoID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIHBhdGggPSB0aGlzLnBhdGg7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocGF0aCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcGF0aCA9ICcnO1xuICAgICAgICB9XG4gICAgICAgIGlmIChxdWVyeSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBxdWVyeSA9IHRoaXMucXVlcnk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocXVlcnkgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHF1ZXJ5ID0gJyc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZyYWdtZW50ID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGZyYWdtZW50ID0gdGhpcy5mcmFnbWVudDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChmcmFnbWVudCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgZnJhZ21lbnQgPSAnJztcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2NoZW1lID09PSB0aGlzLnNjaGVtZVxuICAgICAgICAgICAgJiYgYXV0aG9yaXR5ID09PSB0aGlzLmF1dGhvcml0eVxuICAgICAgICAgICAgJiYgcGF0aCA9PT0gdGhpcy5wYXRoXG4gICAgICAgICAgICAmJiBxdWVyeSA9PT0gdGhpcy5xdWVyeVxuICAgICAgICAgICAgJiYgZnJhZ21lbnQgPT09IHRoaXMuZnJhZ21lbnQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIHZhciByZXQgPSBuZXcgVVJJKCk7XG4gICAgICAgIHJldC5fc2NoZW1lID0gc2NoZW1lO1xuICAgICAgICByZXQuX2F1dGhvcml0eSA9IGF1dGhvcml0eTtcbiAgICAgICAgcmV0Ll9wYXRoID0gcGF0aDtcbiAgICAgICAgcmV0Ll9xdWVyeSA9IHF1ZXJ5O1xuICAgICAgICByZXQuX2ZyYWdtZW50ID0gZnJhZ21lbnQ7XG4gICAgICAgIFVSSS5fdmFsaWRhdGUocmV0KTtcbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9O1xuICAgIC8vIC0tLS0gcGFyc2UgJiB2YWxpZGF0ZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICBVUkkucGFyc2UgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdmFyIHJldCA9IG5ldyBVUkkoKTtcbiAgICAgICAgdmFyIGRhdGEgPSBVUkkuX3BhcnNlQ29tcG9uZW50cyh2YWx1ZSk7XG4gICAgICAgIHJldC5fc2NoZW1lID0gZGF0YS5zY2hlbWU7XG4gICAgICAgIHJldC5fYXV0aG9yaXR5ID0gZGVjb2RlVVJJQ29tcG9uZW50KGRhdGEuYXV0aG9yaXR5KTtcbiAgICAgICAgcmV0Ll9wYXRoID0gZGVjb2RlVVJJQ29tcG9uZW50KGRhdGEucGF0aCk7XG4gICAgICAgIHJldC5fcXVlcnkgPSBkZWNvZGVVUklDb21wb25lbnQoZGF0YS5xdWVyeSk7XG4gICAgICAgIHJldC5fZnJhZ21lbnQgPSBkZWNvZGVVUklDb21wb25lbnQoZGF0YS5mcmFnbWVudCk7XG4gICAgICAgIFVSSS5fdmFsaWRhdGUocmV0KTtcbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9O1xuICAgIFVSSS5maWxlID0gZnVuY3Rpb24gKHBhdGgpIHtcbiAgICAgICAgdmFyIHJldCA9IG5ldyBVUkkoKTtcbiAgICAgICAgcmV0Ll9zY2hlbWUgPSAnZmlsZSc7XG4gICAgICAgIC8vIG5vcm1hbGl6ZSB0byBmd2Qtc2xhc2hlcyBvbiB3aW5kb3dzLFxuICAgICAgICAvLyBvbiBvdGhlciBzeXN0ZW1zIGJ3ZC1zbGFjaGVzIGFyZSB2YWxpZFxuICAgICAgICAvLyBmaWxlbmFtZSBjaGFyYWN0ZXIsIGVnIC9mXFxvby9iYVxcci50eHRcbiAgICAgICAgaWYgKGlzV2luZG93cykge1xuICAgICAgICAgICAgcGF0aCA9IHBhdGgucmVwbGFjZSgvXFxcXC9nLCBVUkkuX3NsYXNoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBjaGVjayBmb3IgYXV0aG9yaXR5IGFzIHVzZWQgaW4gVU5DIHNoYXJlc1xuICAgICAgICAvLyBvciB1c2UgdGhlIHBhdGggYXMgZ2l2ZW5cbiAgICAgICAgaWYgKHBhdGhbMF0gPT09IFVSSS5fc2xhc2ggJiYgcGF0aFswXSA9PT0gcGF0aFsxXSkge1xuICAgICAgICAgICAgdmFyIGlkeCA9IHBhdGguaW5kZXhPZihVUkkuX3NsYXNoLCAyKTtcbiAgICAgICAgICAgIGlmIChpZHggPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgcmV0Ll9hdXRob3JpdHkgPSBwYXRoLnN1YnN0cmluZygyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldC5fYXV0aG9yaXR5ID0gcGF0aC5zdWJzdHJpbmcoMiwgaWR4KTtcbiAgICAgICAgICAgICAgICByZXQuX3BhdGggPSBwYXRoLnN1YnN0cmluZyhpZHgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0Ll9wYXRoID0gcGF0aDtcbiAgICAgICAgfVxuICAgICAgICAvLyBFbnN1cmUgdGhhdCBwYXRoIHN0YXJ0cyB3aXRoIGEgc2xhc2hcbiAgICAgICAgLy8gb3IgdGhhdCBpdCBpcyBhdCBsZWFzdCBhIHNsYXNoXG4gICAgICAgIGlmIChyZXQuX3BhdGhbMF0gIT09IFVSSS5fc2xhc2gpIHtcbiAgICAgICAgICAgIHJldC5fcGF0aCA9IFVSSS5fc2xhc2ggKyByZXQuX3BhdGg7XG4gICAgICAgIH1cbiAgICAgICAgVVJJLl92YWxpZGF0ZShyZXQpO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH07XG4gICAgVVJJLl9wYXJzZUNvbXBvbmVudHMgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdmFyIHJldCA9IHtcbiAgICAgICAgICAgIHNjaGVtZTogVVJJLl9lbXB0eSxcbiAgICAgICAgICAgIGF1dGhvcml0eTogVVJJLl9lbXB0eSxcbiAgICAgICAgICAgIHBhdGg6IFVSSS5fZW1wdHksXG4gICAgICAgICAgICBxdWVyeTogVVJJLl9lbXB0eSxcbiAgICAgICAgICAgIGZyYWdtZW50OiBVUkkuX2VtcHR5LFxuICAgICAgICB9O1xuICAgICAgICB2YXIgbWF0Y2ggPSBVUkkuX3JlZ2V4cC5leGVjKHZhbHVlKTtcbiAgICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgICAgICByZXQuc2NoZW1lID0gbWF0Y2hbMl0gfHwgcmV0LnNjaGVtZTtcbiAgICAgICAgICAgIHJldC5hdXRob3JpdHkgPSBtYXRjaFs0XSB8fCByZXQuYXV0aG9yaXR5O1xuICAgICAgICAgICAgcmV0LnBhdGggPSBtYXRjaFs1XSB8fCByZXQucGF0aDtcbiAgICAgICAgICAgIHJldC5xdWVyeSA9IG1hdGNoWzddIHx8IHJldC5xdWVyeTtcbiAgICAgICAgICAgIHJldC5mcmFnbWVudCA9IG1hdGNoWzldIHx8IHJldC5mcmFnbWVudDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH07XG4gICAgVVJJLmZyb20gPSBmdW5jdGlvbiAoY29tcG9uZW50cykge1xuICAgICAgICByZXR1cm4gbmV3IFVSSSgpLndpdGgoY29tcG9uZW50cyk7XG4gICAgfTtcbiAgICBVUkkuX3ZhbGlkYXRlID0gZnVuY3Rpb24gKHJldCkge1xuICAgICAgICAvLyBzY2hlbWUsIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzOTg2I3NlY3Rpb24tMy4xXG4gICAgICAgIC8vIEFMUEhBICooIEFMUEhBIC8gRElHSVQgLyBcIitcIiAvIFwiLVwiIC8gXCIuXCIgKVxuICAgICAgICBpZiAocmV0LnNjaGVtZSAmJiAhVVJJLl9zY2hlbWVQYXR0ZXJuLnRlc3QocmV0LnNjaGVtZSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignW1VyaUVycm9yXTogU2NoZW1lIGNvbnRhaW5zIGlsbGVnYWwgY2hhcmFjdGVycy4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBwYXRoLCBodHRwOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzOTg2I3NlY3Rpb24tMy4zXG4gICAgICAgIC8vIElmIGEgVVJJIGNvbnRhaW5zIGFuIGF1dGhvcml0eSBjb21wb25lbnQsIHRoZW4gdGhlIHBhdGggY29tcG9uZW50XG4gICAgICAgIC8vIG11c3QgZWl0aGVyIGJlIGVtcHR5IG9yIGJlZ2luIHdpdGggYSBzbGFzaCAoXCIvXCIpIGNoYXJhY3Rlci4gIElmIGEgVVJJXG4gICAgICAgIC8vIGRvZXMgbm90IGNvbnRhaW4gYW4gYXV0aG9yaXR5IGNvbXBvbmVudCwgdGhlbiB0aGUgcGF0aCBjYW5ub3QgYmVnaW5cbiAgICAgICAgLy8gd2l0aCB0d28gc2xhc2ggY2hhcmFjdGVycyAoXCIvL1wiKS5cbiAgICAgICAgaWYgKHJldC5wYXRoKSB7XG4gICAgICAgICAgICBpZiAocmV0LmF1dGhvcml0eSkge1xuICAgICAgICAgICAgICAgIGlmICghVVJJLl9zaW5nbGVTbGFzaFN0YXJ0LnRlc3QocmV0LnBhdGgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignW1VyaUVycm9yXTogSWYgYSBVUkkgY29udGFpbnMgYW4gYXV0aG9yaXR5IGNvbXBvbmVudCwgdGhlbiB0aGUgcGF0aCBjb21wb25lbnQgbXVzdCBlaXRoZXIgYmUgZW1wdHkgb3IgYmVnaW4gd2l0aCBhIHNsYXNoIChcIi9cIikgY2hhcmFjdGVyJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKFVSSS5fZG91YmxlU2xhc2hTdGFydC50ZXN0KHJldC5wYXRoKSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1tVcmlFcnJvcl06IElmIGEgVVJJIGRvZXMgbm90IGNvbnRhaW4gYW4gYXV0aG9yaXR5IGNvbXBvbmVudCwgdGhlbiB0aGUgcGF0aCBjYW5ub3QgYmVnaW4gd2l0aCB0d28gc2xhc2ggY2hhcmFjdGVycyAoXCIvL1wiKScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLy8gLS0tLSBwcmludGluZy9leHRlcm5hbGl6ZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSBza2lwRW5jb2RpbmcgRG8gbm90IGVuY29kZSB0aGUgcmVzdWx0LCBkZWZhdWx0IGlzIGBmYWxzZWBcbiAgICAgKi9cbiAgICBVUkkucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKHNraXBFbmNvZGluZykge1xuICAgICAgICBpZiAoc2tpcEVuY29kaW5nID09PSB2b2lkIDApIHsgc2tpcEVuY29kaW5nID0gZmFsc2U7IH1cbiAgICAgICAgaWYgKCFza2lwRW5jb2RpbmcpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fZm9ybWF0dGVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZm9ybWF0dGVkID0gVVJJLl9hc0Zvcm1hdHRlZCh0aGlzLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZm9ybWF0dGVkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gd2UgZG9uJ3QgY2FjaGUgdGhhdFxuICAgICAgICAgICAgcmV0dXJuIFVSSS5fYXNGb3JtYXR0ZWQodGhpcywgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFVSSS5fYXNGb3JtYXR0ZWQgPSBmdW5jdGlvbiAodXJpLCBza2lwRW5jb2RpbmcpIHtcbiAgICAgICAgdmFyIGVuY29kZXIgPSAhc2tpcEVuY29kaW5nXG4gICAgICAgICAgICA/IGVuY29kZVVSSUNvbXBvbmVudDJcbiAgICAgICAgICAgIDogZW5jb2RlTm9vcDtcbiAgICAgICAgdmFyIHBhcnRzID0gW107XG4gICAgICAgIHZhciBzY2hlbWUgPSB1cmkuc2NoZW1lLCBhdXRob3JpdHkgPSB1cmkuYXV0aG9yaXR5LCBwYXRoID0gdXJpLnBhdGgsIHF1ZXJ5ID0gdXJpLnF1ZXJ5LCBmcmFnbWVudCA9IHVyaS5mcmFnbWVudDtcbiAgICAgICAgaWYgKHNjaGVtZSkge1xuICAgICAgICAgICAgcGFydHMucHVzaChzY2hlbWUsICc6Jyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGF1dGhvcml0eSB8fCBzY2hlbWUgPT09ICdmaWxlJykge1xuICAgICAgICAgICAgcGFydHMucHVzaCgnLy8nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYXV0aG9yaXR5KSB7XG4gICAgICAgICAgICBhdXRob3JpdHkgPSBhdXRob3JpdHkudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgIHZhciBpZHggPSBhdXRob3JpdHkuaW5kZXhPZignOicpO1xuICAgICAgICAgICAgaWYgKGlkeCA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICBwYXJ0cy5wdXNoKGVuY29kZXIoYXV0aG9yaXR5KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBwYXJ0cy5wdXNoKGVuY29kZXIoYXV0aG9yaXR5LnN1YnN0cigwLCBpZHgpKSwgYXV0aG9yaXR5LnN1YnN0cihpZHgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAocGF0aCkge1xuICAgICAgICAgICAgLy8gbG93ZXItY2FzZSB3aW5kb3dzIGRyaXZlIGxldHRlcnMgaW4gL0M6L2ZmZiBvciBDOi9mZmZcbiAgICAgICAgICAgIHZhciBtID0gVVJJLl91cHBlckNhc2VEcml2ZS5leGVjKHBhdGgpO1xuICAgICAgICAgICAgaWYgKG0pIHtcbiAgICAgICAgICAgICAgICBpZiAobVsxXSkge1xuICAgICAgICAgICAgICAgICAgICBwYXRoID0gJy8nICsgbVsyXS50b0xvd2VyQ2FzZSgpICsgcGF0aC5zdWJzdHIoMyk7IC8vIFwiL2M6XCIubGVuZ3RoID09PSAzXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBwYXRoID0gbVsyXS50b0xvd2VyQ2FzZSgpICsgcGF0aC5zdWJzdHIoMik7IC8vIC8vIFwiYzpcIi5sZW5ndGggPT09IDJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBlbmNvZGUgZXZlcnkgc2VnZW1lbnQgYnV0IG5vdCBzbGFzaGVzXG4gICAgICAgICAgICAvLyBtYWtlIHN1cmUgdGhhdCAjIGFuZCA/IGFyZSBhbHdheXMgZW5jb2RlZFxuICAgICAgICAgICAgLy8gd2hlbiBvY2N1cnJpbmcgaW4gcGF0aHMgLSBvdGhlcndpc2UgdGhlIHJlc3VsdFxuICAgICAgICAgICAgLy8gY2Fubm90IGJlIHBhcnNlZCBiYWNrIGFnYWluXG4gICAgICAgICAgICB2YXIgbGFzdElkeCA9IDA7XG4gICAgICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICAgICAgIHZhciBpZHggPSBwYXRoLmluZGV4T2YoVVJJLl9zbGFzaCwgbGFzdElkeCk7XG4gICAgICAgICAgICAgICAgaWYgKGlkeCA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgcGFydHMucHVzaChlbmNvZGVyKHBhdGguc3Vic3RyaW5nKGxhc3RJZHgpKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwYXJ0cy5wdXNoKGVuY29kZXIocGF0aC5zdWJzdHJpbmcobGFzdElkeCwgaWR4KSksIFVSSS5fc2xhc2gpO1xuICAgICAgICAgICAgICAgIGxhc3RJZHggPSBpZHggKyAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgO1xuICAgICAgICB9XG4gICAgICAgIGlmIChxdWVyeSkge1xuICAgICAgICAgICAgcGFydHMucHVzaCgnPycsIGVuY29kZXIocXVlcnkpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZnJhZ21lbnQpIHtcbiAgICAgICAgICAgIHBhcnRzLnB1c2goJyMnLCBlbmNvZGVyKGZyYWdtZW50KSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBhcnRzLmpvaW4oVVJJLl9lbXB0eSk7XG4gICAgfTtcbiAgICBVUkkucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHJlcyA9IHtcbiAgICAgICAgICAgIGZzUGF0aDogdGhpcy5mc1BhdGgsXG4gICAgICAgICAgICBleHRlcm5hbDogdGhpcy50b1N0cmluZygpLFxuICAgICAgICAgICAgJG1pZDogMVxuICAgICAgICB9O1xuICAgICAgICBpZiAodGhpcy5wYXRoKSB7XG4gICAgICAgICAgICByZXMucGF0aCA9IHRoaXMucGF0aDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5zY2hlbWUpIHtcbiAgICAgICAgICAgIHJlcy5zY2hlbWUgPSB0aGlzLnNjaGVtZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5hdXRob3JpdHkpIHtcbiAgICAgICAgICAgIHJlcy5hdXRob3JpdHkgPSB0aGlzLmF1dGhvcml0eTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5xdWVyeSkge1xuICAgICAgICAgICAgcmVzLnF1ZXJ5ID0gdGhpcy5xdWVyeTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5mcmFnbWVudCkge1xuICAgICAgICAgICAgcmVzLmZyYWdtZW50ID0gdGhpcy5mcmFnbWVudDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH07XG4gICAgVVJJLnJldml2ZSA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBuZXcgVVJJKCk7XG4gICAgICAgIHJlc3VsdC5fc2NoZW1lID0gZGF0YS5zY2hlbWUgfHwgVVJJLl9lbXB0eTtcbiAgICAgICAgcmVzdWx0Ll9hdXRob3JpdHkgPSBkYXRhLmF1dGhvcml0eSB8fCBVUkkuX2VtcHR5O1xuICAgICAgICByZXN1bHQuX3BhdGggPSBkYXRhLnBhdGggfHwgVVJJLl9lbXB0eTtcbiAgICAgICAgcmVzdWx0Ll9xdWVyeSA9IGRhdGEucXVlcnkgfHwgVVJJLl9lbXB0eTtcbiAgICAgICAgcmVzdWx0Ll9mcmFnbWVudCA9IGRhdGEuZnJhZ21lbnQgfHwgVVJJLl9lbXB0eTtcbiAgICAgICAgcmVzdWx0Ll9mc1BhdGggPSBkYXRhLmZzUGF0aDtcbiAgICAgICAgcmVzdWx0Ll9mb3JtYXR0ZWQgPSBkYXRhLmV4dGVybmFsO1xuICAgICAgICBVUkkuX3ZhbGlkYXRlKHJlc3VsdCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICByZXR1cm4gVVJJO1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IFVSSTtcblVSSS5fZW1wdHkgPSAnJztcblVSSS5fc2xhc2ggPSAnLyc7XG5VUkkuX3JlZ2V4cCA9IC9eKChbXjovPyNdKz8pOik/KFxcL1xcLyhbXi8/I10qKSk/KFtePyNdKikoXFw/KFteI10qKSk/KCMoLiopKT8vO1xuVVJJLl9kcml2ZUxldHRlclBhdGggPSAvXlxcL1thLXpBLXpdOi87XG5VUkkuX3VwcGVyQ2FzZURyaXZlID0gL14oXFwvKT8oW0EtWl06KS87XG5VUkkuX3NjaGVtZVBhdHRlcm4gPSAvXlxcd1tcXHdcXGQrLi1dKiQvO1xuVVJJLl9zaW5nbGVTbGFzaFN0YXJ0ID0gL15cXC8vO1xuVVJJLl9kb3VibGVTbGFzaFN0YXJ0ID0gL15cXC9cXC8vO1xudmFyIGlzV2luZG93cztcbmlmICh0eXBlb2YgcHJvY2VzcyA9PT0gJ29iamVjdCcpIHtcbiAgICBpc1dpbmRvd3MgPSBwcm9jZXNzLnBsYXRmb3JtID09PSAnd2luMzInO1xufVxuZWxzZSBpZiAodHlwZW9mIG5hdmlnYXRvciA9PT0gJ29iamVjdCcpIHtcbiAgICB2YXIgdXNlckFnZW50ID0gbmF2aWdhdG9yLnVzZXJBZ2VudDtcbiAgICBpc1dpbmRvd3MgPSB1c2VyQWdlbnQuaW5kZXhPZignV2luZG93cycpID49IDA7XG59XG4iLCIvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuLy8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG4vLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcbi8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcbi8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cbnZhciBjYWNoZWRTZXRUaW1lb3V0O1xudmFyIGNhY2hlZENsZWFyVGltZW91dDtcblxuZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQgKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG4oZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2xlYXJUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgIH1cbn0gKCkpXG5mdW5jdGlvbiBydW5UaW1lb3V0KGZ1bikge1xuICAgIGlmIChjYWNoZWRTZXRUaW1lb3V0ID09PSBzZXRUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICAvLyBpZiBzZXRUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkU2V0VGltZW91dCA9PT0gZGVmYXVsdFNldFRpbW91dCB8fCAhY2FjaGVkU2V0VGltZW91dCkgJiYgc2V0VGltZW91dCkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sIDApO1xuICAgIH0gY2F0Y2goZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZnVuLCAwKTtcbiAgICAgICAgfSBjYXRjaChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yXG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsIGZ1biwgMCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxufVxuZnVuY3Rpb24gcnVuQ2xlYXJUaW1lb3V0KG1hcmtlcikge1xuICAgIGlmIChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGNsZWFyVGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICAvLyBpZiBjbGVhclRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGRlZmF1bHRDbGVhclRpbWVvdXQgfHwgIWNhY2hlZENsZWFyVGltZW91dCkgJiYgY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCAgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCBtYXJrZXIpO1xuICAgICAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yLlxuICAgICAgICAgICAgLy8gU29tZSB2ZXJzaW9ucyBvZiBJLkUuIGhhdmUgZGlmZmVyZW50IHJ1bGVzIGZvciBjbGVhclRpbWVvdXQgdnMgc2V0VGltZW91dFxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsIG1hcmtlcik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG59XG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBydW5DbGVhclRpbWVvdXQodGltZW91dCk7XG59XG5cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcbiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuICAgICAgICBydW5UaW1lb3V0KGRyYWluUXVldWUpO1xuICAgIH1cbn07XG5cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICAgIHRoaXMuZnVuID0gZnVuO1xuICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcbn07XG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xucHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxucHJvY2Vzcy5vbiA9IG5vb3A7XG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3Mub25jZSA9IG5vb3A7XG5wcm9jZXNzLm9mZiA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRPbmNlTGlzdGVuZXIgPSBub29wO1xuXG5wcm9jZXNzLmxpc3RlbmVycyA9IGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBbXSB9XG5cbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5wcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuIiwidmFyIGc7XG5cbi8vIFRoaXMgd29ya3MgaW4gbm9uLXN0cmljdCBtb2RlXG5nID0gKGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gdGhpcztcbn0pKCk7XG5cbnRyeSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgZXZhbCBpcyBhbGxvd2VkIChzZWUgQ1NQKVxuXHRnID0gZyB8fCBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCkgfHwgKDEsIGV2YWwpKFwidGhpc1wiKTtcbn0gY2F0Y2ggKGUpIHtcblx0Ly8gVGhpcyB3b3JrcyBpZiB0aGUgd2luZG93IHJlZmVyZW5jZSBpcyBhdmFpbGFibGVcblx0aWYgKHR5cGVvZiB3aW5kb3cgPT09IFwib2JqZWN0XCIpIGcgPSB3aW5kb3c7XG59XG5cbi8vIGcgY2FuIHN0aWxsIGJlIHVuZGVmaW5lZCwgYnV0IG5vdGhpbmcgdG8gZG8gYWJvdXQgaXQuLi5cbi8vIFdlIHJldHVybiB1bmRlZmluZWQsIGluc3RlYWQgb2Ygbm90aGluZyBoZXJlLCBzbyBpdCdzXG4vLyBlYXNpZXIgdG8gaGFuZGxlIHRoaXMgY2FzZS4gaWYoIWdsb2JhbCkgeyAuLi59XG5cbm1vZHVsZS5leHBvcnRzID0gZztcbiIsIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuJ3VzZSBzdHJpY3QnO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5pbXBvcnQgKiBhcyBwbGF0Zm9ybSBmcm9tICcuL3BsYXRmb3JtLmpzJztcbmZ1bmN0aW9uIF9lbmNvZGUoY2gpIHtcbiAgICByZXR1cm4gJyUnICsgY2guY2hhckNvZGVBdCgwKS50b1N0cmluZygxNikudG9VcHBlckNhc2UoKTtcbn1cbi8vIHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9lbmNvZGVVUklDb21wb25lbnRcbmZ1bmN0aW9uIGVuY29kZVVSSUNvbXBvbmVudDIoc3RyKSB7XG4gICAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChzdHIpLnJlcGxhY2UoL1shJygpKl0vZywgX2VuY29kZSk7XG59XG5mdW5jdGlvbiBlbmNvZGVOb29wKHN0cikge1xuICAgIHJldHVybiBzdHIucmVwbGFjZSgvWyM/XS8sIF9lbmNvZGUpO1xufVxudmFyIF9zY2hlbWVQYXR0ZXJuID0gL15cXHdbXFx3XFxkKy4tXSokLztcbnZhciBfc2luZ2xlU2xhc2hTdGFydCA9IC9eXFwvLztcbnZhciBfZG91YmxlU2xhc2hTdGFydCA9IC9eXFwvXFwvLztcbmZ1bmN0aW9uIF92YWxpZGF0ZVVyaShyZXQpIHtcbiAgICAvLyBzY2hlbWUsIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzOTg2I3NlY3Rpb24tMy4xXG4gICAgLy8gQUxQSEEgKiggQUxQSEEgLyBESUdJVCAvIFwiK1wiIC8gXCItXCIgLyBcIi5cIiApXG4gICAgaWYgKHJldC5zY2hlbWUgJiYgIV9zY2hlbWVQYXR0ZXJuLnRlc3QocmV0LnNjaGVtZSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdbVXJpRXJyb3JdOiBTY2hlbWUgY29udGFpbnMgaWxsZWdhbCBjaGFyYWN0ZXJzLicpO1xuICAgIH1cbiAgICAvLyBwYXRoLCBodHRwOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzOTg2I3NlY3Rpb24tMy4zXG4gICAgLy8gSWYgYSBVUkkgY29udGFpbnMgYW4gYXV0aG9yaXR5IGNvbXBvbmVudCwgdGhlbiB0aGUgcGF0aCBjb21wb25lbnRcbiAgICAvLyBtdXN0IGVpdGhlciBiZSBlbXB0eSBvciBiZWdpbiB3aXRoIGEgc2xhc2ggKFwiL1wiKSBjaGFyYWN0ZXIuICBJZiBhIFVSSVxuICAgIC8vIGRvZXMgbm90IGNvbnRhaW4gYW4gYXV0aG9yaXR5IGNvbXBvbmVudCwgdGhlbiB0aGUgcGF0aCBjYW5ub3QgYmVnaW5cbiAgICAvLyB3aXRoIHR3byBzbGFzaCBjaGFyYWN0ZXJzIChcIi8vXCIpLlxuICAgIGlmIChyZXQucGF0aCkge1xuICAgICAgICBpZiAocmV0LmF1dGhvcml0eSkge1xuICAgICAgICAgICAgaWYgKCFfc2luZ2xlU2xhc2hTdGFydC50ZXN0KHJldC5wYXRoKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignW1VyaUVycm9yXTogSWYgYSBVUkkgY29udGFpbnMgYW4gYXV0aG9yaXR5IGNvbXBvbmVudCwgdGhlbiB0aGUgcGF0aCBjb21wb25lbnQgbXVzdCBlaXRoZXIgYmUgZW1wdHkgb3IgYmVnaW4gd2l0aCBhIHNsYXNoIChcIi9cIikgY2hhcmFjdGVyJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoX2RvdWJsZVNsYXNoU3RhcnQudGVzdChyZXQucGF0aCkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1tVcmlFcnJvcl06IElmIGEgVVJJIGRvZXMgbm90IGNvbnRhaW4gYW4gYXV0aG9yaXR5IGNvbXBvbmVudCwgdGhlbiB0aGUgcGF0aCBjYW5ub3QgYmVnaW4gd2l0aCB0d28gc2xhc2ggY2hhcmFjdGVycyAoXCIvL1wiKScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxudmFyIF9lbXB0eSA9ICcnO1xudmFyIF9zbGFzaCA9ICcvJztcbnZhciBfcmVnZXhwID0gL14oKFteOi8/I10rPyk6KT8oXFwvXFwvKFteLz8jXSopKT8oW14/I10qKShcXD8oW14jXSopKT8oIyguKikpPy87XG52YXIgX2RyaXZlTGV0dGVyUGF0aCA9IC9eXFwvW2EtekEtWl06LztcbnZhciBfdXBwZXJDYXNlRHJpdmUgPSAvXihcXC8pPyhbQS1aXTopLztcbnZhciBfZHJpdmVMZXR0ZXIgPSAvXlthLXpBLVpdOi87XG4vKipcbiAqIFVuaWZvcm0gUmVzb3VyY2UgSWRlbnRpZmllciAoVVJJKSBodHRwOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzOTg2LlxuICogVGhpcyBjbGFzcyBpcyBhIHNpbXBsZSBwYXJzZXIgd2hpY2ggY3JlYXRlcyB0aGUgYmFzaWMgY29tcG9uZW50IHBhdGhzXG4gKiAoaHR0cDovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzk4NiNzZWN0aW9uLTMpIHdpdGggbWluaW1hbCB2YWxpZGF0aW9uXG4gKiBhbmQgZW5jb2RpbmcuXG4gKlxuICogICAgICAgZm9vOi8vZXhhbXBsZS5jb206ODA0Mi9vdmVyL3RoZXJlP25hbWU9ZmVycmV0I25vc2VcbiAqICAgICAgIFxcXy8gICBcXF9fX19fX19fX19fX19fL1xcX19fX19fX19fLyBcXF9fX19fX19fXy8gXFxfXy9cbiAqICAgICAgICB8ICAgICAgICAgICB8ICAgICAgICAgICAgfCAgICAgICAgICAgIHwgICAgICAgIHxcbiAqICAgICBzY2hlbWUgICAgIGF1dGhvcml0eSAgICAgICBwYXRoICAgICAgICBxdWVyeSAgIGZyYWdtZW50XG4gKiAgICAgICAgfCAgIF9fX19fX19fX19fX19fX19fX19fX3xfX1xuICogICAgICAgLyBcXCAvICAgICAgICAgICAgICAgICAgICAgICAgXFxcbiAqICAgICAgIHVybjpleGFtcGxlOmFuaW1hbDpmZXJyZXQ6bm9zZVxuICpcbiAqXG4gKi9cbnZhciBVUkkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgZnVuY3Rpb24gVVJJKHNjaGVtZU9yRGF0YSwgYXV0aG9yaXR5LCBwYXRoLCBxdWVyeSwgZnJhZ21lbnQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBzY2hlbWVPckRhdGEgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICB0aGlzLnNjaGVtZSA9IHNjaGVtZU9yRGF0YS5zY2hlbWUgfHwgX2VtcHR5O1xuICAgICAgICAgICAgdGhpcy5hdXRob3JpdHkgPSBzY2hlbWVPckRhdGEuYXV0aG9yaXR5IHx8IF9lbXB0eTtcbiAgICAgICAgICAgIHRoaXMucGF0aCA9IHNjaGVtZU9yRGF0YS5wYXRoIHx8IF9lbXB0eTtcbiAgICAgICAgICAgIHRoaXMucXVlcnkgPSBzY2hlbWVPckRhdGEucXVlcnkgfHwgX2VtcHR5O1xuICAgICAgICAgICAgdGhpcy5mcmFnbWVudCA9IHNjaGVtZU9yRGF0YS5mcmFnbWVudCB8fCBfZW1wdHk7XG4gICAgICAgICAgICAvLyBubyB2YWxpZGF0aW9uIGJlY2F1c2UgaXQncyB0aGlzIFVSSVxuICAgICAgICAgICAgLy8gdGhhdCBjcmVhdGVzIHVyaSBjb21wb25lbnRzLlxuICAgICAgICAgICAgLy8gX3ZhbGlkYXRlVXJpKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zY2hlbWUgPSBzY2hlbWVPckRhdGEgfHwgX2VtcHR5O1xuICAgICAgICAgICAgdGhpcy5hdXRob3JpdHkgPSBhdXRob3JpdHkgfHwgX2VtcHR5O1xuICAgICAgICAgICAgdGhpcy5wYXRoID0gcGF0aCB8fCBfZW1wdHk7XG4gICAgICAgICAgICB0aGlzLnF1ZXJ5ID0gcXVlcnkgfHwgX2VtcHR5O1xuICAgICAgICAgICAgdGhpcy5mcmFnbWVudCA9IGZyYWdtZW50IHx8IF9lbXB0eTtcbiAgICAgICAgICAgIF92YWxpZGF0ZVVyaSh0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBVUkkuaXNVcmkgPSBmdW5jdGlvbiAodGhpbmcpIHtcbiAgICAgICAgaWYgKHRoaW5nIGluc3RhbmNlb2YgVVJJKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaW5nKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHR5cGVvZiB0aGluZy5hdXRob3JpdHkgPT09ICdzdHJpbmcnXG4gICAgICAgICAgICAmJiB0eXBlb2YgdGhpbmcuZnJhZ21lbnQgPT09ICdzdHJpbmcnXG4gICAgICAgICAgICAmJiB0eXBlb2YgdGhpbmcucGF0aCA9PT0gJ3N0cmluZydcbiAgICAgICAgICAgICYmIHR5cGVvZiB0aGluZy5xdWVyeSA9PT0gJ3N0cmluZydcbiAgICAgICAgICAgICYmIHR5cGVvZiB0aGluZy5zY2hlbWUgPT09ICdzdHJpbmcnO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFVSSS5wcm90b3R5cGUsIFwiZnNQYXRoXCIsIHtcbiAgICAgICAgLy8gLS0tLSBmaWxlc3lzdGVtIHBhdGggLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJldHVybnMgYSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBjb3JyZXNwb25kaW5nIGZpbGUgc3lzdGVtIHBhdGggb2YgdGhpcyBVUkkuXG4gICAgICAgICAqIFdpbGwgaGFuZGxlIFVOQyBwYXRocyBhbmQgbm9ybWFsaXplIHdpbmRvd3MgZHJpdmUgbGV0dGVycyB0byBsb3dlci1jYXNlLiBBbHNvXG4gICAgICAgICAqIHVzZXMgdGhlIHBsYXRmb3JtIHNwZWNpZmljIHBhdGggc2VwYXJhdG9yLiBXaWxsICpub3QqIHZhbGlkYXRlIHRoZSBwYXRoIGZvclxuICAgICAgICAgKiBpbnZhbGlkIGNoYXJhY3RlcnMgYW5kIHNlbWFudGljcy4gV2lsbCAqbm90KiBsb29rIGF0IHRoZSBzY2hlbWUgb2YgdGhpcyBVUkkuXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBfbWFrZUZzUGF0aCh0aGlzKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLy8gLS0tLSBtb2RpZnkgdG8gbmV3IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICBVUkkucHJvdG90eXBlLndpdGggPSBmdW5jdGlvbiAoY2hhbmdlKSB7XG4gICAgICAgIGlmICghY2hhbmdlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICB2YXIgc2NoZW1lID0gY2hhbmdlLnNjaGVtZSwgYXV0aG9yaXR5ID0gY2hhbmdlLmF1dGhvcml0eSwgcGF0aCA9IGNoYW5nZS5wYXRoLCBxdWVyeSA9IGNoYW5nZS5xdWVyeSwgZnJhZ21lbnQgPSBjaGFuZ2UuZnJhZ21lbnQ7XG4gICAgICAgIGlmIChzY2hlbWUgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgc2NoZW1lID0gdGhpcy5zY2hlbWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc2NoZW1lID09PSBudWxsKSB7XG4gICAgICAgICAgICBzY2hlbWUgPSBfZW1wdHk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGF1dGhvcml0eSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBhdXRob3JpdHkgPSB0aGlzLmF1dGhvcml0eTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChhdXRob3JpdHkgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGF1dGhvcml0eSA9IF9lbXB0eTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGF0aCA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBwYXRoID0gdGhpcy5wYXRoO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHBhdGggPT09IG51bGwpIHtcbiAgICAgICAgICAgIHBhdGggPSBfZW1wdHk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHF1ZXJ5ID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIHF1ZXJ5ID0gdGhpcy5xdWVyeTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChxdWVyeSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcXVlcnkgPSBfZW1wdHk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZyYWdtZW50ID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGZyYWdtZW50ID0gdGhpcy5mcmFnbWVudDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChmcmFnbWVudCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgZnJhZ21lbnQgPSBfZW1wdHk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNjaGVtZSA9PT0gdGhpcy5zY2hlbWVcbiAgICAgICAgICAgICYmIGF1dGhvcml0eSA9PT0gdGhpcy5hdXRob3JpdHlcbiAgICAgICAgICAgICYmIHBhdGggPT09IHRoaXMucGF0aFxuICAgICAgICAgICAgJiYgcXVlcnkgPT09IHRoaXMucXVlcnlcbiAgICAgICAgICAgICYmIGZyYWdtZW50ID09PSB0aGlzLmZyYWdtZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IF9VUkkoc2NoZW1lLCBhdXRob3JpdHksIHBhdGgsIHF1ZXJ5LCBmcmFnbWVudCk7XG4gICAgfTtcbiAgICAvLyAtLS0tIHBhcnNlICYgdmFsaWRhdGUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgVVJJLnBhcnNlID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHZhciBtYXRjaCA9IF9yZWdleHAuZXhlYyh2YWx1ZSk7XG4gICAgICAgIGlmICghbWF0Y2gpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgX1VSSShfZW1wdHksIF9lbXB0eSwgX2VtcHR5LCBfZW1wdHksIF9lbXB0eSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBfVVJJKG1hdGNoWzJdIHx8IF9lbXB0eSwgZGVjb2RlVVJJQ29tcG9uZW50KG1hdGNoWzRdIHx8IF9lbXB0eSksIGRlY29kZVVSSUNvbXBvbmVudChtYXRjaFs1XSB8fCBfZW1wdHkpLCBkZWNvZGVVUklDb21wb25lbnQobWF0Y2hbN10gfHwgX2VtcHR5KSwgZGVjb2RlVVJJQ29tcG9uZW50KG1hdGNoWzldIHx8IF9lbXB0eSkpO1xuICAgIH07XG4gICAgVVJJLmZpbGUgPSBmdW5jdGlvbiAocGF0aCkge1xuICAgICAgICB2YXIgYXV0aG9yaXR5ID0gX2VtcHR5O1xuICAgICAgICAvLyBub3JtYWxpemUgdG8gZndkLXNsYXNoZXMgb24gd2luZG93cyxcbiAgICAgICAgLy8gb24gb3RoZXIgc3lzdGVtcyBid2Qtc2xhc2hlcyBhcmUgdmFsaWRcbiAgICAgICAgLy8gZmlsZW5hbWUgY2hhcmFjdGVyLCBlZyAvZlxcb28vYmFcXHIudHh0XG4gICAgICAgIGlmIChwbGF0Zm9ybS5pc1dpbmRvd3MpIHtcbiAgICAgICAgICAgIHBhdGggPSBwYXRoLnJlcGxhY2UoL1xcXFwvZywgX3NsYXNoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBjaGVjayBmb3IgYXV0aG9yaXR5IGFzIHVzZWQgaW4gVU5DIHNoYXJlc1xuICAgICAgICAvLyBvciB1c2UgdGhlIHBhdGggYXMgZ2l2ZW5cbiAgICAgICAgaWYgKHBhdGhbMF0gPT09IF9zbGFzaCAmJiBwYXRoWzFdID09PSBfc2xhc2gpIHtcbiAgICAgICAgICAgIHZhciBpZHggPSBwYXRoLmluZGV4T2YoX3NsYXNoLCAyKTtcbiAgICAgICAgICAgIGlmIChpZHggPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgYXV0aG9yaXR5ID0gcGF0aC5zdWJzdHJpbmcoMik7XG4gICAgICAgICAgICAgICAgcGF0aCA9IF9zbGFzaDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGF1dGhvcml0eSA9IHBhdGguc3Vic3RyaW5nKDIsIGlkeCk7XG4gICAgICAgICAgICAgICAgcGF0aCA9IHBhdGguc3Vic3RyaW5nKGlkeCkgfHwgX3NsYXNoO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIEVuc3VyZSB0aGF0IHBhdGggc3RhcnRzIHdpdGggYSBzbGFzaFxuICAgICAgICAvLyBvciB0aGF0IGl0IGlzIGF0IGxlYXN0IGEgc2xhc2hcbiAgICAgICAgaWYgKF9kcml2ZUxldHRlci50ZXN0KHBhdGgpKSB7XG4gICAgICAgICAgICBwYXRoID0gX3NsYXNoICsgcGF0aDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwYXRoWzBdICE9PSBfc2xhc2gpIHtcbiAgICAgICAgICAgIC8vIHRyaWNreSAtPiBtYWtlcyBpbnZhbGlkIHBhdGhzXG4gICAgICAgICAgICAvLyBidXQgb3RoZXJ3aXNlIHdlIGhhdmUgdG8gc3RvcFxuICAgICAgICAgICAgLy8gYWxsb3dpbmcgcmVsYXRpdmUgcGF0aHMuLi5cbiAgICAgICAgICAgIHBhdGggPSBfc2xhc2ggKyBwYXRoO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgX1VSSSgnZmlsZScsIGF1dGhvcml0eSwgcGF0aCwgX2VtcHR5LCBfZW1wdHkpO1xuICAgIH07XG4gICAgVVJJLmZyb20gPSBmdW5jdGlvbiAoY29tcG9uZW50cykge1xuICAgICAgICByZXR1cm4gbmV3IF9VUkkoY29tcG9uZW50cy5zY2hlbWUsIGNvbXBvbmVudHMuYXV0aG9yaXR5LCBjb21wb25lbnRzLnBhdGgsIGNvbXBvbmVudHMucXVlcnksIGNvbXBvbmVudHMuZnJhZ21lbnQpO1xuICAgIH07XG4gICAgLy8gLS0tLSBwcmludGluZy9leHRlcm5hbGl6ZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSBza2lwRW5jb2RpbmcgRG8gbm90IGVuY29kZSB0aGUgcmVzdWx0LCBkZWZhdWx0IGlzIGBmYWxzZWBcbiAgICAgKi9cbiAgICBVUkkucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKHNraXBFbmNvZGluZykge1xuICAgICAgICBpZiAoc2tpcEVuY29kaW5nID09PSB2b2lkIDApIHsgc2tpcEVuY29kaW5nID0gZmFsc2U7IH1cbiAgICAgICAgcmV0dXJuIF9hc0Zvcm1hdHRlZCh0aGlzLCBza2lwRW5jb2RpbmcpO1xuICAgIH07XG4gICAgVVJJLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciByZXMgPSB7XG4gICAgICAgICAgICAkbWlkOiAxLFxuICAgICAgICAgICAgZnNQYXRoOiB0aGlzLmZzUGF0aCxcbiAgICAgICAgICAgIGV4dGVybmFsOiB0aGlzLnRvU3RyaW5nKCksXG4gICAgICAgIH07XG4gICAgICAgIGlmICh0aGlzLnBhdGgpIHtcbiAgICAgICAgICAgIHJlcy5wYXRoID0gdGhpcy5wYXRoO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnNjaGVtZSkge1xuICAgICAgICAgICAgcmVzLnNjaGVtZSA9IHRoaXMuc2NoZW1lO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmF1dGhvcml0eSkge1xuICAgICAgICAgICAgcmVzLmF1dGhvcml0eSA9IHRoaXMuYXV0aG9yaXR5O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnF1ZXJ5KSB7XG4gICAgICAgICAgICByZXMucXVlcnkgPSB0aGlzLnF1ZXJ5O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmZyYWdtZW50KSB7XG4gICAgICAgICAgICByZXMuZnJhZ21lbnQgPSB0aGlzLmZyYWdtZW50O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfTtcbiAgICBVUkkucmV2aXZlID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgaWYgKCFkYXRhKSB7XG4gICAgICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkYXRhIGluc3RhbmNlb2YgVVJJKSB7XG4gICAgICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBuZXcgX1VSSShkYXRhKTtcbiAgICAgICAgICAgIHJlc3VsdC5fZnNQYXRoID0gZGF0YS5mc1BhdGg7XG4gICAgICAgICAgICByZXN1bHQuX2Zvcm1hdHRlZCA9IGRhdGEuZXh0ZXJuYWw7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gVVJJO1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IFVSSTtcbi8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpjbGFzcy1uYW1lXG52YXIgX1VSSSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoX1VSSSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBfVVJJKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuX2Zvcm1hdHRlZCA9IG51bGw7XG4gICAgICAgIF90aGlzLl9mc1BhdGggPSBudWxsO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShfVVJJLnByb3RvdHlwZSwgXCJmc1BhdGhcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fZnNQYXRoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZnNQYXRoID0gX21ha2VGc1BhdGgodGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZnNQYXRoO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBfVVJJLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIChza2lwRW5jb2RpbmcpIHtcbiAgICAgICAgaWYgKHNraXBFbmNvZGluZyA9PT0gdm9pZCAwKSB7IHNraXBFbmNvZGluZyA9IGZhbHNlOyB9XG4gICAgICAgIGlmICghc2tpcEVuY29kaW5nKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2Zvcm1hdHRlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2Zvcm1hdHRlZCA9IF9hc0Zvcm1hdHRlZCh0aGlzLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZm9ybWF0dGVkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gd2UgZG9uJ3QgY2FjaGUgdGhhdFxuICAgICAgICAgICAgcmV0dXJuIF9hc0Zvcm1hdHRlZCh0aGlzLCB0cnVlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIF9VUkk7XG59KFVSSSkpO1xuLyoqXG4gKiBDb21wdXRlIGBmc1BhdGhgIGZvciB0aGUgZ2l2ZW4gdXJpXG4gKiBAcGFyYW0gdXJpXG4gKi9cbmZ1bmN0aW9uIF9tYWtlRnNQYXRoKHVyaSkge1xuICAgIHZhciB2YWx1ZTtcbiAgICBpZiAodXJpLmF1dGhvcml0eSAmJiB1cmkucGF0aCAmJiB1cmkuc2NoZW1lID09PSAnZmlsZScpIHtcbiAgICAgICAgLy8gdW5jIHBhdGg6IGZpbGU6Ly9zaGFyZXMvYyQvZmFyL2Jvb1xuICAgICAgICB2YWx1ZSA9IFwiLy9cIiArIHVyaS5hdXRob3JpdHkgKyB1cmkucGF0aDtcbiAgICB9XG4gICAgZWxzZSBpZiAoX2RyaXZlTGV0dGVyUGF0aC50ZXN0KHVyaS5wYXRoKSkge1xuICAgICAgICAvLyB3aW5kb3dzIGRyaXZlIGxldHRlcjogZmlsZTovLy9jOi9mYXIvYm9vXG4gICAgICAgIHZhbHVlID0gdXJpLnBhdGhbMV0udG9Mb3dlckNhc2UoKSArIHVyaS5wYXRoLnN1YnN0cigyKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIG90aGVyIHBhdGhcbiAgICAgICAgdmFsdWUgPSB1cmkucGF0aDtcbiAgICB9XG4gICAgaWYgKHBsYXRmb3JtLmlzV2luZG93cykge1xuICAgICAgICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UoL1xcLy9nLCAnXFxcXCcpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG59XG4vKipcbiAqIENyZWF0ZSB0aGUgZXh0ZXJuYWwgdmVyc2lvbiBvZiBhIHVyaVxuICovXG5mdW5jdGlvbiBfYXNGb3JtYXR0ZWQodXJpLCBza2lwRW5jb2RpbmcpIHtcbiAgICB2YXIgZW5jb2RlciA9ICFza2lwRW5jb2RpbmdcbiAgICAgICAgPyBlbmNvZGVVUklDb21wb25lbnQyXG4gICAgICAgIDogZW5jb2RlTm9vcDtcbiAgICB2YXIgcGFydHMgPSBbXTtcbiAgICB2YXIgc2NoZW1lID0gdXJpLnNjaGVtZSwgYXV0aG9yaXR5ID0gdXJpLmF1dGhvcml0eSwgcGF0aCA9IHVyaS5wYXRoLCBxdWVyeSA9IHVyaS5xdWVyeSwgZnJhZ21lbnQgPSB1cmkuZnJhZ21lbnQ7XG4gICAgaWYgKHNjaGVtZSkge1xuICAgICAgICBwYXJ0cy5wdXNoKHNjaGVtZSwgJzonKTtcbiAgICB9XG4gICAgaWYgKGF1dGhvcml0eSB8fCBzY2hlbWUgPT09ICdmaWxlJykge1xuICAgICAgICBwYXJ0cy5wdXNoKCcvLycpO1xuICAgIH1cbiAgICBpZiAoYXV0aG9yaXR5KSB7XG4gICAgICAgIHZhciBpZHggPSBhdXRob3JpdHkuaW5kZXhPZignQCcpO1xuICAgICAgICBpZiAoaWR4ICE9PSAtMSkge1xuICAgICAgICAgICAgdmFyIHVzZXJpbmZvID0gYXV0aG9yaXR5LnN1YnN0cigwLCBpZHgpO1xuICAgICAgICAgICAgYXV0aG9yaXR5ID0gYXV0aG9yaXR5LnN1YnN0cihpZHggKyAxKTtcbiAgICAgICAgICAgIGlkeCA9IHVzZXJpbmZvLmluZGV4T2YoJzonKTtcbiAgICAgICAgICAgIGlmIChpZHggPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgcGFydHMucHVzaChlbmNvZGVyKHVzZXJpbmZvKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBwYXJ0cy5wdXNoKGVuY29kZXIodXNlcmluZm8uc3Vic3RyKDAsIGlkeCkpLCAnOicsIGVuY29kZXIodXNlcmluZm8uc3Vic3RyKGlkeCArIDEpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYXJ0cy5wdXNoKCdAJyk7XG4gICAgICAgIH1cbiAgICAgICAgYXV0aG9yaXR5ID0gYXV0aG9yaXR5LnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGlkeCA9IGF1dGhvcml0eS5pbmRleE9mKCc6Jyk7XG4gICAgICAgIGlmIChpZHggPT09IC0xKSB7XG4gICAgICAgICAgICBwYXJ0cy5wdXNoKGVuY29kZXIoYXV0aG9yaXR5KSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwYXJ0cy5wdXNoKGVuY29kZXIoYXV0aG9yaXR5LnN1YnN0cigwLCBpZHgpKSwgYXV0aG9yaXR5LnN1YnN0cihpZHgpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAocGF0aCkge1xuICAgICAgICAvLyBsb3dlci1jYXNlIHdpbmRvd3MgZHJpdmUgbGV0dGVycyBpbiAvQzovZmZmIG9yIEM6L2ZmZlxuICAgICAgICB2YXIgbSA9IF91cHBlckNhc2VEcml2ZS5leGVjKHBhdGgpO1xuICAgICAgICBpZiAobSkge1xuICAgICAgICAgICAgaWYgKG1bMV0pIHtcbiAgICAgICAgICAgICAgICBwYXRoID0gJy8nICsgbVsyXS50b0xvd2VyQ2FzZSgpICsgcGF0aC5zdWJzdHIoMyk7IC8vIFwiL2M6XCIubGVuZ3RoID09PSAzXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBwYXRoID0gbVsyXS50b0xvd2VyQ2FzZSgpICsgcGF0aC5zdWJzdHIoMik7IC8vIC8vIFwiYzpcIi5sZW5ndGggPT09IDJcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBlbmNvZGUgZXZlcnkgc2VnZW1lbnQgYnV0IG5vdCBzbGFzaGVzXG4gICAgICAgIC8vIG1ha2Ugc3VyZSB0aGF0ICMgYW5kID8gYXJlIGFsd2F5cyBlbmNvZGVkXG4gICAgICAgIC8vIHdoZW4gb2NjdXJyaW5nIGluIHBhdGhzIC0gb3RoZXJ3aXNlIHRoZSByZXN1bHRcbiAgICAgICAgLy8gY2Fubm90IGJlIHBhcnNlZCBiYWNrIGFnYWluXG4gICAgICAgIHZhciBsYXN0SWR4ID0gMDtcbiAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgIHZhciBpZHggPSBwYXRoLmluZGV4T2YoX3NsYXNoLCBsYXN0SWR4KTtcbiAgICAgICAgICAgIGlmIChpZHggPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgcGFydHMucHVzaChlbmNvZGVyKHBhdGguc3Vic3RyaW5nKGxhc3RJZHgpKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYXJ0cy5wdXNoKGVuY29kZXIocGF0aC5zdWJzdHJpbmcobGFzdElkeCwgaWR4KSksIF9zbGFzaCk7XG4gICAgICAgICAgICBsYXN0SWR4ID0gaWR4ICsgMTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAocXVlcnkpIHtcbiAgICAgICAgcGFydHMucHVzaCgnPycsIGVuY29kZXIocXVlcnkpKTtcbiAgICB9XG4gICAgaWYgKGZyYWdtZW50KSB7XG4gICAgICAgIHBhcnRzLnB1c2goJyMnLCBlbmNvZGVyKGZyYWdtZW50KSk7XG4gICAgfVxuICAgIHJldHVybiBwYXJ0cy5qb2luKF9lbXB0eSk7XG59XG4iLCIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbid1c2Ugc3RyaWN0Jztcbi8qKlxuICogQSBwb3NpdGlvbiBpbiB0aGUgZWRpdG9yLlxuICovXG52YXIgUG9zaXRpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUG9zaXRpb24obGluZU51bWJlciwgY29sdW1uKSB7XG4gICAgICAgIHRoaXMubGluZU51bWJlciA9IGxpbmVOdW1iZXI7XG4gICAgICAgIHRoaXMuY29sdW1uID0gY29sdW1uO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUZXN0IGlmIHRoaXMgcG9zaXRpb24gZXF1YWxzIG90aGVyIHBvc2l0aW9uXG4gICAgICovXG4gICAgUG9zaXRpb24ucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIChvdGhlcikge1xuICAgICAgICByZXR1cm4gUG9zaXRpb24uZXF1YWxzKHRoaXMsIG90aGVyKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRlc3QgaWYgcG9zaXRpb24gYGFgIGVxdWFscyBwb3NpdGlvbiBgYmBcbiAgICAgKi9cbiAgICBQb3NpdGlvbi5lcXVhbHMgPSBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICBpZiAoIWEgJiYgIWIpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoISFhICYmXG4gICAgICAgICAgICAhIWIgJiZcbiAgICAgICAgICAgIGEubGluZU51bWJlciA9PT0gYi5saW5lTnVtYmVyICYmXG4gICAgICAgICAgICBhLmNvbHVtbiA9PT0gYi5jb2x1bW4pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGVzdCBpZiB0aGlzIHBvc2l0aW9uIGlzIGJlZm9yZSBvdGhlciBwb3NpdGlvbi5cbiAgICAgKiBJZiB0aGUgdHdvIHBvc2l0aW9ucyBhcmUgZXF1YWwsIHRoZSByZXN1bHQgd2lsbCBiZSBmYWxzZS5cbiAgICAgKi9cbiAgICBQb3NpdGlvbi5wcm90b3R5cGUuaXNCZWZvcmUgPSBmdW5jdGlvbiAob3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIFBvc2l0aW9uLmlzQmVmb3JlKHRoaXMsIG90aGVyKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRlc3QgaWYgcG9zaXRpb24gYGFgIGlzIGJlZm9yZSBwb3NpdGlvbiBgYmAuXG4gICAgICogSWYgdGhlIHR3byBwb3NpdGlvbnMgYXJlIGVxdWFsLCB0aGUgcmVzdWx0IHdpbGwgYmUgZmFsc2UuXG4gICAgICovXG4gICAgUG9zaXRpb24uaXNCZWZvcmUgPSBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICBpZiAoYS5saW5lTnVtYmVyIDwgYi5saW5lTnVtYmVyKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYi5saW5lTnVtYmVyIDwgYS5saW5lTnVtYmVyKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGEuY29sdW1uIDwgYi5jb2x1bW47XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUZXN0IGlmIHRoaXMgcG9zaXRpb24gaXMgYmVmb3JlIG90aGVyIHBvc2l0aW9uLlxuICAgICAqIElmIHRoZSB0d28gcG9zaXRpb25zIGFyZSBlcXVhbCwgdGhlIHJlc3VsdCB3aWxsIGJlIHRydWUuXG4gICAgICovXG4gICAgUG9zaXRpb24ucHJvdG90eXBlLmlzQmVmb3JlT3JFcXVhbCA9IGZ1bmN0aW9uIChvdGhlcikge1xuICAgICAgICByZXR1cm4gUG9zaXRpb24uaXNCZWZvcmVPckVxdWFsKHRoaXMsIG90aGVyKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRlc3QgaWYgcG9zaXRpb24gYGFgIGlzIGJlZm9yZSBwb3NpdGlvbiBgYmAuXG4gICAgICogSWYgdGhlIHR3byBwb3NpdGlvbnMgYXJlIGVxdWFsLCB0aGUgcmVzdWx0IHdpbGwgYmUgdHJ1ZS5cbiAgICAgKi9cbiAgICBQb3NpdGlvbi5pc0JlZm9yZU9yRXF1YWwgPSBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICBpZiAoYS5saW5lTnVtYmVyIDwgYi5saW5lTnVtYmVyKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYi5saW5lTnVtYmVyIDwgYS5saW5lTnVtYmVyKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGEuY29sdW1uIDw9IGIuY29sdW1uO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQSBmdW5jdGlvbiB0aGF0IGNvbXBhcmVzIHBvc2l0aW9ucywgdXNlZnVsIGZvciBzb3J0aW5nXG4gICAgICovXG4gICAgUG9zaXRpb24uY29tcGFyZSA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgIHZhciBhTGluZU51bWJlciA9IGEubGluZU51bWJlciB8IDA7XG4gICAgICAgIHZhciBiTGluZU51bWJlciA9IGIubGluZU51bWJlciB8IDA7XG4gICAgICAgIGlmIChhTGluZU51bWJlciA9PT0gYkxpbmVOdW1iZXIpIHtcbiAgICAgICAgICAgIHZhciBhQ29sdW1uID0gYS5jb2x1bW4gfCAwO1xuICAgICAgICAgICAgdmFyIGJDb2x1bW4gPSBiLmNvbHVtbiB8IDA7XG4gICAgICAgICAgICByZXR1cm4gYUNvbHVtbiAtIGJDb2x1bW47XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFMaW5lTnVtYmVyIC0gYkxpbmVOdW1iZXI7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDbG9uZSB0aGlzIHBvc2l0aW9uLlxuICAgICAqL1xuICAgIFBvc2l0aW9uLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQb3NpdGlvbih0aGlzLmxpbmVOdW1iZXIsIHRoaXMuY29sdW1uKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENvbnZlcnQgdG8gYSBodW1hbi1yZWFkYWJsZSByZXByZXNlbnRhdGlvbi5cbiAgICAgKi9cbiAgICBQb3NpdGlvbi5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAnKCcgKyB0aGlzLmxpbmVOdW1iZXIgKyAnLCcgKyB0aGlzLmNvbHVtbiArICcpJztcbiAgICB9O1xuICAgIC8vIC0tLVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIGBQb3NpdGlvbmAgZnJvbSBhbiBgSVBvc2l0aW9uYC5cbiAgICAgKi9cbiAgICBQb3NpdGlvbi5saWZ0ID0gZnVuY3Rpb24gKHBvcykge1xuICAgICAgICByZXR1cm4gbmV3IFBvc2l0aW9uKHBvcy5saW5lTnVtYmVyLCBwb3MuY29sdW1uKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRlc3QgaWYgYG9iamAgaXMgYW4gYElQb3NpdGlvbmAuXG4gICAgICovXG4gICAgUG9zaXRpb24uaXNJUG9zaXRpb24gPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgIHJldHVybiAob2JqXG4gICAgICAgICAgICAmJiAodHlwZW9mIG9iai5saW5lTnVtYmVyID09PSAnbnVtYmVyJylcbiAgICAgICAgICAgICYmICh0eXBlb2Ygb2JqLmNvbHVtbiA9PT0gJ251bWJlcicpKTtcbiAgICB9O1xuICAgIHJldHVybiBQb3NpdGlvbjtcbn0oKSk7XG5leHBvcnQgeyBQb3NpdGlvbiB9O1xuIiwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG4ndXNlIHN0cmljdCc7XG5pbXBvcnQgeyBQb3NpdGlvbiB9IGZyb20gJy4vcG9zaXRpb24uanMnO1xuLyoqXG4gKiBBIHJhbmdlIGluIHRoZSBlZGl0b3IuIChzdGFydExpbmVOdW1iZXIsc3RhcnRDb2x1bW4pIGlzIDw9IChlbmRMaW5lTnVtYmVyLGVuZENvbHVtbilcbiAqL1xudmFyIFJhbmdlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJhbmdlKHN0YXJ0TGluZU51bWJlciwgc3RhcnRDb2x1bW4sIGVuZExpbmVOdW1iZXIsIGVuZENvbHVtbikge1xuICAgICAgICBpZiAoKHN0YXJ0TGluZU51bWJlciA+IGVuZExpbmVOdW1iZXIpIHx8IChzdGFydExpbmVOdW1iZXIgPT09IGVuZExpbmVOdW1iZXIgJiYgc3RhcnRDb2x1bW4gPiBlbmRDb2x1bW4pKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0TGluZU51bWJlciA9IGVuZExpbmVOdW1iZXI7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0Q29sdW1uID0gZW5kQ29sdW1uO1xuICAgICAgICAgICAgdGhpcy5lbmRMaW5lTnVtYmVyID0gc3RhcnRMaW5lTnVtYmVyO1xuICAgICAgICAgICAgdGhpcy5lbmRDb2x1bW4gPSBzdGFydENvbHVtbjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRMaW5lTnVtYmVyID0gc3RhcnRMaW5lTnVtYmVyO1xuICAgICAgICAgICAgdGhpcy5zdGFydENvbHVtbiA9IHN0YXJ0Q29sdW1uO1xuICAgICAgICAgICAgdGhpcy5lbmRMaW5lTnVtYmVyID0gZW5kTGluZU51bWJlcjtcbiAgICAgICAgICAgIHRoaXMuZW5kQ29sdW1uID0gZW5kQ29sdW1uO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRlc3QgaWYgdGhpcyByYW5nZSBpcyBlbXB0eS5cbiAgICAgKi9cbiAgICBSYW5nZS5wcm90b3R5cGUuaXNFbXB0eSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIFJhbmdlLmlzRW1wdHkodGhpcyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUZXN0IGlmIGByYW5nZWAgaXMgZW1wdHkuXG4gICAgICovXG4gICAgUmFuZ2UuaXNFbXB0eSA9IGZ1bmN0aW9uIChyYW5nZSkge1xuICAgICAgICByZXR1cm4gKHJhbmdlLnN0YXJ0TGluZU51bWJlciA9PT0gcmFuZ2UuZW5kTGluZU51bWJlciAmJiByYW5nZS5zdGFydENvbHVtbiA9PT0gcmFuZ2UuZW5kQ29sdW1uKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRlc3QgaWYgcG9zaXRpb24gaXMgaW4gdGhpcyByYW5nZS4gSWYgdGhlIHBvc2l0aW9uIGlzIGF0IHRoZSBlZGdlcywgd2lsbCByZXR1cm4gdHJ1ZS5cbiAgICAgKi9cbiAgICBSYW5nZS5wcm90b3R5cGUuY29udGFpbnNQb3NpdGlvbiA9IGZ1bmN0aW9uIChwb3NpdGlvbikge1xuICAgICAgICByZXR1cm4gUmFuZ2UuY29udGFpbnNQb3NpdGlvbih0aGlzLCBwb3NpdGlvbik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUZXN0IGlmIGBwb3NpdGlvbmAgaXMgaW4gYHJhbmdlYC4gSWYgdGhlIHBvc2l0aW9uIGlzIGF0IHRoZSBlZGdlcywgd2lsbCByZXR1cm4gdHJ1ZS5cbiAgICAgKi9cbiAgICBSYW5nZS5jb250YWluc1Bvc2l0aW9uID0gZnVuY3Rpb24gKHJhbmdlLCBwb3NpdGlvbikge1xuICAgICAgICBpZiAocG9zaXRpb24ubGluZU51bWJlciA8IHJhbmdlLnN0YXJ0TGluZU51bWJlciB8fCBwb3NpdGlvbi5saW5lTnVtYmVyID4gcmFuZ2UuZW5kTGluZU51bWJlcikge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwb3NpdGlvbi5saW5lTnVtYmVyID09PSByYW5nZS5zdGFydExpbmVOdW1iZXIgJiYgcG9zaXRpb24uY29sdW1uIDwgcmFuZ2Uuc3RhcnRDb2x1bW4pIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocG9zaXRpb24ubGluZU51bWJlciA9PT0gcmFuZ2UuZW5kTGluZU51bWJlciAmJiBwb3NpdGlvbi5jb2x1bW4gPiByYW5nZS5lbmRDb2x1bW4pIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRlc3QgaWYgcmFuZ2UgaXMgaW4gdGhpcyByYW5nZS4gSWYgdGhlIHJhbmdlIGlzIGVxdWFsIHRvIHRoaXMgcmFuZ2UsIHdpbGwgcmV0dXJuIHRydWUuXG4gICAgICovXG4gICAgUmFuZ2UucHJvdG90eXBlLmNvbnRhaW5zUmFuZ2UgPSBmdW5jdGlvbiAocmFuZ2UpIHtcbiAgICAgICAgcmV0dXJuIFJhbmdlLmNvbnRhaW5zUmFuZ2UodGhpcywgcmFuZ2UpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGVzdCBpZiBgb3RoZXJSYW5nZWAgaXMgaW4gYHJhbmdlYC4gSWYgdGhlIHJhbmdlcyBhcmUgZXF1YWwsIHdpbGwgcmV0dXJuIHRydWUuXG4gICAgICovXG4gICAgUmFuZ2UuY29udGFpbnNSYW5nZSA9IGZ1bmN0aW9uIChyYW5nZSwgb3RoZXJSYW5nZSkge1xuICAgICAgICBpZiAob3RoZXJSYW5nZS5zdGFydExpbmVOdW1iZXIgPCByYW5nZS5zdGFydExpbmVOdW1iZXIgfHwgb3RoZXJSYW5nZS5lbmRMaW5lTnVtYmVyIDwgcmFuZ2Uuc3RhcnRMaW5lTnVtYmVyKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG90aGVyUmFuZ2Uuc3RhcnRMaW5lTnVtYmVyID4gcmFuZ2UuZW5kTGluZU51bWJlciB8fCBvdGhlclJhbmdlLmVuZExpbmVOdW1iZXIgPiByYW5nZS5lbmRMaW5lTnVtYmVyKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG90aGVyUmFuZ2Uuc3RhcnRMaW5lTnVtYmVyID09PSByYW5nZS5zdGFydExpbmVOdW1iZXIgJiYgb3RoZXJSYW5nZS5zdGFydENvbHVtbiA8IHJhbmdlLnN0YXJ0Q29sdW1uKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG90aGVyUmFuZ2UuZW5kTGluZU51bWJlciA9PT0gcmFuZ2UuZW5kTGluZU51bWJlciAmJiBvdGhlclJhbmdlLmVuZENvbHVtbiA+IHJhbmdlLmVuZENvbHVtbikge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQSByZXVuaW9uIG9mIHRoZSB0d28gcmFuZ2VzLlxuICAgICAqIFRoZSBzbWFsbGVzdCBwb3NpdGlvbiB3aWxsIGJlIHVzZWQgYXMgdGhlIHN0YXJ0IHBvaW50LCBhbmQgdGhlIGxhcmdlc3Qgb25lIGFzIHRoZSBlbmQgcG9pbnQuXG4gICAgICovXG4gICAgUmFuZ2UucHJvdG90eXBlLnBsdXNSYW5nZSA9IGZ1bmN0aW9uIChyYW5nZSkge1xuICAgICAgICByZXR1cm4gUmFuZ2UucGx1c1JhbmdlKHRoaXMsIHJhbmdlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEEgcmV1bmlvbiBvZiB0aGUgdHdvIHJhbmdlcy5cbiAgICAgKiBUaGUgc21hbGxlc3QgcG9zaXRpb24gd2lsbCBiZSB1c2VkIGFzIHRoZSBzdGFydCBwb2ludCwgYW5kIHRoZSBsYXJnZXN0IG9uZSBhcyB0aGUgZW5kIHBvaW50LlxuICAgICAqL1xuICAgIFJhbmdlLnBsdXNSYW5nZSA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgIHZhciBzdGFydExpbmVOdW1iZXI7XG4gICAgICAgIHZhciBzdGFydENvbHVtbjtcbiAgICAgICAgdmFyIGVuZExpbmVOdW1iZXI7XG4gICAgICAgIHZhciBlbmRDb2x1bW47XG4gICAgICAgIGlmIChiLnN0YXJ0TGluZU51bWJlciA8IGEuc3RhcnRMaW5lTnVtYmVyKSB7XG4gICAgICAgICAgICBzdGFydExpbmVOdW1iZXIgPSBiLnN0YXJ0TGluZU51bWJlcjtcbiAgICAgICAgICAgIHN0YXJ0Q29sdW1uID0gYi5zdGFydENvbHVtbjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChiLnN0YXJ0TGluZU51bWJlciA9PT0gYS5zdGFydExpbmVOdW1iZXIpIHtcbiAgICAgICAgICAgIHN0YXJ0TGluZU51bWJlciA9IGIuc3RhcnRMaW5lTnVtYmVyO1xuICAgICAgICAgICAgc3RhcnRDb2x1bW4gPSBNYXRoLm1pbihiLnN0YXJ0Q29sdW1uLCBhLnN0YXJ0Q29sdW1uKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHN0YXJ0TGluZU51bWJlciA9IGEuc3RhcnRMaW5lTnVtYmVyO1xuICAgICAgICAgICAgc3RhcnRDb2x1bW4gPSBhLnN0YXJ0Q29sdW1uO1xuICAgICAgICB9XG4gICAgICAgIGlmIChiLmVuZExpbmVOdW1iZXIgPiBhLmVuZExpbmVOdW1iZXIpIHtcbiAgICAgICAgICAgIGVuZExpbmVOdW1iZXIgPSBiLmVuZExpbmVOdW1iZXI7XG4gICAgICAgICAgICBlbmRDb2x1bW4gPSBiLmVuZENvbHVtbjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChiLmVuZExpbmVOdW1iZXIgPT09IGEuZW5kTGluZU51bWJlcikge1xuICAgICAgICAgICAgZW5kTGluZU51bWJlciA9IGIuZW5kTGluZU51bWJlcjtcbiAgICAgICAgICAgIGVuZENvbHVtbiA9IE1hdGgubWF4KGIuZW5kQ29sdW1uLCBhLmVuZENvbHVtbik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBlbmRMaW5lTnVtYmVyID0gYS5lbmRMaW5lTnVtYmVyO1xuICAgICAgICAgICAgZW5kQ29sdW1uID0gYS5lbmRDb2x1bW47XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBSYW5nZShzdGFydExpbmVOdW1iZXIsIHN0YXJ0Q29sdW1uLCBlbmRMaW5lTnVtYmVyLCBlbmRDb2x1bW4pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQSBpbnRlcnNlY3Rpb24gb2YgdGhlIHR3byByYW5nZXMuXG4gICAgICovXG4gICAgUmFuZ2UucHJvdG90eXBlLmludGVyc2VjdFJhbmdlcyA9IGZ1bmN0aW9uIChyYW5nZSkge1xuICAgICAgICByZXR1cm4gUmFuZ2UuaW50ZXJzZWN0UmFuZ2VzKHRoaXMsIHJhbmdlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEEgaW50ZXJzZWN0aW9uIG9mIHRoZSB0d28gcmFuZ2VzLlxuICAgICAqL1xuICAgIFJhbmdlLmludGVyc2VjdFJhbmdlcyA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgIHZhciByZXN1bHRTdGFydExpbmVOdW1iZXIgPSBhLnN0YXJ0TGluZU51bWJlcjtcbiAgICAgICAgdmFyIHJlc3VsdFN0YXJ0Q29sdW1uID0gYS5zdGFydENvbHVtbjtcbiAgICAgICAgdmFyIHJlc3VsdEVuZExpbmVOdW1iZXIgPSBhLmVuZExpbmVOdW1iZXI7XG4gICAgICAgIHZhciByZXN1bHRFbmRDb2x1bW4gPSBhLmVuZENvbHVtbjtcbiAgICAgICAgdmFyIG90aGVyU3RhcnRMaW5lTnVtYmVyID0gYi5zdGFydExpbmVOdW1iZXI7XG4gICAgICAgIHZhciBvdGhlclN0YXJ0Q29sdW1uID0gYi5zdGFydENvbHVtbjtcbiAgICAgICAgdmFyIG90aGVyRW5kTGluZU51bWJlciA9IGIuZW5kTGluZU51bWJlcjtcbiAgICAgICAgdmFyIG90aGVyRW5kQ29sdW1uID0gYi5lbmRDb2x1bW47XG4gICAgICAgIGlmIChyZXN1bHRTdGFydExpbmVOdW1iZXIgPCBvdGhlclN0YXJ0TGluZU51bWJlcikge1xuICAgICAgICAgICAgcmVzdWx0U3RhcnRMaW5lTnVtYmVyID0gb3RoZXJTdGFydExpbmVOdW1iZXI7XG4gICAgICAgICAgICByZXN1bHRTdGFydENvbHVtbiA9IG90aGVyU3RhcnRDb2x1bW47XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocmVzdWx0U3RhcnRMaW5lTnVtYmVyID09PSBvdGhlclN0YXJ0TGluZU51bWJlcikge1xuICAgICAgICAgICAgcmVzdWx0U3RhcnRDb2x1bW4gPSBNYXRoLm1heChyZXN1bHRTdGFydENvbHVtbiwgb3RoZXJTdGFydENvbHVtbik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlc3VsdEVuZExpbmVOdW1iZXIgPiBvdGhlckVuZExpbmVOdW1iZXIpIHtcbiAgICAgICAgICAgIHJlc3VsdEVuZExpbmVOdW1iZXIgPSBvdGhlckVuZExpbmVOdW1iZXI7XG4gICAgICAgICAgICByZXN1bHRFbmRDb2x1bW4gPSBvdGhlckVuZENvbHVtbjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChyZXN1bHRFbmRMaW5lTnVtYmVyID09PSBvdGhlckVuZExpbmVOdW1iZXIpIHtcbiAgICAgICAgICAgIHJlc3VsdEVuZENvbHVtbiA9IE1hdGgubWluKHJlc3VsdEVuZENvbHVtbiwgb3RoZXJFbmRDb2x1bW4pO1xuICAgICAgICB9XG4gICAgICAgIC8vIENoZWNrIGlmIHNlbGVjdGlvbiBpcyBub3cgZW1wdHlcbiAgICAgICAgaWYgKHJlc3VsdFN0YXJ0TGluZU51bWJlciA+IHJlc3VsdEVuZExpbmVOdW1iZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXN1bHRTdGFydExpbmVOdW1iZXIgPT09IHJlc3VsdEVuZExpbmVOdW1iZXIgJiYgcmVzdWx0U3RhcnRDb2x1bW4gPiByZXN1bHRFbmRDb2x1bW4pIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgUmFuZ2UocmVzdWx0U3RhcnRMaW5lTnVtYmVyLCByZXN1bHRTdGFydENvbHVtbiwgcmVzdWx0RW5kTGluZU51bWJlciwgcmVzdWx0RW5kQ29sdW1uKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRlc3QgaWYgdGhpcyByYW5nZSBlcXVhbHMgb3RoZXIuXG4gICAgICovXG4gICAgUmFuZ2UucHJvdG90eXBlLmVxdWFsc1JhbmdlID0gZnVuY3Rpb24gKG90aGVyKSB7XG4gICAgICAgIHJldHVybiBSYW5nZS5lcXVhbHNSYW5nZSh0aGlzLCBvdGhlcik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUZXN0IGlmIHJhbmdlIGBhYCBlcXVhbHMgYGJgLlxuICAgICAqL1xuICAgIFJhbmdlLmVxdWFsc1JhbmdlID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuICghIWEgJiZcbiAgICAgICAgICAgICEhYiAmJlxuICAgICAgICAgICAgYS5zdGFydExpbmVOdW1iZXIgPT09IGIuc3RhcnRMaW5lTnVtYmVyICYmXG4gICAgICAgICAgICBhLnN0YXJ0Q29sdW1uID09PSBiLnN0YXJ0Q29sdW1uICYmXG4gICAgICAgICAgICBhLmVuZExpbmVOdW1iZXIgPT09IGIuZW5kTGluZU51bWJlciAmJlxuICAgICAgICAgICAgYS5lbmRDb2x1bW4gPT09IGIuZW5kQ29sdW1uKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgZW5kIHBvc2l0aW9uICh3aGljaCB3aWxsIGJlIGFmdGVyIG9yIGVxdWFsIHRvIHRoZSBzdGFydCBwb3NpdGlvbilcbiAgICAgKi9cbiAgICBSYW5nZS5wcm90b3R5cGUuZ2V0RW5kUG9zaXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUG9zaXRpb24odGhpcy5lbmRMaW5lTnVtYmVyLCB0aGlzLmVuZENvbHVtbik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIHN0YXJ0IHBvc2l0aW9uICh3aGljaCB3aWxsIGJlIGJlZm9yZSBvciBlcXVhbCB0byB0aGUgZW5kIHBvc2l0aW9uKVxuICAgICAqL1xuICAgIFJhbmdlLnByb3RvdHlwZS5nZXRTdGFydFBvc2l0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbmV3IFBvc2l0aW9uKHRoaXMuc3RhcnRMaW5lTnVtYmVyLCB0aGlzLnN0YXJ0Q29sdW1uKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRyYW5zZm9ybSB0byBhIHVzZXIgcHJlc2VudGFibGUgc3RyaW5nIHJlcHJlc2VudGF0aW9uLlxuICAgICAqL1xuICAgIFJhbmdlLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICdbJyArIHRoaXMuc3RhcnRMaW5lTnVtYmVyICsgJywnICsgdGhpcy5zdGFydENvbHVtbiArICcgLT4gJyArIHRoaXMuZW5kTGluZU51bWJlciArICcsJyArIHRoaXMuZW5kQ29sdW1uICsgJ10nO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IHJhbmdlIHVzaW5nIHRoaXMgcmFuZ2UncyBzdGFydCBwb3NpdGlvbiwgYW5kIHVzaW5nIGVuZExpbmVOdW1iZXIgYW5kIGVuZENvbHVtbiBhcyB0aGUgZW5kIHBvc2l0aW9uLlxuICAgICAqL1xuICAgIFJhbmdlLnByb3RvdHlwZS5zZXRFbmRQb3NpdGlvbiA9IGZ1bmN0aW9uIChlbmRMaW5lTnVtYmVyLCBlbmRDb2x1bW4pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSYW5nZSh0aGlzLnN0YXJ0TGluZU51bWJlciwgdGhpcy5zdGFydENvbHVtbiwgZW5kTGluZU51bWJlciwgZW5kQ29sdW1uKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyByYW5nZSB1c2luZyB0aGlzIHJhbmdlJ3MgZW5kIHBvc2l0aW9uLCBhbmQgdXNpbmcgc3RhcnRMaW5lTnVtYmVyIGFuZCBzdGFydENvbHVtbiBhcyB0aGUgc3RhcnQgcG9zaXRpb24uXG4gICAgICovXG4gICAgUmFuZ2UucHJvdG90eXBlLnNldFN0YXJ0UG9zaXRpb24gPSBmdW5jdGlvbiAoc3RhcnRMaW5lTnVtYmVyLCBzdGFydENvbHVtbikge1xuICAgICAgICByZXR1cm4gbmV3IFJhbmdlKHN0YXJ0TGluZU51bWJlciwgc3RhcnRDb2x1bW4sIHRoaXMuZW5kTGluZU51bWJlciwgdGhpcy5lbmRDb2x1bW4pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IGVtcHR5IHJhbmdlIHVzaW5nIHRoaXMgcmFuZ2UncyBzdGFydCBwb3NpdGlvbi5cbiAgICAgKi9cbiAgICBSYW5nZS5wcm90b3R5cGUuY29sbGFwc2VUb1N0YXJ0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gUmFuZ2UuY29sbGFwc2VUb1N0YXJ0KHRoaXMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IGVtcHR5IHJhbmdlIHVzaW5nIHRoaXMgcmFuZ2UncyBzdGFydCBwb3NpdGlvbi5cbiAgICAgKi9cbiAgICBSYW5nZS5jb2xsYXBzZVRvU3RhcnQgPSBmdW5jdGlvbiAocmFuZ2UpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSYW5nZShyYW5nZS5zdGFydExpbmVOdW1iZXIsIHJhbmdlLnN0YXJ0Q29sdW1uLCByYW5nZS5zdGFydExpbmVOdW1iZXIsIHJhbmdlLnN0YXJ0Q29sdW1uKTtcbiAgICB9O1xuICAgIC8vIC0tLVxuICAgIFJhbmdlLmZyb21Qb3NpdGlvbnMgPSBmdW5jdGlvbiAoc3RhcnQsIGVuZCkge1xuICAgICAgICBpZiAoZW5kID09PSB2b2lkIDApIHsgZW5kID0gc3RhcnQ7IH1cbiAgICAgICAgcmV0dXJuIG5ldyBSYW5nZShzdGFydC5saW5lTnVtYmVyLCBzdGFydC5jb2x1bW4sIGVuZC5saW5lTnVtYmVyLCBlbmQuY29sdW1uKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIGBSYW5nZWAgZnJvbSBhbiBgSVJhbmdlYC5cbiAgICAgKi9cbiAgICBSYW5nZS5saWZ0ID0gZnVuY3Rpb24gKHJhbmdlKSB7XG4gICAgICAgIGlmICghcmFuZ2UpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgUmFuZ2UocmFuZ2Uuc3RhcnRMaW5lTnVtYmVyLCByYW5nZS5zdGFydENvbHVtbiwgcmFuZ2UuZW5kTGluZU51bWJlciwgcmFuZ2UuZW5kQ29sdW1uKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRlc3QgaWYgYG9iamAgaXMgYW4gYElSYW5nZWAuXG4gICAgICovXG4gICAgUmFuZ2UuaXNJUmFuZ2UgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgIHJldHVybiAob2JqXG4gICAgICAgICAgICAmJiAodHlwZW9mIG9iai5zdGFydExpbmVOdW1iZXIgPT09ICdudW1iZXInKVxuICAgICAgICAgICAgJiYgKHR5cGVvZiBvYmouc3RhcnRDb2x1bW4gPT09ICdudW1iZXInKVxuICAgICAgICAgICAgJiYgKHR5cGVvZiBvYmouZW5kTGluZU51bWJlciA9PT0gJ251bWJlcicpXG4gICAgICAgICAgICAmJiAodHlwZW9mIG9iai5lbmRDb2x1bW4gPT09ICdudW1iZXInKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUZXN0IGlmIHRoZSB0d28gcmFuZ2VzIGFyZSB0b3VjaGluZyBpbiBhbnkgd2F5LlxuICAgICAqL1xuICAgIFJhbmdlLmFyZUludGVyc2VjdGluZ09yVG91Y2hpbmcgPSBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICAvLyBDaGVjayBpZiBgYWAgaXMgYmVmb3JlIGBiYFxuICAgICAgICBpZiAoYS5lbmRMaW5lTnVtYmVyIDwgYi5zdGFydExpbmVOdW1iZXIgfHwgKGEuZW5kTGluZU51bWJlciA9PT0gYi5zdGFydExpbmVOdW1iZXIgJiYgYS5lbmRDb2x1bW4gPCBiLnN0YXJ0Q29sdW1uKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIC8vIENoZWNrIGlmIGBiYCBpcyBiZWZvcmUgYGFgXG4gICAgICAgIGlmIChiLmVuZExpbmVOdW1iZXIgPCBhLnN0YXJ0TGluZU51bWJlciB8fCAoYi5lbmRMaW5lTnVtYmVyID09PSBhLnN0YXJ0TGluZU51bWJlciAmJiBiLmVuZENvbHVtbiA8IGEuc3RhcnRDb2x1bW4pKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVGhlc2UgcmFuZ2VzIG11c3QgaW50ZXJzZWN0XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQSBmdW5jdGlvbiB0aGF0IGNvbXBhcmVzIHJhbmdlcywgdXNlZnVsIGZvciBzb3J0aW5nIHJhbmdlc1xuICAgICAqIEl0IHdpbGwgZmlyc3QgY29tcGFyZSByYW5nZXMgb24gdGhlIHN0YXJ0UG9zaXRpb24gYW5kIHRoZW4gb24gdGhlIGVuZFBvc2l0aW9uXG4gICAgICovXG4gICAgUmFuZ2UuY29tcGFyZVJhbmdlc1VzaW5nU3RhcnRzID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgdmFyIGFTdGFydExpbmVOdW1iZXIgPSBhLnN0YXJ0TGluZU51bWJlciB8IDA7XG4gICAgICAgIHZhciBiU3RhcnRMaW5lTnVtYmVyID0gYi5zdGFydExpbmVOdW1iZXIgfCAwO1xuICAgICAgICBpZiAoYVN0YXJ0TGluZU51bWJlciA9PT0gYlN0YXJ0TGluZU51bWJlcikge1xuICAgICAgICAgICAgdmFyIGFTdGFydENvbHVtbiA9IGEuc3RhcnRDb2x1bW4gfCAwO1xuICAgICAgICAgICAgdmFyIGJTdGFydENvbHVtbiA9IGIuc3RhcnRDb2x1bW4gfCAwO1xuICAgICAgICAgICAgaWYgKGFTdGFydENvbHVtbiA9PT0gYlN0YXJ0Q29sdW1uKSB7XG4gICAgICAgICAgICAgICAgdmFyIGFFbmRMaW5lTnVtYmVyID0gYS5lbmRMaW5lTnVtYmVyIHwgMDtcbiAgICAgICAgICAgICAgICB2YXIgYkVuZExpbmVOdW1iZXIgPSBiLmVuZExpbmVOdW1iZXIgfCAwO1xuICAgICAgICAgICAgICAgIGlmIChhRW5kTGluZU51bWJlciA9PT0gYkVuZExpbmVOdW1iZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFFbmRDb2x1bW4gPSBhLmVuZENvbHVtbiB8IDA7XG4gICAgICAgICAgICAgICAgICAgIHZhciBiRW5kQ29sdW1uID0gYi5lbmRDb2x1bW4gfCAwO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYUVuZENvbHVtbiAtIGJFbmRDb2x1bW47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBhRW5kTGluZU51bWJlciAtIGJFbmRMaW5lTnVtYmVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGFTdGFydENvbHVtbiAtIGJTdGFydENvbHVtbjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYVN0YXJ0TGluZU51bWJlciAtIGJTdGFydExpbmVOdW1iZXI7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBIGZ1bmN0aW9uIHRoYXQgY29tcGFyZXMgcmFuZ2VzLCB1c2VmdWwgZm9yIHNvcnRpbmcgcmFuZ2VzXG4gICAgICogSXQgd2lsbCBmaXJzdCBjb21wYXJlIHJhbmdlcyBvbiB0aGUgZW5kUG9zaXRpb24gYW5kIHRoZW4gb24gdGhlIHN0YXJ0UG9zaXRpb25cbiAgICAgKi9cbiAgICBSYW5nZS5jb21wYXJlUmFuZ2VzVXNpbmdFbmRzID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgaWYgKGEuZW5kTGluZU51bWJlciA9PT0gYi5lbmRMaW5lTnVtYmVyKSB7XG4gICAgICAgICAgICBpZiAoYS5lbmRDb2x1bW4gPT09IGIuZW5kQ29sdW1uKSB7XG4gICAgICAgICAgICAgICAgaWYgKGEuc3RhcnRMaW5lTnVtYmVyID09PSBiLnN0YXJ0TGluZU51bWJlcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYS5zdGFydENvbHVtbiAtIGIuc3RhcnRDb2x1bW47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBhLnN0YXJ0TGluZU51bWJlciAtIGIuc3RhcnRMaW5lTnVtYmVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGEuZW5kQ29sdW1uIC0gYi5lbmRDb2x1bW47XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGEuZW5kTGluZU51bWJlciAtIGIuZW5kTGluZU51bWJlcjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRlc3QgaWYgdGhlIHJhbmdlIHNwYW5zIG11bHRpcGxlIGxpbmVzLlxuICAgICAqL1xuICAgIFJhbmdlLnNwYW5zTXVsdGlwbGVMaW5lcyA9IGZ1bmN0aW9uIChyYW5nZSkge1xuICAgICAgICByZXR1cm4gcmFuZ2UuZW5kTGluZU51bWJlciA+IHJhbmdlLnN0YXJ0TGluZU51bWJlcjtcbiAgICB9O1xuICAgIHJldHVybiBSYW5nZTtcbn0oKSk7XG5leHBvcnQgeyBSYW5nZSB9O1xuIiwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG4ndXNlIHN0cmljdCc7XG4vKipcbiAqIFJlcHJlc2VudHMgaW5mb3JtYXRpb24gYWJvdXQgYSBzcGVjaWZpYyBkaWZmZXJlbmNlIGJldHdlZW4gdHdvIHNlcXVlbmNlcy5cbiAqL1xudmFyIERpZmZDaGFuZ2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0cyBhIG5ldyBEaWZmQ2hhbmdlIHdpdGggdGhlIGdpdmVuIHNlcXVlbmNlIGluZm9ybWF0aW9uXG4gICAgICogYW5kIGNvbnRlbnQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gRGlmZkNoYW5nZShvcmlnaW5hbFN0YXJ0LCBvcmlnaW5hbExlbmd0aCwgbW9kaWZpZWRTdGFydCwgbW9kaWZpZWRMZW5ndGgpIHtcbiAgICAgICAgLy9EZWJ1Zy5Bc3NlcnQob3JpZ2luYWxMZW5ndGggPiAwIHx8IG1vZGlmaWVkTGVuZ3RoID4gMCwgXCJvcmlnaW5hbExlbmd0aCBhbmQgbW9kaWZpZWRMZW5ndGggY2Fubm90IGJvdGggYmUgPD0gMFwiKTtcbiAgICAgICAgdGhpcy5vcmlnaW5hbFN0YXJ0ID0gb3JpZ2luYWxTdGFydDtcbiAgICAgICAgdGhpcy5vcmlnaW5hbExlbmd0aCA9IG9yaWdpbmFsTGVuZ3RoO1xuICAgICAgICB0aGlzLm1vZGlmaWVkU3RhcnQgPSBtb2RpZmllZFN0YXJ0O1xuICAgICAgICB0aGlzLm1vZGlmaWVkTGVuZ3RoID0gbW9kaWZpZWRMZW5ndGg7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBlbmQgcG9pbnQgKGV4Y2x1c2l2ZSkgb2YgdGhlIGNoYW5nZSBpbiB0aGUgb3JpZ2luYWwgc2VxdWVuY2UuXG4gICAgICovXG4gICAgRGlmZkNoYW5nZS5wcm90b3R5cGUuZ2V0T3JpZ2luYWxFbmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9yaWdpbmFsU3RhcnQgKyB0aGlzLm9yaWdpbmFsTGVuZ3RoO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGhlIGVuZCBwb2ludCAoZXhjbHVzaXZlKSBvZiB0aGUgY2hhbmdlIGluIHRoZSBtb2RpZmllZCBzZXF1ZW5jZS5cbiAgICAgKi9cbiAgICBEaWZmQ2hhbmdlLnByb3RvdHlwZS5nZXRNb2RpZmllZEVuZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubW9kaWZpZWRTdGFydCArIHRoaXMubW9kaWZpZWRMZW5ndGg7XG4gICAgfTtcbiAgICByZXR1cm4gRGlmZkNoYW5nZTtcbn0oKSk7XG5leHBvcnQgeyBEaWZmQ2hhbmdlIH07XG4iLCIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbid1c2Ugc3RyaWN0JztcbmltcG9ydCB7IERpZmZDaGFuZ2UgfSBmcm9tICcuL2RpZmZDaGFuZ2UuanMnO1xuZnVuY3Rpb24gY3JlYXRlU3RyaW5nU2VxdWVuY2UoYSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGdldExlbmd0aDogZnVuY3Rpb24gKCkgeyByZXR1cm4gYS5sZW5ndGg7IH0sXG4gICAgICAgIGdldEVsZW1lbnRIYXNoOiBmdW5jdGlvbiAocG9zKSB7IHJldHVybiBhW3Bvc107IH1cbiAgICB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIHN0cmluZ0RpZmYob3JpZ2luYWwsIG1vZGlmaWVkLCBwcmV0dHkpIHtcbiAgICByZXR1cm4gbmV3IExjc0RpZmYoY3JlYXRlU3RyaW5nU2VxdWVuY2Uob3JpZ2luYWwpLCBjcmVhdGVTdHJpbmdTZXF1ZW5jZShtb2RpZmllZCkpLkNvbXB1dGVEaWZmKHByZXR0eSk7XG59XG4vL1xuLy8gVGhlIGNvZGUgYmVsb3cgaGFzIGJlZW4gcG9ydGVkIGZyb20gYSBDIyBpbXBsZW1lbnRhdGlvbiBpbiBWU1xuLy9cbnZhciBEZWJ1ZyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBEZWJ1ZygpIHtcbiAgICB9XG4gICAgRGVidWcuQXNzZXJ0ID0gZnVuY3Rpb24gKGNvbmRpdGlvbiwgbWVzc2FnZSkge1xuICAgICAgICBpZiAoIWNvbmRpdGlvbikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gRGVidWc7XG59KCkpO1xuZXhwb3J0IHsgRGVidWcgfTtcbnZhciBNeUFycmF5ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE15QXJyYXkoKSB7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvcGllcyBhIHJhbmdlIG9mIGVsZW1lbnRzIGZyb20gYW4gQXJyYXkgc3RhcnRpbmcgYXQgdGhlIHNwZWNpZmllZCBzb3VyY2UgaW5kZXggYW5kIHBhc3Rlc1xuICAgICAqIHRoZW0gdG8gYW5vdGhlciBBcnJheSBzdGFydGluZyBhdCB0aGUgc3BlY2lmaWVkIGRlc3RpbmF0aW9uIGluZGV4LiBUaGUgbGVuZ3RoIGFuZCB0aGUgaW5kZXhlc1xuICAgICAqIGFyZSBzcGVjaWZpZWQgYXMgNjQtYml0IGludGVnZXJzLlxuICAgICAqIHNvdXJjZUFycmF5OlxuICAgICAqXHRcdFRoZSBBcnJheSB0aGF0IGNvbnRhaW5zIHRoZSBkYXRhIHRvIGNvcHkuXG4gICAgICogc291cmNlSW5kZXg6XG4gICAgICpcdFx0QSA2NC1iaXQgaW50ZWdlciB0aGF0IHJlcHJlc2VudHMgdGhlIGluZGV4IGluIHRoZSBzb3VyY2VBcnJheSBhdCB3aGljaCBjb3B5aW5nIGJlZ2lucy5cbiAgICAgKiBkZXN0aW5hdGlvbkFycmF5OlxuICAgICAqXHRcdFRoZSBBcnJheSB0aGF0IHJlY2VpdmVzIHRoZSBkYXRhLlxuICAgICAqIGRlc3RpbmF0aW9uSW5kZXg6XG4gICAgICpcdFx0QSA2NC1iaXQgaW50ZWdlciB0aGF0IHJlcHJlc2VudHMgdGhlIGluZGV4IGluIHRoZSBkZXN0aW5hdGlvbkFycmF5IGF0IHdoaWNoIHN0b3JpbmcgYmVnaW5zLlxuICAgICAqIGxlbmd0aDpcbiAgICAgKlx0XHRBIDY0LWJpdCBpbnRlZ2VyIHRoYXQgcmVwcmVzZW50cyB0aGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIGNvcHkuXG4gICAgICovXG4gICAgTXlBcnJheS5Db3B5ID0gZnVuY3Rpb24gKHNvdXJjZUFycmF5LCBzb3VyY2VJbmRleCwgZGVzdGluYXRpb25BcnJheSwgZGVzdGluYXRpb25JbmRleCwgbGVuZ3RoKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGRlc3RpbmF0aW9uQXJyYXlbZGVzdGluYXRpb25JbmRleCArIGldID0gc291cmNlQXJyYXlbc291cmNlSW5kZXggKyBpXTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIE15QXJyYXk7XG59KCkpO1xuZXhwb3J0IHsgTXlBcnJheSB9O1xuLy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuLy8gTGNzRGlmZi5jc1xuLy9cbi8vIEFuIGltcGxlbWVudGF0aW9uIG9mIHRoZSBkaWZmZXJlbmNlIGFsZ29yaXRobSBkZXNjcmliZWQgaW5cbi8vIFwiQW4gTyhORCkgRGlmZmVyZW5jZSBBbGdvcml0aG0gYW5kIGl0cyB2YXJpYXRpb25zXCIgYnkgRXVnZW5lIFcuIE15ZXJzXG4vL1xuLy8gQ29weXJpZ2h0IChDKSAyMDA4IE1pY3Jvc29mdCBDb3Jwb3JhdGlvbiBAbWluaWZpZXJfZG9fbm90X3ByZXNlcnZlXG4vLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4vLyBPdXIgdG90YWwgbWVtb3J5IHVzYWdlIGZvciBzdG9yaW5nIGhpc3RvcnkgaXMgKHdvcnN0LWNhc2UpOlxuLy8gMiAqIFsoTWF4RGlmZmVyZW5jZXNIaXN0b3J5ICsgMSkgKiAoTWF4RGlmZmVyZW5jZXNIaXN0b3J5ICsgMSkgLSAxXSAqIHNpemVvZihpbnQpXG4vLyAyICogWzE0NDgqMTQ0OCAtIDFdICogNCA9IDE2NzczNjI0ID0gMTZNQlxudmFyIE1heERpZmZlcmVuY2VzSGlzdG9yeSA9IDE0NDc7XG4vL2xldCBNYXhEaWZmZXJlbmNlc0hpc3RvcnkgPSAxMDA7XG4vKipcbiAqIEEgdXRpbGl0eSBjbGFzcyB3aGljaCBoZWxwcyB0byBjcmVhdGUgdGhlIHNldCBvZiBEaWZmQ2hhbmdlcyBmcm9tXG4gKiBhIGRpZmZlcmVuY2Ugb3BlcmF0aW9uLiBUaGlzIGNsYXNzIGFjY2VwdHMgb3JpZ2luYWwgRGlmZkVsZW1lbnRzIGFuZFxuICogbW9kaWZpZWQgRGlmZkVsZW1lbnRzIHRoYXQgYXJlIGludm9sdmVkIGluIGEgcGFydGljdWxhciBjaGFuZ2UuIFRoZVxuICogTWFya3ROZXh0Q2hhbmdlKCkgbWV0aG9kIGNhbiBiZSBjYWxsZWQgdG8gbWFyayB0aGUgc2VwYXJhdGlvbiBiZXR3ZWVuXG4gKiBkaXN0aW5jdCBjaGFuZ2VzLiBBdCB0aGUgZW5kLCB0aGUgQ2hhbmdlcyBwcm9wZXJ0eSBjYW4gYmUgY2FsbGVkIHRvIHJldHJpZXZlXG4gKiB0aGUgY29uc3RydWN0ZWQgY2hhbmdlcy5cbiAqL1xudmFyIERpZmZDaGFuZ2VIZWxwZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0cyBhIG5ldyBEaWZmQ2hhbmdlSGVscGVyIGZvciB0aGUgZ2l2ZW4gRGlmZlNlcXVlbmNlcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBEaWZmQ2hhbmdlSGVscGVyKCkge1xuICAgICAgICB0aGlzLm1fY2hhbmdlcyA9IFtdO1xuICAgICAgICB0aGlzLm1fb3JpZ2luYWxTdGFydCA9IE51bWJlci5NQVhfVkFMVUU7XG4gICAgICAgIHRoaXMubV9tb2RpZmllZFN0YXJ0ID0gTnVtYmVyLk1BWF9WQUxVRTtcbiAgICAgICAgdGhpcy5tX29yaWdpbmFsQ291bnQgPSAwO1xuICAgICAgICB0aGlzLm1fbW9kaWZpZWRDb3VudCA9IDA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1hcmtzIHRoZSBiZWdpbm5pbmcgb2YgdGhlIG5leHQgY2hhbmdlIGluIHRoZSBzZXQgb2YgZGlmZmVyZW5jZXMuXG4gICAgICovXG4gICAgRGlmZkNoYW5nZUhlbHBlci5wcm90b3R5cGUuTWFya05leHRDaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIE9ubHkgYWRkIHRvIHRoZSBsaXN0IGlmIHRoZXJlIGlzIHNvbWV0aGluZyB0byBhZGRcbiAgICAgICAgaWYgKHRoaXMubV9vcmlnaW5hbENvdW50ID4gMCB8fCB0aGlzLm1fbW9kaWZpZWRDb3VudCA+IDApIHtcbiAgICAgICAgICAgIC8vIEFkZCB0aGUgbmV3IGNoYW5nZSB0byBvdXIgbGlzdFxuICAgICAgICAgICAgdGhpcy5tX2NoYW5nZXMucHVzaChuZXcgRGlmZkNoYW5nZSh0aGlzLm1fb3JpZ2luYWxTdGFydCwgdGhpcy5tX29yaWdpbmFsQ291bnQsIHRoaXMubV9tb2RpZmllZFN0YXJ0LCB0aGlzLm1fbW9kaWZpZWRDb3VudCkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJlc2V0IGZvciB0aGUgbmV4dCBjaGFuZ2VcbiAgICAgICAgdGhpcy5tX29yaWdpbmFsQ291bnQgPSAwO1xuICAgICAgICB0aGlzLm1fbW9kaWZpZWRDb3VudCA9IDA7XG4gICAgICAgIHRoaXMubV9vcmlnaW5hbFN0YXJ0ID0gTnVtYmVyLk1BWF9WQUxVRTtcbiAgICAgICAgdGhpcy5tX21vZGlmaWVkU3RhcnQgPSBOdW1iZXIuTUFYX1ZBTFVFO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkcyB0aGUgb3JpZ2luYWwgZWxlbWVudCBhdCB0aGUgZ2l2ZW4gcG9zaXRpb24gdG8gdGhlIGVsZW1lbnRzXG4gICAgICogYWZmZWN0ZWQgYnkgdGhlIGN1cnJlbnQgY2hhbmdlLiBUaGUgbW9kaWZpZWQgaW5kZXggZ2l2ZXMgY29udGV4dFxuICAgICAqIHRvIHRoZSBjaGFuZ2UgcG9zaXRpb24gd2l0aCByZXNwZWN0IHRvIHRoZSBvcmlnaW5hbCBzZXF1ZW5jZS5cbiAgICAgKiBAcGFyYW0gb3JpZ2luYWxJbmRleCBUaGUgaW5kZXggb2YgdGhlIG9yaWdpbmFsIGVsZW1lbnQgdG8gYWRkLlxuICAgICAqIEBwYXJhbSBtb2RpZmllZEluZGV4IFRoZSBpbmRleCBvZiB0aGUgbW9kaWZpZWQgZWxlbWVudCB0aGF0IHByb3ZpZGVzIGNvcnJlc3BvbmRpbmcgcG9zaXRpb24gaW4gdGhlIG1vZGlmaWVkIHNlcXVlbmNlLlxuICAgICAqL1xuICAgIERpZmZDaGFuZ2VIZWxwZXIucHJvdG90eXBlLkFkZE9yaWdpbmFsRWxlbWVudCA9IGZ1bmN0aW9uIChvcmlnaW5hbEluZGV4LCBtb2RpZmllZEluZGV4KSB7XG4gICAgICAgIC8vIFRoZSAndHJ1ZScgc3RhcnQgaW5kZXggaXMgdGhlIHNtYWxsZXN0IG9mIHRoZSBvbmVzIHdlJ3ZlIHNlZW5cbiAgICAgICAgdGhpcy5tX29yaWdpbmFsU3RhcnQgPSBNYXRoLm1pbih0aGlzLm1fb3JpZ2luYWxTdGFydCwgb3JpZ2luYWxJbmRleCk7XG4gICAgICAgIHRoaXMubV9tb2RpZmllZFN0YXJ0ID0gTWF0aC5taW4odGhpcy5tX21vZGlmaWVkU3RhcnQsIG1vZGlmaWVkSW5kZXgpO1xuICAgICAgICB0aGlzLm1fb3JpZ2luYWxDb3VudCsrO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkcyB0aGUgbW9kaWZpZWQgZWxlbWVudCBhdCB0aGUgZ2l2ZW4gcG9zaXRpb24gdG8gdGhlIGVsZW1lbnRzXG4gICAgICogYWZmZWN0ZWQgYnkgdGhlIGN1cnJlbnQgY2hhbmdlLiBUaGUgb3JpZ2luYWwgaW5kZXggZ2l2ZXMgY29udGV4dFxuICAgICAqIHRvIHRoZSBjaGFuZ2UgcG9zaXRpb24gd2l0aCByZXNwZWN0IHRvIHRoZSBtb2RpZmllZCBzZXF1ZW5jZS5cbiAgICAgKiBAcGFyYW0gb3JpZ2luYWxJbmRleCBUaGUgaW5kZXggb2YgdGhlIG9yaWdpbmFsIGVsZW1lbnQgdGhhdCBwcm92aWRlcyBjb3JyZXNwb25kaW5nIHBvc2l0aW9uIGluIHRoZSBvcmlnaW5hbCBzZXF1ZW5jZS5cbiAgICAgKiBAcGFyYW0gbW9kaWZpZWRJbmRleCBUaGUgaW5kZXggb2YgdGhlIG1vZGlmaWVkIGVsZW1lbnQgdG8gYWRkLlxuICAgICAqL1xuICAgIERpZmZDaGFuZ2VIZWxwZXIucHJvdG90eXBlLkFkZE1vZGlmaWVkRWxlbWVudCA9IGZ1bmN0aW9uIChvcmlnaW5hbEluZGV4LCBtb2RpZmllZEluZGV4KSB7XG4gICAgICAgIC8vIFRoZSAndHJ1ZScgc3RhcnQgaW5kZXggaXMgdGhlIHNtYWxsZXN0IG9mIHRoZSBvbmVzIHdlJ3ZlIHNlZW5cbiAgICAgICAgdGhpcy5tX29yaWdpbmFsU3RhcnQgPSBNYXRoLm1pbih0aGlzLm1fb3JpZ2luYWxTdGFydCwgb3JpZ2luYWxJbmRleCk7XG4gICAgICAgIHRoaXMubV9tb2RpZmllZFN0YXJ0ID0gTWF0aC5taW4odGhpcy5tX21vZGlmaWVkU3RhcnQsIG1vZGlmaWVkSW5kZXgpO1xuICAgICAgICB0aGlzLm1fbW9kaWZpZWRDb3VudCsrO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIGFsbCBvZiB0aGUgY2hhbmdlcyBtYXJrZWQgYnkgdGhlIGNsYXNzLlxuICAgICAqL1xuICAgIERpZmZDaGFuZ2VIZWxwZXIucHJvdG90eXBlLmdldENoYW5nZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLm1fb3JpZ2luYWxDb3VudCA+IDAgfHwgdGhpcy5tX21vZGlmaWVkQ291bnQgPiAwKSB7XG4gICAgICAgICAgICAvLyBGaW5pc2ggdXAgb24gd2hhdGV2ZXIgaXMgbGVmdFxuICAgICAgICAgICAgdGhpcy5NYXJrTmV4dENoYW5nZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLm1fY2hhbmdlcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyBhbGwgb2YgdGhlIGNoYW5nZXMgbWFya2VkIGJ5IHRoZSBjbGFzcyBpbiB0aGUgcmV2ZXJzZSBvcmRlclxuICAgICAqL1xuICAgIERpZmZDaGFuZ2VIZWxwZXIucHJvdG90eXBlLmdldFJldmVyc2VDaGFuZ2VzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5tX29yaWdpbmFsQ291bnQgPiAwIHx8IHRoaXMubV9tb2RpZmllZENvdW50ID4gMCkge1xuICAgICAgICAgICAgLy8gRmluaXNoIHVwIG9uIHdoYXRldmVyIGlzIGxlZnRcbiAgICAgICAgICAgIHRoaXMuTWFya05leHRDaGFuZ2UoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm1fY2hhbmdlcy5yZXZlcnNlKCk7XG4gICAgICAgIHJldHVybiB0aGlzLm1fY2hhbmdlcztcbiAgICB9O1xuICAgIHJldHVybiBEaWZmQ2hhbmdlSGVscGVyO1xufSgpKTtcbnZhciBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG4vKipcbiAqIEFuIGltcGxlbWVudGF0aW9uIG9mIHRoZSBkaWZmZXJlbmNlIGFsZ29yaXRobSBkZXNjcmliZWQgaW5cbiAqIFwiQW4gTyhORCkgRGlmZmVyZW5jZSBBbGdvcml0aG0gYW5kIGl0cyB2YXJpYXRpb25zXCIgYnkgRXVnZW5lIFcuIE15ZXJzXG4gKi9cbnZhciBMY3NEaWZmID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdHMgdGhlIERpZmZGaW5kZXJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBMY3NEaWZmKG9yaWdpbmFsU2VxdWVuY2UsIG5ld1NlcXVlbmNlLCBjb250aW51ZVByb2Nlc3NpbmdQcmVkaWNhdGUpIHtcbiAgICAgICAgaWYgKGNvbnRpbnVlUHJvY2Vzc2luZ1ByZWRpY2F0ZSA9PT0gdm9pZCAwKSB7IGNvbnRpbnVlUHJvY2Vzc2luZ1ByZWRpY2F0ZSA9IG51bGw7IH1cbiAgICAgICAgdGhpcy5PcmlnaW5hbFNlcXVlbmNlID0gb3JpZ2luYWxTZXF1ZW5jZTtcbiAgICAgICAgdGhpcy5Nb2RpZmllZFNlcXVlbmNlID0gbmV3U2VxdWVuY2U7XG4gICAgICAgIHRoaXMuQ29udGludWVQcm9jZXNzaW5nUHJlZGljYXRlID0gY29udGludWVQcm9jZXNzaW5nUHJlZGljYXRlO1xuICAgICAgICB0aGlzLm1fb3JpZ2luYWxJZHMgPSBbXTtcbiAgICAgICAgdGhpcy5tX21vZGlmaWVkSWRzID0gW107XG4gICAgICAgIHRoaXMubV9mb3J3YXJkSGlzdG9yeSA9IFtdO1xuICAgICAgICB0aGlzLm1fcmV2ZXJzZUhpc3RvcnkgPSBbXTtcbiAgICAgICAgdGhpcy5Db21wdXRlVW5pcXVlSWRlbnRpZmllcnMoKTtcbiAgICB9XG4gICAgTGNzRGlmZi5wcm90b3R5cGUuQ29tcHV0ZVVuaXF1ZUlkZW50aWZpZXJzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgb3JpZ2luYWxTZXF1ZW5jZUxlbmd0aCA9IHRoaXMuT3JpZ2luYWxTZXF1ZW5jZS5nZXRMZW5ndGgoKTtcbiAgICAgICAgdmFyIG1vZGlmaWVkU2VxdWVuY2VMZW5ndGggPSB0aGlzLk1vZGlmaWVkU2VxdWVuY2UuZ2V0TGVuZ3RoKCk7XG4gICAgICAgIHRoaXMubV9vcmlnaW5hbElkcyA9IG5ldyBBcnJheShvcmlnaW5hbFNlcXVlbmNlTGVuZ3RoKTtcbiAgICAgICAgdGhpcy5tX21vZGlmaWVkSWRzID0gbmV3IEFycmF5KG1vZGlmaWVkU2VxdWVuY2VMZW5ndGgpO1xuICAgICAgICAvLyBDcmVhdGUgYSBuZXcgaGFzaCB0YWJsZSBmb3IgdW5pcXVlIGVsZW1lbnRzIGZyb20gdGhlIG9yaWdpbmFsXG4gICAgICAgIC8vIHNlcXVlbmNlLlxuICAgICAgICB2YXIgaGFzaFRhYmxlID0ge307XG4gICAgICAgIHZhciBjdXJyZW50VW5pcXVlSWQgPSAxO1xuICAgICAgICB2YXIgaTtcbiAgICAgICAgLy8gRmlsbCB1cCB0aGUgaGFzaCB0YWJsZSBmb3IgdW5pcXVlIGVsZW1lbnRzXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBvcmlnaW5hbFNlcXVlbmNlTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBvcmlnaW5hbEVsZW1lbnRIYXNoID0gdGhpcy5PcmlnaW5hbFNlcXVlbmNlLmdldEVsZW1lbnRIYXNoKGkpO1xuICAgICAgICAgICAgaWYgKCFoYXNPd25Qcm9wZXJ0eS5jYWxsKGhhc2hUYWJsZSwgb3JpZ2luYWxFbGVtZW50SGFzaCkpIHtcbiAgICAgICAgICAgICAgICAvLyBObyBlbnRyeSBpbiB0aGUgaGFzaHRhYmxlIHNvIHRoaXMgaXMgYSBuZXcgdW5pcXVlIGVsZW1lbnQuXG4gICAgICAgICAgICAgICAgLy8gQXNzaWduIHRoZSBlbGVtZW50IGEgbmV3IHVuaXF1ZSBpZGVudGlmaWVyIGFuZCBhZGQgaXQgdG8gdGhlXG4gICAgICAgICAgICAgICAgLy8gaGFzaCB0YWJsZVxuICAgICAgICAgICAgICAgIHRoaXMubV9vcmlnaW5hbElkc1tpXSA9IGN1cnJlbnRVbmlxdWVJZCsrO1xuICAgICAgICAgICAgICAgIGhhc2hUYWJsZVtvcmlnaW5hbEVsZW1lbnRIYXNoXSA9IHRoaXMubV9vcmlnaW5hbElkc1tpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMubV9vcmlnaW5hbElkc1tpXSA9IGhhc2hUYWJsZVtvcmlnaW5hbEVsZW1lbnRIYXNoXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBOb3cgbWF0Y2ggdXAgbW9kaWZpZWQgZWxlbWVudHNcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IG1vZGlmaWVkU2VxdWVuY2VMZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIG1vZGlmaWVkRWxlbWVudEhhc2ggPSB0aGlzLk1vZGlmaWVkU2VxdWVuY2UuZ2V0RWxlbWVudEhhc2goaSk7XG4gICAgICAgICAgICBpZiAoIWhhc093blByb3BlcnR5LmNhbGwoaGFzaFRhYmxlLCBtb2RpZmllZEVsZW1lbnRIYXNoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMubV9tb2RpZmllZElkc1tpXSA9IGN1cnJlbnRVbmlxdWVJZCsrO1xuICAgICAgICAgICAgICAgIGhhc2hUYWJsZVttb2RpZmllZEVsZW1lbnRIYXNoXSA9IHRoaXMubV9tb2RpZmllZElkc1tpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMubV9tb2RpZmllZElkc1tpXSA9IGhhc2hUYWJsZVttb2RpZmllZEVsZW1lbnRIYXNoXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgTGNzRGlmZi5wcm90b3R5cGUuRWxlbWVudHNBcmVFcXVhbCA9IGZ1bmN0aW9uIChvcmlnaW5hbEluZGV4LCBuZXdJbmRleCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tX29yaWdpbmFsSWRzW29yaWdpbmFsSW5kZXhdID09PSB0aGlzLm1fbW9kaWZpZWRJZHNbbmV3SW5kZXhdO1xuICAgIH07XG4gICAgTGNzRGlmZi5wcm90b3R5cGUuT3JpZ2luYWxFbGVtZW50c0FyZUVxdWFsID0gZnVuY3Rpb24gKGluZGV4MSwgaW5kZXgyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1fb3JpZ2luYWxJZHNbaW5kZXgxXSA9PT0gdGhpcy5tX29yaWdpbmFsSWRzW2luZGV4Ml07XG4gICAgfTtcbiAgICBMY3NEaWZmLnByb3RvdHlwZS5Nb2RpZmllZEVsZW1lbnRzQXJlRXF1YWwgPSBmdW5jdGlvbiAoaW5kZXgxLCBpbmRleDIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubV9tb2RpZmllZElkc1tpbmRleDFdID09PSB0aGlzLm1fbW9kaWZpZWRJZHNbaW5kZXgyXTtcbiAgICB9O1xuICAgIExjc0RpZmYucHJvdG90eXBlLkNvbXB1dGVEaWZmID0gZnVuY3Rpb24gKHByZXR0eSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fQ29tcHV0ZURpZmYoMCwgdGhpcy5PcmlnaW5hbFNlcXVlbmNlLmdldExlbmd0aCgpIC0gMSwgMCwgdGhpcy5Nb2RpZmllZFNlcXVlbmNlLmdldExlbmd0aCgpIC0gMSwgcHJldHR5KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIHRoZSBkaWZmZXJlbmNlcyBiZXR3ZWVuIHRoZSBvcmlnaW5hbCBhbmQgbW9kaWZpZWQgaW5wdXRcbiAgICAgKiBzZXF1ZW5jZXMgb24gdGhlIGJvdW5kZWQgcmFuZ2UuXG4gICAgICogQHJldHVybnMgQW4gYXJyYXkgb2YgdGhlIGRpZmZlcmVuY2VzIGJldHdlZW4gdGhlIHR3byBpbnB1dCBzZXF1ZW5jZXMuXG4gICAgICovXG4gICAgTGNzRGlmZi5wcm90b3R5cGUuX0NvbXB1dGVEaWZmID0gZnVuY3Rpb24gKG9yaWdpbmFsU3RhcnQsIG9yaWdpbmFsRW5kLCBtb2RpZmllZFN0YXJ0LCBtb2RpZmllZEVuZCwgcHJldHR5KSB7XG4gICAgICAgIHZhciBxdWl0RWFybHlBcnIgPSBbZmFsc2VdO1xuICAgICAgICB2YXIgY2hhbmdlcyA9IHRoaXMuQ29tcHV0ZURpZmZSZWN1cnNpdmUob3JpZ2luYWxTdGFydCwgb3JpZ2luYWxFbmQsIG1vZGlmaWVkU3RhcnQsIG1vZGlmaWVkRW5kLCBxdWl0RWFybHlBcnIpO1xuICAgICAgICBpZiAocHJldHR5KSB7XG4gICAgICAgICAgICAvLyBXZSBoYXZlIHRvIGNsZWFuIHVwIHRoZSBjb21wdXRlZCBkaWZmIHRvIGJlIG1vcmUgaW50dWl0aXZlXG4gICAgICAgICAgICAvLyBidXQgaXQgdHVybnMgb3V0IHRoaXMgY2Fubm90IGJlIGRvbmUgY29ycmVjdGx5IHVudGlsIHRoZSBlbnRpcmUgc2V0XG4gICAgICAgICAgICAvLyBvZiBkaWZmcyBoYXZlIGJlZW4gY29tcHV0ZWRcbiAgICAgICAgICAgIHJldHVybiB0aGlzLlNoaWZ0Q2hhbmdlcyhjaGFuZ2VzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2hhbmdlcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFByaXZhdGUgaGVscGVyIG1ldGhvZCB3aGljaCBjb21wdXRlcyB0aGUgZGlmZmVyZW5jZXMgb24gdGhlIGJvdW5kZWQgcmFuZ2VcbiAgICAgKiByZWN1cnNpdmVseS5cbiAgICAgKiBAcmV0dXJucyBBbiBhcnJheSBvZiB0aGUgZGlmZmVyZW5jZXMgYmV0d2VlbiB0aGUgdHdvIGlucHV0IHNlcXVlbmNlcy5cbiAgICAgKi9cbiAgICBMY3NEaWZmLnByb3RvdHlwZS5Db21wdXRlRGlmZlJlY3Vyc2l2ZSA9IGZ1bmN0aW9uIChvcmlnaW5hbFN0YXJ0LCBvcmlnaW5hbEVuZCwgbW9kaWZpZWRTdGFydCwgbW9kaWZpZWRFbmQsIHF1aXRFYXJseUFycikge1xuICAgICAgICBxdWl0RWFybHlBcnJbMF0gPSBmYWxzZTtcbiAgICAgICAgLy8gRmluZCB0aGUgc3RhcnQgb2YgdGhlIGRpZmZlcmVuY2VzXG4gICAgICAgIHdoaWxlIChvcmlnaW5hbFN0YXJ0IDw9IG9yaWdpbmFsRW5kICYmIG1vZGlmaWVkU3RhcnQgPD0gbW9kaWZpZWRFbmQgJiYgdGhpcy5FbGVtZW50c0FyZUVxdWFsKG9yaWdpbmFsU3RhcnQsIG1vZGlmaWVkU3RhcnQpKSB7XG4gICAgICAgICAgICBvcmlnaW5hbFN0YXJ0Kys7XG4gICAgICAgICAgICBtb2RpZmllZFN0YXJ0Kys7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRmluZCB0aGUgZW5kIG9mIHRoZSBkaWZmZXJlbmNlc1xuICAgICAgICB3aGlsZSAob3JpZ2luYWxFbmQgPj0gb3JpZ2luYWxTdGFydCAmJiBtb2RpZmllZEVuZCA+PSBtb2RpZmllZFN0YXJ0ICYmIHRoaXMuRWxlbWVudHNBcmVFcXVhbChvcmlnaW5hbEVuZCwgbW9kaWZpZWRFbmQpKSB7XG4gICAgICAgICAgICBvcmlnaW5hbEVuZC0tO1xuICAgICAgICAgICAgbW9kaWZpZWRFbmQtLTtcbiAgICAgICAgfVxuICAgICAgICAvLyBJbiB0aGUgc3BlY2lhbCBjYXNlIHdoZXJlIHdlIGVpdGhlciBoYXZlIGFsbCBpbnNlcnRpb25zIG9yIGFsbCBkZWxldGlvbnMgb3IgdGhlIHNlcXVlbmNlcyBhcmUgaWRlbnRpY2FsXG4gICAgICAgIGlmIChvcmlnaW5hbFN0YXJ0ID4gb3JpZ2luYWxFbmQgfHwgbW9kaWZpZWRTdGFydCA+IG1vZGlmaWVkRW5kKSB7XG4gICAgICAgICAgICB2YXIgY2hhbmdlcyA9IHZvaWQgMDtcbiAgICAgICAgICAgIGlmIChtb2RpZmllZFN0YXJ0IDw9IG1vZGlmaWVkRW5kKSB7XG4gICAgICAgICAgICAgICAgRGVidWcuQXNzZXJ0KG9yaWdpbmFsU3RhcnQgPT09IG9yaWdpbmFsRW5kICsgMSwgJ29yaWdpbmFsU3RhcnQgc2hvdWxkIG9ubHkgYmUgb25lIG1vcmUgdGhhbiBvcmlnaW5hbEVuZCcpO1xuICAgICAgICAgICAgICAgIC8vIEFsbCBpbnNlcnRpb25zXG4gICAgICAgICAgICAgICAgY2hhbmdlcyA9IFtcbiAgICAgICAgICAgICAgICAgICAgbmV3IERpZmZDaGFuZ2Uob3JpZ2luYWxTdGFydCwgMCwgbW9kaWZpZWRTdGFydCwgbW9kaWZpZWRFbmQgLSBtb2RpZmllZFN0YXJ0ICsgMSlcbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAob3JpZ2luYWxTdGFydCA8PSBvcmlnaW5hbEVuZCkge1xuICAgICAgICAgICAgICAgIERlYnVnLkFzc2VydChtb2RpZmllZFN0YXJ0ID09PSBtb2RpZmllZEVuZCArIDEsICdtb2RpZmllZFN0YXJ0IHNob3VsZCBvbmx5IGJlIG9uZSBtb3JlIHRoYW4gbW9kaWZpZWRFbmQnKTtcbiAgICAgICAgICAgICAgICAvLyBBbGwgZGVsZXRpb25zXG4gICAgICAgICAgICAgICAgY2hhbmdlcyA9IFtcbiAgICAgICAgICAgICAgICAgICAgbmV3IERpZmZDaGFuZ2Uob3JpZ2luYWxTdGFydCwgb3JpZ2luYWxFbmQgLSBvcmlnaW5hbFN0YXJ0ICsgMSwgbW9kaWZpZWRTdGFydCwgMClcbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgRGVidWcuQXNzZXJ0KG9yaWdpbmFsU3RhcnQgPT09IG9yaWdpbmFsRW5kICsgMSwgJ29yaWdpbmFsU3RhcnQgc2hvdWxkIG9ubHkgYmUgb25lIG1vcmUgdGhhbiBvcmlnaW5hbEVuZCcpO1xuICAgICAgICAgICAgICAgIERlYnVnLkFzc2VydChtb2RpZmllZFN0YXJ0ID09PSBtb2RpZmllZEVuZCArIDEsICdtb2RpZmllZFN0YXJ0IHNob3VsZCBvbmx5IGJlIG9uZSBtb3JlIHRoYW4gbW9kaWZpZWRFbmQnKTtcbiAgICAgICAgICAgICAgICAvLyBJZGVudGljYWwgc2VxdWVuY2VzIC0gTm8gZGlmZmVyZW5jZXNcbiAgICAgICAgICAgICAgICBjaGFuZ2VzID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY2hhbmdlcztcbiAgICAgICAgfVxuICAgICAgICAvLyBUaGlzIHByb2JsZW0gY2FuIGJlIHNvbHZlZCB1c2luZyB0aGUgRGl2aWRlLUFuZC1Db25xdWVyIHRlY2huaXF1ZS5cbiAgICAgICAgdmFyIG1pZE9yaWdpbmFsQXJyID0gWzBdLCBtaWRNb2RpZmllZEFyciA9IFswXTtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHRoaXMuQ29tcHV0ZVJlY3Vyc2lvblBvaW50KG9yaWdpbmFsU3RhcnQsIG9yaWdpbmFsRW5kLCBtb2RpZmllZFN0YXJ0LCBtb2RpZmllZEVuZCwgbWlkT3JpZ2luYWxBcnIsIG1pZE1vZGlmaWVkQXJyLCBxdWl0RWFybHlBcnIpO1xuICAgICAgICB2YXIgbWlkT3JpZ2luYWwgPSBtaWRPcmlnaW5hbEFyclswXTtcbiAgICAgICAgdmFyIG1pZE1vZGlmaWVkID0gbWlkTW9kaWZpZWRBcnJbMF07XG4gICAgICAgIGlmIChyZXN1bHQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIFJlc3VsdCBpcyBub3QtbnVsbCB3aGVuIHRoZXJlIHdhcyBlbm91Z2ggbWVtb3J5IHRvIGNvbXB1dGUgdGhlIGNoYW5nZXMgd2hpbGVcbiAgICAgICAgICAgIC8vIHNlYXJjaGluZyBmb3IgdGhlIHJlY3Vyc2lvbiBwb2ludFxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghcXVpdEVhcmx5QXJyWzBdKSB7XG4gICAgICAgICAgICAvLyBXZSBjYW4gYnJlYWsgdGhlIHByb2JsZW0gZG93biByZWN1cnNpdmVseSBieSBmaW5kaW5nIHRoZSBjaGFuZ2VzIGluIHRoZVxuICAgICAgICAgICAgLy8gRmlyc3QgSGFsZjogICAob3JpZ2luYWxTdGFydCwgbW9kaWZpZWRTdGFydCkgdG8gKG1pZE9yaWdpbmFsLCBtaWRNb2RpZmllZClcbiAgICAgICAgICAgIC8vIFNlY29uZCBIYWxmOiAgKG1pZE9yaWdpbmFsICsgMSwgbWluTW9kaWZpZWQgKyAxKSB0byAob3JpZ2luYWxFbmQsIG1vZGlmaWVkRW5kKVxuICAgICAgICAgICAgLy8gTk9URTogQ29tcHV0ZURpZmYoKSBpcyBpbmNsdXNpdmUsIHRoZXJlZm9yZSB0aGUgc2Vjb25kIHJhbmdlIHN0YXJ0cyBvbiB0aGUgbmV4dCBwb2ludFxuICAgICAgICAgICAgdmFyIGxlZnRDaGFuZ2VzID0gdGhpcy5Db21wdXRlRGlmZlJlY3Vyc2l2ZShvcmlnaW5hbFN0YXJ0LCBtaWRPcmlnaW5hbCwgbW9kaWZpZWRTdGFydCwgbWlkTW9kaWZpZWQsIHF1aXRFYXJseUFycik7XG4gICAgICAgICAgICB2YXIgcmlnaHRDaGFuZ2VzID0gW107XG4gICAgICAgICAgICBpZiAoIXF1aXRFYXJseUFyclswXSkge1xuICAgICAgICAgICAgICAgIHJpZ2h0Q2hhbmdlcyA9IHRoaXMuQ29tcHV0ZURpZmZSZWN1cnNpdmUobWlkT3JpZ2luYWwgKyAxLCBvcmlnaW5hbEVuZCwgbWlkTW9kaWZpZWQgKyAxLCBtb2RpZmllZEVuZCwgcXVpdEVhcmx5QXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFdlIGRpZCd0IGhhdmUgdGltZSB0byBmaW5pc2ggdGhlIGZpcnN0IGhhbGYsIHNvIHdlIGRvbid0IGhhdmUgdGltZSB0byBjb21wdXRlIHRoaXMgaGFsZi5cbiAgICAgICAgICAgICAgICAvLyBDb25zaWRlciB0aGUgZW50aXJlIHJlc3Qgb2YgdGhlIHNlcXVlbmNlIGRpZmZlcmVudC5cbiAgICAgICAgICAgICAgICByaWdodENoYW5nZXMgPSBbXG4gICAgICAgICAgICAgICAgICAgIG5ldyBEaWZmQ2hhbmdlKG1pZE9yaWdpbmFsICsgMSwgb3JpZ2luYWxFbmQgLSAobWlkT3JpZ2luYWwgKyAxKSArIDEsIG1pZE1vZGlmaWVkICsgMSwgbW9kaWZpZWRFbmQgLSAobWlkTW9kaWZpZWQgKyAxKSArIDEpXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLkNvbmNhdGVuYXRlQ2hhbmdlcyhsZWZ0Q2hhbmdlcywgcmlnaHRDaGFuZ2VzKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBJZiB3ZSBoaXQgaGVyZSwgd2UgcXVpdCBlYXJseSwgYW5kIHNvIGNhbid0IHJldHVybiBhbnl0aGluZyBtZWFuaW5nZnVsXG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICBuZXcgRGlmZkNoYW5nZShvcmlnaW5hbFN0YXJ0LCBvcmlnaW5hbEVuZCAtIG9yaWdpbmFsU3RhcnQgKyAxLCBtb2RpZmllZFN0YXJ0LCBtb2RpZmllZEVuZCAtIG1vZGlmaWVkU3RhcnQgKyAxKVxuICAgICAgICBdO1xuICAgIH07XG4gICAgTGNzRGlmZi5wcm90b3R5cGUuV0FMS1RSQUNFID0gZnVuY3Rpb24gKGRpYWdvbmFsRm9yd2FyZEJhc2UsIGRpYWdvbmFsRm9yd2FyZFN0YXJ0LCBkaWFnb25hbEZvcndhcmRFbmQsIGRpYWdvbmFsRm9yd2FyZE9mZnNldCwgZGlhZ29uYWxSZXZlcnNlQmFzZSwgZGlhZ29uYWxSZXZlcnNlU3RhcnQsIGRpYWdvbmFsUmV2ZXJzZUVuZCwgZGlhZ29uYWxSZXZlcnNlT2Zmc2V0LCBmb3J3YXJkUG9pbnRzLCByZXZlcnNlUG9pbnRzLCBvcmlnaW5hbEluZGV4LCBvcmlnaW5hbEVuZCwgbWlkT3JpZ2luYWxBcnIsIG1vZGlmaWVkSW5kZXgsIG1vZGlmaWVkRW5kLCBtaWRNb2RpZmllZEFyciwgZGVsdGFJc0V2ZW4sIHF1aXRFYXJseUFycikge1xuICAgICAgICB2YXIgZm9yd2FyZENoYW5nZXMgPSBudWxsLCByZXZlcnNlQ2hhbmdlcyA9IG51bGw7XG4gICAgICAgIC8vIEZpcnN0LCB3YWxrIGJhY2t3YXJkIHRocm91Z2ggdGhlIGZvcndhcmQgZGlhZ29uYWxzIGhpc3RvcnlcbiAgICAgICAgdmFyIGNoYW5nZUhlbHBlciA9IG5ldyBEaWZmQ2hhbmdlSGVscGVyKCk7XG4gICAgICAgIHZhciBkaWFnb25hbE1pbiA9IGRpYWdvbmFsRm9yd2FyZFN0YXJ0O1xuICAgICAgICB2YXIgZGlhZ29uYWxNYXggPSBkaWFnb25hbEZvcndhcmRFbmQ7XG4gICAgICAgIHZhciBkaWFnb25hbFJlbGF0aXZlID0gKG1pZE9yaWdpbmFsQXJyWzBdIC0gbWlkTW9kaWZpZWRBcnJbMF0pIC0gZGlhZ29uYWxGb3J3YXJkT2Zmc2V0O1xuICAgICAgICB2YXIgbGFzdE9yaWdpbmFsSW5kZXggPSBOdW1iZXIuTUlOX1ZBTFVFO1xuICAgICAgICB2YXIgaGlzdG9yeUluZGV4ID0gdGhpcy5tX2ZvcndhcmRIaXN0b3J5Lmxlbmd0aCAtIDE7XG4gICAgICAgIHZhciBkaWFnb25hbDtcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgLy8gR2V0IHRoZSBkaWFnb25hbCBpbmRleCBmcm9tIHRoZSByZWxhdGl2ZSBkaWFnb25hbCBudW1iZXJcbiAgICAgICAgICAgIGRpYWdvbmFsID0gZGlhZ29uYWxSZWxhdGl2ZSArIGRpYWdvbmFsRm9yd2FyZEJhc2U7XG4gICAgICAgICAgICAvLyBGaWd1cmUgb3V0IHdoZXJlIHdlIGNhbWUgZnJvbVxuICAgICAgICAgICAgaWYgKGRpYWdvbmFsID09PSBkaWFnb25hbE1pbiB8fCAoZGlhZ29uYWwgPCBkaWFnb25hbE1heCAmJiBmb3J3YXJkUG9pbnRzW2RpYWdvbmFsIC0gMV0gPCBmb3J3YXJkUG9pbnRzW2RpYWdvbmFsICsgMV0pKSB7XG4gICAgICAgICAgICAgICAgLy8gVmVydGljYWwgbGluZSAodGhlIGVsZW1lbnQgaXMgYW4gaW5zZXJ0KVxuICAgICAgICAgICAgICAgIG9yaWdpbmFsSW5kZXggPSBmb3J3YXJkUG9pbnRzW2RpYWdvbmFsICsgMV07XG4gICAgICAgICAgICAgICAgbW9kaWZpZWRJbmRleCA9IG9yaWdpbmFsSW5kZXggLSBkaWFnb25hbFJlbGF0aXZlIC0gZGlhZ29uYWxGb3J3YXJkT2Zmc2V0O1xuICAgICAgICAgICAgICAgIGlmIChvcmlnaW5hbEluZGV4IDwgbGFzdE9yaWdpbmFsSW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlSGVscGVyLk1hcmtOZXh0Q2hhbmdlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxhc3RPcmlnaW5hbEluZGV4ID0gb3JpZ2luYWxJbmRleDtcbiAgICAgICAgICAgICAgICBjaGFuZ2VIZWxwZXIuQWRkTW9kaWZpZWRFbGVtZW50KG9yaWdpbmFsSW5kZXggKyAxLCBtb2RpZmllZEluZGV4KTtcbiAgICAgICAgICAgICAgICBkaWFnb25hbFJlbGF0aXZlID0gKGRpYWdvbmFsICsgMSkgLSBkaWFnb25hbEZvcndhcmRCYXNlOyAvL1NldHVwIGZvciB0aGUgbmV4dCBpdGVyYXRpb25cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIEhvcml6b250YWwgbGluZSAodGhlIGVsZW1lbnQgaXMgYSBkZWxldGlvbilcbiAgICAgICAgICAgICAgICBvcmlnaW5hbEluZGV4ID0gZm9yd2FyZFBvaW50c1tkaWFnb25hbCAtIDFdICsgMTtcbiAgICAgICAgICAgICAgICBtb2RpZmllZEluZGV4ID0gb3JpZ2luYWxJbmRleCAtIGRpYWdvbmFsUmVsYXRpdmUgLSBkaWFnb25hbEZvcndhcmRPZmZzZXQ7XG4gICAgICAgICAgICAgICAgaWYgKG9yaWdpbmFsSW5kZXggPCBsYXN0T3JpZ2luYWxJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICBjaGFuZ2VIZWxwZXIuTWFya05leHRDaGFuZ2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGFzdE9yaWdpbmFsSW5kZXggPSBvcmlnaW5hbEluZGV4IC0gMTtcbiAgICAgICAgICAgICAgICBjaGFuZ2VIZWxwZXIuQWRkT3JpZ2luYWxFbGVtZW50KG9yaWdpbmFsSW5kZXgsIG1vZGlmaWVkSW5kZXggKyAxKTtcbiAgICAgICAgICAgICAgICBkaWFnb25hbFJlbGF0aXZlID0gKGRpYWdvbmFsIC0gMSkgLSBkaWFnb25hbEZvcndhcmRCYXNlOyAvL1NldHVwIGZvciB0aGUgbmV4dCBpdGVyYXRpb25cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChoaXN0b3J5SW5kZXggPj0gMCkge1xuICAgICAgICAgICAgICAgIGZvcndhcmRQb2ludHMgPSB0aGlzLm1fZm9yd2FyZEhpc3RvcnlbaGlzdG9yeUluZGV4XTtcbiAgICAgICAgICAgICAgICBkaWFnb25hbEZvcndhcmRCYXNlID0gZm9yd2FyZFBvaW50c1swXTsgLy9XZSBzdG9yZWQgdGhpcyBpbiB0aGUgZmlyc3Qgc3BvdFxuICAgICAgICAgICAgICAgIGRpYWdvbmFsTWluID0gMTtcbiAgICAgICAgICAgICAgICBkaWFnb25hbE1heCA9IGZvcndhcmRQb2ludHMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSB3aGlsZSAoLS1oaXN0b3J5SW5kZXggPj0gLTEpO1xuICAgICAgICAvLyBJcm9uaWNhbGx5LCB3ZSBnZXQgdGhlIGZvcndhcmQgY2hhbmdlcyBhcyB0aGUgcmV2ZXJzZSBvZiB0aGVcbiAgICAgICAgLy8gb3JkZXIgd2UgYWRkZWQgdGhlbSBzaW5jZSB3ZSB0ZWNobmljYWxseSBhZGRlZCB0aGVtIGJhY2t3YXJkc1xuICAgICAgICBmb3J3YXJkQ2hhbmdlcyA9IGNoYW5nZUhlbHBlci5nZXRSZXZlcnNlQ2hhbmdlcygpO1xuICAgICAgICBpZiAocXVpdEVhcmx5QXJyWzBdKSB7XG4gICAgICAgICAgICAvLyBUT0RPOiBDYWxjdWxhdGUgYSBwYXJ0aWFsIGZyb20gdGhlIHJldmVyc2UgZGlhZ29uYWxzLlxuICAgICAgICAgICAgLy8gICAgICAgRm9yIG5vdywganVzdCBhc3N1bWUgZXZlcnl0aGluZyBhZnRlciB0aGUgbWlkT3JpZ2luYWwvbWlkTW9kaWZpZWQgcG9pbnQgaXMgYSBkaWZmXG4gICAgICAgICAgICB2YXIgb3JpZ2luYWxTdGFydFBvaW50ID0gbWlkT3JpZ2luYWxBcnJbMF0gKyAxO1xuICAgICAgICAgICAgdmFyIG1vZGlmaWVkU3RhcnRQb2ludCA9IG1pZE1vZGlmaWVkQXJyWzBdICsgMTtcbiAgICAgICAgICAgIGlmIChmb3J3YXJkQ2hhbmdlcyAhPT0gbnVsbCAmJiBmb3J3YXJkQ2hhbmdlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgdmFyIGxhc3RGb3J3YXJkQ2hhbmdlID0gZm9yd2FyZENoYW5nZXNbZm9yd2FyZENoYW5nZXMubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICAgICAgb3JpZ2luYWxTdGFydFBvaW50ID0gTWF0aC5tYXgob3JpZ2luYWxTdGFydFBvaW50LCBsYXN0Rm9yd2FyZENoYW5nZS5nZXRPcmlnaW5hbEVuZCgpKTtcbiAgICAgICAgICAgICAgICBtb2RpZmllZFN0YXJ0UG9pbnQgPSBNYXRoLm1heChtb2RpZmllZFN0YXJ0UG9pbnQsIGxhc3RGb3J3YXJkQ2hhbmdlLmdldE1vZGlmaWVkRW5kKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV2ZXJzZUNoYW5nZXMgPSBbXG4gICAgICAgICAgICAgICAgbmV3IERpZmZDaGFuZ2Uob3JpZ2luYWxTdGFydFBvaW50LCBvcmlnaW5hbEVuZCAtIG9yaWdpbmFsU3RhcnRQb2ludCArIDEsIG1vZGlmaWVkU3RhcnRQb2ludCwgbW9kaWZpZWRFbmQgLSBtb2RpZmllZFN0YXJ0UG9pbnQgKyAxKVxuICAgICAgICAgICAgXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIE5vdyB3YWxrIGJhY2t3YXJkIHRocm91Z2ggdGhlIHJldmVyc2UgZGlhZ29uYWxzIGhpc3RvcnlcbiAgICAgICAgICAgIGNoYW5nZUhlbHBlciA9IG5ldyBEaWZmQ2hhbmdlSGVscGVyKCk7XG4gICAgICAgICAgICBkaWFnb25hbE1pbiA9IGRpYWdvbmFsUmV2ZXJzZVN0YXJ0O1xuICAgICAgICAgICAgZGlhZ29uYWxNYXggPSBkaWFnb25hbFJldmVyc2VFbmQ7XG4gICAgICAgICAgICBkaWFnb25hbFJlbGF0aXZlID0gKG1pZE9yaWdpbmFsQXJyWzBdIC0gbWlkTW9kaWZpZWRBcnJbMF0pIC0gZGlhZ29uYWxSZXZlcnNlT2Zmc2V0O1xuICAgICAgICAgICAgbGFzdE9yaWdpbmFsSW5kZXggPSBOdW1iZXIuTUFYX1ZBTFVFO1xuICAgICAgICAgICAgaGlzdG9yeUluZGV4ID0gKGRlbHRhSXNFdmVuKSA/IHRoaXMubV9yZXZlcnNlSGlzdG9yeS5sZW5ndGggLSAxIDogdGhpcy5tX3JldmVyc2VIaXN0b3J5Lmxlbmd0aCAtIDI7XG4gICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgLy8gR2V0IHRoZSBkaWFnb25hbCBpbmRleCBmcm9tIHRoZSByZWxhdGl2ZSBkaWFnb25hbCBudW1iZXJcbiAgICAgICAgICAgICAgICBkaWFnb25hbCA9IGRpYWdvbmFsUmVsYXRpdmUgKyBkaWFnb25hbFJldmVyc2VCYXNlO1xuICAgICAgICAgICAgICAgIC8vIEZpZ3VyZSBvdXQgd2hlcmUgd2UgY2FtZSBmcm9tXG4gICAgICAgICAgICAgICAgaWYgKGRpYWdvbmFsID09PSBkaWFnb25hbE1pbiB8fCAoZGlhZ29uYWwgPCBkaWFnb25hbE1heCAmJiByZXZlcnNlUG9pbnRzW2RpYWdvbmFsIC0gMV0gPj0gcmV2ZXJzZVBvaW50c1tkaWFnb25hbCArIDFdKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBIb3Jpem9udGFsIGxpbmUgKHRoZSBlbGVtZW50IGlzIGEgZGVsZXRpb24pKVxuICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbEluZGV4ID0gcmV2ZXJzZVBvaW50c1tkaWFnb25hbCArIDFdIC0gMTtcbiAgICAgICAgICAgICAgICAgICAgbW9kaWZpZWRJbmRleCA9IG9yaWdpbmFsSW5kZXggLSBkaWFnb25hbFJlbGF0aXZlIC0gZGlhZ29uYWxSZXZlcnNlT2Zmc2V0O1xuICAgICAgICAgICAgICAgICAgICBpZiAob3JpZ2luYWxJbmRleCA+IGxhc3RPcmlnaW5hbEluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2VIZWxwZXIuTWFya05leHRDaGFuZ2UoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBsYXN0T3JpZ2luYWxJbmRleCA9IG9yaWdpbmFsSW5kZXggKyAxO1xuICAgICAgICAgICAgICAgICAgICBjaGFuZ2VIZWxwZXIuQWRkT3JpZ2luYWxFbGVtZW50KG9yaWdpbmFsSW5kZXggKyAxLCBtb2RpZmllZEluZGV4ICsgMSk7XG4gICAgICAgICAgICAgICAgICAgIGRpYWdvbmFsUmVsYXRpdmUgPSAoZGlhZ29uYWwgKyAxKSAtIGRpYWdvbmFsUmV2ZXJzZUJhc2U7IC8vU2V0dXAgZm9yIHRoZSBuZXh0IGl0ZXJhdGlvblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVmVydGljYWwgbGluZSAodGhlIGVsZW1lbnQgaXMgYW4gaW5zZXJ0aW9uKVxuICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbEluZGV4ID0gcmV2ZXJzZVBvaW50c1tkaWFnb25hbCAtIDFdO1xuICAgICAgICAgICAgICAgICAgICBtb2RpZmllZEluZGV4ID0gb3JpZ2luYWxJbmRleCAtIGRpYWdvbmFsUmVsYXRpdmUgLSBkaWFnb25hbFJldmVyc2VPZmZzZXQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcmlnaW5hbEluZGV4ID4gbGFzdE9yaWdpbmFsSW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZUhlbHBlci5NYXJrTmV4dENoYW5nZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGxhc3RPcmlnaW5hbEluZGV4ID0gb3JpZ2luYWxJbmRleDtcbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlSGVscGVyLkFkZE1vZGlmaWVkRWxlbWVudChvcmlnaW5hbEluZGV4ICsgMSwgbW9kaWZpZWRJbmRleCArIDEpO1xuICAgICAgICAgICAgICAgICAgICBkaWFnb25hbFJlbGF0aXZlID0gKGRpYWdvbmFsIC0gMSkgLSBkaWFnb25hbFJldmVyc2VCYXNlOyAvL1NldHVwIGZvciB0aGUgbmV4dCBpdGVyYXRpb25cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGhpc3RvcnlJbmRleCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldmVyc2VQb2ludHMgPSB0aGlzLm1fcmV2ZXJzZUhpc3RvcnlbaGlzdG9yeUluZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgZGlhZ29uYWxSZXZlcnNlQmFzZSA9IHJldmVyc2VQb2ludHNbMF07IC8vV2Ugc3RvcmVkIHRoaXMgaW4gdGhlIGZpcnN0IHNwb3RcbiAgICAgICAgICAgICAgICAgICAgZGlhZ29uYWxNaW4gPSAxO1xuICAgICAgICAgICAgICAgICAgICBkaWFnb25hbE1heCA9IHJldmVyc2VQb2ludHMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IHdoaWxlICgtLWhpc3RvcnlJbmRleCA+PSAtMSk7XG4gICAgICAgICAgICAvLyBUaGVyZSBhcmUgY2FzZXMgd2hlcmUgdGhlIHJldmVyc2UgaGlzdG9yeSB3aWxsIGZpbmQgZGlmZnMgdGhhdFxuICAgICAgICAgICAgLy8gYXJlIGNvcnJlY3QsIGJ1dCBub3QgaW50dWl0aXZlLCBzbyB3ZSBuZWVkIHNoaWZ0IHRoZW0uXG4gICAgICAgICAgICByZXZlcnNlQ2hhbmdlcyA9IGNoYW5nZUhlbHBlci5nZXRDaGFuZ2VzKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuQ29uY2F0ZW5hdGVDaGFuZ2VzKGZvcndhcmRDaGFuZ2VzLCByZXZlcnNlQ2hhbmdlcyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHaXZlbiB0aGUgcmFuZ2UgdG8gY29tcHV0ZSB0aGUgZGlmZiBvbiwgdGhpcyBtZXRob2QgZmluZHMgdGhlIHBvaW50OlxuICAgICAqIChtaWRPcmlnaW5hbCwgbWlkTW9kaWZpZWQpXG4gICAgICogdGhhdCBleGlzdHMgaW4gdGhlIG1pZGRsZSBvZiB0aGUgTENTIG9mIHRoZSB0d28gc2VxdWVuY2VzIGFuZFxuICAgICAqIGlzIHRoZSBwb2ludCBhdCB3aGljaCB0aGUgTENTIHByb2JsZW0gbWF5IGJlIGJyb2tlbiBkb3duIHJlY3Vyc2l2ZWx5LlxuICAgICAqIFRoaXMgbWV0aG9kIHdpbGwgdHJ5IHRvIGtlZXAgdGhlIExDUyB0cmFjZSBpbiBtZW1vcnkuIElmIHRoZSBMQ1MgcmVjdXJzaW9uXG4gICAgICogcG9pbnQgaXMgY2FsY3VsYXRlZCBhbmQgdGhlIGZ1bGwgdHJhY2UgaXMgYXZhaWxhYmxlIGluIG1lbW9yeSwgdGhlbiB0aGlzIG1ldGhvZFxuICAgICAqIHdpbGwgcmV0dXJuIHRoZSBjaGFuZ2UgbGlzdC5cbiAgICAgKiBAcGFyYW0gb3JpZ2luYWxTdGFydCBUaGUgc3RhcnQgYm91bmQgb2YgdGhlIG9yaWdpbmFsIHNlcXVlbmNlIHJhbmdlXG4gICAgICogQHBhcmFtIG9yaWdpbmFsRW5kIFRoZSBlbmQgYm91bmQgb2YgdGhlIG9yaWdpbmFsIHNlcXVlbmNlIHJhbmdlXG4gICAgICogQHBhcmFtIG1vZGlmaWVkU3RhcnQgVGhlIHN0YXJ0IGJvdW5kIG9mIHRoZSBtb2RpZmllZCBzZXF1ZW5jZSByYW5nZVxuICAgICAqIEBwYXJhbSBtb2RpZmllZEVuZCBUaGUgZW5kIGJvdW5kIG9mIHRoZSBtb2RpZmllZCBzZXF1ZW5jZSByYW5nZVxuICAgICAqIEBwYXJhbSBtaWRPcmlnaW5hbCBUaGUgbWlkZGxlIHBvaW50IG9mIHRoZSBvcmlnaW5hbCBzZXF1ZW5jZSByYW5nZVxuICAgICAqIEBwYXJhbSBtaWRNb2RpZmllZCBUaGUgbWlkZGxlIHBvaW50IG9mIHRoZSBtb2RpZmllZCBzZXF1ZW5jZSByYW5nZVxuICAgICAqIEByZXR1cm5zIFRoZSBkaWZmIGNoYW5nZXMsIGlmIGF2YWlsYWJsZSwgb3RoZXJ3aXNlIG51bGxcbiAgICAgKi9cbiAgICBMY3NEaWZmLnByb3RvdHlwZS5Db21wdXRlUmVjdXJzaW9uUG9pbnQgPSBmdW5jdGlvbiAob3JpZ2luYWxTdGFydCwgb3JpZ2luYWxFbmQsIG1vZGlmaWVkU3RhcnQsIG1vZGlmaWVkRW5kLCBtaWRPcmlnaW5hbEFyciwgbWlkTW9kaWZpZWRBcnIsIHF1aXRFYXJseUFycikge1xuICAgICAgICB2YXIgb3JpZ2luYWxJbmRleCwgbW9kaWZpZWRJbmRleDtcbiAgICAgICAgdmFyIGRpYWdvbmFsRm9yd2FyZFN0YXJ0ID0gMCwgZGlhZ29uYWxGb3J3YXJkRW5kID0gMDtcbiAgICAgICAgdmFyIGRpYWdvbmFsUmV2ZXJzZVN0YXJ0ID0gMCwgZGlhZ29uYWxSZXZlcnNlRW5kID0gMDtcbiAgICAgICAgdmFyIG51bURpZmZlcmVuY2VzO1xuICAgICAgICAvLyBUbyB0cmF2ZXJzZSB0aGUgZWRpdCBncmFwaCBhbmQgcHJvZHVjZSB0aGUgcHJvcGVyIExDUywgb3VyIGFjdHVhbFxuICAgICAgICAvLyBzdGFydCBwb3NpdGlvbiBpcyBqdXN0IG91dHNpZGUgdGhlIGdpdmVuIGJvdW5kYXJ5XG4gICAgICAgIG9yaWdpbmFsU3RhcnQtLTtcbiAgICAgICAgbW9kaWZpZWRTdGFydC0tO1xuICAgICAgICAvLyBXZSBzZXQgdGhlc2UgdXAgdG8gbWFrZSB0aGUgY29tcGlsZXIgaGFwcHksIGJ1dCB0aGV5IHdpbGxcbiAgICAgICAgLy8gYmUgcmVwbGFjZWQgYmVmb3JlIHdlIHJldHVybiB3aXRoIHRoZSBhY3R1YWwgcmVjdXJzaW9uIHBvaW50XG4gICAgICAgIG1pZE9yaWdpbmFsQXJyWzBdID0gMDtcbiAgICAgICAgbWlkTW9kaWZpZWRBcnJbMF0gPSAwO1xuICAgICAgICAvLyBDbGVhciBvdXQgdGhlIGhpc3RvcnlcbiAgICAgICAgdGhpcy5tX2ZvcndhcmRIaXN0b3J5ID0gW107XG4gICAgICAgIHRoaXMubV9yZXZlcnNlSGlzdG9yeSA9IFtdO1xuICAgICAgICAvLyBFYWNoIGNlbGwgaW4gdGhlIHR3byBhcnJheXMgY29ycmVzcG9uZHMgdG8gYSBkaWFnb25hbCBpbiB0aGUgZWRpdCBncmFwaC5cbiAgICAgICAgLy8gVGhlIGludGVnZXIgdmFsdWUgaW4gdGhlIGNlbGwgcmVwcmVzZW50cyB0aGUgb3JpZ2luYWxJbmRleCBvZiB0aGUgZnVydGhlc3RcbiAgICAgICAgLy8gcmVhY2hpbmcgcG9pbnQgZm91bmQgc28gZmFyIHRoYXQgZW5kcyBpbiB0aGF0IGRpYWdvbmFsLlxuICAgICAgICAvLyBUaGUgbW9kaWZpZWRJbmRleCBjYW4gYmUgY29tcHV0ZWQgbWF0aGVtYXRpY2FsbHkgZnJvbSB0aGUgb3JpZ2luYWxJbmRleCBhbmQgdGhlIGRpYWdvbmFsIG51bWJlci5cbiAgICAgICAgdmFyIG1heERpZmZlcmVuY2VzID0gKG9yaWdpbmFsRW5kIC0gb3JpZ2luYWxTdGFydCkgKyAobW9kaWZpZWRFbmQgLSBtb2RpZmllZFN0YXJ0KTtcbiAgICAgICAgdmFyIG51bURpYWdvbmFscyA9IG1heERpZmZlcmVuY2VzICsgMTtcbiAgICAgICAgdmFyIGZvcndhcmRQb2ludHMgPSBuZXcgQXJyYXkobnVtRGlhZ29uYWxzKTtcbiAgICAgICAgdmFyIHJldmVyc2VQb2ludHMgPSBuZXcgQXJyYXkobnVtRGlhZ29uYWxzKTtcbiAgICAgICAgLy8gZGlhZ29uYWxGb3J3YXJkQmFzZTogSW5kZXggaW50byBmb3J3YXJkUG9pbnRzIG9mIHRoZSBkaWFnb25hbCB3aGljaCBwYXNzZXMgdGhyb3VnaCAob3JpZ2luYWxTdGFydCwgbW9kaWZpZWRTdGFydClcbiAgICAgICAgLy8gZGlhZ29uYWxSZXZlcnNlQmFzZTogSW5kZXggaW50byByZXZlcnNlUG9pbnRzIG9mIHRoZSBkaWFnb25hbCB3aGljaCBwYXNzZXMgdGhyb3VnaCAob3JpZ2luYWxFbmQsIG1vZGlmaWVkRW5kKVxuICAgICAgICB2YXIgZGlhZ29uYWxGb3J3YXJkQmFzZSA9IChtb2RpZmllZEVuZCAtIG1vZGlmaWVkU3RhcnQpO1xuICAgICAgICB2YXIgZGlhZ29uYWxSZXZlcnNlQmFzZSA9IChvcmlnaW5hbEVuZCAtIG9yaWdpbmFsU3RhcnQpO1xuICAgICAgICAvLyBkaWFnb25hbEZvcndhcmRPZmZzZXQ6IEdlb21ldHJpYyBvZmZzZXQgd2hpY2ggYWxsb3dzIG1vZGlmaWVkSW5kZXggdG8gYmUgY29tcHV0ZWQgZnJvbSBvcmlnaW5hbEluZGV4IGFuZCB0aGVcbiAgICAgICAgLy8gICAgZGlhZ29uYWwgbnVtYmVyIChyZWxhdGl2ZSB0byBkaWFnb25hbEZvcndhcmRCYXNlKVxuICAgICAgICAvLyBkaWFnb25hbFJldmVyc2VPZmZzZXQ6IEdlb21ldHJpYyBvZmZzZXQgd2hpY2ggYWxsb3dzIG1vZGlmaWVkSW5kZXggdG8gYmUgY29tcHV0ZWQgZnJvbSBvcmlnaW5hbEluZGV4IGFuZCB0aGVcbiAgICAgICAgLy8gICAgZGlhZ29uYWwgbnVtYmVyIChyZWxhdGl2ZSB0byBkaWFnb25hbFJldmVyc2VCYXNlKVxuICAgICAgICB2YXIgZGlhZ29uYWxGb3J3YXJkT2Zmc2V0ID0gKG9yaWdpbmFsU3RhcnQgLSBtb2RpZmllZFN0YXJ0KTtcbiAgICAgICAgdmFyIGRpYWdvbmFsUmV2ZXJzZU9mZnNldCA9IChvcmlnaW5hbEVuZCAtIG1vZGlmaWVkRW5kKTtcbiAgICAgICAgLy8gZGVsdGE6IFRoZSBkaWZmZXJlbmNlIGJldHdlZW4gdGhlIGVuZCBkaWFnb25hbCBhbmQgdGhlIHN0YXJ0IGRpYWdvbmFsLiBUaGlzIGlzIHVzZWQgdG8gcmVsYXRlIGRpYWdvbmFsIG51bWJlcnNcbiAgICAgICAgLy8gICByZWxhdGl2ZSB0byB0aGUgc3RhcnQgZGlhZ29uYWwgd2l0aCBkaWFnb25hbCBudW1iZXJzIHJlbGF0aXZlIHRvIHRoZSBlbmQgZGlhZ29uYWwuXG4gICAgICAgIC8vIFRoZSBFdmVuL09kZG4tbmVzcyBvZiB0aGlzIGRlbHRhIGlzIGltcG9ydGFudCBmb3IgZGV0ZXJtaW5pbmcgd2hlbiB3ZSBzaG91bGQgY2hlY2sgZm9yIG92ZXJsYXBcbiAgICAgICAgdmFyIGRlbHRhID0gZGlhZ29uYWxSZXZlcnNlQmFzZSAtIGRpYWdvbmFsRm9yd2FyZEJhc2U7XG4gICAgICAgIHZhciBkZWx0YUlzRXZlbiA9IChkZWx0YSAlIDIgPT09IDApO1xuICAgICAgICAvLyBIZXJlIHdlIHNldCB1cCB0aGUgc3RhcnQgYW5kIGVuZCBwb2ludHMgYXMgdGhlIGZ1cnRoZXN0IHBvaW50cyBmb3VuZCBzbyBmYXJcbiAgICAgICAgLy8gaW4gYm90aCB0aGUgZm9yd2FyZCBhbmQgcmV2ZXJzZSBkaXJlY3Rpb25zLCByZXNwZWN0aXZlbHlcbiAgICAgICAgZm9yd2FyZFBvaW50c1tkaWFnb25hbEZvcndhcmRCYXNlXSA9IG9yaWdpbmFsU3RhcnQ7XG4gICAgICAgIHJldmVyc2VQb2ludHNbZGlhZ29uYWxSZXZlcnNlQmFzZV0gPSBvcmlnaW5hbEVuZDtcbiAgICAgICAgLy8gUmVtZW1iZXIgaWYgd2UgcXVpdCBlYXJseSwgYW5kIHRodXMgbmVlZCB0byBkbyBhIGJlc3QtZWZmb3J0IHJlc3VsdCBpbnN0ZWFkIG9mIGEgcmVhbCByZXN1bHQuXG4gICAgICAgIHF1aXRFYXJseUFyclswXSA9IGZhbHNlO1xuICAgICAgICAvLyBBIGNvdXBsZSBvZiBwb2ludHM6XG4gICAgICAgIC8vIC0tV2l0aCB0aGlzIG1ldGhvZCwgd2UgaXRlcmF0ZSBvbiB0aGUgbnVtYmVyIG9mIGRpZmZlcmVuY2VzIGJldHdlZW4gdGhlIHR3byBzZXF1ZW5jZXMuXG4gICAgICAgIC8vICAgVGhlIG1vcmUgZGlmZmVyZW5jZXMgdGhlcmUgYWN0dWFsbHkgYXJlLCB0aGUgbG9uZ2VyIHRoaXMgd2lsbCB0YWtlLlxuICAgICAgICAvLyAtLUFsc28sIGFzIHRoZSBudW1iZXIgb2YgZGlmZmVyZW5jZXMgaW5jcmVhc2VzLCB3ZSBoYXZlIHRvIHNlYXJjaCBvbiBkaWFnb25hbHMgZnVydGhlclxuICAgICAgICAvLyAgIGF3YXkgZnJvbSB0aGUgcmVmZXJlbmNlIGRpYWdvbmFsICh3aGljaCBpcyBkaWFnb25hbEZvcndhcmRCYXNlIGZvciBmb3J3YXJkLCBkaWFnb25hbFJldmVyc2VCYXNlIGZvciByZXZlcnNlKS5cbiAgICAgICAgLy8gLS1XZSBleHRlbmQgb24gZXZlbiBkaWFnb25hbHMgKHJlbGF0aXZlIHRvIHRoZSByZWZlcmVuY2UgZGlhZ29uYWwpIG9ubHkgd2hlbiBudW1EaWZmZXJlbmNlc1xuICAgICAgICAvLyAgIGlzIGV2ZW4gYW5kIG9kZCBkaWFnb25hbHMgb25seSB3aGVuIG51bURpZmZlcmVuY2VzIGlzIG9kZC5cbiAgICAgICAgdmFyIGRpYWdvbmFsLCB0ZW1wT3JpZ2luYWxJbmRleDtcbiAgICAgICAgZm9yIChudW1EaWZmZXJlbmNlcyA9IDE7IG51bURpZmZlcmVuY2VzIDw9IChtYXhEaWZmZXJlbmNlcyAvIDIpICsgMTsgbnVtRGlmZmVyZW5jZXMrKykge1xuICAgICAgICAgICAgdmFyIGZ1cnRoZXN0T3JpZ2luYWxJbmRleCA9IDA7XG4gICAgICAgICAgICB2YXIgZnVydGhlc3RNb2RpZmllZEluZGV4ID0gMDtcbiAgICAgICAgICAgIC8vIFJ1biB0aGUgYWxnb3JpdGhtIGluIHRoZSBmb3J3YXJkIGRpcmVjdGlvblxuICAgICAgICAgICAgZGlhZ29uYWxGb3J3YXJkU3RhcnQgPSB0aGlzLkNsaXBEaWFnb25hbEJvdW5kKGRpYWdvbmFsRm9yd2FyZEJhc2UgLSBudW1EaWZmZXJlbmNlcywgbnVtRGlmZmVyZW5jZXMsIGRpYWdvbmFsRm9yd2FyZEJhc2UsIG51bURpYWdvbmFscyk7XG4gICAgICAgICAgICBkaWFnb25hbEZvcndhcmRFbmQgPSB0aGlzLkNsaXBEaWFnb25hbEJvdW5kKGRpYWdvbmFsRm9yd2FyZEJhc2UgKyBudW1EaWZmZXJlbmNlcywgbnVtRGlmZmVyZW5jZXMsIGRpYWdvbmFsRm9yd2FyZEJhc2UsIG51bURpYWdvbmFscyk7XG4gICAgICAgICAgICBmb3IgKGRpYWdvbmFsID0gZGlhZ29uYWxGb3J3YXJkU3RhcnQ7IGRpYWdvbmFsIDw9IGRpYWdvbmFsRm9yd2FyZEVuZDsgZGlhZ29uYWwgKz0gMikge1xuICAgICAgICAgICAgICAgIC8vIFNURVAgMTogV2UgZXh0ZW5kIHRoZSBmdXJ0aGVzdCByZWFjaGluZyBwb2ludCBpbiB0aGUgcHJlc2VudCBkaWFnb25hbFxuICAgICAgICAgICAgICAgIC8vIGJ5IGxvb2tpbmcgYXQgdGhlIGRpYWdvbmFscyBhYm92ZSBhbmQgYmVsb3cgYW5kIHBpY2tpbmcgdGhlIG9uZSB3aG9zZSBwb2ludFxuICAgICAgICAgICAgICAgIC8vIGlzIGZ1cnRoZXIgYXdheSBmcm9tIHRoZSBzdGFydCBwb2ludCAob3JpZ2luYWxTdGFydCwgbW9kaWZpZWRTdGFydClcbiAgICAgICAgICAgICAgICBpZiAoZGlhZ29uYWwgPT09IGRpYWdvbmFsRm9yd2FyZFN0YXJ0IHx8IChkaWFnb25hbCA8IGRpYWdvbmFsRm9yd2FyZEVuZCAmJiBmb3J3YXJkUG9pbnRzW2RpYWdvbmFsIC0gMV0gPCBmb3J3YXJkUG9pbnRzW2RpYWdvbmFsICsgMV0pKSB7XG4gICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsSW5kZXggPSBmb3J3YXJkUG9pbnRzW2RpYWdvbmFsICsgMV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbEluZGV4ID0gZm9yd2FyZFBvaW50c1tkaWFnb25hbCAtIDFdICsgMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbW9kaWZpZWRJbmRleCA9IG9yaWdpbmFsSW5kZXggLSAoZGlhZ29uYWwgLSBkaWFnb25hbEZvcndhcmRCYXNlKSAtIGRpYWdvbmFsRm9yd2FyZE9mZnNldDtcbiAgICAgICAgICAgICAgICAvLyBTYXZlIHRoZSBjdXJyZW50IG9yaWdpbmFsSW5kZXggc28gd2UgY2FuIHRlc3QgZm9yIGZhbHNlIG92ZXJsYXAgaW4gc3RlcCAzXG4gICAgICAgICAgICAgICAgdGVtcE9yaWdpbmFsSW5kZXggPSBvcmlnaW5hbEluZGV4O1xuICAgICAgICAgICAgICAgIC8vIFNURVAgMjogV2UgY2FuIGNvbnRpbnVlIHRvIGV4dGVuZCB0aGUgZnVydGhlc3QgcmVhY2hpbmcgcG9pbnQgaW4gdGhlIHByZXNlbnQgZGlhZ29uYWxcbiAgICAgICAgICAgICAgICAvLyBzbyBsb25nIGFzIHRoZSBlbGVtZW50cyBhcmUgZXF1YWwuXG4gICAgICAgICAgICAgICAgd2hpbGUgKG9yaWdpbmFsSW5kZXggPCBvcmlnaW5hbEVuZCAmJiBtb2RpZmllZEluZGV4IDwgbW9kaWZpZWRFbmQgJiYgdGhpcy5FbGVtZW50c0FyZUVxdWFsKG9yaWdpbmFsSW5kZXggKyAxLCBtb2RpZmllZEluZGV4ICsgMSkpIHtcbiAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxJbmRleCsrO1xuICAgICAgICAgICAgICAgICAgICBtb2RpZmllZEluZGV4Kys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZvcndhcmRQb2ludHNbZGlhZ29uYWxdID0gb3JpZ2luYWxJbmRleDtcbiAgICAgICAgICAgICAgICBpZiAob3JpZ2luYWxJbmRleCArIG1vZGlmaWVkSW5kZXggPiBmdXJ0aGVzdE9yaWdpbmFsSW5kZXggKyBmdXJ0aGVzdE1vZGlmaWVkSW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgZnVydGhlc3RPcmlnaW5hbEluZGV4ID0gb3JpZ2luYWxJbmRleDtcbiAgICAgICAgICAgICAgICAgICAgZnVydGhlc3RNb2RpZmllZEluZGV4ID0gbW9kaWZpZWRJbmRleDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gU1RFUCAzOiBJZiBkZWx0YSBpcyBvZGQgKG92ZXJsYXAgZmlyc3QgaGFwcGVucyBvbiBmb3J3YXJkIHdoZW4gZGVsdGEgaXMgb2RkKVxuICAgICAgICAgICAgICAgIC8vIGFuZCBkaWFnb25hbCBpcyBpbiB0aGUgcmFuZ2Ugb2YgcmV2ZXJzZSBkaWFnb25hbHMgY29tcHV0ZWQgZm9yIG51bURpZmZlcmVuY2VzLTFcbiAgICAgICAgICAgICAgICAvLyAodGhlIHByZXZpb3VzIGl0ZXJhdGlvbjsgd2UgaGF2ZW4ndCBjb21wdXRlZCByZXZlcnNlIGRpYWdvbmFscyBmb3IgbnVtRGlmZmVyZW5jZXMgeWV0KVxuICAgICAgICAgICAgICAgIC8vIHRoZW4gY2hlY2sgZm9yIG92ZXJsYXAuXG4gICAgICAgICAgICAgICAgaWYgKCFkZWx0YUlzRXZlbiAmJiBNYXRoLmFicyhkaWFnb25hbCAtIGRpYWdvbmFsUmV2ZXJzZUJhc2UpIDw9IChudW1EaWZmZXJlbmNlcyAtIDEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcmlnaW5hbEluZGV4ID49IHJldmVyc2VQb2ludHNbZGlhZ29uYWxdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtaWRPcmlnaW5hbEFyclswXSA9IG9yaWdpbmFsSW5kZXg7XG4gICAgICAgICAgICAgICAgICAgICAgICBtaWRNb2RpZmllZEFyclswXSA9IG1vZGlmaWVkSW5kZXg7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGVtcE9yaWdpbmFsSW5kZXggPD0gcmV2ZXJzZVBvaW50c1tkaWFnb25hbF0gJiYgTWF4RGlmZmVyZW5jZXNIaXN0b3J5ID4gMCAmJiBudW1EaWZmZXJlbmNlcyA8PSAoTWF4RGlmZmVyZW5jZXNIaXN0b3J5ICsgMSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBCSU5HTyEgV2Ugb3ZlcmxhcHBlZCwgYW5kIHdlIGhhdmUgdGhlIGZ1bGwgdHJhY2UgaW4gbWVtb3J5IVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLldBTEtUUkFDRShkaWFnb25hbEZvcndhcmRCYXNlLCBkaWFnb25hbEZvcndhcmRTdGFydCwgZGlhZ29uYWxGb3J3YXJkRW5kLCBkaWFnb25hbEZvcndhcmRPZmZzZXQsIGRpYWdvbmFsUmV2ZXJzZUJhc2UsIGRpYWdvbmFsUmV2ZXJzZVN0YXJ0LCBkaWFnb25hbFJldmVyc2VFbmQsIGRpYWdvbmFsUmV2ZXJzZU9mZnNldCwgZm9yd2FyZFBvaW50cywgcmV2ZXJzZVBvaW50cywgb3JpZ2luYWxJbmRleCwgb3JpZ2luYWxFbmQsIG1pZE9yaWdpbmFsQXJyLCBtb2RpZmllZEluZGV4LCBtb2RpZmllZEVuZCwgbWlkTW9kaWZpZWRBcnIsIGRlbHRhSXNFdmVuLCBxdWl0RWFybHlBcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRWl0aGVyIGZhbHNlIG92ZXJsYXAsIG9yIHdlIGRpZG4ndCBoYXZlIGVub3VnaCBtZW1vcnkgZm9yIHRoZSBmdWxsIHRyYWNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSnVzdCByZXR1cm4gdGhlIHJlY3Vyc2lvbiBwb2ludFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQ2hlY2sgdG8gc2VlIGlmIHdlIHNob3VsZCBiZSBxdWl0dGluZyBlYXJseSwgYmVmb3JlIG1vdmluZyBvbiB0byB0aGUgbmV4dCBpdGVyYXRpb24uXG4gICAgICAgICAgICB2YXIgbWF0Y2hMZW5ndGhPZkxvbmdlc3QgPSAoKGZ1cnRoZXN0T3JpZ2luYWxJbmRleCAtIG9yaWdpbmFsU3RhcnQpICsgKGZ1cnRoZXN0TW9kaWZpZWRJbmRleCAtIG1vZGlmaWVkU3RhcnQpIC0gbnVtRGlmZmVyZW5jZXMpIC8gMjtcbiAgICAgICAgICAgIGlmICh0aGlzLkNvbnRpbnVlUHJvY2Vzc2luZ1ByZWRpY2F0ZSAhPT0gbnVsbCAmJiAhdGhpcy5Db250aW51ZVByb2Nlc3NpbmdQcmVkaWNhdGUoZnVydGhlc3RPcmlnaW5hbEluZGV4LCB0aGlzLk9yaWdpbmFsU2VxdWVuY2UsIG1hdGNoTGVuZ3RoT2ZMb25nZXN0KSkge1xuICAgICAgICAgICAgICAgIC8vIFdlIGNhbid0IGZpbmlzaCwgc28gc2tpcCBhaGVhZCB0byBnZW5lcmF0aW5nIGEgcmVzdWx0IGZyb20gd2hhdCB3ZSBoYXZlLlxuICAgICAgICAgICAgICAgIHF1aXRFYXJseUFyclswXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgLy8gVXNlIHRoZSBmdXJ0aGVzdCBkaXN0YW5jZSB3ZSBnb3QgaW4gdGhlIGZvcndhcmQgZGlyZWN0aW9uLlxuICAgICAgICAgICAgICAgIG1pZE9yaWdpbmFsQXJyWzBdID0gZnVydGhlc3RPcmlnaW5hbEluZGV4O1xuICAgICAgICAgICAgICAgIG1pZE1vZGlmaWVkQXJyWzBdID0gZnVydGhlc3RNb2RpZmllZEluZGV4O1xuICAgICAgICAgICAgICAgIGlmIChtYXRjaExlbmd0aE9mTG9uZ2VzdCA+IDAgJiYgTWF4RGlmZmVyZW5jZXNIaXN0b3J5ID4gMCAmJiBudW1EaWZmZXJlbmNlcyA8PSAoTWF4RGlmZmVyZW5jZXNIaXN0b3J5ICsgMSkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gRW5vdWdoIG9mIHRoZSBoaXN0b3J5IGlzIGluIG1lbW9yeSB0byB3YWxrIGl0IGJhY2t3YXJkc1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5XQUxLVFJBQ0UoZGlhZ29uYWxGb3J3YXJkQmFzZSwgZGlhZ29uYWxGb3J3YXJkU3RhcnQsIGRpYWdvbmFsRm9yd2FyZEVuZCwgZGlhZ29uYWxGb3J3YXJkT2Zmc2V0LCBkaWFnb25hbFJldmVyc2VCYXNlLCBkaWFnb25hbFJldmVyc2VTdGFydCwgZGlhZ29uYWxSZXZlcnNlRW5kLCBkaWFnb25hbFJldmVyc2VPZmZzZXQsIGZvcndhcmRQb2ludHMsIHJldmVyc2VQb2ludHMsIG9yaWdpbmFsSW5kZXgsIG9yaWdpbmFsRW5kLCBtaWRPcmlnaW5hbEFyciwgbW9kaWZpZWRJbmRleCwgbW9kaWZpZWRFbmQsIG1pZE1vZGlmaWVkQXJyLCBkZWx0YUlzRXZlbiwgcXVpdEVhcmx5QXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFdlIGRpZG4ndCBhY3R1YWxseSByZW1lbWJlciBlbm91Z2ggb2YgdGhlIGhpc3RvcnkuXG4gICAgICAgICAgICAgICAgICAgIC8vU2luY2Ugd2UgYXJlIHF1aXRpbmcgdGhlIGRpZmYgZWFybHksIHdlIG5lZWQgdG8gc2hpZnQgYmFjayB0aGUgb3JpZ2luYWxTdGFydCBhbmQgbW9kaWZpZWQgc3RhcnRcbiAgICAgICAgICAgICAgICAgICAgLy9iYWNrIGludG8gdGhlIGJvdW5kYXJ5IGxpbWl0cyBzaW5jZSB3ZSBkZWNyZW1lbnRlZCB0aGVpciB2YWx1ZSBhYm92ZSBiZXlvbmQgdGhlIGJvdW5kYXJ5IGxpbWl0LlxuICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbFN0YXJ0Kys7XG4gICAgICAgICAgICAgICAgICAgIG1vZGlmaWVkU3RhcnQrKztcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBEaWZmQ2hhbmdlKG9yaWdpbmFsU3RhcnQsIG9yaWdpbmFsRW5kIC0gb3JpZ2luYWxTdGFydCArIDEsIG1vZGlmaWVkU3RhcnQsIG1vZGlmaWVkRW5kIC0gbW9kaWZpZWRTdGFydCArIDEpXG4gICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gUnVuIHRoZSBhbGdvcml0aG0gaW4gdGhlIHJldmVyc2UgZGlyZWN0aW9uXG4gICAgICAgICAgICBkaWFnb25hbFJldmVyc2VTdGFydCA9IHRoaXMuQ2xpcERpYWdvbmFsQm91bmQoZGlhZ29uYWxSZXZlcnNlQmFzZSAtIG51bURpZmZlcmVuY2VzLCBudW1EaWZmZXJlbmNlcywgZGlhZ29uYWxSZXZlcnNlQmFzZSwgbnVtRGlhZ29uYWxzKTtcbiAgICAgICAgICAgIGRpYWdvbmFsUmV2ZXJzZUVuZCA9IHRoaXMuQ2xpcERpYWdvbmFsQm91bmQoZGlhZ29uYWxSZXZlcnNlQmFzZSArIG51bURpZmZlcmVuY2VzLCBudW1EaWZmZXJlbmNlcywgZGlhZ29uYWxSZXZlcnNlQmFzZSwgbnVtRGlhZ29uYWxzKTtcbiAgICAgICAgICAgIGZvciAoZGlhZ29uYWwgPSBkaWFnb25hbFJldmVyc2VTdGFydDsgZGlhZ29uYWwgPD0gZGlhZ29uYWxSZXZlcnNlRW5kOyBkaWFnb25hbCArPSAyKSB7XG4gICAgICAgICAgICAgICAgLy8gU1RFUCAxOiBXZSBleHRlbmQgdGhlIGZ1cnRoZXN0IHJlYWNoaW5nIHBvaW50IGluIHRoZSBwcmVzZW50IGRpYWdvbmFsXG4gICAgICAgICAgICAgICAgLy8gYnkgbG9va2luZyBhdCB0aGUgZGlhZ29uYWxzIGFib3ZlIGFuZCBiZWxvdyBhbmQgcGlja2luZyB0aGUgb25lIHdob3NlIHBvaW50XG4gICAgICAgICAgICAgICAgLy8gaXMgZnVydGhlciBhd2F5IGZyb20gdGhlIHN0YXJ0IHBvaW50IChvcmlnaW5hbEVuZCwgbW9kaWZpZWRFbmQpXG4gICAgICAgICAgICAgICAgaWYgKGRpYWdvbmFsID09PSBkaWFnb25hbFJldmVyc2VTdGFydCB8fCAoZGlhZ29uYWwgPCBkaWFnb25hbFJldmVyc2VFbmQgJiYgcmV2ZXJzZVBvaW50c1tkaWFnb25hbCAtIDFdID49IHJldmVyc2VQb2ludHNbZGlhZ29uYWwgKyAxXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxJbmRleCA9IHJldmVyc2VQb2ludHNbZGlhZ29uYWwgKyAxXSAtIDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbEluZGV4ID0gcmV2ZXJzZVBvaW50c1tkaWFnb25hbCAtIDFdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBtb2RpZmllZEluZGV4ID0gb3JpZ2luYWxJbmRleCAtIChkaWFnb25hbCAtIGRpYWdvbmFsUmV2ZXJzZUJhc2UpIC0gZGlhZ29uYWxSZXZlcnNlT2Zmc2V0O1xuICAgICAgICAgICAgICAgIC8vIFNhdmUgdGhlIGN1cnJlbnQgb3JpZ2luYWxJbmRleCBzbyB3ZSBjYW4gdGVzdCBmb3IgZmFsc2Ugb3ZlcmxhcFxuICAgICAgICAgICAgICAgIHRlbXBPcmlnaW5hbEluZGV4ID0gb3JpZ2luYWxJbmRleDtcbiAgICAgICAgICAgICAgICAvLyBTVEVQIDI6IFdlIGNhbiBjb250aW51ZSB0byBleHRlbmQgdGhlIGZ1cnRoZXN0IHJlYWNoaW5nIHBvaW50IGluIHRoZSBwcmVzZW50IGRpYWdvbmFsXG4gICAgICAgICAgICAgICAgLy8gYXMgbG9uZyBhcyB0aGUgZWxlbWVudHMgYXJlIGVxdWFsLlxuICAgICAgICAgICAgICAgIHdoaWxlIChvcmlnaW5hbEluZGV4ID4gb3JpZ2luYWxTdGFydCAmJiBtb2RpZmllZEluZGV4ID4gbW9kaWZpZWRTdGFydCAmJiB0aGlzLkVsZW1lbnRzQXJlRXF1YWwob3JpZ2luYWxJbmRleCwgbW9kaWZpZWRJbmRleCkpIHtcbiAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxJbmRleC0tO1xuICAgICAgICAgICAgICAgICAgICBtb2RpZmllZEluZGV4LS07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldmVyc2VQb2ludHNbZGlhZ29uYWxdID0gb3JpZ2luYWxJbmRleDtcbiAgICAgICAgICAgICAgICAvLyBTVEVQIDQ6IElmIGRlbHRhIGlzIGV2ZW4gKG92ZXJsYXAgZmlyc3QgaGFwcGVucyBvbiByZXZlcnNlIHdoZW4gZGVsdGEgaXMgZXZlbilcbiAgICAgICAgICAgICAgICAvLyBhbmQgZGlhZ29uYWwgaXMgaW4gdGhlIHJhbmdlIG9mIGZvcndhcmQgZGlhZ29uYWxzIGNvbXB1dGVkIGZvciBudW1EaWZmZXJlbmNlc1xuICAgICAgICAgICAgICAgIC8vIHRoZW4gY2hlY2sgZm9yIG92ZXJsYXAuXG4gICAgICAgICAgICAgICAgaWYgKGRlbHRhSXNFdmVuICYmIE1hdGguYWJzKGRpYWdvbmFsIC0gZGlhZ29uYWxGb3J3YXJkQmFzZSkgPD0gbnVtRGlmZmVyZW5jZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9yaWdpbmFsSW5kZXggPD0gZm9yd2FyZFBvaW50c1tkaWFnb25hbF0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pZE9yaWdpbmFsQXJyWzBdID0gb3JpZ2luYWxJbmRleDtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pZE1vZGlmaWVkQXJyWzBdID0gbW9kaWZpZWRJbmRleDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0ZW1wT3JpZ2luYWxJbmRleCA+PSBmb3J3YXJkUG9pbnRzW2RpYWdvbmFsXSAmJiBNYXhEaWZmZXJlbmNlc0hpc3RvcnkgPiAwICYmIG51bURpZmZlcmVuY2VzIDw9IChNYXhEaWZmZXJlbmNlc0hpc3RvcnkgKyAxKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEJJTkdPISBXZSBvdmVybGFwcGVkLCBhbmQgd2UgaGF2ZSB0aGUgZnVsbCB0cmFjZSBpbiBtZW1vcnkhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuV0FMS1RSQUNFKGRpYWdvbmFsRm9yd2FyZEJhc2UsIGRpYWdvbmFsRm9yd2FyZFN0YXJ0LCBkaWFnb25hbEZvcndhcmRFbmQsIGRpYWdvbmFsRm9yd2FyZE9mZnNldCwgZGlhZ29uYWxSZXZlcnNlQmFzZSwgZGlhZ29uYWxSZXZlcnNlU3RhcnQsIGRpYWdvbmFsUmV2ZXJzZUVuZCwgZGlhZ29uYWxSZXZlcnNlT2Zmc2V0LCBmb3J3YXJkUG9pbnRzLCByZXZlcnNlUG9pbnRzLCBvcmlnaW5hbEluZGV4LCBvcmlnaW5hbEVuZCwgbWlkT3JpZ2luYWxBcnIsIG1vZGlmaWVkSW5kZXgsIG1vZGlmaWVkRW5kLCBtaWRNb2RpZmllZEFyciwgZGVsdGFJc0V2ZW4sIHF1aXRFYXJseUFycik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBFaXRoZXIgZmFsc2Ugb3ZlcmxhcCwgb3Igd2UgZGlkbid0IGhhdmUgZW5vdWdoIG1lbW9yeSBmb3IgdGhlIGZ1bGwgdHJhY2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBKdXN0IHJldHVybiB0aGUgcmVjdXJzaW9uIHBvaW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBTYXZlIGN1cnJlbnQgdmVjdG9ycyB0byBoaXN0b3J5IGJlZm9yZSB0aGUgbmV4dCBpdGVyYXRpb25cbiAgICAgICAgICAgIGlmIChudW1EaWZmZXJlbmNlcyA8PSBNYXhEaWZmZXJlbmNlc0hpc3RvcnkpIHtcbiAgICAgICAgICAgICAgICAvLyBXZSBhcmUgYWxsb2NhdGluZyBzcGFjZSBmb3Igb25lIGV4dHJhIGludCwgd2hpY2ggd2UgZmlsbCB3aXRoXG4gICAgICAgICAgICAgICAgLy8gdGhlIGluZGV4IG9mIHRoZSBkaWFnb25hbCBiYXNlIGluZGV4XG4gICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBuZXcgQXJyYXkoZGlhZ29uYWxGb3J3YXJkRW5kIC0gZGlhZ29uYWxGb3J3YXJkU3RhcnQgKyAyKTtcbiAgICAgICAgICAgICAgICB0ZW1wWzBdID0gZGlhZ29uYWxGb3J3YXJkQmFzZSAtIGRpYWdvbmFsRm9yd2FyZFN0YXJ0ICsgMTtcbiAgICAgICAgICAgICAgICBNeUFycmF5LkNvcHkoZm9yd2FyZFBvaW50cywgZGlhZ29uYWxGb3J3YXJkU3RhcnQsIHRlbXAsIDEsIGRpYWdvbmFsRm9yd2FyZEVuZCAtIGRpYWdvbmFsRm9yd2FyZFN0YXJ0ICsgMSk7XG4gICAgICAgICAgICAgICAgdGhpcy5tX2ZvcndhcmRIaXN0b3J5LnB1c2godGVtcCk7XG4gICAgICAgICAgICAgICAgdGVtcCA9IG5ldyBBcnJheShkaWFnb25hbFJldmVyc2VFbmQgLSBkaWFnb25hbFJldmVyc2VTdGFydCArIDIpO1xuICAgICAgICAgICAgICAgIHRlbXBbMF0gPSBkaWFnb25hbFJldmVyc2VCYXNlIC0gZGlhZ29uYWxSZXZlcnNlU3RhcnQgKyAxO1xuICAgICAgICAgICAgICAgIE15QXJyYXkuQ29weShyZXZlcnNlUG9pbnRzLCBkaWFnb25hbFJldmVyc2VTdGFydCwgdGVtcCwgMSwgZGlhZ29uYWxSZXZlcnNlRW5kIC0gZGlhZ29uYWxSZXZlcnNlU3RhcnQgKyAxKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1fcmV2ZXJzZUhpc3RvcnkucHVzaCh0ZW1wKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBJZiB3ZSBnb3QgaGVyZSwgdGhlbiB3ZSBoYXZlIHRoZSBmdWxsIHRyYWNlIGluIGhpc3RvcnkuIFdlIGp1c3QgaGF2ZSB0byBjb252ZXJ0IGl0IHRvIGEgY2hhbmdlIGxpc3RcbiAgICAgICAgLy8gTk9URTogVGhpcyBwYXJ0IGlzIGEgYml0IG1lc3N5XG4gICAgICAgIHJldHVybiB0aGlzLldBTEtUUkFDRShkaWFnb25hbEZvcndhcmRCYXNlLCBkaWFnb25hbEZvcndhcmRTdGFydCwgZGlhZ29uYWxGb3J3YXJkRW5kLCBkaWFnb25hbEZvcndhcmRPZmZzZXQsIGRpYWdvbmFsUmV2ZXJzZUJhc2UsIGRpYWdvbmFsUmV2ZXJzZVN0YXJ0LCBkaWFnb25hbFJldmVyc2VFbmQsIGRpYWdvbmFsUmV2ZXJzZU9mZnNldCwgZm9yd2FyZFBvaW50cywgcmV2ZXJzZVBvaW50cywgb3JpZ2luYWxJbmRleCwgb3JpZ2luYWxFbmQsIG1pZE9yaWdpbmFsQXJyLCBtb2RpZmllZEluZGV4LCBtb2RpZmllZEVuZCwgbWlkTW9kaWZpZWRBcnIsIGRlbHRhSXNFdmVuLCBxdWl0RWFybHlBcnIpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2hpZnRzIHRoZSBnaXZlbiBjaGFuZ2VzIHRvIHByb3ZpZGUgYSBtb3JlIGludHVpdGl2ZSBkaWZmLlxuICAgICAqIFdoaWxlIHRoZSBmaXJzdCBlbGVtZW50IGluIGEgZGlmZiBtYXRjaGVzIHRoZSBmaXJzdCBlbGVtZW50IGFmdGVyIHRoZSBkaWZmLFxuICAgICAqIHdlIHNoaWZ0IHRoZSBkaWZmIGRvd24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY2hhbmdlcyBUaGUgbGlzdCBvZiBjaGFuZ2VzIHRvIHNoaWZ0XG4gICAgICogQHJldHVybnMgVGhlIHNoaWZ0ZWQgY2hhbmdlc1xuICAgICAqL1xuICAgIExjc0RpZmYucHJvdG90eXBlLlNoaWZ0Q2hhbmdlcyA9IGZ1bmN0aW9uIChjaGFuZ2VzKSB7XG4gICAgICAgIHZhciBtZXJnZWREaWZmcztcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgbWVyZ2VkRGlmZnMgPSBmYWxzZTtcbiAgICAgICAgICAgIC8vIFNoaWZ0IGFsbCB0aGUgY2hhbmdlcyBkb3duIGZpcnN0XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoYW5nZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgY2hhbmdlID0gY2hhbmdlc1tpXTtcbiAgICAgICAgICAgICAgICB2YXIgb3JpZ2luYWxTdG9wID0gKGkgPCBjaGFuZ2VzLmxlbmd0aCAtIDEpID8gY2hhbmdlc1tpICsgMV0ub3JpZ2luYWxTdGFydCA6IHRoaXMuT3JpZ2luYWxTZXF1ZW5jZS5nZXRMZW5ndGgoKTtcbiAgICAgICAgICAgICAgICB2YXIgbW9kaWZpZWRTdG9wID0gKGkgPCBjaGFuZ2VzLmxlbmd0aCAtIDEpID8gY2hhbmdlc1tpICsgMV0ubW9kaWZpZWRTdGFydCA6IHRoaXMuTW9kaWZpZWRTZXF1ZW5jZS5nZXRMZW5ndGgoKTtcbiAgICAgICAgICAgICAgICB2YXIgY2hlY2tPcmlnaW5hbCA9IGNoYW5nZS5vcmlnaW5hbExlbmd0aCA+IDA7XG4gICAgICAgICAgICAgICAgdmFyIGNoZWNrTW9kaWZpZWQgPSBjaGFuZ2UubW9kaWZpZWRMZW5ndGggPiAwO1xuICAgICAgICAgICAgICAgIHdoaWxlIChjaGFuZ2Uub3JpZ2luYWxTdGFydCArIGNoYW5nZS5vcmlnaW5hbExlbmd0aCA8IG9yaWdpbmFsU3RvcCAmJlxuICAgICAgICAgICAgICAgICAgICBjaGFuZ2UubW9kaWZpZWRTdGFydCArIGNoYW5nZS5tb2RpZmllZExlbmd0aCA8IG1vZGlmaWVkU3RvcCAmJlxuICAgICAgICAgICAgICAgICAgICAoIWNoZWNrT3JpZ2luYWwgfHwgdGhpcy5PcmlnaW5hbEVsZW1lbnRzQXJlRXF1YWwoY2hhbmdlLm9yaWdpbmFsU3RhcnQsIGNoYW5nZS5vcmlnaW5hbFN0YXJ0ICsgY2hhbmdlLm9yaWdpbmFsTGVuZ3RoKSkgJiZcbiAgICAgICAgICAgICAgICAgICAgKCFjaGVja01vZGlmaWVkIHx8IHRoaXMuTW9kaWZpZWRFbGVtZW50c0FyZUVxdWFsKGNoYW5nZS5tb2RpZmllZFN0YXJ0LCBjaGFuZ2UubW9kaWZpZWRTdGFydCArIGNoYW5nZS5tb2RpZmllZExlbmd0aCkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZS5vcmlnaW5hbFN0YXJ0Kys7XG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZS5tb2RpZmllZFN0YXJ0Kys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQnVpbGQgdXAgdGhlIG5ldyBsaXN0ICh3ZSBoYXZlIHRvIGJ1aWxkIGEgbmV3IGxpc3QgYmVjYXVzZSB3ZVxuICAgICAgICAgICAgLy8gbWlnaHQgaGF2ZSBjaGFuZ2VzIHdlIGNhbiBtZXJnZSB0b2dldGhlciBub3cpXG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IEFycmF5KCk7XG4gICAgICAgICAgICB2YXIgbWVyZ2VkQ2hhbmdlQXJyID0gW251bGxdO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGFuZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGkgPCBjaGFuZ2VzLmxlbmd0aCAtIDEgJiYgdGhpcy5DaGFuZ2VzT3ZlcmxhcChjaGFuZ2VzW2ldLCBjaGFuZ2VzW2kgKyAxXSwgbWVyZ2VkQ2hhbmdlQXJyKSkge1xuICAgICAgICAgICAgICAgICAgICBtZXJnZWREaWZmcyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG1lcmdlZENoYW5nZUFyclswXSk7XG4gICAgICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGNoYW5nZXNbaV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNoYW5nZXMgPSByZXN1bHQ7XG4gICAgICAgIH0gd2hpbGUgKG1lcmdlZERpZmZzKTtcbiAgICAgICAgLy8gU2hpZnQgY2hhbmdlcyBiYWNrIHVwIHVudGlsIHdlIGhpdCBlbXB0eSBvciB3aGl0ZXNwYWNlLW9ubHkgbGluZXNcbiAgICAgICAgZm9yICh2YXIgaSA9IGNoYW5nZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIHZhciBjaGFuZ2UgPSBjaGFuZ2VzW2ldO1xuICAgICAgICAgICAgdmFyIG9yaWdpbmFsU3RvcCA9IDA7XG4gICAgICAgICAgICB2YXIgbW9kaWZpZWRTdG9wID0gMDtcbiAgICAgICAgICAgIGlmIChpID4gMCkge1xuICAgICAgICAgICAgICAgIHZhciBwcmV2Q2hhbmdlID0gY2hhbmdlc1tpIC0gMV07XG4gICAgICAgICAgICAgICAgaWYgKHByZXZDaGFuZ2Uub3JpZ2luYWxMZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsU3RvcCA9IHByZXZDaGFuZ2Uub3JpZ2luYWxTdGFydCArIHByZXZDaGFuZ2Uub3JpZ2luYWxMZW5ndGg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChwcmV2Q2hhbmdlLm1vZGlmaWVkTGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBtb2RpZmllZFN0b3AgPSBwcmV2Q2hhbmdlLm1vZGlmaWVkU3RhcnQgKyBwcmV2Q2hhbmdlLm1vZGlmaWVkTGVuZ3RoO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBjaGVja09yaWdpbmFsID0gY2hhbmdlLm9yaWdpbmFsTGVuZ3RoID4gMDtcbiAgICAgICAgICAgIHZhciBjaGVja01vZGlmaWVkID0gY2hhbmdlLm1vZGlmaWVkTGVuZ3RoID4gMDtcbiAgICAgICAgICAgIHZhciBiZXN0RGVsdGEgPSAwO1xuICAgICAgICAgICAgdmFyIGJlc3RTY29yZSA9IHRoaXMuX2JvdW5kYXJ5U2NvcmUoY2hhbmdlLm9yaWdpbmFsU3RhcnQsIGNoYW5nZS5vcmlnaW5hbExlbmd0aCwgY2hhbmdlLm1vZGlmaWVkU3RhcnQsIGNoYW5nZS5tb2RpZmllZExlbmd0aCk7XG4gICAgICAgICAgICBmb3IgKHZhciBkZWx0YSA9IDE7OyBkZWx0YSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIG9yaWdpbmFsU3RhcnQgPSBjaGFuZ2Uub3JpZ2luYWxTdGFydCAtIGRlbHRhO1xuICAgICAgICAgICAgICAgIHZhciBtb2RpZmllZFN0YXJ0ID0gY2hhbmdlLm1vZGlmaWVkU3RhcnQgLSBkZWx0YTtcbiAgICAgICAgICAgICAgICBpZiAob3JpZ2luYWxTdGFydCA8IG9yaWdpbmFsU3RvcCB8fCBtb2RpZmllZFN0YXJ0IDwgbW9kaWZpZWRTdG9wKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoY2hlY2tPcmlnaW5hbCAmJiAhdGhpcy5PcmlnaW5hbEVsZW1lbnRzQXJlRXF1YWwob3JpZ2luYWxTdGFydCwgb3JpZ2luYWxTdGFydCArIGNoYW5nZS5vcmlnaW5hbExlbmd0aCkpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChjaGVja01vZGlmaWVkICYmICF0aGlzLk1vZGlmaWVkRWxlbWVudHNBcmVFcXVhbChtb2RpZmllZFN0YXJ0LCBtb2RpZmllZFN0YXJ0ICsgY2hhbmdlLm1vZGlmaWVkTGVuZ3RoKSkge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIHNjb3JlID0gdGhpcy5fYm91bmRhcnlTY29yZShvcmlnaW5hbFN0YXJ0LCBjaGFuZ2Uub3JpZ2luYWxMZW5ndGgsIG1vZGlmaWVkU3RhcnQsIGNoYW5nZS5tb2RpZmllZExlbmd0aCk7XG4gICAgICAgICAgICAgICAgaWYgKHNjb3JlID4gYmVzdFNjb3JlKSB7XG4gICAgICAgICAgICAgICAgICAgIGJlc3RTY29yZSA9IHNjb3JlO1xuICAgICAgICAgICAgICAgICAgICBiZXN0RGVsdGEgPSBkZWx0YTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjaGFuZ2Uub3JpZ2luYWxTdGFydCAtPSBiZXN0RGVsdGE7XG4gICAgICAgICAgICBjaGFuZ2UubW9kaWZpZWRTdGFydCAtPSBiZXN0RGVsdGE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNoYW5nZXM7XG4gICAgfTtcbiAgICBMY3NEaWZmLnByb3RvdHlwZS5fT3JpZ2luYWxJc0JvdW5kYXJ5ID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgIGlmIChpbmRleCA8PSAwIHx8IGluZGV4ID49IHRoaXMuT3JpZ2luYWxTZXF1ZW5jZS5nZXRMZW5ndGgoKSAtIDEpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAvXlxccyokLy50ZXN0KHRoaXMuT3JpZ2luYWxTZXF1ZW5jZS5nZXRFbGVtZW50SGFzaChpbmRleCkpO1xuICAgIH07XG4gICAgTGNzRGlmZi5wcm90b3R5cGUuX09yaWdpbmFsUmVnaW9uSXNCb3VuZGFyeSA9IGZ1bmN0aW9uIChvcmlnaW5hbFN0YXJ0LCBvcmlnaW5hbExlbmd0aCkge1xuICAgICAgICBpZiAodGhpcy5fT3JpZ2luYWxJc0JvdW5kYXJ5KG9yaWdpbmFsU3RhcnQpIHx8IHRoaXMuX09yaWdpbmFsSXNCb3VuZGFyeShvcmlnaW5hbFN0YXJ0IC0gMSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcmlnaW5hbExlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHZhciBvcmlnaW5hbEVuZCA9IG9yaWdpbmFsU3RhcnQgKyBvcmlnaW5hbExlbmd0aDtcbiAgICAgICAgICAgIGlmICh0aGlzLl9PcmlnaW5hbElzQm91bmRhcnkob3JpZ2luYWxFbmQgLSAxKSB8fCB0aGlzLl9PcmlnaW5hbElzQm91bmRhcnkob3JpZ2luYWxFbmQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgTGNzRGlmZi5wcm90b3R5cGUuX01vZGlmaWVkSXNCb3VuZGFyeSA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgICBpZiAoaW5kZXggPD0gMCB8fCBpbmRleCA+PSB0aGlzLk1vZGlmaWVkU2VxdWVuY2UuZ2V0TGVuZ3RoKCkgLSAxKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gL15cXHMqJC8udGVzdCh0aGlzLk1vZGlmaWVkU2VxdWVuY2UuZ2V0RWxlbWVudEhhc2goaW5kZXgpKTtcbiAgICB9O1xuICAgIExjc0RpZmYucHJvdG90eXBlLl9Nb2RpZmllZFJlZ2lvbklzQm91bmRhcnkgPSBmdW5jdGlvbiAobW9kaWZpZWRTdGFydCwgbW9kaWZpZWRMZW5ndGgpIHtcbiAgICAgICAgaWYgKHRoaXMuX01vZGlmaWVkSXNCb3VuZGFyeShtb2RpZmllZFN0YXJ0KSB8fCB0aGlzLl9Nb2RpZmllZElzQm91bmRhcnkobW9kaWZpZWRTdGFydCAtIDEpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobW9kaWZpZWRMZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB2YXIgbW9kaWZpZWRFbmQgPSBtb2RpZmllZFN0YXJ0ICsgbW9kaWZpZWRMZW5ndGg7XG4gICAgICAgICAgICBpZiAodGhpcy5fTW9kaWZpZWRJc0JvdW5kYXJ5KG1vZGlmaWVkRW5kIC0gMSkgfHwgdGhpcy5fTW9kaWZpZWRJc0JvdW5kYXJ5KG1vZGlmaWVkRW5kKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIExjc0RpZmYucHJvdG90eXBlLl9ib3VuZGFyeVNjb3JlID0gZnVuY3Rpb24gKG9yaWdpbmFsU3RhcnQsIG9yaWdpbmFsTGVuZ3RoLCBtb2RpZmllZFN0YXJ0LCBtb2RpZmllZExlbmd0aCkge1xuICAgICAgICB2YXIgb3JpZ2luYWxTY29yZSA9ICh0aGlzLl9PcmlnaW5hbFJlZ2lvbklzQm91bmRhcnkob3JpZ2luYWxTdGFydCwgb3JpZ2luYWxMZW5ndGgpID8gMSA6IDApO1xuICAgICAgICB2YXIgbW9kaWZpZWRTY29yZSA9ICh0aGlzLl9Nb2RpZmllZFJlZ2lvbklzQm91bmRhcnkobW9kaWZpZWRTdGFydCwgbW9kaWZpZWRMZW5ndGgpID8gMSA6IDApO1xuICAgICAgICByZXR1cm4gKG9yaWdpbmFsU2NvcmUgKyBtb2RpZmllZFNjb3JlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENvbmNhdGVuYXRlcyB0aGUgdHdvIGlucHV0IERpZmZDaGFuZ2UgbGlzdHMgYW5kIHJldHVybnMgdGhlIHJlc3VsdGluZ1xuICAgICAqIGxpc3QuXG4gICAgICogQHBhcmFtIFRoZSBsZWZ0IGNoYW5nZXNcbiAgICAgKiBAcGFyYW0gVGhlIHJpZ2h0IGNoYW5nZXNcbiAgICAgKiBAcmV0dXJucyBUaGUgY29uY2F0ZW5hdGVkIGxpc3RcbiAgICAgKi9cbiAgICBMY3NEaWZmLnByb3RvdHlwZS5Db25jYXRlbmF0ZUNoYW5nZXMgPSBmdW5jdGlvbiAobGVmdCwgcmlnaHQpIHtcbiAgICAgICAgdmFyIG1lcmdlZENoYW5nZUFyciA9IFtdO1xuICAgICAgICB2YXIgcmVzdWx0ID0gbnVsbDtcbiAgICAgICAgaWYgKGxlZnQubGVuZ3RoID09PSAwIHx8IHJpZ2h0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIChyaWdodC5sZW5ndGggPiAwKSA/IHJpZ2h0IDogbGVmdDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLkNoYW5nZXNPdmVybGFwKGxlZnRbbGVmdC5sZW5ndGggLSAxXSwgcmlnaHRbMF0sIG1lcmdlZENoYW5nZUFycikpIHtcbiAgICAgICAgICAgIC8vIFNpbmNlIHdlIGJyZWFrIHRoZSBwcm9ibGVtIGRvd24gcmVjdXJzaXZlbHksIGl0IGlzIHBvc3NpYmxlIHRoYXQgd2VcbiAgICAgICAgICAgIC8vIG1pZ2h0IHJlY3Vyc2UgaW4gdGhlIG1pZGRsZSBvZiBhIGNoYW5nZSB0aGVyZWJ5IHNwbGl0dGluZyBpdCBpbnRvXG4gICAgICAgICAgICAvLyB0d28gY2hhbmdlcy4gSGVyZSBpbiB0aGUgY29tYmluaW5nIHN0YWdlLCB3ZSBkZXRlY3QgYW5kIGZ1c2UgdGhvc2VcbiAgICAgICAgICAgIC8vIGNoYW5nZXMgYmFjayB0b2dldGhlclxuICAgICAgICAgICAgcmVzdWx0ID0gbmV3IEFycmF5KGxlZnQubGVuZ3RoICsgcmlnaHQubGVuZ3RoIC0gMSk7XG4gICAgICAgICAgICBNeUFycmF5LkNvcHkobGVmdCwgMCwgcmVzdWx0LCAwLCBsZWZ0Lmxlbmd0aCAtIDEpO1xuICAgICAgICAgICAgcmVzdWx0W2xlZnQubGVuZ3RoIC0gMV0gPSBtZXJnZWRDaGFuZ2VBcnJbMF07XG4gICAgICAgICAgICBNeUFycmF5LkNvcHkocmlnaHQsIDEsIHJlc3VsdCwgbGVmdC5sZW5ndGgsIHJpZ2h0Lmxlbmd0aCAtIDEpO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IG5ldyBBcnJheShsZWZ0Lmxlbmd0aCArIHJpZ2h0Lmxlbmd0aCk7XG4gICAgICAgICAgICBNeUFycmF5LkNvcHkobGVmdCwgMCwgcmVzdWx0LCAwLCBsZWZ0Lmxlbmd0aCk7XG4gICAgICAgICAgICBNeUFycmF5LkNvcHkocmlnaHQsIDAsIHJlc3VsdCwgbGVmdC5sZW5ndGgsIHJpZ2h0Lmxlbmd0aCk7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIHR3byBjaGFuZ2VzIG92ZXJsYXAgYW5kIGNhbiBiZSBtZXJnZWQgaW50byBhIHNpbmdsZVxuICAgICAqIGNoYW5nZVxuICAgICAqIEBwYXJhbSBsZWZ0IFRoZSBsZWZ0IGNoYW5nZVxuICAgICAqIEBwYXJhbSByaWdodCBUaGUgcmlnaHQgY2hhbmdlXG4gICAgICogQHBhcmFtIG1lcmdlZENoYW5nZSBUaGUgbWVyZ2VkIGNoYW5nZSBpZiB0aGUgdHdvIG92ZXJsYXAsIG51bGwgb3RoZXJ3aXNlXG4gICAgICogQHJldHVybnMgVHJ1ZSBpZiB0aGUgdHdvIGNoYW5nZXMgb3ZlcmxhcFxuICAgICAqL1xuICAgIExjc0RpZmYucHJvdG90eXBlLkNoYW5nZXNPdmVybGFwID0gZnVuY3Rpb24gKGxlZnQsIHJpZ2h0LCBtZXJnZWRDaGFuZ2VBcnIpIHtcbiAgICAgICAgRGVidWcuQXNzZXJ0KGxlZnQub3JpZ2luYWxTdGFydCA8PSByaWdodC5vcmlnaW5hbFN0YXJ0LCAnTGVmdCBjaGFuZ2UgaXMgbm90IGxlc3MgdGhhbiBvciBlcXVhbCB0byByaWdodCBjaGFuZ2UnKTtcbiAgICAgICAgRGVidWcuQXNzZXJ0KGxlZnQubW9kaWZpZWRTdGFydCA8PSByaWdodC5tb2RpZmllZFN0YXJ0LCAnTGVmdCBjaGFuZ2UgaXMgbm90IGxlc3MgdGhhbiBvciBlcXVhbCB0byByaWdodCBjaGFuZ2UnKTtcbiAgICAgICAgaWYgKGxlZnQub3JpZ2luYWxTdGFydCArIGxlZnQub3JpZ2luYWxMZW5ndGggPj0gcmlnaHQub3JpZ2luYWxTdGFydCB8fCBsZWZ0Lm1vZGlmaWVkU3RhcnQgKyBsZWZ0Lm1vZGlmaWVkTGVuZ3RoID49IHJpZ2h0Lm1vZGlmaWVkU3RhcnQpIHtcbiAgICAgICAgICAgIHZhciBvcmlnaW5hbFN0YXJ0ID0gbGVmdC5vcmlnaW5hbFN0YXJ0O1xuICAgICAgICAgICAgdmFyIG9yaWdpbmFsTGVuZ3RoID0gbGVmdC5vcmlnaW5hbExlbmd0aDtcbiAgICAgICAgICAgIHZhciBtb2RpZmllZFN0YXJ0ID0gbGVmdC5tb2RpZmllZFN0YXJ0O1xuICAgICAgICAgICAgdmFyIG1vZGlmaWVkTGVuZ3RoID0gbGVmdC5tb2RpZmllZExlbmd0aDtcbiAgICAgICAgICAgIGlmIChsZWZ0Lm9yaWdpbmFsU3RhcnQgKyBsZWZ0Lm9yaWdpbmFsTGVuZ3RoID49IHJpZ2h0Lm9yaWdpbmFsU3RhcnQpIHtcbiAgICAgICAgICAgICAgICBvcmlnaW5hbExlbmd0aCA9IHJpZ2h0Lm9yaWdpbmFsU3RhcnQgKyByaWdodC5vcmlnaW5hbExlbmd0aCAtIGxlZnQub3JpZ2luYWxTdGFydDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChsZWZ0Lm1vZGlmaWVkU3RhcnQgKyBsZWZ0Lm1vZGlmaWVkTGVuZ3RoID49IHJpZ2h0Lm1vZGlmaWVkU3RhcnQpIHtcbiAgICAgICAgICAgICAgICBtb2RpZmllZExlbmd0aCA9IHJpZ2h0Lm1vZGlmaWVkU3RhcnQgKyByaWdodC5tb2RpZmllZExlbmd0aCAtIGxlZnQubW9kaWZpZWRTdGFydDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1lcmdlZENoYW5nZUFyclswXSA9IG5ldyBEaWZmQ2hhbmdlKG9yaWdpbmFsU3RhcnQsIG9yaWdpbmFsTGVuZ3RoLCBtb2RpZmllZFN0YXJ0LCBtb2RpZmllZExlbmd0aCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG1lcmdlZENoYW5nZUFyclswXSA9IG51bGw7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEhlbHBlciBtZXRob2QgdXNlZCB0byBjbGlwIGEgZGlhZ29uYWwgaW5kZXggdG8gdGhlIHJhbmdlIG9mIHZhbGlkXG4gICAgICogZGlhZ29uYWxzLiBUaGlzIGFsc28gZGVjaWRlcyB3aGV0aGVyIG9yIG5vdCB0aGUgZGlhZ29uYWwgaW5kZXgsXG4gICAgICogaWYgaXQgZXhjZWVkcyB0aGUgYm91bmRhcnksIHNob3VsZCBiZSBjbGlwcGVkIHRvIHRoZSBib3VuZGFyeSBvciBjbGlwcGVkXG4gICAgICogb25lIGluc2lkZSB0aGUgYm91bmRhcnkgZGVwZW5kaW5nIG9uIHRoZSBFdmVuL09kZCBzdGF0dXMgb2YgdGhlIGJvdW5kYXJ5XG4gICAgICogYW5kIG51bURpZmZlcmVuY2VzLlxuICAgICAqIEBwYXJhbSBkaWFnb25hbCBUaGUgaW5kZXggb2YgdGhlIGRpYWdvbmFsIHRvIGNsaXAuXG4gICAgICogQHBhcmFtIG51bURpZmZlcmVuY2VzIFRoZSBjdXJyZW50IG51bWJlciBvZiBkaWZmZXJlbmNlcyBiZWluZyBpdGVyYXRlZCB1cG9uLlxuICAgICAqIEBwYXJhbSBkaWFnb25hbEJhc2VJbmRleCBUaGUgYmFzZSByZWZlcmVuY2UgZGlhZ29uYWwuXG4gICAgICogQHBhcmFtIG51bURpYWdvbmFscyBUaGUgdG90YWwgbnVtYmVyIG9mIGRpYWdvbmFscy5cbiAgICAgKiBAcmV0dXJucyBUaGUgY2xpcHBlZCBkaWFnb25hbCBpbmRleC5cbiAgICAgKi9cbiAgICBMY3NEaWZmLnByb3RvdHlwZS5DbGlwRGlhZ29uYWxCb3VuZCA9IGZ1bmN0aW9uIChkaWFnb25hbCwgbnVtRGlmZmVyZW5jZXMsIGRpYWdvbmFsQmFzZUluZGV4LCBudW1EaWFnb25hbHMpIHtcbiAgICAgICAgaWYgKGRpYWdvbmFsID49IDAgJiYgZGlhZ29uYWwgPCBudW1EaWFnb25hbHMpIHtcbiAgICAgICAgICAgIC8vIE5vdGhpbmcgdG8gY2xpcCwgaXRzIGluIHJhbmdlXG4gICAgICAgICAgICByZXR1cm4gZGlhZ29uYWw7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZGlhZ29uYWxzQmVsb3c6IFRoZSBudW1iZXIgb2YgZGlhZ29uYWxzIGJlbG93IHRoZSByZWZlcmVuY2UgZGlhZ29uYWxcbiAgICAgICAgLy8gZGlhZ29uYWxzQWJvdmU6IFRoZSBudW1iZXIgb2YgZGlhZ29uYWxzIGFib3ZlIHRoZSByZWZlcmVuY2UgZGlhZ29uYWxcbiAgICAgICAgdmFyIGRpYWdvbmFsc0JlbG93ID0gZGlhZ29uYWxCYXNlSW5kZXg7XG4gICAgICAgIHZhciBkaWFnb25hbHNBYm92ZSA9IG51bURpYWdvbmFscyAtIGRpYWdvbmFsQmFzZUluZGV4IC0gMTtcbiAgICAgICAgdmFyIGRpZmZFdmVuID0gKG51bURpZmZlcmVuY2VzICUgMiA9PT0gMCk7XG4gICAgICAgIGlmIChkaWFnb25hbCA8IDApIHtcbiAgICAgICAgICAgIHZhciBsb3dlckJvdW5kRXZlbiA9IChkaWFnb25hbHNCZWxvdyAlIDIgPT09IDApO1xuICAgICAgICAgICAgcmV0dXJuIChkaWZmRXZlbiA9PT0gbG93ZXJCb3VuZEV2ZW4pID8gMCA6IDE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgdXBwZXJCb3VuZEV2ZW4gPSAoZGlhZ29uYWxzQWJvdmUgJSAyID09PSAwKTtcbiAgICAgICAgICAgIHJldHVybiAoZGlmZkV2ZW4gPT09IHVwcGVyQm91bmRFdmVuKSA/IG51bURpYWdvbmFscyAtIDEgOiBudW1EaWFnb25hbHMgLSAyO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gTGNzRGlmZjtcbn0oKSk7XG5leHBvcnQgeyBMY3NEaWZmIH07XG4iLCIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbid1c2Ugc3RyaWN0JztcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuaW1wb3J0IFVSSSBmcm9tICcuL3VyaS5qcyc7XG5leHBvcnQgZnVuY3Rpb24gdmFsdWVzKGZvckVhY2hhYmxlKSB7XG4gICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgIGZvckVhY2hhYmxlLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiByZXN1bHQucHVzaCh2YWx1ZSk7IH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG5leHBvcnQgZnVuY3Rpb24ga2V5cyhtYXApIHtcbiAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgbWFwLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlLCBrZXkpIHsgcmV0dXJuIHJlc3VsdC5wdXNoKGtleSk7IH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0T3JTZXQobWFwLCBrZXksIHZhbHVlKSB7XG4gICAgdmFyIHJlc3VsdCA9IG1hcC5nZXQoa2V5KTtcbiAgICBpZiAocmVzdWx0ID09PSB2b2lkIDApIHtcbiAgICAgICAgcmVzdWx0ID0gdmFsdWU7XG4gICAgICAgIG1hcC5zZXQoa2V5LCByZXN1bHQpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxudmFyIFN0cmluZ0l0ZXJhdG9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFN0cmluZ0l0ZXJhdG9yKCkge1xuICAgICAgICB0aGlzLl92YWx1ZSA9ICcnO1xuICAgICAgICB0aGlzLl9wb3MgPSAwO1xuICAgIH1cbiAgICBTdHJpbmdJdGVyYXRvci5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHRoaXMuX3ZhbHVlID0ga2V5O1xuICAgICAgICB0aGlzLl9wb3MgPSAwO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIFN0cmluZ0l0ZXJhdG9yLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl9wb3MgKz0gMTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBTdHJpbmdJdGVyYXRvci5wcm90b3R5cGUuam9pbiA9IGZ1bmN0aW9uIChwYXJ0cykge1xuICAgICAgICByZXR1cm4gcGFydHMuam9pbignJyk7XG4gICAgfTtcbiAgICBTdHJpbmdJdGVyYXRvci5wcm90b3R5cGUuaGFzTmV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BvcyA8IHRoaXMuX3ZhbHVlLmxlbmd0aCAtIDE7XG4gICAgfTtcbiAgICBTdHJpbmdJdGVyYXRvci5wcm90b3R5cGUuY21wID0gZnVuY3Rpb24gKGEpIHtcbiAgICAgICAgdmFyIGFDb2RlID0gYS5jaGFyQ29kZUF0KDApO1xuICAgICAgICB2YXIgdGhpc0NvZGUgPSB0aGlzLl92YWx1ZS5jaGFyQ29kZUF0KHRoaXMuX3Bvcyk7XG4gICAgICAgIHJldHVybiBhQ29kZSAtIHRoaXNDb2RlO1xuICAgIH07XG4gICAgU3RyaW5nSXRlcmF0b3IucHJvdG90eXBlLnZhbHVlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdmFsdWVbdGhpcy5fcG9zXTtcbiAgICB9O1xuICAgIHJldHVybiBTdHJpbmdJdGVyYXRvcjtcbn0oKSk7XG5leHBvcnQgeyBTdHJpbmdJdGVyYXRvciB9O1xudmFyIFBhdGhJdGVyYXRvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBQYXRoSXRlcmF0b3IoKSB7XG4gICAgfVxuICAgIFBhdGhJdGVyYXRvci5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHRoaXMuX3ZhbHVlID0ga2V5LnJlcGxhY2UoL1xcXFwkfFxcLyQvLCAnJyk7XG4gICAgICAgIHRoaXMuX2Zyb20gPSAwO1xuICAgICAgICB0aGlzLl90byA9IDA7XG4gICAgICAgIHJldHVybiB0aGlzLm5leHQoKTtcbiAgICB9O1xuICAgIFBhdGhJdGVyYXRvci5wcm90b3R5cGUuaGFzTmV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RvIDwgdGhpcy5fdmFsdWUubGVuZ3RoO1xuICAgIH07XG4gICAgUGF0aEl0ZXJhdG9yLnByb3RvdHlwZS5qb2luID0gZnVuY3Rpb24gKHBhcnRzKSB7XG4gICAgICAgIHJldHVybiBwYXJ0cy5qb2luKCcvJyk7XG4gICAgfTtcbiAgICBQYXRoSXRlcmF0b3IucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIHRoaXMuX2RhdGEgPSBrZXkuc3BsaXQoL1tcXFxcL10vKS5maWx0ZXIocyA9PiAhIXMpO1xuICAgICAgICB0aGlzLl9mcm9tID0gdGhpcy5fdG87XG4gICAgICAgIHZhciBqdXN0U2VwcyA9IHRydWU7XG4gICAgICAgIGZvciAoOyB0aGlzLl90byA8IHRoaXMuX3ZhbHVlLmxlbmd0aDsgdGhpcy5fdG8rKykge1xuICAgICAgICAgICAgdmFyIGNoID0gdGhpcy5fdmFsdWUuY2hhckNvZGVBdCh0aGlzLl90byk7XG4gICAgICAgICAgICBpZiAoY2ggPT09IFBhdGhJdGVyYXRvci5fZndkIHx8IGNoID09PSBQYXRoSXRlcmF0b3IuX2J3ZCkge1xuICAgICAgICAgICAgICAgIGlmIChqdXN0U2Vwcykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9mcm9tKys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBqdXN0U2VwcyA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgUGF0aEl0ZXJhdG9yLnByb3RvdHlwZS5jbXAgPSBmdW5jdGlvbiAoYSkge1xuICAgICAgICB2YXIgYVBvcyA9IDA7XG4gICAgICAgIHZhciBhTGVuID0gYS5sZW5ndGg7XG4gICAgICAgIHZhciB0aGlzUG9zID0gdGhpcy5fZnJvbTtcbiAgICAgICAgd2hpbGUgKGFQb3MgPCBhTGVuICYmIHRoaXNQb3MgPCB0aGlzLl90bykge1xuICAgICAgICAgICAgdmFyIGNtcCA9IGEuY2hhckNvZGVBdChhUG9zKSAtIHRoaXMuX3ZhbHVlLmNoYXJDb2RlQXQodGhpc1Bvcyk7XG4gICAgICAgICAgICBpZiAoY21wICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNtcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFQb3MgKz0gMTtcbiAgICAgICAgICAgIHRoaXNQb3MgKz0gMTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYUxlbiA9PT0gdGhpcy5fdG8gLSB0aGlzLl9mcm9tKSB7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChhUG9zIDwgYUxlbikge1xuICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFBhdGhJdGVyYXRvci5wcm90b3R5cGUudmFsdWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl92YWx1ZS5zdWJzdHJpbmcodGhpcy5fZnJvbSwgdGhpcy5fdG8pO1xuICAgIH07XG4gICAgUGF0aEl0ZXJhdG9yLl9md2QgPSAnLycuY2hhckNvZGVBdCgwKTtcbiAgICBQYXRoSXRlcmF0b3IuX2J3ZCA9ICdcXFxcJy5jaGFyQ29kZUF0KDApO1xuICAgIHJldHVybiBQYXRoSXRlcmF0b3I7XG59KCkpO1xuZXhwb3J0IHsgUGF0aEl0ZXJhdG9yIH07XG52YXIgVGVybmFyeVNlYXJjaFRyZWVOb2RlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFRlcm5hcnlTZWFyY2hUcmVlTm9kZSgpIHtcbiAgICB9XG4gICAgVGVybmFyeVNlYXJjaFRyZWVOb2RlLnByb3RvdHlwZS5pc0VtcHR5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gIXRoaXMubGVmdCAmJiAhdGhpcy5taWQgJiYgIXRoaXMucmlnaHQgJiYgIXRoaXMuZWxlbWVudDtcbiAgICB9O1xuICAgIHJldHVybiBUZXJuYXJ5U2VhcmNoVHJlZU5vZGU7XG59KCkpO1xudmFyIFRlcm5hcnlTZWFyY2hUcmVlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFRlcm5hcnlTZWFyY2hUcmVlKHNlZ21lbnRzKSB7XG4gICAgICAgIHRoaXMuX2l0ZXIgPSBzZWdtZW50cztcbiAgICB9XG4gICAgVGVybmFyeVNlYXJjaFRyZWUuZm9yUGF0aHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBuZXcgVGVybmFyeVNlYXJjaFRyZWUobmV3IFBhdGhJdGVyYXRvcigpKTtcbiAgICB9O1xuICAgIFRlcm5hcnlTZWFyY2hUcmVlLmZvclN0cmluZ3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBuZXcgVGVybmFyeVNlYXJjaFRyZWUobmV3IFN0cmluZ0l0ZXJhdG9yKCkpO1xuICAgIH07XG4gICAgVGVybmFyeVNlYXJjaFRyZWUucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl9yb290ID0gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgVGVybmFyeVNlYXJjaFRyZWUucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uIChrZXksIGVsZW1lbnQpIHtcbiAgICAgICAgdmFyIGl0ZXIgPSB0aGlzLl9pdGVyLnJlc2V0KGtleSk7XG4gICAgICAgIHZhciBub2RlO1xuICAgICAgICBpZiAoIXRoaXMuX3Jvb3QpIHtcbiAgICAgICAgICAgIHRoaXMuX3Jvb3QgPSBuZXcgVGVybmFyeVNlYXJjaFRyZWVOb2RlKCk7XG4gICAgICAgICAgICB0aGlzLl9yb290LnN0ciA9IGl0ZXIudmFsdWUoKTtcbiAgICAgICAgfVxuICAgICAgICBub2RlID0gdGhpcy5fcm9vdDtcbiAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgIHZhciB2YWwgPSBpdGVyLmNtcChub2RlLnN0cik7XG4gICAgICAgICAgICBpZiAodmFsID4gMCkge1xuICAgICAgICAgICAgICAgIC8vIGxlZnRcbiAgICAgICAgICAgICAgICBpZiAoIW5vZGUubGVmdCkge1xuICAgICAgICAgICAgICAgICAgICBub2RlLmxlZnQgPSBuZXcgVGVybmFyeVNlYXJjaFRyZWVOb2RlKCk7XG4gICAgICAgICAgICAgICAgICAgIG5vZGUubGVmdC5zdHIgPSBpdGVyLnZhbHVlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG5vZGUgPSBub2RlLmxlZnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh2YWwgPCAwKSB7XG4gICAgICAgICAgICAgICAgLy8gcmlnaHRcbiAgICAgICAgICAgICAgICBpZiAoIW5vZGUucmlnaHQpIHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5yaWdodCA9IG5ldyBUZXJuYXJ5U2VhcmNoVHJlZU5vZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5yaWdodC5zdHIgPSBpdGVyLnZhbHVlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG5vZGUgPSBub2RlLnJpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXRlci5oYXNOZXh0KCkpIHtcbiAgICAgICAgICAgICAgICAvLyBtaWRcbiAgICAgICAgICAgICAgICBpdGVyLm5leHQoKTtcbiAgICAgICAgICAgICAgICBpZiAoIW5vZGUubWlkKSB7XG4gICAgICAgICAgICAgICAgICAgIG5vZGUubWlkID0gbmV3IFRlcm5hcnlTZWFyY2hUcmVlTm9kZSgpO1xuICAgICAgICAgICAgICAgICAgICBub2RlLm1pZC5zdHIgPSBpdGVyLnZhbHVlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG5vZGUgPSBub2RlLm1pZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBvbGRFbGVtZW50ID0gbm9kZS5lbGVtZW50O1xuICAgICAgICBub2RlLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICByZXR1cm4gb2xkRWxlbWVudDtcbiAgICB9O1xuICAgIFRlcm5hcnlTZWFyY2hUcmVlLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHZhciBpdGVyID0gdGhpcy5faXRlci5yZXNldChrZXkpO1xuICAgICAgICB2YXIgbm9kZSA9IHRoaXMuX3Jvb3Q7XG4gICAgICAgIHdoaWxlIChub2RlKSB7XG4gICAgICAgICAgICB2YXIgdmFsID0gaXRlci5jbXAobm9kZS5zdHIpO1xuICAgICAgICAgICAgaWYgKHZhbCA+IDApIHtcbiAgICAgICAgICAgICAgICAvLyBsZWZ0XG4gICAgICAgICAgICAgICAgbm9kZSA9IG5vZGUubGVmdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHZhbCA8IDApIHtcbiAgICAgICAgICAgICAgICAvLyByaWdodFxuICAgICAgICAgICAgICAgIG5vZGUgPSBub2RlLnJpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXRlci5oYXNOZXh0KCkpIHtcbiAgICAgICAgICAgICAgICAvLyBtaWRcbiAgICAgICAgICAgICAgICBpdGVyLm5leHQoKTtcbiAgICAgICAgICAgICAgICBub2RlID0gbm9kZS5taWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbm9kZSA/IG5vZGUuZWxlbWVudCA6IHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIFRlcm5hcnlTZWFyY2hUcmVlLnByb3RvdHlwZS5kZWxldGUgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHZhciBpdGVyID0gdGhpcy5faXRlci5yZXNldChrZXkpO1xuICAgICAgICB2YXIgc3RhY2sgPSBbXTtcbiAgICAgICAgdmFyIG5vZGUgPSB0aGlzLl9yb290O1xuICAgICAgICAvLyBmaW5kIGFuZCB1bnNldCBub2RlXG4gICAgICAgIHdoaWxlIChub2RlKSB7XG4gICAgICAgICAgICB2YXIgdmFsID0gaXRlci5jbXAobm9kZS5zdHIpO1xuICAgICAgICAgICAgaWYgKHZhbCA+IDApIHtcbiAgICAgICAgICAgICAgICAvLyBsZWZ0XG4gICAgICAgICAgICAgICAgc3RhY2sucHVzaChbMSwgbm9kZV0pO1xuICAgICAgICAgICAgICAgIG5vZGUgPSBub2RlLmxlZnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh2YWwgPCAwKSB7XG4gICAgICAgICAgICAgICAgLy8gcmlnaHRcbiAgICAgICAgICAgICAgICBzdGFjay5wdXNoKFstMSwgbm9kZV0pO1xuICAgICAgICAgICAgICAgIG5vZGUgPSBub2RlLnJpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXRlci5oYXNOZXh0KCkpIHtcbiAgICAgICAgICAgICAgICAvLyBtaWRcbiAgICAgICAgICAgICAgICBpdGVyLm5leHQoKTtcbiAgICAgICAgICAgICAgICBzdGFjay5wdXNoKFswLCBub2RlXSk7XG4gICAgICAgICAgICAgICAgbm9kZSA9IG5vZGUubWlkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gcmVtb3ZlIGVsZW1lbnRcbiAgICAgICAgICAgICAgICBub2RlLmVsZW1lbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgLy8gY2xlYW4gdXAgZW1wdHkgbm9kZXNcbiAgICAgICAgICAgICAgICB3aGlsZSAoc3RhY2subGVuZ3RoID4gMCAmJiBub2RlLmlzRW1wdHkoKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2EgPSBzdGFjay5wb3AoKSwgZGlyID0gX2FbMF0sIHBhcmVudF8xID0gX2FbMV07XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoZGlyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50XzEubGVmdCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRfMS5taWQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIC0xOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudF8xLnJpZ2h0ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG5vZGUgPSBwYXJlbnRfMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFRlcm5hcnlTZWFyY2hUcmVlLnByb3RvdHlwZS5maW5kU3Vic3RyID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICB2YXIgaXRlciA9IHRoaXMuX2l0ZXIucmVzZXQoa2V5KTtcbiAgICAgICAgdmFyIG5vZGUgPSB0aGlzLl9yb290O1xuICAgICAgICB2YXIgY2FuZGlkYXRlO1xuICAgICAgICB3aGlsZSAobm9kZSkge1xuICAgICAgICAgICAgdmFyIHZhbCA9IGl0ZXIuY21wKG5vZGUuc3RyKTtcbiAgICAgICAgICAgIGlmICh2YWwgPiAwKSB7XG4gICAgICAgICAgICAgICAgLy8gbGVmdFxuICAgICAgICAgICAgICAgIG5vZGUgPSBub2RlLmxlZnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh2YWwgPCAwKSB7XG4gICAgICAgICAgICAgICAgLy8gcmlnaHRcbiAgICAgICAgICAgICAgICBub2RlID0gbm9kZS5yaWdodDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGl0ZXIuaGFzTmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgLy8gbWlkXG4gICAgICAgICAgICAgICAgaXRlci5uZXh0KCk7XG4gICAgICAgICAgICAgICAgY2FuZGlkYXRlID0gbm9kZS5lbGVtZW50IHx8IGNhbmRpZGF0ZTtcbiAgICAgICAgICAgICAgICBub2RlID0gbm9kZS5taWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbm9kZSAmJiBub2RlLmVsZW1lbnQgfHwgY2FuZGlkYXRlO1xuICAgIH07XG4gICAgVGVybmFyeVNlYXJjaFRyZWUucHJvdG90eXBlLmZpbmRTdXBlcnN0ciA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgdmFyIGl0ZXIgPSB0aGlzLl9pdGVyLnJlc2V0KGtleSk7XG4gICAgICAgIHZhciBub2RlID0gdGhpcy5fcm9vdDtcbiAgICAgICAgd2hpbGUgKG5vZGUpIHtcbiAgICAgICAgICAgIHZhciB2YWwgPSBpdGVyLmNtcChub2RlLnN0cik7XG4gICAgICAgICAgICBpZiAodmFsID4gMCkge1xuICAgICAgICAgICAgICAgIC8vIGxlZnRcbiAgICAgICAgICAgICAgICBub2RlID0gbm9kZS5sZWZ0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodmFsIDwgMCkge1xuICAgICAgICAgICAgICAgIC8vIHJpZ2h0XG4gICAgICAgICAgICAgICAgbm9kZSA9IG5vZGUucmlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpdGVyLmhhc05leHQoKSkge1xuICAgICAgICAgICAgICAgIC8vIG1pZFxuICAgICAgICAgICAgICAgIGl0ZXIubmV4dCgpO1xuICAgICAgICAgICAgICAgIG5vZGUgPSBub2RlLm1pZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGNvbGxlY3RcbiAgICAgICAgICAgICAgICBpZiAoIW5vZGUubWlkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciByZXQgPSBuZXcgVGVybmFyeVNlYXJjaFRyZWUodGhpcy5faXRlcik7XG4gICAgICAgICAgICAgICAgcmV0Ll9yb290ID0gbm9kZS5taWQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgVGVybmFyeVNlYXJjaFRyZWUucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5fZm9yRWFjaCh0aGlzLl9yb290LCBbXSwgY2FsbGJhY2spO1xuICAgIH07XG4gICAgVGVybmFyeVNlYXJjaFRyZWUucHJvdG90eXBlLl9mb3JFYWNoID0gZnVuY3Rpb24gKG5vZGUsIHBhcnRzLCBjYWxsYmFjaykge1xuICAgICAgICBpZiAobm9kZSkge1xuICAgICAgICAgICAgLy8gbGVmdFxuICAgICAgICAgICAgdGhpcy5fZm9yRWFjaChub2RlLmxlZnQsIHBhcnRzLCBjYWxsYmFjayk7XG4gICAgICAgICAgICAvLyBub2RlXG4gICAgICAgICAgICBwYXJ0cy5wdXNoKG5vZGUuc3RyKTtcbiAgICAgICAgICAgIGlmIChub2RlLmVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhub2RlLmVsZW1lbnQsIHRoaXMuX2l0ZXIuam9pbihwYXJ0cykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gbWlkXG4gICAgICAgICAgICB0aGlzLl9mb3JFYWNoKG5vZGUubWlkLCBwYXJ0cywgY2FsbGJhY2spO1xuICAgICAgICAgICAgcGFydHMucG9wKCk7XG4gICAgICAgICAgICAvLyByaWdodFxuICAgICAgICAgICAgdGhpcy5fZm9yRWFjaChub2RlLnJpZ2h0LCBwYXJ0cywgY2FsbGJhY2spO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gVGVybmFyeVNlYXJjaFRyZWU7XG59KCkpO1xuZXhwb3J0IHsgVGVybmFyeVNlYXJjaFRyZWUgfTtcbnZhciBSZXNvdXJjZU1hcCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZXNvdXJjZU1hcCgpIHtcbiAgICAgICAgdGhpcy5tYXAgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuaWdub3JlQ2FzZSA9IGZhbHNlOyAvLyBpbiB0aGUgZnV0dXJlIHRoaXMgc2hvdWxkIGJlIGFuIHVyaS1jb21wYXJhdG9yXG4gICAgfVxuICAgIFJlc291cmNlTWFwLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAocmVzb3VyY2UsIHZhbHVlKSB7XG4gICAgICAgIHRoaXMubWFwLnNldCh0aGlzLnRvS2V5KHJlc291cmNlKSwgdmFsdWUpO1xuICAgIH07XG4gICAgUmVzb3VyY2VNYXAucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIChyZXNvdXJjZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXAuZ2V0KHRoaXMudG9LZXkocmVzb3VyY2UpKTtcbiAgICB9O1xuICAgIFJlc291cmNlTWFwLnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbiAocmVzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWFwLmhhcyh0aGlzLnRvS2V5KHJlc291cmNlKSk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVzb3VyY2VNYXAucHJvdG90eXBlLCBcInNpemVcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm1hcC5zaXplO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBSZXNvdXJjZU1hcC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMubWFwLmNsZWFyKCk7XG4gICAgfTtcbiAgICBSZXNvdXJjZU1hcC5wcm90b3R5cGUuZGVsZXRlID0gZnVuY3Rpb24gKHJlc291cmNlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1hcC5kZWxldGUodGhpcy50b0tleShyZXNvdXJjZSkpO1xuICAgIH07XG4gICAgUmVzb3VyY2VNYXAucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiAoY2xiKSB7XG4gICAgICAgIHRoaXMubWFwLmZvckVhY2goY2xiKTtcbiAgICB9O1xuICAgIFJlc291cmNlTWFwLnByb3RvdHlwZS52YWx1ZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZXModGhpcy5tYXApO1xuICAgIH07XG4gICAgUmVzb3VyY2VNYXAucHJvdG90eXBlLnRvS2V5ID0gZnVuY3Rpb24gKHJlc291cmNlKSB7XG4gICAgICAgIHZhciBrZXkgPSByZXNvdXJjZS50b1N0cmluZygpO1xuICAgICAgICBpZiAodGhpcy5pZ25vcmVDYXNlKSB7XG4gICAgICAgICAgICBrZXkgPSBrZXkudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ga2V5O1xuICAgIH07XG4gICAgUmVzb3VyY2VNYXAucHJvdG90eXBlLmtleXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBrZXlzKHRoaXMubWFwKS5tYXAoVVJJLnBhcnNlKTtcbiAgICB9O1xuICAgIHJldHVybiBSZXNvdXJjZU1hcDtcbn0oKSk7XG5leHBvcnQgeyBSZXNvdXJjZU1hcCB9O1xuZXhwb3J0IHZhciBUb3VjaDtcbihmdW5jdGlvbiAoVG91Y2gpIHtcbiAgICBUb3VjaFtUb3VjaFtcIk5vbmVcIl0gPSAwXSA9IFwiTm9uZVwiO1xuICAgIFRvdWNoW1RvdWNoW1wiQXNPbGRcIl0gPSAxXSA9IFwiQXNPbGRcIjtcbiAgICBUb3VjaFtUb3VjaFtcIkFzTmV3XCJdID0gMl0gPSBcIkFzTmV3XCI7XG59KShUb3VjaCB8fCAoVG91Y2ggPSB7fSkpO1xudmFyIExpbmtlZE1hcCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBMaW5rZWRNYXAoKSB7XG4gICAgICAgIHRoaXMuX21hcCA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5faGVhZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5fdGFpbCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5fc2l6ZSA9IDA7XG4gICAgfVxuICAgIExpbmtlZE1hcC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX21hcC5jbGVhcigpO1xuICAgICAgICB0aGlzLl9oZWFkID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl90YWlsID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl9zaXplID0gMDtcbiAgICB9O1xuICAgIExpbmtlZE1hcC5wcm90b3R5cGUuaXNFbXB0eSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICF0aGlzLl9oZWFkICYmICF0aGlzLl90YWlsO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KExpbmtlZE1hcC5wcm90b3R5cGUsIFwic2l6ZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3NpemU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIExpbmtlZE1hcC5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbWFwLmhhcyhrZXkpO1xuICAgIH07XG4gICAgTGlua2VkTWFwLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAoa2V5LCB0b3VjaCkge1xuICAgICAgICBpZiAodG91Y2ggPT09IHZvaWQgMCkgeyB0b3VjaCA9IFRvdWNoLk5vbmU7IH1cbiAgICAgICAgdmFyIGl0ZW0gPSB0aGlzLl9tYXAuZ2V0KGtleSk7XG4gICAgICAgIGlmICghaXRlbSkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodG91Y2ggIT09IFRvdWNoLk5vbmUpIHtcbiAgICAgICAgICAgIHRoaXMudG91Y2goaXRlbSwgdG91Y2gpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpdGVtLnZhbHVlO1xuICAgIH07XG4gICAgTGlua2VkTWFwLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSwgdG91Y2gpIHtcbiAgICAgICAgaWYgKHRvdWNoID09PSB2b2lkIDApIHsgdG91Y2ggPSBUb3VjaC5Ob25lOyB9XG4gICAgICAgIHZhciBpdGVtID0gdGhpcy5fbWFwLmdldChrZXkpO1xuICAgICAgICBpZiAoaXRlbSkge1xuICAgICAgICAgICAgaXRlbS52YWx1ZSA9IHZhbHVlO1xuICAgICAgICAgICAgaWYgKHRvdWNoICE9PSBUb3VjaC5Ob25lKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50b3VjaChpdGVtLCB0b3VjaCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpdGVtID0geyBrZXk6IGtleSwgdmFsdWU6IHZhbHVlLCBuZXh0OiB1bmRlZmluZWQsIHByZXZpb3VzOiB1bmRlZmluZWQgfTtcbiAgICAgICAgICAgIHN3aXRjaCAodG91Y2gpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFRvdWNoLk5vbmU6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkSXRlbUxhc3QoaXRlbSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgVG91Y2guQXNPbGQ6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkSXRlbUZpcnN0KGl0ZW0pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFRvdWNoLkFzTmV3OlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZEl0ZW1MYXN0KGl0ZW0pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZEl0ZW1MYXN0KGl0ZW0pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX21hcC5zZXQoa2V5LCBpdGVtKTtcbiAgICAgICAgICAgIHRoaXMuX3NpemUrKztcbiAgICAgICAgfVxuICAgIH07XG4gICAgTGlua2VkTWFwLnByb3RvdHlwZS5kZWxldGUgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMucmVtb3ZlKGtleSk7XG4gICAgfTtcbiAgICBMaW5rZWRNYXAucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgdmFyIGl0ZW0gPSB0aGlzLl9tYXAuZ2V0KGtleSk7XG4gICAgICAgIGlmICghaXRlbSkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9tYXAuZGVsZXRlKGtleSk7XG4gICAgICAgIHRoaXMucmVtb3ZlSXRlbShpdGVtKTtcbiAgICAgICAgdGhpcy5fc2l6ZS0tO1xuICAgICAgICByZXR1cm4gaXRlbS52YWx1ZTtcbiAgICB9O1xuICAgIExpbmtlZE1hcC5wcm90b3R5cGUuc2hpZnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5faGVhZCAmJiAhdGhpcy5fdGFpbCkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuX2hlYWQgfHwgIXRoaXMuX3RhaWwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBsaXN0Jyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGl0ZW0gPSB0aGlzLl9oZWFkO1xuICAgICAgICB0aGlzLl9tYXAuZGVsZXRlKGl0ZW0ua2V5KTtcbiAgICAgICAgdGhpcy5yZW1vdmVJdGVtKGl0ZW0pO1xuICAgICAgICB0aGlzLl9zaXplLS07XG4gICAgICAgIHJldHVybiBpdGVtLnZhbHVlO1xuICAgIH07XG4gICAgTGlua2VkTWFwLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gKGNhbGxiYWNrZm4sIHRoaXNBcmcpIHtcbiAgICAgICAgdmFyIGN1cnJlbnQgPSB0aGlzLl9oZWFkO1xuICAgICAgICB3aGlsZSAoY3VycmVudCkge1xuICAgICAgICAgICAgaWYgKHRoaXNBcmcpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFja2ZuLmJpbmQodGhpc0FyZykoY3VycmVudC52YWx1ZSwgY3VycmVudC5rZXksIHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2tmbihjdXJyZW50LnZhbHVlLCBjdXJyZW50LmtleSwgdGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC5uZXh0O1xuICAgICAgICB9XG4gICAgfTtcbiAgICBMaW5rZWRNYXAucHJvdG90eXBlLnZhbHVlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgICB2YXIgY3VycmVudCA9IHRoaXMuX2hlYWQ7XG4gICAgICAgIHdoaWxlIChjdXJyZW50KSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaChjdXJyZW50LnZhbHVlKTtcbiAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50Lm5leHQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICAgIExpbmtlZE1hcC5wcm90b3R5cGUua2V5cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgICB2YXIgY3VycmVudCA9IHRoaXMuX2hlYWQ7XG4gICAgICAgIHdoaWxlIChjdXJyZW50KSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaChjdXJyZW50LmtleSk7XG4gICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC5uZXh0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICAvKiBWUyBDb2RlIC8gTW9uYWNvIGVkaXRvciBydW5zIG9uIGVzNSB3aGljaCBoYXMgbm8gU3ltYm9sLml0ZXJhdG9yXG4gICAgcHVibGljIGtleXMoKTogSXRlcmFibGVJdGVyYXRvcjxLPiB7XG4gICAgICAgIGxldCBjdXJyZW50ID0gdGhpcy5faGVhZDtcbiAgICAgICAgbGV0IGl0ZXJhdG9yOiBJdGVyYWJsZUl0ZXJhdG9yPEs+ID0ge1xuICAgICAgICAgICAgW1N5bWJvbC5pdGVyYXRvcl0oKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGl0ZXJhdG9yO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG5leHQoKTpJdGVyYXRvclJlc3VsdDxLPiB7XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHJlc3VsdCA9IHsgdmFsdWU6IGN1cnJlbnQua2V5LCBkb25lOiBmYWxzZSB9O1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC5uZXh0O1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiB1bmRlZmluZWQsIGRvbmU6IHRydWUgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBpdGVyYXRvcjtcbiAgICB9XG5cbiAgICBwdWJsaWMgdmFsdWVzKCk6IEl0ZXJhYmxlSXRlcmF0b3I8Vj4ge1xuICAgICAgICBsZXQgY3VycmVudCA9IHRoaXMuX2hlYWQ7XG4gICAgICAgIGxldCBpdGVyYXRvcjogSXRlcmFibGVJdGVyYXRvcjxWPiA9IHtcbiAgICAgICAgICAgIFtTeW1ib2wuaXRlcmF0b3JdKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpdGVyYXRvcjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBuZXh0KCk6SXRlcmF0b3JSZXN1bHQ8Vj4ge1xuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCByZXN1bHQgPSB7IHZhbHVlOiBjdXJyZW50LnZhbHVlLCBkb25lOiBmYWxzZSB9O1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC5uZXh0O1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiB1bmRlZmluZWQsIGRvbmU6IHRydWUgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBpdGVyYXRvcjtcbiAgICB9XG4gICAgKi9cbiAgICBMaW5rZWRNYXAucHJvdG90eXBlLnRyaW1PbGQgPSBmdW5jdGlvbiAobmV3U2l6ZSkge1xuICAgICAgICBpZiAobmV3U2l6ZSA+PSB0aGlzLnNpemUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmV3U2l6ZSA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5jbGVhcigpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjdXJyZW50ID0gdGhpcy5faGVhZDtcbiAgICAgICAgdmFyIGN1cnJlbnRTaXplID0gdGhpcy5zaXplO1xuICAgICAgICB3aGlsZSAoY3VycmVudCAmJiBjdXJyZW50U2l6ZSA+IG5ld1NpemUpIHtcbiAgICAgICAgICAgIHRoaXMuX21hcC5kZWxldGUoY3VycmVudC5rZXkpO1xuICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQubmV4dDtcbiAgICAgICAgICAgIGN1cnJlbnRTaXplLS07XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5faGVhZCA9IGN1cnJlbnQ7XG4gICAgICAgIHRoaXMuX3NpemUgPSBjdXJyZW50U2l6ZTtcbiAgICAgICAgY3VycmVudC5wcmV2aW91cyA9IHZvaWQgMDtcbiAgICB9O1xuICAgIExpbmtlZE1hcC5wcm90b3R5cGUuYWRkSXRlbUZpcnN0ID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgLy8gRmlyc3QgdGltZSBJbnNlcnRcbiAgICAgICAgaWYgKCF0aGlzLl9oZWFkICYmICF0aGlzLl90YWlsKSB7XG4gICAgICAgICAgICB0aGlzLl90YWlsID0gaXRlbTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghdGhpcy5faGVhZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGxpc3QnKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGl0ZW0ubmV4dCA9IHRoaXMuX2hlYWQ7XG4gICAgICAgICAgICB0aGlzLl9oZWFkLnByZXZpb3VzID0gaXRlbTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9oZWFkID0gaXRlbTtcbiAgICB9O1xuICAgIExpbmtlZE1hcC5wcm90b3R5cGUuYWRkSXRlbUxhc3QgPSBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAvLyBGaXJzdCB0aW1lIEluc2VydFxuICAgICAgICBpZiAoIXRoaXMuX2hlYWQgJiYgIXRoaXMuX3RhaWwpIHtcbiAgICAgICAgICAgIHRoaXMuX2hlYWQgPSBpdGVtO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCF0aGlzLl90YWlsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgbGlzdCcpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaXRlbS5wcmV2aW91cyA9IHRoaXMuX3RhaWw7XG4gICAgICAgICAgICB0aGlzLl90YWlsLm5leHQgPSBpdGVtO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3RhaWwgPSBpdGVtO1xuICAgIH07XG4gICAgTGlua2VkTWFwLnByb3RvdHlwZS5yZW1vdmVJdGVtID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgaWYgKGl0ZW0gPT09IHRoaXMuX2hlYWQgJiYgaXRlbSA9PT0gdGhpcy5fdGFpbCkge1xuICAgICAgICAgICAgdGhpcy5faGVhZCA9IHZvaWQgMDtcbiAgICAgICAgICAgIHRoaXMuX3RhaWwgPSB2b2lkIDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXRlbSA9PT0gdGhpcy5faGVhZCkge1xuICAgICAgICAgICAgdGhpcy5faGVhZCA9IGl0ZW0ubmV4dDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpdGVtID09PSB0aGlzLl90YWlsKSB7XG4gICAgICAgICAgICB0aGlzLl90YWlsID0gaXRlbS5wcmV2aW91cztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBuZXh0ID0gaXRlbS5uZXh0O1xuICAgICAgICAgICAgdmFyIHByZXZpb3VzID0gaXRlbS5wcmV2aW91cztcbiAgICAgICAgICAgIGlmICghbmV4dCB8fCAhcHJldmlvdXMpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgbGlzdCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmV4dC5wcmV2aW91cyA9IHByZXZpb3VzO1xuICAgICAgICAgICAgcHJldmlvdXMubmV4dCA9IG5leHQ7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIExpbmtlZE1hcC5wcm90b3R5cGUudG91Y2ggPSBmdW5jdGlvbiAoaXRlbSwgdG91Y2gpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9oZWFkIHx8ICF0aGlzLl90YWlsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgbGlzdCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmICgodG91Y2ggIT09IFRvdWNoLkFzT2xkICYmIHRvdWNoICE9PSBUb3VjaC5Bc05ldykpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodG91Y2ggPT09IFRvdWNoLkFzT2xkKSB7XG4gICAgICAgICAgICBpZiAoaXRlbSA9PT0gdGhpcy5faGVhZCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBuZXh0ID0gaXRlbS5uZXh0O1xuICAgICAgICAgICAgdmFyIHByZXZpb3VzID0gaXRlbS5wcmV2aW91cztcbiAgICAgICAgICAgIC8vIFVubGluayB0aGUgaXRlbVxuICAgICAgICAgICAgaWYgKGl0ZW0gPT09IHRoaXMuX3RhaWwpIHtcbiAgICAgICAgICAgICAgICAvLyBwcmV2aW91cyBtdXN0IGJlIGRlZmluZWQgc2luY2UgaXRlbSB3YXMgbm90IGhlYWQgYnV0IGlzIHRhaWxcbiAgICAgICAgICAgICAgICAvLyBTbyB0aGVyZSBhcmUgbW9yZSB0aGFuIG9uIGl0ZW0gaW4gdGhlIG1hcFxuICAgICAgICAgICAgICAgIHByZXZpb3VzLm5leHQgPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgdGhpcy5fdGFpbCA9IHByZXZpb3VzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gQm90aCBuZXh0IGFuZCBwcmV2aW91cyBhcmUgbm90IHVuZGVmaW5lZCBzaW5jZSBpdGVtIHdhcyBuZWl0aGVyIGhlYWQgbm9yIHRhaWwuXG4gICAgICAgICAgICAgICAgbmV4dC5wcmV2aW91cyA9IHByZXZpb3VzO1xuICAgICAgICAgICAgICAgIHByZXZpb3VzLm5leHQgPSBuZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gSW5zZXJ0IHRoZSBub2RlIGF0IGhlYWRcbiAgICAgICAgICAgIGl0ZW0ucHJldmlvdXMgPSB2b2lkIDA7XG4gICAgICAgICAgICBpdGVtLm5leHQgPSB0aGlzLl9oZWFkO1xuICAgICAgICAgICAgdGhpcy5faGVhZC5wcmV2aW91cyA9IGl0ZW07XG4gICAgICAgICAgICB0aGlzLl9oZWFkID0gaXRlbTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0b3VjaCA9PT0gVG91Y2guQXNOZXcpIHtcbiAgICAgICAgICAgIGlmIChpdGVtID09PSB0aGlzLl90YWlsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIG5leHQgPSBpdGVtLm5leHQ7XG4gICAgICAgICAgICB2YXIgcHJldmlvdXMgPSBpdGVtLnByZXZpb3VzO1xuICAgICAgICAgICAgLy8gVW5saW5rIHRoZSBpdGVtLlxuICAgICAgICAgICAgaWYgKGl0ZW0gPT09IHRoaXMuX2hlYWQpIHtcbiAgICAgICAgICAgICAgICAvLyBuZXh0IG11c3QgYmUgZGVmaW5lZCBzaW5jZSBpdGVtIHdhcyBub3QgdGFpbCBidXQgaXMgaGVhZFxuICAgICAgICAgICAgICAgIC8vIFNvIHRoZXJlIGFyZSBtb3JlIHRoYW4gb24gaXRlbSBpbiB0aGUgbWFwXG4gICAgICAgICAgICAgICAgbmV4dC5wcmV2aW91cyA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgICB0aGlzLl9oZWFkID0gbmV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIEJvdGggbmV4dCBhbmQgcHJldmlvdXMgYXJlIG5vdCB1bmRlZmluZWQgc2luY2UgaXRlbSB3YXMgbmVpdGhlciBoZWFkIG5vciB0YWlsLlxuICAgICAgICAgICAgICAgIG5leHQucHJldmlvdXMgPSBwcmV2aW91cztcbiAgICAgICAgICAgICAgICBwcmV2aW91cy5uZXh0ID0gbmV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGl0ZW0ubmV4dCA9IHZvaWQgMDtcbiAgICAgICAgICAgIGl0ZW0ucHJldmlvdXMgPSB0aGlzLl90YWlsO1xuICAgICAgICAgICAgdGhpcy5fdGFpbC5uZXh0ID0gaXRlbTtcbiAgICAgICAgICAgIHRoaXMuX3RhaWwgPSBpdGVtO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBMaW5rZWRNYXAucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGRhdGEgPSBbXTtcbiAgICAgICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSwga2V5KSB7XG4gICAgICAgICAgICBkYXRhLnB1c2goW2tleSwgdmFsdWVdKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH07XG4gICAgTGlua2VkTWFwLnByb3RvdHlwZS5mcm9tSlNPTiA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHRoaXMuY2xlYXIoKTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBkYXRhXzEgPSBkYXRhOyBfaSA8IGRhdGFfMS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIHZhciBfYSA9IGRhdGFfMVtfaV0sIGtleSA9IF9hWzBdLCB2YWx1ZSA9IF9hWzFdO1xuICAgICAgICAgICAgdGhpcy5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBMaW5rZWRNYXA7XG59KCkpO1xuZXhwb3J0IHsgTGlua2VkTWFwIH07XG52YXIgTFJVQ2FjaGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKExSVUNhY2hlLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIExSVUNhY2hlKGxpbWl0LCByYXRpbykge1xuICAgICAgICBpZiAocmF0aW8gPT09IHZvaWQgMCkgeyByYXRpbyA9IDE7IH1cbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuX2xpbWl0ID0gbGltaXQ7XG4gICAgICAgIF90aGlzLl9yYXRpbyA9IE1hdGgubWluKE1hdGgubWF4KDAsIHJhdGlvKSwgMSk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KExSVUNhY2hlLnByb3RvdHlwZSwgXCJsaW1pdFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xpbWl0O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChsaW1pdCkge1xuICAgICAgICAgICAgdGhpcy5fbGltaXQgPSBsaW1pdDtcbiAgICAgICAgICAgIHRoaXMuY2hlY2tUcmltKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShMUlVDYWNoZS5wcm90b3R5cGUsIFwicmF0aW9cIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yYXRpbztcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAocmF0aW8pIHtcbiAgICAgICAgICAgIHRoaXMuX3JhdGlvID0gTWF0aC5taW4oTWF0aC5tYXgoMCwgcmF0aW8pLCAxKTtcbiAgICAgICAgICAgIHRoaXMuY2hlY2tUcmltKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIExSVUNhY2hlLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIucHJvdG90eXBlLmdldC5jYWxsKHRoaXMsIGtleSwgVG91Y2guQXNOZXcpO1xuICAgIH07XG4gICAgTFJVQ2FjaGUucHJvdG90eXBlLnBlZWsgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIucHJvdG90eXBlLmdldC5jYWxsKHRoaXMsIGtleSwgVG91Y2guTm9uZSk7XG4gICAgfTtcbiAgICBMUlVDYWNoZS5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5zZXQuY2FsbCh0aGlzLCBrZXksIHZhbHVlLCBUb3VjaC5Bc05ldyk7XG4gICAgICAgIHRoaXMuY2hlY2tUcmltKCk7XG4gICAgfTtcbiAgICBMUlVDYWNoZS5wcm90b3R5cGUuY2hlY2tUcmltID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5zaXplID4gdGhpcy5fbGltaXQpIHtcbiAgICAgICAgICAgIHRoaXMudHJpbU9sZChNYXRoLnJvdW5kKHRoaXMuX2xpbWl0ICogdGhpcy5fcmF0aW8pKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIExSVUNhY2hlO1xufShMaW5rZWRNYXApKTtcbmV4cG9ydCB7IExSVUNhY2hlIH07XG4iLCIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbid1c2Ugc3RyaWN0JztcbmltcG9ydCB7IExSVUNhY2hlIH0gZnJvbSAnLi9tYXAuanMnO1xuLyoqXG4gKiBUaGUgZW1wdHkgc3RyaW5nLlxuICovXG5leHBvcnQgdmFyIGVtcHR5ID0gJyc7XG5leHBvcnQgZnVuY3Rpb24gaXNGYWxzeU9yV2hpdGVzcGFjZShzdHIpIHtcbiAgICBpZiAoIXN0ciB8fCB0eXBlb2Ygc3RyICE9PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIHN0ci50cmltKCkubGVuZ3RoID09PSAwO1xufVxuLyoqXG4gKiBAcmV0dXJucyB0aGUgcHJvdmlkZWQgbnVtYmVyIHdpdGggdGhlIGdpdmVuIG51bWJlciBvZiBwcmVjZWRpbmcgemVyb3MuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwYWQobiwgbCwgY2hhcikge1xuICAgIGlmIChjaGFyID09PSB2b2lkIDApIHsgY2hhciA9ICcwJzsgfVxuICAgIHZhciBzdHIgPSAnJyArIG47XG4gICAgdmFyIHIgPSBbc3RyXTtcbiAgICBmb3IgKHZhciBpID0gc3RyLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICByLnB1c2goY2hhcik7XG4gICAgfVxuICAgIHJldHVybiByLnJldmVyc2UoKS5qb2luKCcnKTtcbn1cbnZhciBfZm9ybWF0UmVnZXhwID0gL3soXFxkKyl9L2c7XG4vKipcbiAqIEhlbHBlciB0byBwcm9kdWNlIGEgc3RyaW5nIHdpdGggYSB2YXJpYWJsZSBudW1iZXIgb2YgYXJndW1lbnRzLiBJbnNlcnQgdmFyaWFibGUgc2VnbWVudHNcbiAqIGludG8gdGhlIHN0cmluZyB1c2luZyB0aGUge259IG5vdGF0aW9uIHdoZXJlIE4gaXMgdGhlIGluZGV4IG9mIHRoZSBhcmd1bWVudCBmb2xsb3dpbmcgdGhlIHN0cmluZy5cbiAqIEBwYXJhbSB2YWx1ZSBzdHJpbmcgdG8gd2hpY2ggZm9ybWF0dGluZyBpcyBhcHBsaWVkXG4gKiBAcGFyYW0gYXJncyByZXBsYWNlbWVudHMgZm9yIHtufS1lbnRyaWVzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmb3JtYXQodmFsdWUpIHtcbiAgICB2YXIgYXJncyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMTsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIGFyZ3NbX2kgLSAxXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZS5yZXBsYWNlKF9mb3JtYXRSZWdleHAsIGZ1bmN0aW9uIChtYXRjaCwgZ3JvdXApIHtcbiAgICAgICAgdmFyIGlkeCA9IHBhcnNlSW50KGdyb3VwLCAxMCk7XG4gICAgICAgIHJldHVybiBpc05hTihpZHgpIHx8IGlkeCA8IDAgfHwgaWR4ID49IGFyZ3MubGVuZ3RoID9cbiAgICAgICAgICAgIG1hdGNoIDpcbiAgICAgICAgICAgIGFyZ3NbaWR4XTtcbiAgICB9KTtcbn1cbi8qKlxuICogQ29udmVydHMgSFRNTCBjaGFyYWN0ZXJzIGluc2lkZSB0aGUgc3RyaW5nIHRvIHVzZSBlbnRpdGllcyBpbnN0ZWFkLiBNYWtlcyB0aGUgc3RyaW5nIHNhZmUgZnJvbVxuICogYmVpbmcgdXNlZCBlLmcuIGluIEhUTUxFbGVtZW50LmlubmVySFRNTC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVzY2FwZShodG1sKSB7XG4gICAgcmV0dXJuIGh0bWwucmVwbGFjZSgvWzx8PnwmXS9nLCBmdW5jdGlvbiAobWF0Y2gpIHtcbiAgICAgICAgc3dpdGNoIChtYXRjaCkge1xuICAgICAgICAgICAgY2FzZSAnPCc6IHJldHVybiAnJmx0Oyc7XG4gICAgICAgICAgICBjYXNlICc+JzogcmV0dXJuICcmZ3Q7JztcbiAgICAgICAgICAgIGNhc2UgJyYnOiByZXR1cm4gJyZhbXA7JztcbiAgICAgICAgICAgIGRlZmF1bHQ6IHJldHVybiBtYXRjaDtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuLyoqXG4gKiBFc2NhcGVzIHJlZ3VsYXIgZXhwcmVzc2lvbiBjaGFyYWN0ZXJzIGluIGEgZ2l2ZW4gc3RyaW5nXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlc2NhcGVSZWdFeHBDaGFyYWN0ZXJzKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlLnJlcGxhY2UoL1tcXC1cXFxcXFx7XFx9XFwqXFwrXFw/XFx8XFxeXFwkXFwuXFxbXFxdXFwoXFwpXFwjXS9nLCAnXFxcXCQmJyk7XG59XG4vKipcbiAqIFJlbW92ZXMgYWxsIG9jY3VycmVuY2VzIG9mIG5lZWRsZSBmcm9tIHRoZSBiZWdpbm5pbmcgYW5kIGVuZCBvZiBoYXlzdGFjay5cbiAqIEBwYXJhbSBoYXlzdGFjayBzdHJpbmcgdG8gdHJpbVxuICogQHBhcmFtIG5lZWRsZSB0aGUgdGhpbmcgdG8gdHJpbSAoZGVmYXVsdCBpcyBhIGJsYW5rKVxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJpbShoYXlzdGFjaywgbmVlZGxlKSB7XG4gICAgaWYgKG5lZWRsZSA9PT0gdm9pZCAwKSB7IG5lZWRsZSA9ICcgJzsgfVxuICAgIHZhciB0cmltbWVkID0gbHRyaW0oaGF5c3RhY2ssIG5lZWRsZSk7XG4gICAgcmV0dXJuIHJ0cmltKHRyaW1tZWQsIG5lZWRsZSk7XG59XG4vKipcbiAqIFJlbW92ZXMgYWxsIG9jY3VycmVuY2VzIG9mIG5lZWRsZSBmcm9tIHRoZSBiZWdpbm5pbmcgb2YgaGF5c3RhY2suXG4gKiBAcGFyYW0gaGF5c3RhY2sgc3RyaW5nIHRvIHRyaW1cbiAqIEBwYXJhbSBuZWVkbGUgdGhlIHRoaW5nIHRvIHRyaW1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGx0cmltKGhheXN0YWNrLCBuZWVkbGUpIHtcbiAgICBpZiAoIWhheXN0YWNrIHx8ICFuZWVkbGUpIHtcbiAgICAgICAgcmV0dXJuIGhheXN0YWNrO1xuICAgIH1cbiAgICB2YXIgbmVlZGxlTGVuID0gbmVlZGxlLmxlbmd0aDtcbiAgICBpZiAobmVlZGxlTGVuID09PSAwIHx8IGhheXN0YWNrLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gaGF5c3RhY2s7XG4gICAgfVxuICAgIHZhciBvZmZzZXQgPSAwLCBpZHggPSAtMTtcbiAgICB3aGlsZSAoKGlkeCA9IGhheXN0YWNrLmluZGV4T2YobmVlZGxlLCBvZmZzZXQpKSA9PT0gb2Zmc2V0KSB7XG4gICAgICAgIG9mZnNldCA9IG9mZnNldCArIG5lZWRsZUxlbjtcbiAgICB9XG4gICAgcmV0dXJuIGhheXN0YWNrLnN1YnN0cmluZyhvZmZzZXQpO1xufVxuLyoqXG4gKiBSZW1vdmVzIGFsbCBvY2N1cnJlbmNlcyBvZiBuZWVkbGUgZnJvbSB0aGUgZW5kIG9mIGhheXN0YWNrLlxuICogQHBhcmFtIGhheXN0YWNrIHN0cmluZyB0byB0cmltXG4gKiBAcGFyYW0gbmVlZGxlIHRoZSB0aGluZyB0byB0cmltXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBydHJpbShoYXlzdGFjaywgbmVlZGxlKSB7XG4gICAgaWYgKCFoYXlzdGFjayB8fCAhbmVlZGxlKSB7XG4gICAgICAgIHJldHVybiBoYXlzdGFjaztcbiAgICB9XG4gICAgdmFyIG5lZWRsZUxlbiA9IG5lZWRsZS5sZW5ndGgsIGhheXN0YWNrTGVuID0gaGF5c3RhY2subGVuZ3RoO1xuICAgIGlmIChuZWVkbGVMZW4gPT09IDAgfHwgaGF5c3RhY2tMZW4gPT09IDApIHtcbiAgICAgICAgcmV0dXJuIGhheXN0YWNrO1xuICAgIH1cbiAgICB2YXIgb2Zmc2V0ID0gaGF5c3RhY2tMZW4sIGlkeCA9IC0xO1xuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIGlkeCA9IGhheXN0YWNrLmxhc3RJbmRleE9mKG5lZWRsZSwgb2Zmc2V0IC0gMSk7XG4gICAgICAgIGlmIChpZHggPT09IC0xIHx8IGlkeCArIG5lZWRsZUxlbiAhPT0gb2Zmc2V0KSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBpZiAoaWR4ID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgIH1cbiAgICAgICAgb2Zmc2V0ID0gaWR4O1xuICAgIH1cbiAgICByZXR1cm4gaGF5c3RhY2suc3Vic3RyaW5nKDAsIG9mZnNldCk7XG59XG5leHBvcnQgZnVuY3Rpb24gY29udmVydFNpbXBsZTJSZWdFeHBQYXR0ZXJuKHBhdHRlcm4pIHtcbiAgICByZXR1cm4gcGF0dGVybi5yZXBsYWNlKC9bXFwtXFxcXFxce1xcfVxcK1xcP1xcfFxcXlxcJFxcLlxcLFxcW1xcXVxcKFxcKVxcI1xcc10vZywgJ1xcXFwkJicpLnJlcGxhY2UoL1tcXCpdL2csICcuKicpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHN0cmlwV2lsZGNhcmRzKHBhdHRlcm4pIHtcbiAgICByZXR1cm4gcGF0dGVybi5yZXBsYWNlKC9cXCovZywgJycpO1xufVxuLyoqXG4gKiBEZXRlcm1pbmVzIGlmIGhheXN0YWNrIHN0YXJ0cyB3aXRoIG5lZWRsZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0c1dpdGgoaGF5c3RhY2ssIG5lZWRsZSkge1xuICAgIGlmIChoYXlzdGFjay5sZW5ndGggPCBuZWVkbGUubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKGhheXN0YWNrID09PSBuZWVkbGUpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmVlZGxlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChoYXlzdGFja1tpXSAhPT0gbmVlZGxlW2ldKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG4vKipcbiAqIERldGVybWluZXMgaWYgaGF5c3RhY2sgZW5kcyB3aXRoIG5lZWRsZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVuZHNXaXRoKGhheXN0YWNrLCBuZWVkbGUpIHtcbiAgICB2YXIgZGlmZiA9IGhheXN0YWNrLmxlbmd0aCAtIG5lZWRsZS5sZW5ndGg7XG4gICAgaWYgKGRpZmYgPiAwKSB7XG4gICAgICAgIHJldHVybiBoYXlzdGFjay5pbmRleE9mKG5lZWRsZSwgZGlmZikgPT09IGRpZmY7XG4gICAgfVxuICAgIGVsc2UgaWYgKGRpZmYgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIGhheXN0YWNrID09PSBuZWVkbGU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVJlZ0V4cChzZWFyY2hTdHJpbmcsIGlzUmVnZXgsIG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgIGlmICghc2VhcmNoU3RyaW5nKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGNyZWF0ZSByZWdleCBmcm9tIGVtcHR5IHN0cmluZycpO1xuICAgIH1cbiAgICBpZiAoIWlzUmVnZXgpIHtcbiAgICAgICAgc2VhcmNoU3RyaW5nID0gZXNjYXBlUmVnRXhwQ2hhcmFjdGVycyhzZWFyY2hTdHJpbmcpO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy53aG9sZVdvcmQpIHtcbiAgICAgICAgaWYgKCEvXFxCLy50ZXN0KHNlYXJjaFN0cmluZy5jaGFyQXQoMCkpKSB7XG4gICAgICAgICAgICBzZWFyY2hTdHJpbmcgPSAnXFxcXGInICsgc2VhcmNoU3RyaW5nO1xuICAgICAgICB9XG4gICAgICAgIGlmICghL1xcQi8udGVzdChzZWFyY2hTdHJpbmcuY2hhckF0KHNlYXJjaFN0cmluZy5sZW5ndGggLSAxKSkpIHtcbiAgICAgICAgICAgIHNlYXJjaFN0cmluZyA9IHNlYXJjaFN0cmluZyArICdcXFxcYic7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdmFyIG1vZGlmaWVycyA9ICcnO1xuICAgIGlmIChvcHRpb25zLmdsb2JhbCkge1xuICAgICAgICBtb2RpZmllcnMgKz0gJ2cnO1xuICAgIH1cbiAgICBpZiAoIW9wdGlvbnMubWF0Y2hDYXNlKSB7XG4gICAgICAgIG1vZGlmaWVycyArPSAnaSc7XG4gICAgfVxuICAgIGlmIChvcHRpb25zLm11bHRpbGluZSkge1xuICAgICAgICBtb2RpZmllcnMgKz0gJ20nO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFJlZ0V4cChzZWFyY2hTdHJpbmcsIG1vZGlmaWVycyk7XG59XG5leHBvcnQgZnVuY3Rpb24gcmVnRXhwTGVhZHNUb0VuZGxlc3NMb29wKHJlZ2V4cCkge1xuICAgIC8vIEV4aXQgZWFybHkgaWYgaXQncyBvbmUgb2YgdGhlc2Ugc3BlY2lhbCBjYXNlcyB3aGljaCBhcmUgbWVhbnQgdG8gbWF0Y2hcbiAgICAvLyBhZ2FpbnN0IGFuIGVtcHR5IHN0cmluZ1xuICAgIGlmIChyZWdleHAuc291cmNlID09PSAnXicgfHwgcmVnZXhwLnNvdXJjZSA9PT0gJ14kJyB8fCByZWdleHAuc291cmNlID09PSAnJCcgfHwgcmVnZXhwLnNvdXJjZSA9PT0gJ15cXFxccyokJykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIC8vIFdlIGNoZWNrIGFnYWluc3QgYW4gZW1wdHkgc3RyaW5nLiBJZiB0aGUgcmVndWxhciBleHByZXNzaW9uIGRvZXNuJ3QgYWR2YW5jZVxuICAgIC8vIChlLmcuIGVuZHMgaW4gYW4gZW5kbGVzcyBsb29wKSBpdCB3aWxsIG1hdGNoIGFuIGVtcHR5IHN0cmluZy5cbiAgICB2YXIgbWF0Y2ggPSByZWdleHAuZXhlYygnJyk7XG4gICAgcmV0dXJuIChtYXRjaCAmJiByZWdleHAubGFzdEluZGV4ID09PSAwKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiByZWdFeHBDb250YWluc0JhY2tyZWZlcmVuY2UocmVnZXhwVmFsdWUpIHtcbiAgICByZXR1cm4gISFyZWdleHBWYWx1ZS5tYXRjaCgvKFteXFxcXF18XikoXFxcXFxcXFwpKlxcXFxcXGQrLyk7XG59XG4vKipcbiAqIFRoZSBub3JtYWxpemUoKSBtZXRob2QgcmV0dXJucyB0aGUgVW5pY29kZSBOb3JtYWxpemF0aW9uIEZvcm0gb2YgYSBnaXZlbiBzdHJpbmcuIFRoZSBmb3JtIHdpbGwgYmVcbiAqIHRoZSBOb3JtYWxpemF0aW9uIEZvcm0gQ2Fub25pY2FsIENvbXBvc2l0aW9uLlxuICpcbiAqIEBzZWUge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1N0cmluZy9ub3JtYWxpemV9XG4gKi9cbmV4cG9ydCB2YXIgY2FuTm9ybWFsaXplID0gdHlwZW9mICgnJy5ub3JtYWxpemUpID09PSAnZnVuY3Rpb24nO1xudmFyIG5mY0NhY2hlID0gbmV3IExSVUNhY2hlKDEwMDAwKTsgLy8gYm91bmRlZCB0byAxMDAwMCBlbGVtZW50c1xuZXhwb3J0IGZ1bmN0aW9uIG5vcm1hbGl6ZU5GQyhzdHIpIHtcbiAgICByZXR1cm4gbm9ybWFsaXplKHN0ciwgJ05GQycsIG5mY0NhY2hlKTtcbn1cbnZhciBuZmRDYWNoZSA9IG5ldyBMUlVDYWNoZSgxMDAwMCk7IC8vIGJvdW5kZWQgdG8gMTAwMDAgZWxlbWVudHNcbmV4cG9ydCBmdW5jdGlvbiBub3JtYWxpemVORkQoc3RyKSB7XG4gICAgcmV0dXJuIG5vcm1hbGl6ZShzdHIsICdORkQnLCBuZmRDYWNoZSk7XG59XG52YXIgbm9uQXNjaWlDaGFyYWN0ZXJzUGF0dGVybiA9IC9bXlxcdTAwMDAtXFx1MDA4MF0vO1xuZnVuY3Rpb24gbm9ybWFsaXplKHN0ciwgZm9ybSwgbm9ybWFsaXplZENhY2hlKSB7XG4gICAgaWYgKCFjYW5Ob3JtYWxpemUgfHwgIXN0cikge1xuICAgICAgICByZXR1cm4gc3RyO1xuICAgIH1cbiAgICB2YXIgY2FjaGVkID0gbm9ybWFsaXplZENhY2hlLmdldChzdHIpO1xuICAgIGlmIChjYWNoZWQpIHtcbiAgICAgICAgcmV0dXJuIGNhY2hlZDtcbiAgICB9XG4gICAgdmFyIHJlcztcbiAgICBpZiAobm9uQXNjaWlDaGFyYWN0ZXJzUGF0dGVybi50ZXN0KHN0cikpIHtcbiAgICAgICAgcmVzID0gc3RyLm5vcm1hbGl6ZShmb3JtKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJlcyA9IHN0cjtcbiAgICB9XG4gICAgLy8gVXNlIHRoZSBjYWNoZSBmb3IgZmFzdCBsb29rdXBcbiAgICBub3JtYWxpemVkQ2FjaGUuc2V0KHN0ciwgcmVzKTtcbiAgICByZXR1cm4gcmVzO1xufVxuLyoqXG4gKiBSZXR1cm5zIGZpcnN0IGluZGV4IG9mIHRoZSBzdHJpbmcgdGhhdCBpcyBub3Qgd2hpdGVzcGFjZS5cbiAqIElmIHN0cmluZyBpcyBlbXB0eSBvciBjb250YWlucyBvbmx5IHdoaXRlc3BhY2VzLCByZXR1cm5zIC0xXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmaXJzdE5vbldoaXRlc3BhY2VJbmRleChzdHIpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gc3RyLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIHZhciBjaENvZGUgPSBzdHIuY2hhckNvZGVBdChpKTtcbiAgICAgICAgaWYgKGNoQ29kZSAhPT0gMzIgLyogU3BhY2UgKi8gJiYgY2hDb2RlICE9PSA5IC8qIFRhYiAqLykge1xuICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIC0xO1xufVxuLyoqXG4gKiBSZXR1cm5zIHRoZSBsZWFkaW5nIHdoaXRlc3BhY2Ugb2YgdGhlIHN0cmluZy5cbiAqIElmIHRoZSBzdHJpbmcgY29udGFpbnMgb25seSB3aGl0ZXNwYWNlcywgcmV0dXJucyBlbnRpcmUgc3RyaW5nXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRMZWFkaW5nV2hpdGVzcGFjZShzdHIsIHN0YXJ0LCBlbmQpIHtcbiAgICBpZiAoc3RhcnQgPT09IHZvaWQgMCkgeyBzdGFydCA9IDA7IH1cbiAgICBpZiAoZW5kID09PSB2b2lkIDApIHsgZW5kID0gc3RyLmxlbmd0aDsgfVxuICAgIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgaSsrKSB7XG4gICAgICAgIHZhciBjaENvZGUgPSBzdHIuY2hhckNvZGVBdChpKTtcbiAgICAgICAgaWYgKGNoQ29kZSAhPT0gMzIgLyogU3BhY2UgKi8gJiYgY2hDb2RlICE9PSA5IC8qIFRhYiAqLykge1xuICAgICAgICAgICAgcmV0dXJuIHN0ci5zdWJzdHJpbmcoc3RhcnQsIGkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzdHIuc3Vic3RyaW5nKHN0YXJ0LCBlbmQpO1xufVxuLyoqXG4gKiBSZXR1cm5zIGxhc3QgaW5kZXggb2YgdGhlIHN0cmluZyB0aGF0IGlzIG5vdCB3aGl0ZXNwYWNlLlxuICogSWYgc3RyaW5nIGlzIGVtcHR5IG9yIGNvbnRhaW5zIG9ubHkgd2hpdGVzcGFjZXMsIHJldHVybnMgLTFcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxhc3ROb25XaGl0ZXNwYWNlSW5kZXgoc3RyLCBzdGFydEluZGV4KSB7XG4gICAgaWYgKHN0YXJ0SW5kZXggPT09IHZvaWQgMCkgeyBzdGFydEluZGV4ID0gc3RyLmxlbmd0aCAtIDE7IH1cbiAgICBmb3IgKHZhciBpID0gc3RhcnRJbmRleDsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgdmFyIGNoQ29kZSA9IHN0ci5jaGFyQ29kZUF0KGkpO1xuICAgICAgICBpZiAoY2hDb2RlICE9PSAzMiAvKiBTcGFjZSAqLyAmJiBjaENvZGUgIT09IDkgLyogVGFiICovKSB7XG4gICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gLTE7XG59XG5leHBvcnQgZnVuY3Rpb24gY29tcGFyZShhLCBiKSB7XG4gICAgaWYgKGEgPCBiKSB7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICB9XG4gICAgZWxzZSBpZiAoYSA+IGIpIHtcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gY29tcGFyZUlnbm9yZUNhc2UoYSwgYikge1xuICAgIHZhciBsZW4gPSBNYXRoLm1pbihhLmxlbmd0aCwgYi5sZW5ndGgpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgdmFyIGNvZGVBID0gYS5jaGFyQ29kZUF0KGkpO1xuICAgICAgICB2YXIgY29kZUIgPSBiLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgIGlmIChjb2RlQSA9PT0gY29kZUIpIHtcbiAgICAgICAgICAgIC8vIGVxdWFsXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNVcHBlckFzY2lpTGV0dGVyKGNvZGVBKSkge1xuICAgICAgICAgICAgY29kZUEgKz0gMzI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzVXBwZXJBc2NpaUxldHRlcihjb2RlQikpIHtcbiAgICAgICAgICAgIGNvZGVCICs9IDMyO1xuICAgICAgICB9XG4gICAgICAgIHZhciBkaWZmID0gY29kZUEgLSBjb2RlQjtcbiAgICAgICAgaWYgKGRpZmYgPT09IDApIHtcbiAgICAgICAgICAgIC8vIGVxdWFsIC0+IGlnbm9yZUNhc2VcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzTG93ZXJBc2NpaUxldHRlcihjb2RlQSkgJiYgaXNMb3dlckFzY2lpTGV0dGVyKGNvZGVCKSkge1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIHJldHVybiBkaWZmO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGNvbXBhcmUoYS50b0xvd2VyQ2FzZSgpLCBiLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChhLmxlbmd0aCA8IGIubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICB9XG4gICAgZWxzZSBpZiAoYS5sZW5ndGggPiBiLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gMTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGlzTG93ZXJBc2NpaUxldHRlcihjb2RlKSB7XG4gICAgcmV0dXJuIGNvZGUgPj0gOTcgLyogYSAqLyAmJiBjb2RlIDw9IDEyMiAvKiB6ICovO1xufVxuZnVuY3Rpb24gaXNVcHBlckFzY2lpTGV0dGVyKGNvZGUpIHtcbiAgICByZXR1cm4gY29kZSA+PSA2NSAvKiBBICovICYmIGNvZGUgPD0gOTAgLyogWiAqLztcbn1cbmZ1bmN0aW9uIGlzQXNjaWlMZXR0ZXIoY29kZSkge1xuICAgIHJldHVybiBpc0xvd2VyQXNjaWlMZXR0ZXIoY29kZSkgfHwgaXNVcHBlckFzY2lpTGV0dGVyKGNvZGUpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGVxdWFsc0lnbm9yZUNhc2UoYSwgYikge1xuICAgIHZhciBsZW4xID0gYSA/IGEubGVuZ3RoIDogMDtcbiAgICB2YXIgbGVuMiA9IGIgPyBiLmxlbmd0aCA6IDA7XG4gICAgaWYgKGxlbjEgIT09IGxlbjIpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gZG9FcXVhbHNJZ25vcmVDYXNlKGEsIGIpO1xufVxuZnVuY3Rpb24gZG9FcXVhbHNJZ25vcmVDYXNlKGEsIGIsIHN0b3BBdCkge1xuICAgIGlmIChzdG9wQXQgPT09IHZvaWQgMCkgeyBzdG9wQXQgPSBhLmxlbmd0aDsgfVxuICAgIGlmICh0eXBlb2YgYSAhPT0gJ3N0cmluZycgfHwgdHlwZW9mIGIgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdG9wQXQ7IGkrKykge1xuICAgICAgICB2YXIgY29kZUEgPSBhLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgIHZhciBjb2RlQiA9IGIuY2hhckNvZGVBdChpKTtcbiAgICAgICAgaWYgKGNvZGVBID09PSBjb2RlQikge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gYS16IEEtWlxuICAgICAgICBpZiAoaXNBc2NpaUxldHRlcihjb2RlQSkgJiYgaXNBc2NpaUxldHRlcihjb2RlQikpIHtcbiAgICAgICAgICAgIHZhciBkaWZmID0gTWF0aC5hYnMoY29kZUEgLSBjb2RlQik7XG4gICAgICAgICAgICBpZiAoZGlmZiAhPT0gMCAmJiBkaWZmICE9PSAzMikge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBBbnkgb3RoZXIgY2hhcmNvZGVcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoU3RyaW5nLmZyb21DaGFyQ29kZShjb2RlQSkudG9Mb3dlckNhc2UoKSAhPT0gU3RyaW5nLmZyb21DaGFyQ29kZShjb2RlQikudG9Mb3dlckNhc2UoKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzdGFydHNXaXRoSWdub3JlQ2FzZShzdHIsIGNhbmRpZGF0ZSkge1xuICAgIHZhciBjYW5kaWRhdGVMZW5ndGggPSBjYW5kaWRhdGUubGVuZ3RoO1xuICAgIGlmIChjYW5kaWRhdGUubGVuZ3RoID4gc3RyLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiBkb0VxdWFsc0lnbm9yZUNhc2Uoc3RyLCBjYW5kaWRhdGUsIGNhbmRpZGF0ZUxlbmd0aCk7XG59XG4vKipcbiAqIEByZXR1cm5zIHRoZSBsZW5ndGggb2YgdGhlIGNvbW1vbiBwcmVmaXggb2YgdGhlIHR3byBzdHJpbmdzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY29tbW9uUHJlZml4TGVuZ3RoKGEsIGIpIHtcbiAgICB2YXIgaSwgbGVuID0gTWF0aC5taW4oYS5sZW5ndGgsIGIubGVuZ3RoKTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgaWYgKGEuY2hhckNvZGVBdChpKSAhPT0gYi5jaGFyQ29kZUF0KGkpKSB7XG4gICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbGVuO1xufVxuLyoqXG4gKiBAcmV0dXJucyB0aGUgbGVuZ3RoIG9mIHRoZSBjb21tb24gc3VmZml4IG9mIHRoZSB0d28gc3RyaW5ncy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbW1vblN1ZmZpeExlbmd0aChhLCBiKSB7XG4gICAgdmFyIGksIGxlbiA9IE1hdGgubWluKGEubGVuZ3RoLCBiLmxlbmd0aCk7XG4gICAgdmFyIGFMYXN0SW5kZXggPSBhLmxlbmd0aCAtIDE7XG4gICAgdmFyIGJMYXN0SW5kZXggPSBiLmxlbmd0aCAtIDE7XG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGlmIChhLmNoYXJDb2RlQXQoYUxhc3RJbmRleCAtIGkpICE9PSBiLmNoYXJDb2RlQXQoYkxhc3RJbmRleCAtIGkpKSB7XG4gICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbGVuO1xufVxuZnVuY3Rpb24gc3Vic3RyRXF1YWxzKGEsIGFTdGFydCwgYUVuZCwgYiwgYlN0YXJ0LCBiRW5kKSB7XG4gICAgd2hpbGUgKGFTdGFydCA8IGFFbmQgJiYgYlN0YXJ0IDwgYkVuZCkge1xuICAgICAgICBpZiAoYVthU3RhcnRdICE9PSBiW2JTdGFydF0pIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBhU3RhcnQgKz0gMTtcbiAgICAgICAgYlN0YXJ0ICs9IDE7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuLyoqXG4gKiBSZXR1cm4gdGhlIG92ZXJsYXAgYmV0d2VlbiB0aGUgc3VmZml4IG9mIGBhYCBhbmQgdGhlIHByZWZpeCBvZiBgYmAuXG4gKiBGb3IgaW5zdGFuY2UgYG92ZXJsYXAoXCJmb29iYXJcIiwgXCJhcnIsIEknbSBhIHBpcmF0ZVwiKSA9PT0gMmAuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBvdmVybGFwKGEsIGIpIHtcbiAgICB2YXIgYUVuZCA9IGEubGVuZ3RoO1xuICAgIHZhciBiRW5kID0gYi5sZW5ndGg7XG4gICAgdmFyIGFTdGFydCA9IGFFbmQgLSBiRW5kO1xuICAgIGlmIChhU3RhcnQgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIGEgPT09IGIgPyBhRW5kIDogMDtcbiAgICB9XG4gICAgZWxzZSBpZiAoYVN0YXJ0IDwgMCkge1xuICAgICAgICBiRW5kICs9IGFTdGFydDtcbiAgICAgICAgYVN0YXJ0ID0gMDtcbiAgICB9XG4gICAgd2hpbGUgKGFTdGFydCA8IGFFbmQgJiYgYkVuZCA+IDApIHtcbiAgICAgICAgaWYgKHN1YnN0ckVxdWFscyhhLCBhU3RhcnQsIGFFbmQsIGIsIDAsIGJFbmQpKSB7XG4gICAgICAgICAgICByZXR1cm4gYkVuZDtcbiAgICAgICAgfVxuICAgICAgICBiRW5kIC09IDE7XG4gICAgICAgIGFTdGFydCArPSAxO1xuICAgIH1cbiAgICByZXR1cm4gMDtcbn1cbi8vIC0tLSB1bmljb2RlXG4vLyBodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1N1cnJvZ2F0ZV9wYWlyXG4vLyBSZXR1cm5zIHRoZSBjb2RlIHBvaW50IHN0YXJ0aW5nIGF0IGEgc3BlY2lmaWVkIGluZGV4IGluIGEgc3RyaW5nXG4vLyBDb2RlIHBvaW50cyBVKzAwMDAgdG8gVStEN0ZGIGFuZCBVK0UwMDAgdG8gVStGRkZGIGFyZSByZXByZXNlbnRlZCBvbiBhIHNpbmdsZSBjaGFyYWN0ZXJcbi8vIENvZGUgcG9pbnRzIFUrMTAwMDAgdG8gVSsxMEZGRkYgYXJlIHJlcHJlc2VudGVkIG9uIHR3byBjb25zZWN1dGl2ZSBjaGFyYWN0ZXJzXG4vL2V4cG9ydCBmdW5jdGlvbiBnZXRVbmljb2RlUG9pbnQoc3RyOnN0cmluZywgaW5kZXg6bnVtYmVyLCBsZW46bnVtYmVyKTpudW1iZXIge1xuLy9cdGxldCBjaHJDb2RlID0gc3RyLmNoYXJDb2RlQXQoaW5kZXgpO1xuLy9cdGlmICgweEQ4MDAgPD0gY2hyQ29kZSAmJiBjaHJDb2RlIDw9IDB4REJGRiAmJiBpbmRleCArIDEgPCBsZW4pIHtcbi8vXHRcdGxldCBuZXh0Q2hyQ29kZSA9IHN0ci5jaGFyQ29kZUF0KGluZGV4ICsgMSk7XG4vL1x0XHRpZiAoMHhEQzAwIDw9IG5leHRDaHJDb2RlICYmIG5leHRDaHJDb2RlIDw9IDB4REZGRikge1xuLy9cdFx0XHRyZXR1cm4gKGNockNvZGUgLSAweEQ4MDApIDw8IDEwICsgKG5leHRDaHJDb2RlIC0gMHhEQzAwKSArIDB4MTAwMDA7XG4vL1x0XHR9XG4vL1x0fVxuLy9cdHJldHVybiBjaHJDb2RlO1xuLy99XG5leHBvcnQgZnVuY3Rpb24gaXNIaWdoU3Vycm9nYXRlKGNoYXJDb2RlKSB7XG4gICAgcmV0dXJuICgweEQ4MDAgPD0gY2hhckNvZGUgJiYgY2hhckNvZGUgPD0gMHhEQkZGKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0xvd1N1cnJvZ2F0ZShjaGFyQ29kZSkge1xuICAgIHJldHVybiAoMHhEQzAwIDw9IGNoYXJDb2RlICYmIGNoYXJDb2RlIDw9IDB4REZGRik7XG59XG4vKipcbiAqIEdlbmVyYXRlZCB1c2luZyBodHRwczovL2dpdGh1Yi5jb20vYWxleGFuZHJ1ZGltYS91bmljb2RlLXV0aWxzL2Jsb2IvbWFzdGVyL2dlbmVyYXRlLXJ0bC10ZXN0LmpzXG4gKi9cbnZhciBDT05UQUlOU19SVEwgPSAvKD86W1xcdTA1QkVcXHUwNUMwXFx1MDVDM1xcdTA1QzZcXHUwNUQwLVxcdTA1RjRcXHUwNjA4XFx1MDYwQlxcdTA2MERcXHUwNjFCLVxcdTA2NEFcXHUwNjZELVxcdTA2NkZcXHUwNjcxLVxcdTA2RDVcXHUwNkU1XFx1MDZFNlxcdTA2RUVcXHUwNkVGXFx1MDZGQS1cXHUwNzEwXFx1MDcxMi1cXHUwNzJGXFx1MDc0RC1cXHUwN0E1XFx1MDdCMS1cXHUwN0VBXFx1MDdGNFxcdTA3RjVcXHUwN0ZBLVxcdTA4MTVcXHUwODFBXFx1MDgyNFxcdTA4MjhcXHUwODMwLVxcdTA4NThcXHUwODVFLVxcdTA4QkRcXHUyMDBGXFx1RkIxRFxcdUZCMUYtXFx1RkIyOFxcdUZCMkEtXFx1RkQzRFxcdUZENTAtXFx1RkRGQ1xcdUZFNzAtXFx1RkVGQ118XFx1RDgwMltcXHVEQzAwLVxcdUREMUJcXHVERDIwLVxcdURFMDBcXHVERTEwLVxcdURFMzNcXHVERTQwLVxcdURFRTRcXHVERUVCLVxcdURGMzVcXHVERjQwLVxcdURGRkZdfFxcdUQ4MDNbXFx1REMwMC1cXHVEQ0ZGXXxcXHVEODNBW1xcdURDMDAtXFx1RENDRlxcdUREMDAtXFx1REQ0M1xcdURENTAtXFx1REZGRl18XFx1RDgzQltcXHVEQzAwLVxcdURFQkJdKS87XG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiBgc3RyYCBjb250YWlucyBhbnkgVW5pY29kZSBjaGFyYWN0ZXIgdGhhdCBpcyBjbGFzc2lmaWVkIGFzIFwiUlwiIG9yIFwiQUxcIi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbnRhaW5zUlRMKHN0cikge1xuICAgIHJldHVybiBDT05UQUlOU19SVEwudGVzdChzdHIpO1xufVxuLyoqXG4gKiBHZW5lcmF0ZWQgdXNpbmcgaHR0cHM6Ly9naXRodWIuY29tL2FsZXhhbmRydWRpbWEvdW5pY29kZS11dGlscy9ibG9iL21hc3Rlci9nZW5lcmF0ZS1lbW9qaS10ZXN0LmpzXG4gKi9cbnZhciBDT05UQUlOU19FTU9KSSA9IC8oPzpbXFx1MjMxQVxcdTIzMUJcXHUyM0YwXFx1MjNGM1xcdTI2MDAtXFx1MjdCRlxcdTJCNTBcXHUyQjU1XXxcXHVEODNDW1xcdURERTYtXFx1RERGRlxcdURGMDAtXFx1REZGRl18XFx1RDgzRFtcXHVEQzAwLVxcdURFNEZcXHVERTgwLVxcdURFRjhdfFxcdUQ4M0VbXFx1REQwMC1cXHVEREU2XSkvO1xuZXhwb3J0IGZ1bmN0aW9uIGNvbnRhaW5zRW1vamkoc3RyKSB7XG4gICAgcmV0dXJuIENPTlRBSU5TX0VNT0pJLnRlc3Qoc3RyKTtcbn1cbnZhciBJU19CQVNJQ19BU0NJSSA9IC9eW1xcdFxcblxcclxceDIwLVxceDdFXSokLztcbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIGBzdHJgIGNvbnRhaW5zIG9ubHkgYmFzaWMgQVNDSUkgY2hhcmFjdGVycyBpbiB0aGUgcmFuZ2UgMzIgLSAxMjYgKGluY2x1ZGluZyAzMiBhbmQgMTI2KSBvciBcXG4sIFxcciwgXFx0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0Jhc2ljQVNDSUkoc3RyKSB7XG4gICAgcmV0dXJuIElTX0JBU0lDX0FTQ0lJLnRlc3Qoc3RyKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjb250YWluc0Z1bGxXaWR0aENoYXJhY3RlcihzdHIpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gc3RyLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGlmIChpc0Z1bGxXaWR0aENoYXJhY3RlcihzdHIuY2hhckNvZGVBdChpKSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0Z1bGxXaWR0aENoYXJhY3RlcihjaGFyQ29kZSkge1xuICAgIC8vIERvIGEgY2hlYXAgdHJpY2sgdG8gYmV0dGVyIHN1cHBvcnQgd3JhcHBpbmcgb2Ygd2lkZSBjaGFyYWN0ZXJzLCB0cmVhdCB0aGVtIGFzIDIgY29sdW1uc1xuICAgIC8vIGh0dHA6Ly9qcmdyYXBoaXgubmV0L3Jlc2VhcmNoL3VuaWNvZGVfYmxvY2tzLnBocFxuICAgIC8vICAgICAgICAgIDJFODAg4oCUIDJFRkYgICBDSksgUmFkaWNhbHMgU3VwcGxlbWVudFxuICAgIC8vICAgICAgICAgIDJGMDAg4oCUIDJGREYgICBLYW5neGkgUmFkaWNhbHNcbiAgICAvLyAgICAgICAgICAyRkYwIOKAlCAyRkZGICAgSWRlb2dyYXBoaWMgRGVzY3JpcHRpb24gQ2hhcmFjdGVyc1xuICAgIC8vICAgICAgICAgIDMwMDAg4oCUIDMwM0YgICBDSksgU3ltYm9scyBhbmQgUHVuY3R1YXRpb25cbiAgICAvLyAgICAgICAgICAzMDQwIOKAlCAzMDlGICAgSGlyYWdhbmFcbiAgICAvLyAgICAgICAgICAzMEEwIOKAlCAzMEZGICAgS2F0YWthbmFcbiAgICAvLyAgICAgICAgICAzMTAwIOKAlCAzMTJGICAgQm9wb21vZm9cbiAgICAvLyAgICAgICAgICAzMTMwIOKAlCAzMThGICAgSGFuZ3VsIENvbXBhdGliaWxpdHkgSmFtb1xuICAgIC8vICAgICAgICAgIDMxOTAg4oCUIDMxOUYgICBLYW5idW5cbiAgICAvLyAgICAgICAgICAzMUEwIOKAlCAzMUJGICAgQm9wb21vZm8gRXh0ZW5kZWRcbiAgICAvLyAgICAgICAgICAzMUYwIOKAlCAzMUZGICAgS2F0YWthbmEgUGhvbmV0aWMgRXh0ZW5zaW9uc1xuICAgIC8vICAgICAgICAgIDMyMDAg4oCUIDMyRkYgICBFbmNsb3NlZCBDSksgTGV0dGVycyBhbmQgTW9udGhzXG4gICAgLy8gICAgICAgICAgMzMwMCDigJQgMzNGRiAgIENKSyBDb21wYXRpYmlsaXR5XG4gICAgLy8gICAgICAgICAgMzQwMCDigJQgNERCRiAgIENKSyBVbmlmaWVkIElkZW9ncmFwaHMgRXh0ZW5zaW9uIEFcbiAgICAvLyAgICAgICAgICA0REMwIOKAlCA0REZGICAgWWlqaW5nIEhleGFncmFtIFN5bWJvbHNcbiAgICAvLyAgICAgICAgICA0RTAwIOKAlCA5RkZGICAgQ0pLIFVuaWZpZWQgSWRlb2dyYXBoc1xuICAgIC8vICAgICAgICAgIEEwMDAg4oCUIEE0OEYgICBZaSBTeWxsYWJsZXNcbiAgICAvLyAgICAgICAgICBBNDkwIOKAlCBBNENGICAgWWkgUmFkaWNhbHNcbiAgICAvLyAgICAgICAgICBBQzAwIOKAlCBEN0FGICAgSGFuZ3VsIFN5bGxhYmxlc1xuICAgIC8vIFtJR05PUkVdIEQ4MDAg4oCUIERCN0YgICBIaWdoIFN1cnJvZ2F0ZXNcbiAgICAvLyBbSUdOT1JFXSBEQjgwIOKAlCBEQkZGICAgSGlnaCBQcml2YXRlIFVzZSBTdXJyb2dhdGVzXG4gICAgLy8gW0lHTk9SRV0gREMwMCDigJQgREZGRiAgIExvdyBTdXJyb2dhdGVzXG4gICAgLy8gW0lHTk9SRV0gRTAwMCDigJQgRjhGRiAgIFByaXZhdGUgVXNlIEFyZWFcbiAgICAvLyAgICAgICAgICBGOTAwIOKAlCBGQUZGICAgQ0pLIENvbXBhdGliaWxpdHkgSWRlb2dyYXBoc1xuICAgIC8vIFtJR05PUkVdIEZCMDAg4oCUIEZCNEYgICBBbHBoYWJldGljIFByZXNlbnRhdGlvbiBGb3Jtc1xuICAgIC8vIFtJR05PUkVdIEZCNTAg4oCUIEZERkYgICBBcmFiaWMgUHJlc2VudGF0aW9uIEZvcm1zLUFcbiAgICAvLyBbSUdOT1JFXSBGRTAwIOKAlCBGRTBGICAgVmFyaWF0aW9uIFNlbGVjdG9yc1xuICAgIC8vIFtJR05PUkVdIEZFMjAg4oCUIEZFMkYgICBDb21iaW5pbmcgSGFsZiBNYXJrc1xuICAgIC8vIFtJR05PUkVdIEZFMzAg4oCUIEZFNEYgICBDSksgQ29tcGF0aWJpbGl0eSBGb3Jtc1xuICAgIC8vIFtJR05PUkVdIEZFNTAg4oCUIEZFNkYgICBTbWFsbCBGb3JtIFZhcmlhbnRzXG4gICAgLy8gW0lHTk9SRV0gRkU3MCDigJQgRkVGRiAgIEFyYWJpYyBQcmVzZW50YXRpb24gRm9ybXMtQlxuICAgIC8vICAgICAgICAgIEZGMDAg4oCUIEZGRUYgICBIYWxmd2lkdGggYW5kIEZ1bGx3aWR0aCBGb3Jtc1xuICAgIC8vICAgICAgICAgICAgICAgW2h0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0hhbGZ3aWR0aF9hbmRfZnVsbHdpZHRoX2Zvcm1zXVxuICAgIC8vICAgICAgICAgICAgICAgb2Ygd2hpY2ggRkYwMSAtIEZGNUUgZnVsbHdpZHRoIEFTQ0lJIG9mIDIxIHRvIDdFXG4gICAgLy8gW0lHTk9SRV0gICAgYW5kIEZGNjUgLSBGRkRDIGhhbGZ3aWR0aCBvZiBLYXRha2FuYSBhbmQgSGFuZ3VsXG4gICAgLy8gW0lHTk9SRV0gRkZGMCDigJQgRkZGRiAgIFNwZWNpYWxzXG4gICAgY2hhckNvZGUgPSArY2hhckNvZGU7IC8vIEBwZXJmXG4gICAgcmV0dXJuICgoY2hhckNvZGUgPj0gMHgyRTgwICYmIGNoYXJDb2RlIDw9IDB4RDdBRilcbiAgICAgICAgfHwgKGNoYXJDb2RlID49IDB4RjkwMCAmJiBjaGFyQ29kZSA8PSAweEZBRkYpXG4gICAgICAgIHx8IChjaGFyQ29kZSA+PSAweEZGMDEgJiYgY2hhckNvZGUgPD0gMHhGRjVFKSk7XG59XG4vKipcbiAqIEdpdmVuIGEgc3RyaW5nIGFuZCBhIG1heCBsZW5ndGggcmV0dXJucyBhIHNob3J0ZWQgdmVyc2lvbi4gU2hvcnRpbmdcbiAqIGhhcHBlbnMgYXQgZmF2b3JhYmxlIHBvc2l0aW9ucyAtIHN1Y2ggYXMgd2hpdGVzcGFjZSBvciBwdW5jdHVhdGlvbiBjaGFyYWN0ZXJzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbGN1dCh0ZXh0LCBuKSB7XG4gICAgaWYgKHRleHQubGVuZ3RoIDwgbikge1xuICAgICAgICByZXR1cm4gdGV4dDtcbiAgICB9XG4gICAgdmFyIHJlID0gL1xcYi9nO1xuICAgIHZhciBpID0gMDtcbiAgICB3aGlsZSAocmUudGVzdCh0ZXh0KSkge1xuICAgICAgICBpZiAodGV4dC5sZW5ndGggLSByZS5sYXN0SW5kZXggPCBuKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBpID0gcmUubGFzdEluZGV4O1xuICAgICAgICByZS5sYXN0SW5kZXggKz0gMTtcbiAgICB9XG4gICAgcmV0dXJuIHRleHQuc3Vic3RyaW5nKGkpLnJlcGxhY2UoL15cXHMvLCBlbXB0eSk7XG59XG4vLyBFc2NhcGUgY29kZXNcbi8vIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQU5TSV9lc2NhcGVfY29kZVxudmFyIEVMID0gL1xceDFCXFx4NUJbMTJdP0svZzsgLy8gRXJhc2UgaW4gbGluZVxudmFyIENPTE9SX1NUQVJUID0gL1xceDFiXFxbXFxkK20vZzsgLy8gQ29sb3JcbnZhciBDT0xPUl9FTkQgPSAvXFx4MWJcXFswP20vZzsgLy8gQ29sb3JcbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVBbnNpRXNjYXBlQ29kZXMoc3RyKSB7XG4gICAgaWYgKHN0cikge1xuICAgICAgICBzdHIgPSBzdHIucmVwbGFjZShFTCwgJycpO1xuICAgICAgICBzdHIgPSBzdHIucmVwbGFjZShDT0xPUl9TVEFSVCwgJycpO1xuICAgICAgICBzdHIgPSBzdHIucmVwbGFjZShDT0xPUl9FTkQsICcnKTtcbiAgICB9XG4gICAgcmV0dXJuIHN0cjtcbn1cbi8vIC0tIFVURi04IEJPTVxuZXhwb3J0IHZhciBVVEY4X0JPTV9DSEFSQUNURVIgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKDY1Mjc5IC8qIFVURjhfQk9NICovKTtcbmV4cG9ydCBmdW5jdGlvbiBzdGFydHNXaXRoVVRGOEJPTShzdHIpIHtcbiAgICByZXR1cm4gKHN0ciAmJiBzdHIubGVuZ3RoID4gMCAmJiBzdHIuY2hhckNvZGVBdCgwKSA9PT0gNjUyNzkgLyogVVRGOF9CT00gKi8pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHN0cmlwVVRGOEJPTShzdHIpIHtcbiAgICByZXR1cm4gc3RhcnRzV2l0aFVURjhCT00oc3RyKSA/IHN0ci5zdWJzdHIoMSkgOiBzdHI7XG59XG5leHBvcnQgZnVuY3Rpb24gc2FmZUJ0b2Eoc3RyKSB7XG4gICAgcmV0dXJuIGJ0b2EoZW5jb2RlVVJJQ29tcG9uZW50KHN0cikpOyAvLyB3ZSB1c2UgZW5jb2RlVVJJQ29tcG9uZW50IGJlY2F1c2UgYnRvYSBmYWlscyBmb3Igbm9uIExhdGluIDEgdmFsdWVzXG59XG5leHBvcnQgZnVuY3Rpb24gcmVwZWF0KHMsIGNvdW50KSB7XG4gICAgdmFyIHJlc3VsdCA9ICcnO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xuICAgICAgICByZXN1bHQgKz0gcztcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbi8qKlxuICogQ2hlY2tzIGlmIHRoZSBjaGFyYWN0ZXJzIG9mIHRoZSBwcm92aWRlZCBxdWVyeSBzdHJpbmcgYXJlIGluY2x1ZGVkIGluIHRoZVxuICogdGFyZ2V0IHN0cmluZy4gVGhlIGNoYXJhY3RlcnMgZG8gbm90IGhhdmUgdG8gYmUgY29udGlndW91cyB3aXRoaW4gdGhlIHN0cmluZy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZ1enp5Q29udGFpbnModGFyZ2V0LCBxdWVyeSkge1xuICAgIGlmICghdGFyZ2V0IHx8ICFxdWVyeSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7IC8vIHJldHVybiBlYXJseSBpZiB0YXJnZXQgb3IgcXVlcnkgYXJlIHVuZGVmaW5lZFxuICAgIH1cbiAgICBpZiAodGFyZ2V0Lmxlbmd0aCA8IHF1ZXJ5Lmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7IC8vIGltcG9zc2libGUgZm9yIHF1ZXJ5IHRvIGJlIGNvbnRhaW5lZCBpbiB0YXJnZXRcbiAgICB9XG4gICAgdmFyIHF1ZXJ5TGVuID0gcXVlcnkubGVuZ3RoO1xuICAgIHZhciB0YXJnZXRMb3dlciA9IHRhcmdldC50b0xvd2VyQ2FzZSgpO1xuICAgIHZhciBpbmRleCA9IDA7XG4gICAgdmFyIGxhc3RJbmRleE9mID0gLTE7XG4gICAgd2hpbGUgKGluZGV4IDwgcXVlcnlMZW4pIHtcbiAgICAgICAgdmFyIGluZGV4T2YgPSB0YXJnZXRMb3dlci5pbmRleE9mKHF1ZXJ5W2luZGV4XSwgbGFzdEluZGV4T2YgKyAxKTtcbiAgICAgICAgaWYgKGluZGV4T2YgPCAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgbGFzdEluZGV4T2YgPSBpbmRleE9mO1xuICAgICAgICBpbmRleCsrO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjb250YWluc1VwcGVyY2FzZUNoYXJhY3Rlcih0YXJnZXQsIGlnbm9yZUVzY2FwZWRDaGFycykge1xuICAgIGlmIChpZ25vcmVFc2NhcGVkQ2hhcnMgPT09IHZvaWQgMCkgeyBpZ25vcmVFc2NhcGVkQ2hhcnMgPSBmYWxzZTsgfVxuICAgIGlmICghdGFyZ2V0KSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKGlnbm9yZUVzY2FwZWRDaGFycykge1xuICAgICAgICB0YXJnZXQgPSB0YXJnZXQucmVwbGFjZSgvXFxcXC4vZywgJycpO1xuICAgIH1cbiAgICByZXR1cm4gdGFyZ2V0LnRvTG93ZXJDYXNlKCkgIT09IHRhcmdldDtcbn1cbiIsIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuJ3VzZSBzdHJpY3QnO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5pbXBvcnQgeyBMY3NEaWZmIH0gZnJvbSAnLi4vLi4vLi4vYmFzZS9jb21tb24vZGlmZi9kaWZmLmpzJztcbmltcG9ydCAqIGFzIHN0cmluZ3MgZnJvbSAnLi4vLi4vLi4vYmFzZS9jb21tb24vc3RyaW5ncy5qcyc7XG52YXIgTUFYSU1VTV9SVU5fVElNRSA9IDUwMDA7IC8vIDUgc2Vjb25kc1xudmFyIE1JTklNVU1fTUFUQ0hJTkdfQ0hBUkFDVEVSX0xFTkdUSCA9IDM7XG5mdW5jdGlvbiBjb21wdXRlRGlmZihvcmlnaW5hbFNlcXVlbmNlLCBtb2RpZmllZFNlcXVlbmNlLCBjb250aW51ZVByb2Nlc3NpbmdQcmVkaWNhdGUsIHByZXR0eSkge1xuICAgIHZhciBkaWZmQWxnbyA9IG5ldyBMY3NEaWZmKG9yaWdpbmFsU2VxdWVuY2UsIG1vZGlmaWVkU2VxdWVuY2UsIGNvbnRpbnVlUHJvY2Vzc2luZ1ByZWRpY2F0ZSk7XG4gICAgcmV0dXJuIGRpZmZBbGdvLkNvbXB1dGVEaWZmKHByZXR0eSk7XG59XG52YXIgTWFya2VyU2VxdWVuY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTWFya2VyU2VxdWVuY2UoYnVmZmVyLCBzdGFydE1hcmtlcnMsIGVuZE1hcmtlcnMpIHtcbiAgICAgICAgdGhpcy5idWZmZXIgPSBidWZmZXI7XG4gICAgICAgIHRoaXMuc3RhcnRNYXJrZXJzID0gc3RhcnRNYXJrZXJzO1xuICAgICAgICB0aGlzLmVuZE1hcmtlcnMgPSBlbmRNYXJrZXJzO1xuICAgIH1cbiAgICBNYXJrZXJTZXF1ZW5jZS5wcm90b3R5cGUuZ2V0TGVuZ3RoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdGFydE1hcmtlcnMubGVuZ3RoO1xuICAgIH07XG4gICAgTWFya2VyU2VxdWVuY2UucHJvdG90eXBlLmdldEVsZW1lbnRIYXNoID0gZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYnVmZmVyLnN1YnN0cmluZyh0aGlzLnN0YXJ0TWFya2Vyc1tpXS5vZmZzZXQsIHRoaXMuZW5kTWFya2Vyc1tpXS5vZmZzZXQpO1xuICAgIH07XG4gICAgTWFya2VyU2VxdWVuY2UucHJvdG90eXBlLmdldFN0YXJ0TGluZU51bWJlciA9IGZ1bmN0aW9uIChpKSB7XG4gICAgICAgIGlmIChpID09PSB0aGlzLnN0YXJ0TWFya2Vycy5sZW5ndGgpIHtcbiAgICAgICAgICAgIC8vIFRoaXMgaXMgdGhlIHNwZWNpYWwgY2FzZSB3aGVyZSBhIGNoYW5nZSBoYXBwZW5lZCBhZnRlciB0aGUgbGFzdCBtYXJrZXJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnN0YXJ0TWFya2Vyc1tpIC0gMV0ubGluZU51bWJlciArIDE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhcnRNYXJrZXJzW2ldLmxpbmVOdW1iZXI7XG4gICAgfTtcbiAgICBNYXJrZXJTZXF1ZW5jZS5wcm90b3R5cGUuZ2V0U3RhcnRDb2x1bW4gPSBmdW5jdGlvbiAoaSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdGFydE1hcmtlcnNbaV0uY29sdW1uO1xuICAgIH07XG4gICAgTWFya2VyU2VxdWVuY2UucHJvdG90eXBlLmdldEVuZExpbmVOdW1iZXIgPSBmdW5jdGlvbiAoaSkge1xuICAgICAgICByZXR1cm4gdGhpcy5lbmRNYXJrZXJzW2ldLmxpbmVOdW1iZXI7XG4gICAgfTtcbiAgICBNYXJrZXJTZXF1ZW5jZS5wcm90b3R5cGUuZ2V0RW5kQ29sdW1uID0gZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZW5kTWFya2Vyc1tpXS5jb2x1bW47XG4gICAgfTtcbiAgICByZXR1cm4gTWFya2VyU2VxdWVuY2U7XG59KCkpO1xudmFyIExpbmVNYXJrZXJTZXF1ZW5jZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoTGluZU1hcmtlclNlcXVlbmNlLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIExpbmVNYXJrZXJTZXF1ZW5jZShsaW5lcykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgYnVmZmVyID0gJyc7XG4gICAgICAgIHZhciBzdGFydE1hcmtlcnMgPSBbXTtcbiAgICAgICAgdmFyIGVuZE1hcmtlcnMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgcG9zID0gMCwgaSA9IDAsIGxlbmd0aF8xID0gbGluZXMubGVuZ3RoOyBpIDwgbGVuZ3RoXzE7IGkrKykge1xuICAgICAgICAgICAgYnVmZmVyICs9IGxpbmVzW2ldO1xuICAgICAgICAgICAgdmFyIHN0YXJ0Q29sdW1uID0gTGluZU1hcmtlclNlcXVlbmNlLl9nZXRGaXJzdE5vbkJsYW5rQ29sdW1uKGxpbmVzW2ldLCAxKTtcbiAgICAgICAgICAgIHZhciBlbmRDb2x1bW4gPSBMaW5lTWFya2VyU2VxdWVuY2UuX2dldExhc3ROb25CbGFua0NvbHVtbihsaW5lc1tpXSwgMSk7XG4gICAgICAgICAgICBzdGFydE1hcmtlcnMucHVzaCh7XG4gICAgICAgICAgICAgICAgb2Zmc2V0OiBwb3MgKyBzdGFydENvbHVtbiAtIDEsXG4gICAgICAgICAgICAgICAgbGluZU51bWJlcjogaSArIDEsXG4gICAgICAgICAgICAgICAgY29sdW1uOiBzdGFydENvbHVtblxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBlbmRNYXJrZXJzLnB1c2goe1xuICAgICAgICAgICAgICAgIG9mZnNldDogcG9zICsgZW5kQ29sdW1uIC0gMSxcbiAgICAgICAgICAgICAgICBsaW5lTnVtYmVyOiBpICsgMSxcbiAgICAgICAgICAgICAgICBjb2x1bW46IGVuZENvbHVtblxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBwb3MgKz0gbGluZXNbaV0ubGVuZ3RoO1xuICAgICAgICB9XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgYnVmZmVyLCBzdGFydE1hcmtlcnMsIGVuZE1hcmtlcnMpIHx8IHRoaXM7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgTGluZU1hcmtlclNlcXVlbmNlLl9nZXRGaXJzdE5vbkJsYW5rQ29sdW1uID0gZnVuY3Rpb24gKHR4dCwgZGVmYXVsdFZhbHVlKSB7XG4gICAgICAgIHZhciByID0gc3RyaW5ncy5maXJzdE5vbldoaXRlc3BhY2VJbmRleCh0eHQpO1xuICAgICAgICBpZiAociA9PT0gLTEpIHtcbiAgICAgICAgICAgIHJldHVybiBkZWZhdWx0VmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHIgKyAxO1xuICAgIH07XG4gICAgTGluZU1hcmtlclNlcXVlbmNlLl9nZXRMYXN0Tm9uQmxhbmtDb2x1bW4gPSBmdW5jdGlvbiAodHh0LCBkZWZhdWx0VmFsdWUpIHtcbiAgICAgICAgdmFyIHIgPSBzdHJpbmdzLmxhc3ROb25XaGl0ZXNwYWNlSW5kZXgodHh0KTtcbiAgICAgICAgaWYgKHIgPT09IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gZGVmYXVsdFZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByICsgMjtcbiAgICB9O1xuICAgIExpbmVNYXJrZXJTZXF1ZW5jZS5wcm90b3R5cGUuZ2V0Q2hhclNlcXVlbmNlID0gZnVuY3Rpb24gKHN0YXJ0SW5kZXgsIGVuZEluZGV4KSB7XG4gICAgICAgIHZhciBzdGFydE1hcmtlcnMgPSBbXTtcbiAgICAgICAgdmFyIGVuZE1hcmtlcnMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaW5kZXggPSBzdGFydEluZGV4OyBpbmRleCA8PSBlbmRJbmRleDsgaW5kZXgrKykge1xuICAgICAgICAgICAgdmFyIHN0YXJ0TWFya2VyID0gdGhpcy5zdGFydE1hcmtlcnNbaW5kZXhdO1xuICAgICAgICAgICAgdmFyIGVuZE1hcmtlciA9IHRoaXMuZW5kTWFya2Vyc1tpbmRleF07XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gc3RhcnRNYXJrZXIub2Zmc2V0OyBpIDwgZW5kTWFya2VyLm9mZnNldDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgc3RhcnRNYXJrZXJzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBvZmZzZXQ6IGksXG4gICAgICAgICAgICAgICAgICAgIGxpbmVOdW1iZXI6IHN0YXJ0TWFya2VyLmxpbmVOdW1iZXIsXG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbjogc3RhcnRNYXJrZXIuY29sdW1uICsgKGkgLSBzdGFydE1hcmtlci5vZmZzZXQpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgZW5kTWFya2Vycy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0OiBpICsgMSxcbiAgICAgICAgICAgICAgICAgICAgbGluZU51bWJlcjogc3RhcnRNYXJrZXIubGluZU51bWJlcixcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uOiBzdGFydE1hcmtlci5jb2x1bW4gKyAoaSAtIHN0YXJ0TWFya2VyLm9mZnNldCkgKyAxXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBNYXJrZXJTZXF1ZW5jZSh0aGlzLmJ1ZmZlciwgc3RhcnRNYXJrZXJzLCBlbmRNYXJrZXJzKTtcbiAgICB9O1xuICAgIHJldHVybiBMaW5lTWFya2VyU2VxdWVuY2U7XG59KE1hcmtlclNlcXVlbmNlKSk7XG52YXIgQ2hhckNoYW5nZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBDaGFyQ2hhbmdlKG9yaWdpbmFsU3RhcnRMaW5lTnVtYmVyLCBvcmlnaW5hbFN0YXJ0Q29sdW1uLCBvcmlnaW5hbEVuZExpbmVOdW1iZXIsIG9yaWdpbmFsRW5kQ29sdW1uLCBtb2RpZmllZFN0YXJ0TGluZU51bWJlciwgbW9kaWZpZWRTdGFydENvbHVtbiwgbW9kaWZpZWRFbmRMaW5lTnVtYmVyLCBtb2RpZmllZEVuZENvbHVtbikge1xuICAgICAgICB0aGlzLm9yaWdpbmFsU3RhcnRMaW5lTnVtYmVyID0gb3JpZ2luYWxTdGFydExpbmVOdW1iZXI7XG4gICAgICAgIHRoaXMub3JpZ2luYWxTdGFydENvbHVtbiA9IG9yaWdpbmFsU3RhcnRDb2x1bW47XG4gICAgICAgIHRoaXMub3JpZ2luYWxFbmRMaW5lTnVtYmVyID0gb3JpZ2luYWxFbmRMaW5lTnVtYmVyO1xuICAgICAgICB0aGlzLm9yaWdpbmFsRW5kQ29sdW1uID0gb3JpZ2luYWxFbmRDb2x1bW47XG4gICAgICAgIHRoaXMubW9kaWZpZWRTdGFydExpbmVOdW1iZXIgPSBtb2RpZmllZFN0YXJ0TGluZU51bWJlcjtcbiAgICAgICAgdGhpcy5tb2RpZmllZFN0YXJ0Q29sdW1uID0gbW9kaWZpZWRTdGFydENvbHVtbjtcbiAgICAgICAgdGhpcy5tb2RpZmllZEVuZExpbmVOdW1iZXIgPSBtb2RpZmllZEVuZExpbmVOdW1iZXI7XG4gICAgICAgIHRoaXMubW9kaWZpZWRFbmRDb2x1bW4gPSBtb2RpZmllZEVuZENvbHVtbjtcbiAgICB9XG4gICAgQ2hhckNoYW5nZS5jcmVhdGVGcm9tRGlmZkNoYW5nZSA9IGZ1bmN0aW9uIChkaWZmQ2hhbmdlLCBvcmlnaW5hbENoYXJTZXF1ZW5jZSwgbW9kaWZpZWRDaGFyU2VxdWVuY2UpIHtcbiAgICAgICAgdmFyIG9yaWdpbmFsU3RhcnRMaW5lTnVtYmVyO1xuICAgICAgICB2YXIgb3JpZ2luYWxTdGFydENvbHVtbjtcbiAgICAgICAgdmFyIG9yaWdpbmFsRW5kTGluZU51bWJlcjtcbiAgICAgICAgdmFyIG9yaWdpbmFsRW5kQ29sdW1uO1xuICAgICAgICB2YXIgbW9kaWZpZWRTdGFydExpbmVOdW1iZXI7XG4gICAgICAgIHZhciBtb2RpZmllZFN0YXJ0Q29sdW1uO1xuICAgICAgICB2YXIgbW9kaWZpZWRFbmRMaW5lTnVtYmVyO1xuICAgICAgICB2YXIgbW9kaWZpZWRFbmRDb2x1bW47XG4gICAgICAgIGlmIChkaWZmQ2hhbmdlLm9yaWdpbmFsTGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBvcmlnaW5hbFN0YXJ0TGluZU51bWJlciA9IDA7XG4gICAgICAgICAgICBvcmlnaW5hbFN0YXJ0Q29sdW1uID0gMDtcbiAgICAgICAgICAgIG9yaWdpbmFsRW5kTGluZU51bWJlciA9IDA7XG4gICAgICAgICAgICBvcmlnaW5hbEVuZENvbHVtbiA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBvcmlnaW5hbFN0YXJ0TGluZU51bWJlciA9IG9yaWdpbmFsQ2hhclNlcXVlbmNlLmdldFN0YXJ0TGluZU51bWJlcihkaWZmQ2hhbmdlLm9yaWdpbmFsU3RhcnQpO1xuICAgICAgICAgICAgb3JpZ2luYWxTdGFydENvbHVtbiA9IG9yaWdpbmFsQ2hhclNlcXVlbmNlLmdldFN0YXJ0Q29sdW1uKGRpZmZDaGFuZ2Uub3JpZ2luYWxTdGFydCk7XG4gICAgICAgICAgICBvcmlnaW5hbEVuZExpbmVOdW1iZXIgPSBvcmlnaW5hbENoYXJTZXF1ZW5jZS5nZXRFbmRMaW5lTnVtYmVyKGRpZmZDaGFuZ2Uub3JpZ2luYWxTdGFydCArIGRpZmZDaGFuZ2Uub3JpZ2luYWxMZW5ndGggLSAxKTtcbiAgICAgICAgICAgIG9yaWdpbmFsRW5kQ29sdW1uID0gb3JpZ2luYWxDaGFyU2VxdWVuY2UuZ2V0RW5kQ29sdW1uKGRpZmZDaGFuZ2Uub3JpZ2luYWxTdGFydCArIGRpZmZDaGFuZ2Uub3JpZ2luYWxMZW5ndGggLSAxKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGlmZkNoYW5nZS5tb2RpZmllZExlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgbW9kaWZpZWRTdGFydExpbmVOdW1iZXIgPSAwO1xuICAgICAgICAgICAgbW9kaWZpZWRTdGFydENvbHVtbiA9IDA7XG4gICAgICAgICAgICBtb2RpZmllZEVuZExpbmVOdW1iZXIgPSAwO1xuICAgICAgICAgICAgbW9kaWZpZWRFbmRDb2x1bW4gPSAwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbW9kaWZpZWRTdGFydExpbmVOdW1iZXIgPSBtb2RpZmllZENoYXJTZXF1ZW5jZS5nZXRTdGFydExpbmVOdW1iZXIoZGlmZkNoYW5nZS5tb2RpZmllZFN0YXJ0KTtcbiAgICAgICAgICAgIG1vZGlmaWVkU3RhcnRDb2x1bW4gPSBtb2RpZmllZENoYXJTZXF1ZW5jZS5nZXRTdGFydENvbHVtbihkaWZmQ2hhbmdlLm1vZGlmaWVkU3RhcnQpO1xuICAgICAgICAgICAgbW9kaWZpZWRFbmRMaW5lTnVtYmVyID0gbW9kaWZpZWRDaGFyU2VxdWVuY2UuZ2V0RW5kTGluZU51bWJlcihkaWZmQ2hhbmdlLm1vZGlmaWVkU3RhcnQgKyBkaWZmQ2hhbmdlLm1vZGlmaWVkTGVuZ3RoIC0gMSk7XG4gICAgICAgICAgICBtb2RpZmllZEVuZENvbHVtbiA9IG1vZGlmaWVkQ2hhclNlcXVlbmNlLmdldEVuZENvbHVtbihkaWZmQ2hhbmdlLm1vZGlmaWVkU3RhcnQgKyBkaWZmQ2hhbmdlLm1vZGlmaWVkTGVuZ3RoIC0gMSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBDaGFyQ2hhbmdlKG9yaWdpbmFsU3RhcnRMaW5lTnVtYmVyLCBvcmlnaW5hbFN0YXJ0Q29sdW1uLCBvcmlnaW5hbEVuZExpbmVOdW1iZXIsIG9yaWdpbmFsRW5kQ29sdW1uLCBtb2RpZmllZFN0YXJ0TGluZU51bWJlciwgbW9kaWZpZWRTdGFydENvbHVtbiwgbW9kaWZpZWRFbmRMaW5lTnVtYmVyLCBtb2RpZmllZEVuZENvbHVtbik7XG4gICAgfTtcbiAgICByZXR1cm4gQ2hhckNoYW5nZTtcbn0oKSk7XG5mdW5jdGlvbiBwb3N0UHJvY2Vzc0NoYXJDaGFuZ2VzKHJhd0NoYW5nZXMpIHtcbiAgICBpZiAocmF3Q2hhbmdlcy5sZW5ndGggPD0gMSkge1xuICAgICAgICByZXR1cm4gcmF3Q2hhbmdlcztcbiAgICB9XG4gICAgdmFyIHJlc3VsdCA9IFtyYXdDaGFuZ2VzWzBdXTtcbiAgICB2YXIgcHJldkNoYW5nZSA9IHJlc3VsdFswXTtcbiAgICBmb3IgKHZhciBpID0gMSwgbGVuID0gcmF3Q2hhbmdlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICB2YXIgY3VyckNoYW5nZSA9IHJhd0NoYW5nZXNbaV07XG4gICAgICAgIHZhciBvcmlnaW5hbE1hdGNoaW5nTGVuZ3RoID0gY3VyckNoYW5nZS5vcmlnaW5hbFN0YXJ0IC0gKHByZXZDaGFuZ2Uub3JpZ2luYWxTdGFydCArIHByZXZDaGFuZ2Uub3JpZ2luYWxMZW5ndGgpO1xuICAgICAgICB2YXIgbW9kaWZpZWRNYXRjaGluZ0xlbmd0aCA9IGN1cnJDaGFuZ2UubW9kaWZpZWRTdGFydCAtIChwcmV2Q2hhbmdlLm1vZGlmaWVkU3RhcnQgKyBwcmV2Q2hhbmdlLm1vZGlmaWVkTGVuZ3RoKTtcbiAgICAgICAgLy8gQm90aCBvZiB0aGUgYWJvdmUgc2hvdWxkIGJlIGVxdWFsLCBidXQgdGhlIGNvbnRpbnVlUHJvY2Vzc2luZ1ByZWRpY2F0ZSBtYXkgcHJldmVudCB0aGlzIGZyb20gYmVpbmcgdHJ1ZVxuICAgICAgICB2YXIgbWF0Y2hpbmdMZW5ndGggPSBNYXRoLm1pbihvcmlnaW5hbE1hdGNoaW5nTGVuZ3RoLCBtb2RpZmllZE1hdGNoaW5nTGVuZ3RoKTtcbiAgICAgICAgaWYgKG1hdGNoaW5nTGVuZ3RoIDwgTUlOSU1VTV9NQVRDSElOR19DSEFSQUNURVJfTEVOR1RIKSB7XG4gICAgICAgICAgICAvLyBNZXJnZSB0aGUgY3VycmVudCBjaGFuZ2UgaW50byB0aGUgcHJldmlvdXMgb25lXG4gICAgICAgICAgICBwcmV2Q2hhbmdlLm9yaWdpbmFsTGVuZ3RoID0gKGN1cnJDaGFuZ2Uub3JpZ2luYWxTdGFydCArIGN1cnJDaGFuZ2Uub3JpZ2luYWxMZW5ndGgpIC0gcHJldkNoYW5nZS5vcmlnaW5hbFN0YXJ0O1xuICAgICAgICAgICAgcHJldkNoYW5nZS5tb2RpZmllZExlbmd0aCA9IChjdXJyQ2hhbmdlLm1vZGlmaWVkU3RhcnQgKyBjdXJyQ2hhbmdlLm1vZGlmaWVkTGVuZ3RoKSAtIHByZXZDaGFuZ2UubW9kaWZpZWRTdGFydDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIEFkZCB0aGUgY3VycmVudCBjaGFuZ2VcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKGN1cnJDaGFuZ2UpO1xuICAgICAgICAgICAgcHJldkNoYW5nZSA9IGN1cnJDaGFuZ2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbnZhciBMaW5lQ2hhbmdlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIExpbmVDaGFuZ2Uob3JpZ2luYWxTdGFydExpbmVOdW1iZXIsIG9yaWdpbmFsRW5kTGluZU51bWJlciwgbW9kaWZpZWRTdGFydExpbmVOdW1iZXIsIG1vZGlmaWVkRW5kTGluZU51bWJlciwgY2hhckNoYW5nZXMpIHtcbiAgICAgICAgdGhpcy5vcmlnaW5hbFN0YXJ0TGluZU51bWJlciA9IG9yaWdpbmFsU3RhcnRMaW5lTnVtYmVyO1xuICAgICAgICB0aGlzLm9yaWdpbmFsRW5kTGluZU51bWJlciA9IG9yaWdpbmFsRW5kTGluZU51bWJlcjtcbiAgICAgICAgdGhpcy5tb2RpZmllZFN0YXJ0TGluZU51bWJlciA9IG1vZGlmaWVkU3RhcnRMaW5lTnVtYmVyO1xuICAgICAgICB0aGlzLm1vZGlmaWVkRW5kTGluZU51bWJlciA9IG1vZGlmaWVkRW5kTGluZU51bWJlcjtcbiAgICAgICAgdGhpcy5jaGFyQ2hhbmdlcyA9IGNoYXJDaGFuZ2VzO1xuICAgIH1cbiAgICBMaW5lQ2hhbmdlLmNyZWF0ZUZyb21EaWZmUmVzdWx0ID0gZnVuY3Rpb24gKGRpZmZDaGFuZ2UsIG9yaWdpbmFsTGluZVNlcXVlbmNlLCBtb2RpZmllZExpbmVTZXF1ZW5jZSwgY29udGludWVQcm9jZXNzaW5nUHJlZGljYXRlLCBzaG91bGRQb3N0UHJvY2Vzc0NoYXJDaGFuZ2VzKSB7XG4gICAgICAgIHZhciBvcmlnaW5hbFN0YXJ0TGluZU51bWJlcjtcbiAgICAgICAgdmFyIG9yaWdpbmFsRW5kTGluZU51bWJlcjtcbiAgICAgICAgdmFyIG1vZGlmaWVkU3RhcnRMaW5lTnVtYmVyO1xuICAgICAgICB2YXIgbW9kaWZpZWRFbmRMaW5lTnVtYmVyO1xuICAgICAgICB2YXIgY2hhckNoYW5nZXM7XG4gICAgICAgIGlmIChkaWZmQ2hhbmdlLm9yaWdpbmFsTGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBvcmlnaW5hbFN0YXJ0TGluZU51bWJlciA9IG9yaWdpbmFsTGluZVNlcXVlbmNlLmdldFN0YXJ0TGluZU51bWJlcihkaWZmQ2hhbmdlLm9yaWdpbmFsU3RhcnQpIC0gMTtcbiAgICAgICAgICAgIG9yaWdpbmFsRW5kTGluZU51bWJlciA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBvcmlnaW5hbFN0YXJ0TGluZU51bWJlciA9IG9yaWdpbmFsTGluZVNlcXVlbmNlLmdldFN0YXJ0TGluZU51bWJlcihkaWZmQ2hhbmdlLm9yaWdpbmFsU3RhcnQpO1xuICAgICAgICAgICAgb3JpZ2luYWxFbmRMaW5lTnVtYmVyID0gb3JpZ2luYWxMaW5lU2VxdWVuY2UuZ2V0RW5kTGluZU51bWJlcihkaWZmQ2hhbmdlLm9yaWdpbmFsU3RhcnQgKyBkaWZmQ2hhbmdlLm9yaWdpbmFsTGVuZ3RoIC0gMSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRpZmZDaGFuZ2UubW9kaWZpZWRMZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIG1vZGlmaWVkU3RhcnRMaW5lTnVtYmVyID0gbW9kaWZpZWRMaW5lU2VxdWVuY2UuZ2V0U3RhcnRMaW5lTnVtYmVyKGRpZmZDaGFuZ2UubW9kaWZpZWRTdGFydCkgLSAxO1xuICAgICAgICAgICAgbW9kaWZpZWRFbmRMaW5lTnVtYmVyID0gMDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG1vZGlmaWVkU3RhcnRMaW5lTnVtYmVyID0gbW9kaWZpZWRMaW5lU2VxdWVuY2UuZ2V0U3RhcnRMaW5lTnVtYmVyKGRpZmZDaGFuZ2UubW9kaWZpZWRTdGFydCk7XG4gICAgICAgICAgICBtb2RpZmllZEVuZExpbmVOdW1iZXIgPSBtb2RpZmllZExpbmVTZXF1ZW5jZS5nZXRFbmRMaW5lTnVtYmVyKGRpZmZDaGFuZ2UubW9kaWZpZWRTdGFydCArIGRpZmZDaGFuZ2UubW9kaWZpZWRMZW5ndGggLSAxKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGlmZkNoYW5nZS5vcmlnaW5hbExlbmd0aCAhPT0gMCAmJiBkaWZmQ2hhbmdlLm1vZGlmaWVkTGVuZ3RoICE9PSAwICYmIGNvbnRpbnVlUHJvY2Vzc2luZ1ByZWRpY2F0ZSgpKSB7XG4gICAgICAgICAgICB2YXIgb3JpZ2luYWxDaGFyU2VxdWVuY2UgPSBvcmlnaW5hbExpbmVTZXF1ZW5jZS5nZXRDaGFyU2VxdWVuY2UoZGlmZkNoYW5nZS5vcmlnaW5hbFN0YXJ0LCBkaWZmQ2hhbmdlLm9yaWdpbmFsU3RhcnQgKyBkaWZmQ2hhbmdlLm9yaWdpbmFsTGVuZ3RoIC0gMSk7XG4gICAgICAgICAgICB2YXIgbW9kaWZpZWRDaGFyU2VxdWVuY2UgPSBtb2RpZmllZExpbmVTZXF1ZW5jZS5nZXRDaGFyU2VxdWVuY2UoZGlmZkNoYW5nZS5tb2RpZmllZFN0YXJ0LCBkaWZmQ2hhbmdlLm1vZGlmaWVkU3RhcnQgKyBkaWZmQ2hhbmdlLm1vZGlmaWVkTGVuZ3RoIC0gMSk7XG4gICAgICAgICAgICB2YXIgcmF3Q2hhbmdlcyA9IGNvbXB1dGVEaWZmKG9yaWdpbmFsQ2hhclNlcXVlbmNlLCBtb2RpZmllZENoYXJTZXF1ZW5jZSwgY29udGludWVQcm9jZXNzaW5nUHJlZGljYXRlLCB0cnVlKTtcbiAgICAgICAgICAgIGlmIChzaG91bGRQb3N0UHJvY2Vzc0NoYXJDaGFuZ2VzKSB7XG4gICAgICAgICAgICAgICAgcmF3Q2hhbmdlcyA9IHBvc3RQcm9jZXNzQ2hhckNoYW5nZXMocmF3Q2hhbmdlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjaGFyQ2hhbmdlcyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aF8yID0gcmF3Q2hhbmdlcy5sZW5ndGg7IGkgPCBsZW5ndGhfMjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY2hhckNoYW5nZXMucHVzaChDaGFyQ2hhbmdlLmNyZWF0ZUZyb21EaWZmQ2hhbmdlKHJhd0NoYW5nZXNbaV0sIG9yaWdpbmFsQ2hhclNlcXVlbmNlLCBtb2RpZmllZENoYXJTZXF1ZW5jZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgTGluZUNoYW5nZShvcmlnaW5hbFN0YXJ0TGluZU51bWJlciwgb3JpZ2luYWxFbmRMaW5lTnVtYmVyLCBtb2RpZmllZFN0YXJ0TGluZU51bWJlciwgbW9kaWZpZWRFbmRMaW5lTnVtYmVyLCBjaGFyQ2hhbmdlcyk7XG4gICAgfTtcbiAgICByZXR1cm4gTGluZUNoYW5nZTtcbn0oKSk7XG52YXIgRGlmZkNvbXB1dGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIERpZmZDb21wdXRlcihvcmlnaW5hbExpbmVzLCBtb2RpZmllZExpbmVzLCBvcHRzKSB7XG4gICAgICAgIHRoaXMuc2hvdWxkUG9zdFByb2Nlc3NDaGFyQ2hhbmdlcyA9IG9wdHMuc2hvdWxkUG9zdFByb2Nlc3NDaGFyQ2hhbmdlcztcbiAgICAgICAgdGhpcy5zaG91bGRJZ25vcmVUcmltV2hpdGVzcGFjZSA9IG9wdHMuc2hvdWxkSWdub3JlVHJpbVdoaXRlc3BhY2U7XG4gICAgICAgIHRoaXMuc2hvdWxkTWFrZVByZXR0eURpZmYgPSBvcHRzLnNob3VsZE1ha2VQcmV0dHlEaWZmO1xuICAgICAgICB0aGlzLm1heGltdW1SdW5UaW1lTXMgPSBNQVhJTVVNX1JVTl9USU1FO1xuICAgICAgICB0aGlzLm9yaWdpbmFsTGluZXMgPSBvcmlnaW5hbExpbmVzO1xuICAgICAgICB0aGlzLm1vZGlmaWVkTGluZXMgPSBtb2RpZmllZExpbmVzO1xuICAgICAgICB0aGlzLm9yaWdpbmFsID0gbmV3IExpbmVNYXJrZXJTZXF1ZW5jZShvcmlnaW5hbExpbmVzKTtcbiAgICAgICAgdGhpcy5tb2RpZmllZCA9IG5ldyBMaW5lTWFya2VyU2VxdWVuY2UobW9kaWZpZWRMaW5lcyk7XG4gICAgfVxuICAgIERpZmZDb21wdXRlci5wcm90b3R5cGUuY29tcHV0ZURpZmYgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLm9yaWdpbmFsLmdldExlbmd0aCgpID09PSAxICYmIHRoaXMub3JpZ2luYWwuZ2V0RWxlbWVudEhhc2goMCkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAvLyBlbXB0eSBvcmlnaW5hbCA9PiBmYXN0IHBhdGhcbiAgICAgICAgICAgIHJldHVybiBbe1xuICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbFN0YXJ0TGluZU51bWJlcjogMSxcbiAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxFbmRMaW5lTnVtYmVyOiAxLFxuICAgICAgICAgICAgICAgICAgICBtb2RpZmllZFN0YXJ0TGluZU51bWJlcjogMSxcbiAgICAgICAgICAgICAgICAgICAgbW9kaWZpZWRFbmRMaW5lTnVtYmVyOiB0aGlzLm1vZGlmaWVkLmdldExlbmd0aCgpLFxuICAgICAgICAgICAgICAgICAgICBjaGFyQ2hhbmdlczogW3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RpZmllZEVuZENvbHVtbjogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RpZmllZEVuZExpbmVOdW1iZXI6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kaWZpZWRTdGFydENvbHVtbjogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RpZmllZFN0YXJ0TGluZU51bWJlcjogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbEVuZENvbHVtbjogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbEVuZExpbmVOdW1iZXI6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxTdGFydENvbHVtbjogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbFN0YXJ0TGluZU51bWJlcjogMFxuICAgICAgICAgICAgICAgICAgICAgICAgfV1cbiAgICAgICAgICAgICAgICB9XTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5tb2RpZmllZC5nZXRMZW5ndGgoKSA9PT0gMSAmJiB0aGlzLm1vZGlmaWVkLmdldEVsZW1lbnRIYXNoKDApLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgLy8gZW1wdHkgbW9kaWZpZWQgPT4gZmFzdCBwYXRoXG4gICAgICAgICAgICByZXR1cm4gW3tcbiAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxTdGFydExpbmVOdW1iZXI6IDEsXG4gICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsRW5kTGluZU51bWJlcjogdGhpcy5vcmlnaW5hbC5nZXRMZW5ndGgoKSxcbiAgICAgICAgICAgICAgICAgICAgbW9kaWZpZWRTdGFydExpbmVOdW1iZXI6IDEsXG4gICAgICAgICAgICAgICAgICAgIG1vZGlmaWVkRW5kTGluZU51bWJlcjogMSxcbiAgICAgICAgICAgICAgICAgICAgY2hhckNoYW5nZXM6IFt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kaWZpZWRFbmRDb2x1bW46IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kaWZpZWRFbmRMaW5lTnVtYmVyOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGlmaWVkU3RhcnRDb2x1bW46IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kaWZpZWRTdGFydExpbmVOdW1iZXI6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxFbmRDb2x1bW46IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxFbmRMaW5lTnVtYmVyOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsU3RhcnRDb2x1bW46IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxTdGFydExpbmVOdW1iZXI6IDBcbiAgICAgICAgICAgICAgICAgICAgICAgIH1dXG4gICAgICAgICAgICAgICAgfV07XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb21wdXRhdGlvblN0YXJ0VGltZSA9IChuZXcgRGF0ZSgpKS5nZXRUaW1lKCk7XG4gICAgICAgIHZhciByYXdDaGFuZ2VzID0gY29tcHV0ZURpZmYodGhpcy5vcmlnaW5hbCwgdGhpcy5tb2RpZmllZCwgdGhpcy5fY29udGludWVQcm9jZXNzaW5nUHJlZGljYXRlLmJpbmQodGhpcyksIHRoaXMuc2hvdWxkTWFrZVByZXR0eURpZmYpO1xuICAgICAgICAvLyBUaGUgZGlmZiBpcyBhbHdheXMgY29tcHV0ZWQgd2l0aCBpZ25vcmluZyB0cmltIHdoaXRlc3BhY2VcbiAgICAgICAgLy8gVGhpcyBlbnN1cmVzIHdlIGdldCB0aGUgcHJldHRpZXN0IGRpZmZcbiAgICAgICAgaWYgKHRoaXMuc2hvdWxkSWdub3JlVHJpbVdoaXRlc3BhY2UpIHtcbiAgICAgICAgICAgIHZhciBsaW5lQ2hhbmdlcyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aF8zID0gcmF3Q2hhbmdlcy5sZW5ndGg7IGkgPCBsZW5ndGhfMzsgaSsrKSB7XG4gICAgICAgICAgICAgICAgbGluZUNoYW5nZXMucHVzaChMaW5lQ2hhbmdlLmNyZWF0ZUZyb21EaWZmUmVzdWx0KHJhd0NoYW5nZXNbaV0sIHRoaXMub3JpZ2luYWwsIHRoaXMubW9kaWZpZWQsIHRoaXMuX2NvbnRpbnVlUHJvY2Vzc2luZ1ByZWRpY2F0ZS5iaW5kKHRoaXMpLCB0aGlzLnNob3VsZFBvc3RQcm9jZXNzQ2hhckNoYW5nZXMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBsaW5lQ2hhbmdlcztcbiAgICAgICAgfVxuICAgICAgICAvLyBOZWVkIHRvIHBvc3QtcHJvY2VzcyBhbmQgaW50cm9kdWNlIGNoYW5nZXMgd2hlcmUgdGhlIHRyaW0gd2hpdGVzcGFjZSBpcyBkaWZmZXJlbnRcbiAgICAgICAgLy8gTm90ZSB0aGF0IHdlIGFyZSBsb29waW5nIHN0YXJ0aW5nIGF0IC0xIHRvIGFsc28gY292ZXIgdGhlIGxpbmVzIGJlZm9yZSB0aGUgZmlyc3QgY2hhbmdlXG4gICAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgICAgdmFyIG9yaWdpbmFsTGluZUluZGV4ID0gMDtcbiAgICAgICAgdmFyIG1vZGlmaWVkTGluZUluZGV4ID0gMDtcbiAgICAgICAgZm9yICh2YXIgaSA9IC0xIC8qICEhISEgKi8sIGxlbiA9IHJhd0NoYW5nZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBuZXh0Q2hhbmdlID0gKGkgKyAxIDwgbGVuID8gcmF3Q2hhbmdlc1tpICsgMV0gOiBudWxsKTtcbiAgICAgICAgICAgIHZhciBvcmlnaW5hbFN0b3AgPSAobmV4dENoYW5nZSA/IG5leHRDaGFuZ2Uub3JpZ2luYWxTdGFydCA6IHRoaXMub3JpZ2luYWxMaW5lcy5sZW5ndGgpO1xuICAgICAgICAgICAgdmFyIG1vZGlmaWVkU3RvcCA9IChuZXh0Q2hhbmdlID8gbmV4dENoYW5nZS5tb2RpZmllZFN0YXJ0IDogdGhpcy5tb2RpZmllZExpbmVzLmxlbmd0aCk7XG4gICAgICAgICAgICB3aGlsZSAob3JpZ2luYWxMaW5lSW5kZXggPCBvcmlnaW5hbFN0b3AgJiYgbW9kaWZpZWRMaW5lSW5kZXggPCBtb2RpZmllZFN0b3ApIHtcbiAgICAgICAgICAgICAgICB2YXIgb3JpZ2luYWxMaW5lID0gdGhpcy5vcmlnaW5hbExpbmVzW29yaWdpbmFsTGluZUluZGV4XTtcbiAgICAgICAgICAgICAgICB2YXIgbW9kaWZpZWRMaW5lID0gdGhpcy5tb2RpZmllZExpbmVzW21vZGlmaWVkTGluZUluZGV4XTtcbiAgICAgICAgICAgICAgICBpZiAob3JpZ2luYWxMaW5lICE9PSBtb2RpZmllZExpbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlc2UgbGluZXMgZGlmZmVyIG9ubHkgaW4gdHJpbSB3aGl0ZXNwYWNlXG4gICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIHRoZSBsZWFkaW5nIHdoaXRlc3BhY2VcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9yaWdpbmFsU3RhcnRDb2x1bW4gPSBMaW5lTWFya2VyU2VxdWVuY2UuX2dldEZpcnN0Tm9uQmxhbmtDb2x1bW4ob3JpZ2luYWxMaW5lLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtb2RpZmllZFN0YXJ0Q29sdW1uID0gTGluZU1hcmtlclNlcXVlbmNlLl9nZXRGaXJzdE5vbkJsYW5rQ29sdW1uKG1vZGlmaWVkTGluZSwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAob3JpZ2luYWxTdGFydENvbHVtbiA+IDEgJiYgbW9kaWZpZWRTdGFydENvbHVtbiA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgb3JpZ2luYWxDaGFyID0gb3JpZ2luYWxMaW5lLmNoYXJDb2RlQXQob3JpZ2luYWxTdGFydENvbHVtbiAtIDIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtb2RpZmllZENoYXIgPSBtb2RpZmllZExpbmUuY2hhckNvZGVBdChtb2RpZmllZFN0YXJ0Q29sdW1uIC0gMik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9yaWdpbmFsQ2hhciAhPT0gbW9kaWZpZWRDaGFyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbFN0YXJ0Q29sdW1uLS07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kaWZpZWRTdGFydENvbHVtbi0tO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9yaWdpbmFsU3RhcnRDb2x1bW4gPiAxIHx8IG1vZGlmaWVkU3RhcnRDb2x1bW4gPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcHVzaFRyaW1XaGl0ZXNwYWNlQ2hhckNoYW5nZShyZXN1bHQsIG9yaWdpbmFsTGluZUluZGV4ICsgMSwgMSwgb3JpZ2luYWxTdGFydENvbHVtbiwgbW9kaWZpZWRMaW5lSW5kZXggKyAxLCAxLCBtb2RpZmllZFN0YXJ0Q29sdW1uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayB0aGUgdHJhaWxpbmcgd2hpdGVzcGFjZVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgb3JpZ2luYWxFbmRDb2x1bW4gPSBMaW5lTWFya2VyU2VxdWVuY2UuX2dldExhc3ROb25CbGFua0NvbHVtbihvcmlnaW5hbExpbmUsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1vZGlmaWVkRW5kQ29sdW1uID0gTGluZU1hcmtlclNlcXVlbmNlLl9nZXRMYXN0Tm9uQmxhbmtDb2x1bW4obW9kaWZpZWRMaW5lLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvcmlnaW5hbE1heENvbHVtbiA9IG9yaWdpbmFsTGluZS5sZW5ndGggKyAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1vZGlmaWVkTWF4Q29sdW1uID0gbW9kaWZpZWRMaW5lLmxlbmd0aCArIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAob3JpZ2luYWxFbmRDb2x1bW4gPCBvcmlnaW5hbE1heENvbHVtbiAmJiBtb2RpZmllZEVuZENvbHVtbiA8IG1vZGlmaWVkTWF4Q29sdW1uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9yaWdpbmFsQ2hhciA9IG9yaWdpbmFsTGluZS5jaGFyQ29kZUF0KG9yaWdpbmFsRW5kQ29sdW1uIC0gMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1vZGlmaWVkQ2hhciA9IG9yaWdpbmFsTGluZS5jaGFyQ29kZUF0KG1vZGlmaWVkRW5kQ29sdW1uIC0gMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9yaWdpbmFsQ2hhciAhPT0gbW9kaWZpZWRDaGFyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbEVuZENvbHVtbisrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGlmaWVkRW5kQ29sdW1uKys7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3JpZ2luYWxFbmRDb2x1bW4gPCBvcmlnaW5hbE1heENvbHVtbiB8fCBtb2RpZmllZEVuZENvbHVtbiA8IG1vZGlmaWVkTWF4Q29sdW1uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcHVzaFRyaW1XaGl0ZXNwYWNlQ2hhckNoYW5nZShyZXN1bHQsIG9yaWdpbmFsTGluZUluZGV4ICsgMSwgb3JpZ2luYWxFbmRDb2x1bW4sIG9yaWdpbmFsTWF4Q29sdW1uLCBtb2RpZmllZExpbmVJbmRleCArIDEsIG1vZGlmaWVkRW5kQ29sdW1uLCBtb2RpZmllZE1heENvbHVtbik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgb3JpZ2luYWxMaW5lSW5kZXgrKztcbiAgICAgICAgICAgICAgICBtb2RpZmllZExpbmVJbmRleCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5leHRDaGFuZ2UpIHtcbiAgICAgICAgICAgICAgICAvLyBFbWl0IHRoZSBhY3R1YWwgY2hhbmdlXG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goTGluZUNoYW5nZS5jcmVhdGVGcm9tRGlmZlJlc3VsdChuZXh0Q2hhbmdlLCB0aGlzLm9yaWdpbmFsLCB0aGlzLm1vZGlmaWVkLCB0aGlzLl9jb250aW51ZVByb2Nlc3NpbmdQcmVkaWNhdGUuYmluZCh0aGlzKSwgdGhpcy5zaG91bGRQb3N0UHJvY2Vzc0NoYXJDaGFuZ2VzKSk7XG4gICAgICAgICAgICAgICAgb3JpZ2luYWxMaW5lSW5kZXggKz0gbmV4dENoYW5nZS5vcmlnaW5hbExlbmd0aDtcbiAgICAgICAgICAgICAgICBtb2RpZmllZExpbmVJbmRleCArPSBuZXh0Q2hhbmdlLm1vZGlmaWVkTGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICBEaWZmQ29tcHV0ZXIucHJvdG90eXBlLl9wdXNoVHJpbVdoaXRlc3BhY2VDaGFyQ2hhbmdlID0gZnVuY3Rpb24gKHJlc3VsdCwgb3JpZ2luYWxMaW5lTnVtYmVyLCBvcmlnaW5hbFN0YXJ0Q29sdW1uLCBvcmlnaW5hbEVuZENvbHVtbiwgbW9kaWZpZWRMaW5lTnVtYmVyLCBtb2RpZmllZFN0YXJ0Q29sdW1uLCBtb2RpZmllZEVuZENvbHVtbikge1xuICAgICAgICBpZiAodGhpcy5fbWVyZ2VUcmltV2hpdGVzcGFjZUNoYXJDaGFuZ2UocmVzdWx0LCBvcmlnaW5hbExpbmVOdW1iZXIsIG9yaWdpbmFsU3RhcnRDb2x1bW4sIG9yaWdpbmFsRW5kQ29sdW1uLCBtb2RpZmllZExpbmVOdW1iZXIsIG1vZGlmaWVkU3RhcnRDb2x1bW4sIG1vZGlmaWVkRW5kQ29sdW1uKSkge1xuICAgICAgICAgICAgLy8gTWVyZ2VkIGludG8gcHJldmlvdXNcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICByZXN1bHQucHVzaChuZXcgTGluZUNoYW5nZShvcmlnaW5hbExpbmVOdW1iZXIsIG9yaWdpbmFsTGluZU51bWJlciwgbW9kaWZpZWRMaW5lTnVtYmVyLCBtb2RpZmllZExpbmVOdW1iZXIsIFtcbiAgICAgICAgICAgIG5ldyBDaGFyQ2hhbmdlKG9yaWdpbmFsTGluZU51bWJlciwgb3JpZ2luYWxTdGFydENvbHVtbiwgb3JpZ2luYWxMaW5lTnVtYmVyLCBvcmlnaW5hbEVuZENvbHVtbiwgbW9kaWZpZWRMaW5lTnVtYmVyLCBtb2RpZmllZFN0YXJ0Q29sdW1uLCBtb2RpZmllZExpbmVOdW1iZXIsIG1vZGlmaWVkRW5kQ29sdW1uKVxuICAgICAgICBdKSk7XG4gICAgfTtcbiAgICBEaWZmQ29tcHV0ZXIucHJvdG90eXBlLl9tZXJnZVRyaW1XaGl0ZXNwYWNlQ2hhckNoYW5nZSA9IGZ1bmN0aW9uIChyZXN1bHQsIG9yaWdpbmFsTGluZU51bWJlciwgb3JpZ2luYWxTdGFydENvbHVtbiwgb3JpZ2luYWxFbmRDb2x1bW4sIG1vZGlmaWVkTGluZU51bWJlciwgbW9kaWZpZWRTdGFydENvbHVtbiwgbW9kaWZpZWRFbmRDb2x1bW4pIHtcbiAgICAgICAgdmFyIGxlbiA9IHJlc3VsdC5sZW5ndGg7XG4gICAgICAgIGlmIChsZW4gPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcHJldkNoYW5nZSA9IHJlc3VsdFtsZW4gLSAxXTtcbiAgICAgICAgaWYgKHByZXZDaGFuZ2Uub3JpZ2luYWxFbmRMaW5lTnVtYmVyID09PSAwIHx8IHByZXZDaGFuZ2UubW9kaWZpZWRFbmRMaW5lTnVtYmVyID09PSAwKSB7XG4gICAgICAgICAgICAvLyBEb24ndCBtZXJnZSB3aXRoIGluc2VydHMvZGVsZXRlc1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcmV2Q2hhbmdlLm9yaWdpbmFsRW5kTGluZU51bWJlciArIDEgPT09IG9yaWdpbmFsTGluZU51bWJlciAmJiBwcmV2Q2hhbmdlLm1vZGlmaWVkRW5kTGluZU51bWJlciArIDEgPT09IG1vZGlmaWVkTGluZU51bWJlcikge1xuICAgICAgICAgICAgcHJldkNoYW5nZS5vcmlnaW5hbEVuZExpbmVOdW1iZXIgPSBvcmlnaW5hbExpbmVOdW1iZXI7XG4gICAgICAgICAgICBwcmV2Q2hhbmdlLm1vZGlmaWVkRW5kTGluZU51bWJlciA9IG1vZGlmaWVkTGluZU51bWJlcjtcbiAgICAgICAgICAgIHByZXZDaGFuZ2UuY2hhckNoYW5nZXMucHVzaChuZXcgQ2hhckNoYW5nZShvcmlnaW5hbExpbmVOdW1iZXIsIG9yaWdpbmFsU3RhcnRDb2x1bW4sIG9yaWdpbmFsTGluZU51bWJlciwgb3JpZ2luYWxFbmRDb2x1bW4sIG1vZGlmaWVkTGluZU51bWJlciwgbW9kaWZpZWRTdGFydENvbHVtbiwgbW9kaWZpZWRMaW5lTnVtYmVyLCBtb2RpZmllZEVuZENvbHVtbikpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgRGlmZkNvbXB1dGVyLnByb3RvdHlwZS5fY29udGludWVQcm9jZXNzaW5nUHJlZGljYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5tYXhpbXVtUnVuVGltZU1zID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbm93ID0gKG5ldyBEYXRlKCkpLmdldFRpbWUoKTtcbiAgICAgICAgcmV0dXJuIG5vdyAtIHRoaXMuY29tcHV0YXRpb25TdGFydFRpbWUgPCB0aGlzLm1heGltdW1SdW5UaW1lTXM7XG4gICAgfTtcbiAgICByZXR1cm4gRGlmZkNvbXB1dGVyO1xufSgpKTtcbmV4cG9ydCB7IERpZmZDb21wdXRlciB9O1xuIiwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG4ndXNlIHN0cmljdCc7XG52YXIgVWludDhNYXRyaXggPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVWludDhNYXRyaXgocm93cywgY29scywgZGVmYXVsdFZhbHVlKSB7XG4gICAgICAgIHZhciBkYXRhID0gbmV3IFVpbnQ4QXJyYXkocm93cyAqIGNvbHMpO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gcm93cyAqIGNvbHM7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgZGF0YVtpXSA9IGRlZmF1bHRWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9kYXRhID0gZGF0YTtcbiAgICAgICAgdGhpcy5yb3dzID0gcm93cztcbiAgICAgICAgdGhpcy5jb2xzID0gY29scztcbiAgICB9XG4gICAgVWludDhNYXRyaXgucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIChyb3csIGNvbCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGF0YVtyb3cgKiB0aGlzLmNvbHMgKyBjb2xdO1xuICAgIH07XG4gICAgVWludDhNYXRyaXgucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uIChyb3csIGNvbCwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy5fZGF0YVtyb3cgKiB0aGlzLmNvbHMgKyBjb2xdID0gdmFsdWU7XG4gICAgfTtcbiAgICByZXR1cm4gVWludDhNYXRyaXg7XG59KCkpO1xuZXhwb3J0IHsgVWludDhNYXRyaXggfTtcbmV4cG9ydCBmdW5jdGlvbiB0b1VpbnQ4KHYpIHtcbiAgICBpZiAodiA8IDApIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIGlmICh2ID4gMjU1IC8qIE1BWF9VSU5UXzggKi8pIHtcbiAgICAgICAgcmV0dXJuIDI1NSAvKiBNQVhfVUlOVF84ICovO1xuICAgIH1cbiAgICByZXR1cm4gdiB8IDA7XG59XG5leHBvcnQgZnVuY3Rpb24gdG9VaW50MzIodikge1xuICAgIGlmICh2IDwgMCkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgaWYgKHYgPiA0Mjk0OTY3Mjk1IC8qIE1BWF9VSU5UXzMyICovKSB7XG4gICAgICAgIHJldHVybiA0Mjk0OTY3Mjk1IC8qIE1BWF9VSU5UXzMyICovO1xuICAgIH1cbiAgICByZXR1cm4gdiB8IDA7XG59XG5leHBvcnQgZnVuY3Rpb24gdG9VaW50MzJBcnJheShhcnIpIHtcbiAgICB2YXIgbGVuID0gYXJyLmxlbmd0aDtcbiAgICB2YXIgciA9IG5ldyBVaW50MzJBcnJheShsZW4pO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgcltpXSA9IHRvVWludDMyKGFycltpXSk7XG4gICAgfVxuICAgIHJldHVybiByO1xufVxuIiwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG4ndXNlIHN0cmljdCc7XG5pbXBvcnQgeyB0b1VpbnQzMiB9IGZyb20gJy4uL2NvcmUvdWludC5qcyc7XG52YXIgUHJlZml4U3VtSW5kZXhPZlJlc3VsdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBQcmVmaXhTdW1JbmRleE9mUmVzdWx0KGluZGV4LCByZW1haW5kZXIpIHtcbiAgICAgICAgdGhpcy5pbmRleCA9IGluZGV4O1xuICAgICAgICB0aGlzLnJlbWFpbmRlciA9IHJlbWFpbmRlcjtcbiAgICB9XG4gICAgcmV0dXJuIFByZWZpeFN1bUluZGV4T2ZSZXN1bHQ7XG59KCkpO1xuZXhwb3J0IHsgUHJlZml4U3VtSW5kZXhPZlJlc3VsdCB9O1xudmFyIFByZWZpeFN1bUNvbXB1dGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFByZWZpeFN1bUNvbXB1dGVyKHZhbHVlcykge1xuICAgICAgICB0aGlzLnZhbHVlcyA9IHZhbHVlcztcbiAgICAgICAgdGhpcy5wcmVmaXhTdW0gPSBuZXcgVWludDMyQXJyYXkodmFsdWVzLmxlbmd0aCk7XG4gICAgICAgIHRoaXMucHJlZml4U3VtVmFsaWRJbmRleCA9IG5ldyBJbnQzMkFycmF5KDEpO1xuICAgICAgICB0aGlzLnByZWZpeFN1bVZhbGlkSW5kZXhbMF0gPSAtMTtcbiAgICB9XG4gICAgUHJlZml4U3VtQ29tcHV0ZXIucHJvdG90eXBlLmdldENvdW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52YWx1ZXMubGVuZ3RoO1xuICAgIH07XG4gICAgUHJlZml4U3VtQ29tcHV0ZXIucHJvdG90eXBlLmluc2VydFZhbHVlcyA9IGZ1bmN0aW9uIChpbnNlcnRJbmRleCwgaW5zZXJ0VmFsdWVzKSB7XG4gICAgICAgIGluc2VydEluZGV4ID0gdG9VaW50MzIoaW5zZXJ0SW5kZXgpO1xuICAgICAgICB2YXIgb2xkVmFsdWVzID0gdGhpcy52YWx1ZXM7XG4gICAgICAgIHZhciBvbGRQcmVmaXhTdW0gPSB0aGlzLnByZWZpeFN1bTtcbiAgICAgICAgdmFyIGluc2VydFZhbHVlc0xlbiA9IGluc2VydFZhbHVlcy5sZW5ndGg7XG4gICAgICAgIGlmIChpbnNlcnRWYWx1ZXNMZW4gPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnZhbHVlcyA9IG5ldyBVaW50MzJBcnJheShvbGRWYWx1ZXMubGVuZ3RoICsgaW5zZXJ0VmFsdWVzTGVuKTtcbiAgICAgICAgdGhpcy52YWx1ZXMuc2V0KG9sZFZhbHVlcy5zdWJhcnJheSgwLCBpbnNlcnRJbmRleCksIDApO1xuICAgICAgICB0aGlzLnZhbHVlcy5zZXQob2xkVmFsdWVzLnN1YmFycmF5KGluc2VydEluZGV4KSwgaW5zZXJ0SW5kZXggKyBpbnNlcnRWYWx1ZXNMZW4pO1xuICAgICAgICB0aGlzLnZhbHVlcy5zZXQoaW5zZXJ0VmFsdWVzLCBpbnNlcnRJbmRleCk7XG4gICAgICAgIGlmIChpbnNlcnRJbmRleCAtIDEgPCB0aGlzLnByZWZpeFN1bVZhbGlkSW5kZXhbMF0pIHtcbiAgICAgICAgICAgIHRoaXMucHJlZml4U3VtVmFsaWRJbmRleFswXSA9IGluc2VydEluZGV4IC0gMTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnByZWZpeFN1bSA9IG5ldyBVaW50MzJBcnJheSh0aGlzLnZhbHVlcy5sZW5ndGgpO1xuICAgICAgICBpZiAodGhpcy5wcmVmaXhTdW1WYWxpZEluZGV4WzBdID49IDApIHtcbiAgICAgICAgICAgIHRoaXMucHJlZml4U3VtLnNldChvbGRQcmVmaXhTdW0uc3ViYXJyYXkoMCwgdGhpcy5wcmVmaXhTdW1WYWxpZEluZGV4WzBdICsgMSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgUHJlZml4U3VtQ29tcHV0ZXIucHJvdG90eXBlLmNoYW5nZVZhbHVlID0gZnVuY3Rpb24gKGluZGV4LCB2YWx1ZSkge1xuICAgICAgICBpbmRleCA9IHRvVWludDMyKGluZGV4KTtcbiAgICAgICAgdmFsdWUgPSB0b1VpbnQzMih2YWx1ZSk7XG4gICAgICAgIGlmICh0aGlzLnZhbHVlc1tpbmRleF0gPT09IHZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy52YWx1ZXNbaW5kZXhdID0gdmFsdWU7XG4gICAgICAgIGlmIChpbmRleCAtIDEgPCB0aGlzLnByZWZpeFN1bVZhbGlkSW5kZXhbMF0pIHtcbiAgICAgICAgICAgIHRoaXMucHJlZml4U3VtVmFsaWRJbmRleFswXSA9IGluZGV4IC0gMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIFByZWZpeFN1bUNvbXB1dGVyLnByb3RvdHlwZS5yZW1vdmVWYWx1ZXMgPSBmdW5jdGlvbiAoc3RhcnRJbmRleCwgY250KSB7XG4gICAgICAgIHN0YXJ0SW5kZXggPSB0b1VpbnQzMihzdGFydEluZGV4KTtcbiAgICAgICAgY250ID0gdG9VaW50MzIoY250KTtcbiAgICAgICAgdmFyIG9sZFZhbHVlcyA9IHRoaXMudmFsdWVzO1xuICAgICAgICB2YXIgb2xkUHJlZml4U3VtID0gdGhpcy5wcmVmaXhTdW07XG4gICAgICAgIGlmIChzdGFydEluZGV4ID49IG9sZFZhbHVlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbWF4Q250ID0gb2xkVmFsdWVzLmxlbmd0aCAtIHN0YXJ0SW5kZXg7XG4gICAgICAgIGlmIChjbnQgPj0gbWF4Q250KSB7XG4gICAgICAgICAgICBjbnQgPSBtYXhDbnQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNudCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudmFsdWVzID0gbmV3IFVpbnQzMkFycmF5KG9sZFZhbHVlcy5sZW5ndGggLSBjbnQpO1xuICAgICAgICB0aGlzLnZhbHVlcy5zZXQob2xkVmFsdWVzLnN1YmFycmF5KDAsIHN0YXJ0SW5kZXgpLCAwKTtcbiAgICAgICAgdGhpcy52YWx1ZXMuc2V0KG9sZFZhbHVlcy5zdWJhcnJheShzdGFydEluZGV4ICsgY250KSwgc3RhcnRJbmRleCk7XG4gICAgICAgIHRoaXMucHJlZml4U3VtID0gbmV3IFVpbnQzMkFycmF5KHRoaXMudmFsdWVzLmxlbmd0aCk7XG4gICAgICAgIGlmIChzdGFydEluZGV4IC0gMSA8IHRoaXMucHJlZml4U3VtVmFsaWRJbmRleFswXSkge1xuICAgICAgICAgICAgdGhpcy5wcmVmaXhTdW1WYWxpZEluZGV4WzBdID0gc3RhcnRJbmRleCAtIDE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMucHJlZml4U3VtVmFsaWRJbmRleFswXSA+PSAwKSB7XG4gICAgICAgICAgICB0aGlzLnByZWZpeFN1bS5zZXQob2xkUHJlZml4U3VtLnN1YmFycmF5KDAsIHRoaXMucHJlZml4U3VtVmFsaWRJbmRleFswXSArIDEpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIFByZWZpeFN1bUNvbXB1dGVyLnByb3RvdHlwZS5nZXRUb3RhbFZhbHVlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy52YWx1ZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fZ2V0QWNjdW11bGF0ZWRWYWx1ZSh0aGlzLnZhbHVlcy5sZW5ndGggLSAxKTtcbiAgICB9O1xuICAgIFByZWZpeFN1bUNvbXB1dGVyLnByb3RvdHlwZS5nZXRBY2N1bXVsYXRlZFZhbHVlID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG4gICAgICAgIGluZGV4ID0gdG9VaW50MzIoaW5kZXgpO1xuICAgICAgICByZXR1cm4gdGhpcy5fZ2V0QWNjdW11bGF0ZWRWYWx1ZShpbmRleCk7XG4gICAgfTtcbiAgICBQcmVmaXhTdW1Db21wdXRlci5wcm90b3R5cGUuX2dldEFjY3VtdWxhdGVkVmFsdWUgPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgaWYgKGluZGV4IDw9IHRoaXMucHJlZml4U3VtVmFsaWRJbmRleFswXSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJlZml4U3VtW2luZGV4XTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc3RhcnRJbmRleCA9IHRoaXMucHJlZml4U3VtVmFsaWRJbmRleFswXSArIDE7XG4gICAgICAgIGlmIChzdGFydEluZGV4ID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLnByZWZpeFN1bVswXSA9IHRoaXMudmFsdWVzWzBdO1xuICAgICAgICAgICAgc3RhcnRJbmRleCsrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbmRleCA+PSB0aGlzLnZhbHVlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGluZGV4ID0gdGhpcy52YWx1ZXMubGVuZ3RoIC0gMTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gc3RhcnRJbmRleDsgaSA8PSBpbmRleDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLnByZWZpeFN1bVtpXSA9IHRoaXMucHJlZml4U3VtW2kgLSAxXSArIHRoaXMudmFsdWVzW2ldO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucHJlZml4U3VtVmFsaWRJbmRleFswXSA9IE1hdGgubWF4KHRoaXMucHJlZml4U3VtVmFsaWRJbmRleFswXSwgaW5kZXgpO1xuICAgICAgICByZXR1cm4gdGhpcy5wcmVmaXhTdW1baW5kZXhdO1xuICAgIH07XG4gICAgUHJlZml4U3VtQ29tcHV0ZXIucHJvdG90eXBlLmdldEluZGV4T2YgPSBmdW5jdGlvbiAoYWNjdW11bGF0ZWRWYWx1ZSkge1xuICAgICAgICBhY2N1bXVsYXRlZFZhbHVlID0gTWF0aC5mbG9vcihhY2N1bXVsYXRlZFZhbHVlKTsgLy9AcGVyZlxuICAgICAgICAvLyBDb21wdXRlIGFsbCBzdW1zICh0byBnZXQgYSBmdWxseSB2YWxpZCBwcmVmaXhTdW0pXG4gICAgICAgIHRoaXMuZ2V0VG90YWxWYWx1ZSgpO1xuICAgICAgICB2YXIgbG93ID0gMDtcbiAgICAgICAgdmFyIGhpZ2ggPSB0aGlzLnZhbHVlcy5sZW5ndGggLSAxO1xuICAgICAgICB2YXIgbWlkO1xuICAgICAgICB2YXIgbWlkU3RvcDtcbiAgICAgICAgdmFyIG1pZFN0YXJ0O1xuICAgICAgICB3aGlsZSAobG93IDw9IGhpZ2gpIHtcbiAgICAgICAgICAgIG1pZCA9IGxvdyArICgoaGlnaCAtIGxvdykgLyAyKSB8IDA7XG4gICAgICAgICAgICBtaWRTdG9wID0gdGhpcy5wcmVmaXhTdW1bbWlkXTtcbiAgICAgICAgICAgIG1pZFN0YXJ0ID0gbWlkU3RvcCAtIHRoaXMudmFsdWVzW21pZF07XG4gICAgICAgICAgICBpZiAoYWNjdW11bGF0ZWRWYWx1ZSA8IG1pZFN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgaGlnaCA9IG1pZCAtIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChhY2N1bXVsYXRlZFZhbHVlID49IG1pZFN0b3ApIHtcbiAgICAgICAgICAgICAgICBsb3cgPSBtaWQgKyAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBQcmVmaXhTdW1JbmRleE9mUmVzdWx0KG1pZCwgYWNjdW11bGF0ZWRWYWx1ZSAtIG1pZFN0YXJ0KTtcbiAgICB9O1xuICAgIHJldHVybiBQcmVmaXhTdW1Db21wdXRlcjtcbn0oKSk7XG5leHBvcnQgeyBQcmVmaXhTdW1Db21wdXRlciB9O1xudmFyIFByZWZpeFN1bUNvbXB1dGVyV2l0aENhY2hlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFByZWZpeFN1bUNvbXB1dGVyV2l0aENhY2hlKHZhbHVlcykge1xuICAgICAgICB0aGlzLl9jYWNoZUFjY3VtdWxhdGVkVmFsdWVTdGFydCA9IDA7XG4gICAgICAgIHRoaXMuX2NhY2hlID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYWN0dWFsID0gbmV3IFByZWZpeFN1bUNvbXB1dGVyKHZhbHVlcyk7XG4gICAgICAgIHRoaXMuX2J1c3RDYWNoZSgpO1xuICAgIH1cbiAgICBQcmVmaXhTdW1Db21wdXRlcldpdGhDYWNoZS5wcm90b3R5cGUuX2J1c3RDYWNoZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fY2FjaGVBY2N1bXVsYXRlZFZhbHVlU3RhcnQgPSAwO1xuICAgICAgICB0aGlzLl9jYWNoZSA9IG51bGw7XG4gICAgfTtcbiAgICBQcmVmaXhTdW1Db21wdXRlcldpdGhDYWNoZS5wcm90b3R5cGUuaW5zZXJ0VmFsdWVzID0gZnVuY3Rpb24gKGluc2VydEluZGV4LCBpbnNlcnRWYWx1ZXMpIHtcbiAgICAgICAgaWYgKHRoaXMuX2FjdHVhbC5pbnNlcnRWYWx1ZXMoaW5zZXJ0SW5kZXgsIGluc2VydFZhbHVlcykpIHtcbiAgICAgICAgICAgIHRoaXMuX2J1c3RDYWNoZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBQcmVmaXhTdW1Db21wdXRlcldpdGhDYWNoZS5wcm90b3R5cGUuY2hhbmdlVmFsdWUgPSBmdW5jdGlvbiAoaW5kZXgsIHZhbHVlKSB7XG4gICAgICAgIGlmICh0aGlzLl9hY3R1YWwuY2hhbmdlVmFsdWUoaW5kZXgsIHZhbHVlKSkge1xuICAgICAgICAgICAgdGhpcy5fYnVzdENhY2hlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFByZWZpeFN1bUNvbXB1dGVyV2l0aENhY2hlLnByb3RvdHlwZS5yZW1vdmVWYWx1ZXMgPSBmdW5jdGlvbiAoc3RhcnRJbmRleCwgY250KSB7XG4gICAgICAgIGlmICh0aGlzLl9hY3R1YWwucmVtb3ZlVmFsdWVzKHN0YXJ0SW5kZXgsIGNudCkpIHtcbiAgICAgICAgICAgIHRoaXMuX2J1c3RDYWNoZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBQcmVmaXhTdW1Db21wdXRlcldpdGhDYWNoZS5wcm90b3R5cGUuZ2V0VG90YWxWYWx1ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FjdHVhbC5nZXRUb3RhbFZhbHVlKCk7XG4gICAgfTtcbiAgICBQcmVmaXhTdW1Db21wdXRlcldpdGhDYWNoZS5wcm90b3R5cGUuZ2V0QWNjdW11bGF0ZWRWYWx1ZSA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWN0dWFsLmdldEFjY3VtdWxhdGVkVmFsdWUoaW5kZXgpO1xuICAgIH07XG4gICAgUHJlZml4U3VtQ29tcHV0ZXJXaXRoQ2FjaGUucHJvdG90eXBlLmdldEluZGV4T2YgPSBmdW5jdGlvbiAoYWNjdW11bGF0ZWRWYWx1ZSkge1xuICAgICAgICBhY2N1bXVsYXRlZFZhbHVlID0gTWF0aC5mbG9vcihhY2N1bXVsYXRlZFZhbHVlKTsgLy9AcGVyZlxuICAgICAgICBpZiAodGhpcy5fY2FjaGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHZhciBjYWNoZUluZGV4ID0gYWNjdW11bGF0ZWRWYWx1ZSAtIHRoaXMuX2NhY2hlQWNjdW11bGF0ZWRWYWx1ZVN0YXJ0O1xuICAgICAgICAgICAgaWYgKGNhY2hlSW5kZXggPj0gMCAmJiBjYWNoZUluZGV4IDwgdGhpcy5fY2FjaGUubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgLy8gQ2FjaGUgaGl0IVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9jYWNoZVtjYWNoZUluZGV4XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBDYWNoZSBtaXNzIVxuICAgICAgICByZXR1cm4gdGhpcy5fYWN0dWFsLmdldEluZGV4T2YoYWNjdW11bGF0ZWRWYWx1ZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHaXZlcyBhIGhpbnQgdGhhdCBhIGxvdCBvZiByZXF1ZXN0cyBhcmUgYWJvdXQgdG8gY29tZSBpbiBmb3IgdGhlc2UgYWNjdW11bGF0ZWQgdmFsdWVzLlxuICAgICAqL1xuICAgIFByZWZpeFN1bUNvbXB1dGVyV2l0aENhY2hlLnByb3RvdHlwZS53YXJtVXBDYWNoZSA9IGZ1bmN0aW9uIChhY2N1bXVsYXRlZFZhbHVlU3RhcnQsIGFjY3VtdWxhdGVkVmFsdWVFbmQpIHtcbiAgICAgICAgdmFyIG5ld0NhY2hlID0gW107XG4gICAgICAgIGZvciAodmFyIGFjY3VtdWxhdGVkVmFsdWUgPSBhY2N1bXVsYXRlZFZhbHVlU3RhcnQ7IGFjY3VtdWxhdGVkVmFsdWUgPD0gYWNjdW11bGF0ZWRWYWx1ZUVuZDsgYWNjdW11bGF0ZWRWYWx1ZSsrKSB7XG4gICAgICAgICAgICBuZXdDYWNoZVthY2N1bXVsYXRlZFZhbHVlIC0gYWNjdW11bGF0ZWRWYWx1ZVN0YXJ0XSA9IHRoaXMuZ2V0SW5kZXhPZihhY2N1bXVsYXRlZFZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9jYWNoZSA9IG5ld0NhY2hlO1xuICAgICAgICB0aGlzLl9jYWNoZUFjY3VtdWxhdGVkVmFsdWVTdGFydCA9IGFjY3VtdWxhdGVkVmFsdWVTdGFydDtcbiAgICB9O1xuICAgIHJldHVybiBQcmVmaXhTdW1Db21wdXRlcldpdGhDYWNoZTtcbn0oKSk7XG5leHBvcnQgeyBQcmVmaXhTdW1Db21wdXRlcldpdGhDYWNoZSB9O1xuIiwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG4ndXNlIHN0cmljdCc7XG5pbXBvcnQgeyBQcmVmaXhTdW1Db21wdXRlciB9IGZyb20gJy4uL3ZpZXdNb2RlbC9wcmVmaXhTdW1Db21wdXRlci5qcyc7XG5pbXBvcnQgeyBQb3NpdGlvbiB9IGZyb20gJy4uL2NvcmUvcG9zaXRpb24uanMnO1xudmFyIE1pcnJvclRleHRNb2RlbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBNaXJyb3JUZXh0TW9kZWwodXJpLCBsaW5lcywgZW9sLCB2ZXJzaW9uSWQpIHtcbiAgICAgICAgdGhpcy5fdXJpID0gdXJpO1xuICAgICAgICB0aGlzLl9saW5lcyA9IGxpbmVzO1xuICAgICAgICB0aGlzLl9lb2wgPSBlb2w7XG4gICAgICAgIHRoaXMuX3ZlcnNpb25JZCA9IHZlcnNpb25JZDtcbiAgICB9XG4gICAgTWlycm9yVGV4dE1vZGVsLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl9saW5lcy5sZW5ndGggPSAwO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1pcnJvclRleHRNb2RlbC5wcm90b3R5cGUsIFwidmVyc2lvblwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3ZlcnNpb25JZDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgTWlycm9yVGV4dE1vZGVsLnByb3RvdHlwZS5nZXRUZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbGluZXMuam9pbih0aGlzLl9lb2wpO1xuICAgIH07XG4gICAgTWlycm9yVGV4dE1vZGVsLnByb3RvdHlwZS5vbkV2ZW50cyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGlmIChlLmVvbCAmJiBlLmVvbCAhPT0gdGhpcy5fZW9sKSB7XG4gICAgICAgICAgICB0aGlzLl9lb2wgPSBlLmVvbDtcbiAgICAgICAgICAgIHRoaXMuX2xpbmVTdGFydHMgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIC8vIFVwZGF0ZSBteSBsaW5lc1xuICAgICAgICB2YXIgY2hhbmdlcyA9IGUuY2hhbmdlcztcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGNoYW5nZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBjaGFuZ2UgPSBjaGFuZ2VzW2ldO1xuICAgICAgICAgICAgdGhpcy5fYWNjZXB0RGVsZXRlUmFuZ2UoY2hhbmdlLnJhbmdlKTtcbiAgICAgICAgICAgIHRoaXMuX2FjY2VwdEluc2VydFRleHQobmV3IFBvc2l0aW9uKGNoYW5nZS5yYW5nZS5zdGFydExpbmVOdW1iZXIsIGNoYW5nZS5yYW5nZS5zdGFydENvbHVtbiksIGNoYW5nZS50ZXh0KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl92ZXJzaW9uSWQgPSBlLnZlcnNpb25JZDtcbiAgICB9O1xuICAgIE1pcnJvclRleHRNb2RlbC5wcm90b3R5cGUuX2Vuc3VyZUxpbmVTdGFydHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5fbGluZVN0YXJ0cykge1xuICAgICAgICAgICAgdmFyIGVvbExlbmd0aCA9IHRoaXMuX2VvbC5sZW5ndGg7XG4gICAgICAgICAgICB2YXIgbGluZXNMZW5ndGggPSB0aGlzLl9saW5lcy5sZW5ndGg7XG4gICAgICAgICAgICB2YXIgbGluZVN0YXJ0VmFsdWVzID0gbmV3IFVpbnQzMkFycmF5KGxpbmVzTGVuZ3RoKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGluZXNMZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGxpbmVTdGFydFZhbHVlc1tpXSA9IHRoaXMuX2xpbmVzW2ldLmxlbmd0aCArIGVvbExlbmd0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2xpbmVTdGFydHMgPSBuZXcgUHJlZml4U3VtQ29tcHV0ZXIobGluZVN0YXJ0VmFsdWVzKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQWxsIGNoYW5nZXMgdG8gYSBsaW5lJ3MgdGV4dCBnbyB0aHJvdWdoIHRoaXMgbWV0aG9kXG4gICAgICovXG4gICAgTWlycm9yVGV4dE1vZGVsLnByb3RvdHlwZS5fc2V0TGluZVRleHQgPSBmdW5jdGlvbiAobGluZUluZGV4LCBuZXdWYWx1ZSkge1xuICAgICAgICB0aGlzLl9saW5lc1tsaW5lSW5kZXhdID0gbmV3VmFsdWU7XG4gICAgICAgIGlmICh0aGlzLl9saW5lU3RhcnRzKSB7XG4gICAgICAgICAgICAvLyB1cGRhdGUgcHJlZml4IHN1bVxuICAgICAgICAgICAgdGhpcy5fbGluZVN0YXJ0cy5jaGFuZ2VWYWx1ZShsaW5lSW5kZXgsIHRoaXMuX2xpbmVzW2xpbmVJbmRleF0ubGVuZ3RoICsgdGhpcy5fZW9sLmxlbmd0aCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE1pcnJvclRleHRNb2RlbC5wcm90b3R5cGUuX2FjY2VwdERlbGV0ZVJhbmdlID0gZnVuY3Rpb24gKHJhbmdlKSB7XG4gICAgICAgIGlmIChyYW5nZS5zdGFydExpbmVOdW1iZXIgPT09IHJhbmdlLmVuZExpbmVOdW1iZXIpIHtcbiAgICAgICAgICAgIGlmIChyYW5nZS5zdGFydENvbHVtbiA9PT0gcmFuZ2UuZW5kQ29sdW1uKSB7XG4gICAgICAgICAgICAgICAgLy8gTm90aGluZyB0byBkZWxldGVcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBEZWxldGUgdGV4dCBvbiB0aGUgYWZmZWN0ZWQgbGluZVxuICAgICAgICAgICAgdGhpcy5fc2V0TGluZVRleHQocmFuZ2Uuc3RhcnRMaW5lTnVtYmVyIC0gMSwgdGhpcy5fbGluZXNbcmFuZ2Uuc3RhcnRMaW5lTnVtYmVyIC0gMV0uc3Vic3RyaW5nKDAsIHJhbmdlLnN0YXJ0Q29sdW1uIC0gMSlcbiAgICAgICAgICAgICAgICArIHRoaXMuX2xpbmVzW3JhbmdlLnN0YXJ0TGluZU51bWJlciAtIDFdLnN1YnN0cmluZyhyYW5nZS5lbmRDb2x1bW4gLSAxKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gVGFrZSByZW1haW5pbmcgdGV4dCBvbiBsYXN0IGxpbmUgYW5kIGFwcGVuZCBpdCB0byByZW1haW5pbmcgdGV4dCBvbiBmaXJzdCBsaW5lXG4gICAgICAgIHRoaXMuX3NldExpbmVUZXh0KHJhbmdlLnN0YXJ0TGluZU51bWJlciAtIDEsIHRoaXMuX2xpbmVzW3JhbmdlLnN0YXJ0TGluZU51bWJlciAtIDFdLnN1YnN0cmluZygwLCByYW5nZS5zdGFydENvbHVtbiAtIDEpXG4gICAgICAgICAgICArIHRoaXMuX2xpbmVzW3JhbmdlLmVuZExpbmVOdW1iZXIgLSAxXS5zdWJzdHJpbmcocmFuZ2UuZW5kQ29sdW1uIC0gMSkpO1xuICAgICAgICAvLyBEZWxldGUgbWlkZGxlIGxpbmVzXG4gICAgICAgIHRoaXMuX2xpbmVzLnNwbGljZShyYW5nZS5zdGFydExpbmVOdW1iZXIsIHJhbmdlLmVuZExpbmVOdW1iZXIgLSByYW5nZS5zdGFydExpbmVOdW1iZXIpO1xuICAgICAgICBpZiAodGhpcy5fbGluZVN0YXJ0cykge1xuICAgICAgICAgICAgLy8gdXBkYXRlIHByZWZpeCBzdW1cbiAgICAgICAgICAgIHRoaXMuX2xpbmVTdGFydHMucmVtb3ZlVmFsdWVzKHJhbmdlLnN0YXJ0TGluZU51bWJlciwgcmFuZ2UuZW5kTGluZU51bWJlciAtIHJhbmdlLnN0YXJ0TGluZU51bWJlcik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE1pcnJvclRleHRNb2RlbC5wcm90b3R5cGUuX2FjY2VwdEluc2VydFRleHQgPSBmdW5jdGlvbiAocG9zaXRpb24sIGluc2VydFRleHQpIHtcbiAgICAgICAgaWYgKGluc2VydFRleHQubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAvLyBOb3RoaW5nIHRvIGluc2VydFxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpbnNlcnRMaW5lcyA9IGluc2VydFRleHQuc3BsaXQoL1xcclxcbnxcXHJ8XFxuLyk7XG4gICAgICAgIGlmIChpbnNlcnRMaW5lcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIC8vIEluc2VydGluZyB0ZXh0IG9uIG9uZSBsaW5lXG4gICAgICAgICAgICB0aGlzLl9zZXRMaW5lVGV4dChwb3NpdGlvbi5saW5lTnVtYmVyIC0gMSwgdGhpcy5fbGluZXNbcG9zaXRpb24ubGluZU51bWJlciAtIDFdLnN1YnN0cmluZygwLCBwb3NpdGlvbi5jb2x1bW4gLSAxKVxuICAgICAgICAgICAgICAgICsgaW5zZXJ0TGluZXNbMF1cbiAgICAgICAgICAgICAgICArIHRoaXMuX2xpbmVzW3Bvc2l0aW9uLmxpbmVOdW1iZXIgLSAxXS5zdWJzdHJpbmcocG9zaXRpb24uY29sdW1uIC0gMSkpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIEFwcGVuZCBvdmVyZmxvd2luZyB0ZXh0IGZyb20gZmlyc3QgbGluZSB0byB0aGUgZW5kIG9mIHRleHQgdG8gaW5zZXJ0XG4gICAgICAgIGluc2VydExpbmVzW2luc2VydExpbmVzLmxlbmd0aCAtIDFdICs9IHRoaXMuX2xpbmVzW3Bvc2l0aW9uLmxpbmVOdW1iZXIgLSAxXS5zdWJzdHJpbmcocG9zaXRpb24uY29sdW1uIC0gMSk7XG4gICAgICAgIC8vIERlbGV0ZSBvdmVyZmxvd2luZyB0ZXh0IGZyb20gZmlyc3QgbGluZSBhbmQgaW5zZXJ0IHRleHQgb24gZmlyc3QgbGluZVxuICAgICAgICB0aGlzLl9zZXRMaW5lVGV4dChwb3NpdGlvbi5saW5lTnVtYmVyIC0gMSwgdGhpcy5fbGluZXNbcG9zaXRpb24ubGluZU51bWJlciAtIDFdLnN1YnN0cmluZygwLCBwb3NpdGlvbi5jb2x1bW4gLSAxKVxuICAgICAgICAgICAgKyBpbnNlcnRMaW5lc1swXSk7XG4gICAgICAgIC8vIEluc2VydCBuZXcgbGluZXMgJiBzdG9yZSBsZW5ndGhzXG4gICAgICAgIHZhciBuZXdMZW5ndGhzID0gbmV3IFVpbnQzMkFycmF5KGluc2VydExpbmVzLmxlbmd0aCAtIDEpO1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGluc2VydExpbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLl9saW5lcy5zcGxpY2UocG9zaXRpb24ubGluZU51bWJlciArIGkgLSAxLCAwLCBpbnNlcnRMaW5lc1tpXSk7XG4gICAgICAgICAgICBuZXdMZW5ndGhzW2kgLSAxXSA9IGluc2VydExpbmVzW2ldLmxlbmd0aCArIHRoaXMuX2VvbC5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2xpbmVTdGFydHMpIHtcbiAgICAgICAgICAgIC8vIHVwZGF0ZSBwcmVmaXggc3VtXG4gICAgICAgICAgICB0aGlzLl9saW5lU3RhcnRzLmluc2VydFZhbHVlcyhwb3NpdGlvbi5saW5lTnVtYmVyLCBuZXdMZW5ndGhzKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIE1pcnJvclRleHRNb2RlbDtcbn0oKSk7XG5leHBvcnQgeyBNaXJyb3JUZXh0TW9kZWwgfTtcbiIsIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuJ3VzZSBzdHJpY3QnO1xuaW1wb3J0IHsgdG9VaW50OCB9IGZyb20gJy4vdWludC5qcyc7XG4vKipcbiAqIEEgZmFzdCBjaGFyYWN0ZXIgY2xhc3NpZmllciB0aGF0IHVzZXMgYSBjb21wYWN0IGFycmF5IGZvciBBU0NJSSB2YWx1ZXMuXG4gKi9cbnZhciBDaGFyYWN0ZXJDbGFzc2lmaWVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIENoYXJhY3RlckNsYXNzaWZpZXIoX2RlZmF1bHRWYWx1ZSkge1xuICAgICAgICB2YXIgZGVmYXVsdFZhbHVlID0gdG9VaW50OChfZGVmYXVsdFZhbHVlKTtcbiAgICAgICAgdGhpcy5fZGVmYXVsdFZhbHVlID0gZGVmYXVsdFZhbHVlO1xuICAgICAgICB0aGlzLl9hc2NpaU1hcCA9IENoYXJhY3RlckNsYXNzaWZpZXIuX2NyZWF0ZUFzY2lpTWFwKGRlZmF1bHRWYWx1ZSk7XG4gICAgICAgIHRoaXMuX21hcCA9IG5ldyBNYXAoKTtcbiAgICB9XG4gICAgQ2hhcmFjdGVyQ2xhc3NpZmllci5fY3JlYXRlQXNjaWlNYXAgPSBmdW5jdGlvbiAoZGVmYXVsdFZhbHVlKSB7XG4gICAgICAgIHZhciBhc2NpaU1hcCA9IG5ldyBVaW50OEFycmF5KDI1Nik7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMjU2OyBpKyspIHtcbiAgICAgICAgICAgIGFzY2lpTWFwW2ldID0gZGVmYXVsdFZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhc2NpaU1hcDtcbiAgICB9O1xuICAgIENoYXJhY3RlckNsYXNzaWZpZXIucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uIChjaGFyQ29kZSwgX3ZhbHVlKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IHRvVWludDgoX3ZhbHVlKTtcbiAgICAgICAgaWYgKGNoYXJDb2RlID49IDAgJiYgY2hhckNvZGUgPCAyNTYpIHtcbiAgICAgICAgICAgIHRoaXMuX2FzY2lpTWFwW2NoYXJDb2RlXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fbWFwLnNldChjaGFyQ29kZSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBDaGFyYWN0ZXJDbGFzc2lmaWVyLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAoY2hhckNvZGUpIHtcbiAgICAgICAgaWYgKGNoYXJDb2RlID49IDAgJiYgY2hhckNvZGUgPCAyNTYpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hc2NpaU1hcFtjaGFyQ29kZV07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gKHRoaXMuX21hcC5nZXQoY2hhckNvZGUpIHx8IHRoaXMuX2RlZmF1bHRWYWx1ZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBDaGFyYWN0ZXJDbGFzc2lmaWVyO1xufSgpKTtcbmV4cG9ydCB7IENoYXJhY3RlckNsYXNzaWZpZXIgfTtcbnZhciBDaGFyYWN0ZXJTZXQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ2hhcmFjdGVyU2V0KCkge1xuICAgICAgICB0aGlzLl9hY3R1YWwgPSBuZXcgQ2hhcmFjdGVyQ2xhc3NpZmllcigwIC8qIEZhbHNlICovKTtcbiAgICB9XG4gICAgQ2hhcmFjdGVyU2V0LnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAoY2hhckNvZGUpIHtcbiAgICAgICAgdGhpcy5fYWN0dWFsLnNldChjaGFyQ29kZSwgMSAvKiBUcnVlICovKTtcbiAgICB9O1xuICAgIENoYXJhY3RlclNldC5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24gKGNoYXJDb2RlKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5fYWN0dWFsLmdldChjaGFyQ29kZSkgPT09IDEgLyogVHJ1ZSAqLyk7XG4gICAgfTtcbiAgICByZXR1cm4gQ2hhcmFjdGVyU2V0O1xufSgpKTtcbmV4cG9ydCB7IENoYXJhY3RlclNldCB9O1xuIiwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG4ndXNlIHN0cmljdCc7XG5pbXBvcnQgeyBDaGFyYWN0ZXJDbGFzc2lmaWVyIH0gZnJvbSAnLi4vY29yZS9jaGFyYWN0ZXJDbGFzc2lmaWVyLmpzJztcbmltcG9ydCB7IFVpbnQ4TWF0cml4IH0gZnJvbSAnLi4vY29yZS91aW50LmpzJztcbnZhciBTdGF0ZU1hY2hpbmUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU3RhdGVNYWNoaW5lKGVkZ2VzKSB7XG4gICAgICAgIHZhciBtYXhDaGFyQ29kZSA9IDA7XG4gICAgICAgIHZhciBtYXhTdGF0ZSA9IDAgLyogSW52YWxpZCAqLztcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGVkZ2VzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgX2EgPSBlZGdlc1tpXSwgZnJvbSA9IF9hWzBdLCBjaENvZGUgPSBfYVsxXSwgdG8gPSBfYVsyXTtcbiAgICAgICAgICAgIGlmIChjaENvZGUgPiBtYXhDaGFyQ29kZSkge1xuICAgICAgICAgICAgICAgIG1heENoYXJDb2RlID0gY2hDb2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGZyb20gPiBtYXhTdGF0ZSkge1xuICAgICAgICAgICAgICAgIG1heFN0YXRlID0gZnJvbTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0byA+IG1heFN0YXRlKSB7XG4gICAgICAgICAgICAgICAgbWF4U3RhdGUgPSB0bztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBtYXhDaGFyQ29kZSsrO1xuICAgICAgICBtYXhTdGF0ZSsrO1xuICAgICAgICB2YXIgc3RhdGVzID0gbmV3IFVpbnQ4TWF0cml4KG1heFN0YXRlLCBtYXhDaGFyQ29kZSwgMCAvKiBJbnZhbGlkICovKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGVkZ2VzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgX2IgPSBlZGdlc1tpXSwgZnJvbSA9IF9iWzBdLCBjaENvZGUgPSBfYlsxXSwgdG8gPSBfYlsyXTtcbiAgICAgICAgICAgIHN0YXRlcy5zZXQoZnJvbSwgY2hDb2RlLCB0byk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fc3RhdGVzID0gc3RhdGVzO1xuICAgICAgICB0aGlzLl9tYXhDaGFyQ29kZSA9IG1heENoYXJDb2RlO1xuICAgIH1cbiAgICBTdGF0ZU1hY2hpbmUucHJvdG90eXBlLm5leHRTdGF0ZSA9IGZ1bmN0aW9uIChjdXJyZW50U3RhdGUsIGNoQ29kZSkge1xuICAgICAgICBpZiAoY2hDb2RlIDwgMCB8fCBjaENvZGUgPj0gdGhpcy5fbWF4Q2hhckNvZGUpIHtcbiAgICAgICAgICAgIHJldHVybiAwIC8qIEludmFsaWQgKi87XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0YXRlcy5nZXQoY3VycmVudFN0YXRlLCBjaENvZGUpO1xuICAgIH07XG4gICAgcmV0dXJuIFN0YXRlTWFjaGluZTtcbn0oKSk7XG4vLyBTdGF0ZSBtYWNoaW5lIGZvciBodHRwOi8vIG9yIGh0dHBzOi8vIG9yIGZpbGU6Ly9cbnZhciBfc3RhdGVNYWNoaW5lID0gbnVsbDtcbmZ1bmN0aW9uIGdldFN0YXRlTWFjaGluZSgpIHtcbiAgICBpZiAoX3N0YXRlTWFjaGluZSA9PT0gbnVsbCkge1xuICAgICAgICBfc3RhdGVNYWNoaW5lID0gbmV3IFN0YXRlTWFjaGluZShbXG4gICAgICAgICAgICBbMSAvKiBTdGFydCAqLywgMTA0IC8qIGggKi8sIDIgLyogSCAqL10sXG4gICAgICAgICAgICBbMSAvKiBTdGFydCAqLywgNzIgLyogSCAqLywgMiAvKiBIICovXSxcbiAgICAgICAgICAgIFsxIC8qIFN0YXJ0ICovLCAxMDIgLyogZiAqLywgNiAvKiBGICovXSxcbiAgICAgICAgICAgIFsxIC8qIFN0YXJ0ICovLCA3MCAvKiBGICovLCA2IC8qIEYgKi9dLFxuICAgICAgICAgICAgWzIgLyogSCAqLywgMTE2IC8qIHQgKi8sIDMgLyogSFQgKi9dLFxuICAgICAgICAgICAgWzIgLyogSCAqLywgODQgLyogVCAqLywgMyAvKiBIVCAqL10sXG4gICAgICAgICAgICBbMyAvKiBIVCAqLywgMTE2IC8qIHQgKi8sIDQgLyogSFRUICovXSxcbiAgICAgICAgICAgIFszIC8qIEhUICovLCA4NCAvKiBUICovLCA0IC8qIEhUVCAqL10sXG4gICAgICAgICAgICBbNCAvKiBIVFQgKi8sIDExMiAvKiBwICovLCA1IC8qIEhUVFAgKi9dLFxuICAgICAgICAgICAgWzQgLyogSFRUICovLCA4MCAvKiBQICovLCA1IC8qIEhUVFAgKi9dLFxuICAgICAgICAgICAgWzUgLyogSFRUUCAqLywgMTE1IC8qIHMgKi8sIDkgLyogQmVmb3JlQ29sb24gKi9dLFxuICAgICAgICAgICAgWzUgLyogSFRUUCAqLywgODMgLyogUyAqLywgOSAvKiBCZWZvcmVDb2xvbiAqL10sXG4gICAgICAgICAgICBbNSAvKiBIVFRQICovLCA1OCAvKiBDb2xvbiAqLywgMTAgLyogQWZ0ZXJDb2xvbiAqL10sXG4gICAgICAgICAgICBbNiAvKiBGICovLCAxMDUgLyogaSAqLywgNyAvKiBGSSAqL10sXG4gICAgICAgICAgICBbNiAvKiBGICovLCA3MyAvKiBJICovLCA3IC8qIEZJICovXSxcbiAgICAgICAgICAgIFs3IC8qIEZJICovLCAxMDggLyogbCAqLywgOCAvKiBGSUwgKi9dLFxuICAgICAgICAgICAgWzcgLyogRkkgKi8sIDc2IC8qIEwgKi8sIDggLyogRklMICovXSxcbiAgICAgICAgICAgIFs4IC8qIEZJTCAqLywgMTAxIC8qIGUgKi8sIDkgLyogQmVmb3JlQ29sb24gKi9dLFxuICAgICAgICAgICAgWzggLyogRklMICovLCA2OSAvKiBFICovLCA5IC8qIEJlZm9yZUNvbG9uICovXSxcbiAgICAgICAgICAgIFs5IC8qIEJlZm9yZUNvbG9uICovLCA1OCAvKiBDb2xvbiAqLywgMTAgLyogQWZ0ZXJDb2xvbiAqL10sXG4gICAgICAgICAgICBbMTAgLyogQWZ0ZXJDb2xvbiAqLywgNDcgLyogU2xhc2ggKi8sIDExIC8qIEFsbW9zdFRoZXJlICovXSxcbiAgICAgICAgICAgIFsxMSAvKiBBbG1vc3RUaGVyZSAqLywgNDcgLyogU2xhc2ggKi8sIDEyIC8qIEVuZCAqL10sXG4gICAgICAgIF0pO1xuICAgIH1cbiAgICByZXR1cm4gX3N0YXRlTWFjaGluZTtcbn1cbnZhciBfY2xhc3NpZmllciA9IG51bGw7XG5mdW5jdGlvbiBnZXRDbGFzc2lmaWVyKCkge1xuICAgIGlmIChfY2xhc3NpZmllciA9PT0gbnVsbCkge1xuICAgICAgICBfY2xhc3NpZmllciA9IG5ldyBDaGFyYWN0ZXJDbGFzc2lmaWVyKDAgLyogTm9uZSAqLyk7XG4gICAgICAgIHZhciBGT1JDRV9URVJNSU5BVElPTl9DSEFSQUNURVJTID0gJyBcXHQ8PlxcJ1xcXCLjgIHjgILvvaHvvaTvvIzvvI7vvJrvvJvvvJ/vvIHvvKDvvIPvvITvvIXvvIbvvIrigJjigJzjgIjjgIrjgIzjgI7jgJDjgJTvvIjvvLvvvZvvvaLvvaPvvZ3vvL3vvInjgJXjgJHjgI/jgI3jgIvjgInigJ3igJnvvYDvvZ7igKYnO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IEZPUkNFX1RFUk1JTkFUSU9OX0NIQVJBQ1RFUlMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIF9jbGFzc2lmaWVyLnNldChGT1JDRV9URVJNSU5BVElPTl9DSEFSQUNURVJTLmNoYXJDb2RlQXQoaSksIDEgLyogRm9yY2VUZXJtaW5hdGlvbiAqLyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIENBTk5PVF9FTkRfV0lUSF9DSEFSQUNURVJTID0gJy4sOyc7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgQ0FOTk9UX0VORF9XSVRIX0NIQVJBQ1RFUlMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIF9jbGFzc2lmaWVyLnNldChDQU5OT1RfRU5EX1dJVEhfQ0hBUkFDVEVSUy5jaGFyQ29kZUF0KGkpLCAyIC8qIENhbm5vdEVuZEluICovKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gX2NsYXNzaWZpZXI7XG59XG52YXIgTGlua0NvbXB1dGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIExpbmtDb21wdXRlcigpIHtcbiAgICB9XG4gICAgTGlua0NvbXB1dGVyLl9jcmVhdGVMaW5rID0gZnVuY3Rpb24gKGNsYXNzaWZpZXIsIGxpbmUsIGxpbmVOdW1iZXIsIGxpbmtCZWdpbkluZGV4LCBsaW5rRW5kSW5kZXgpIHtcbiAgICAgICAgLy8gRG8gbm90IGFsbG93IHRvIGVuZCBsaW5rIGluIGNlcnRhaW4gY2hhcmFjdGVycy4uLlxuICAgICAgICB2YXIgbGFzdEluY2x1ZGVkQ2hhckluZGV4ID0gbGlua0VuZEluZGV4IC0gMTtcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgdmFyIGNoQ29kZSA9IGxpbmUuY2hhckNvZGVBdChsYXN0SW5jbHVkZWRDaGFySW5kZXgpO1xuICAgICAgICAgICAgdmFyIGNoQ2xhc3MgPSBjbGFzc2lmaWVyLmdldChjaENvZGUpO1xuICAgICAgICAgICAgaWYgKGNoQ2xhc3MgIT09IDIgLyogQ2Fubm90RW5kSW4gKi8pIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxhc3RJbmNsdWRlZENoYXJJbmRleC0tO1xuICAgICAgICB9IHdoaWxlIChsYXN0SW5jbHVkZWRDaGFySW5kZXggPiBsaW5rQmVnaW5JbmRleCk7XG4gICAgICAgIC8vIEhhbmRsZSBsaW5rcyBlbmNsb3NlZCBpbiBwYXJlbnMsIHNxdWFyZSBicmFja2V0cyBhbmQgY3VybHlzLlxuICAgICAgICBpZiAobGlua0JlZ2luSW5kZXggPiAwKSB7XG4gICAgICAgICAgICB2YXIgY2hhckNvZGVCZWZvcmVMaW5rID0gbGluZS5jaGFyQ29kZUF0KGxpbmtCZWdpbkluZGV4IC0gMSk7XG4gICAgICAgICAgICB2YXIgbGFzdENoYXJDb2RlSW5MaW5rID0gbGluZS5jaGFyQ29kZUF0KGxhc3RJbmNsdWRlZENoYXJJbmRleCk7XG4gICAgICAgICAgICBpZiAoKGNoYXJDb2RlQmVmb3JlTGluayA9PT0gNDAgLyogT3BlblBhcmVuICovICYmIGxhc3RDaGFyQ29kZUluTGluayA9PT0gNDEgLyogQ2xvc2VQYXJlbiAqLylcbiAgICAgICAgICAgICAgICB8fCAoY2hhckNvZGVCZWZvcmVMaW5rID09PSA5MSAvKiBPcGVuU3F1YXJlQnJhY2tldCAqLyAmJiBsYXN0Q2hhckNvZGVJbkxpbmsgPT09IDkzIC8qIENsb3NlU3F1YXJlQnJhY2tldCAqLylcbiAgICAgICAgICAgICAgICB8fCAoY2hhckNvZGVCZWZvcmVMaW5rID09PSAxMjMgLyogT3BlbkN1cmx5QnJhY2UgKi8gJiYgbGFzdENoYXJDb2RlSW5MaW5rID09PSAxMjUgLyogQ2xvc2VDdXJseUJyYWNlICovKSkge1xuICAgICAgICAgICAgICAgIC8vIERvIG5vdCBlbmQgaW4gKSBpZiAoIGlzIGJlZm9yZSB0aGUgbGluayBzdGFydFxuICAgICAgICAgICAgICAgIC8vIERvIG5vdCBlbmQgaW4gXSBpZiBbIGlzIGJlZm9yZSB0aGUgbGluayBzdGFydFxuICAgICAgICAgICAgICAgIC8vIERvIG5vdCBlbmQgaW4gfSBpZiB7IGlzIGJlZm9yZSB0aGUgbGluayBzdGFydFxuICAgICAgICAgICAgICAgIGxhc3RJbmNsdWRlZENoYXJJbmRleC0tO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByYW5nZToge1xuICAgICAgICAgICAgICAgIHN0YXJ0TGluZU51bWJlcjogbGluZU51bWJlcixcbiAgICAgICAgICAgICAgICBzdGFydENvbHVtbjogbGlua0JlZ2luSW5kZXggKyAxLFxuICAgICAgICAgICAgICAgIGVuZExpbmVOdW1iZXI6IGxpbmVOdW1iZXIsXG4gICAgICAgICAgICAgICAgZW5kQ29sdW1uOiBsYXN0SW5jbHVkZWRDaGFySW5kZXggKyAyXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdXJsOiBsaW5lLnN1YnN0cmluZyhsaW5rQmVnaW5JbmRleCwgbGFzdEluY2x1ZGVkQ2hhckluZGV4ICsgMSlcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIExpbmtDb21wdXRlci5jb21wdXRlTGlua3MgPSBmdW5jdGlvbiAobW9kZWwpIHtcbiAgICAgICAgdmFyIHN0YXRlTWFjaGluZSA9IGdldFN0YXRlTWFjaGluZSgpO1xuICAgICAgICB2YXIgY2xhc3NpZmllciA9IGdldENsYXNzaWZpZXIoKTtcbiAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMSwgbGluZUNvdW50ID0gbW9kZWwuZ2V0TGluZUNvdW50KCk7IGkgPD0gbGluZUNvdW50OyBpKyspIHtcbiAgICAgICAgICAgIHZhciBsaW5lID0gbW9kZWwuZ2V0TGluZUNvbnRlbnQoaSk7XG4gICAgICAgICAgICB2YXIgbGVuID0gbGluZS5sZW5ndGg7XG4gICAgICAgICAgICB2YXIgaiA9IDA7XG4gICAgICAgICAgICB2YXIgbGlua0JlZ2luSW5kZXggPSAwO1xuICAgICAgICAgICAgdmFyIGxpbmtCZWdpbkNoQ29kZSA9IDA7XG4gICAgICAgICAgICB2YXIgc3RhdGUgPSAxIC8qIFN0YXJ0ICovO1xuICAgICAgICAgICAgdmFyIGhhc09wZW5QYXJlbnMgPSBmYWxzZTtcbiAgICAgICAgICAgIHZhciBoYXNPcGVuU3F1YXJlQnJhY2tldCA9IGZhbHNlO1xuICAgICAgICAgICAgdmFyIGhhc09wZW5DdXJseUJyYWNrZXQgPSBmYWxzZTtcbiAgICAgICAgICAgIHdoaWxlIChqIDwgbGVuKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlc2V0U3RhdGVNYWNoaW5lID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdmFyIGNoQ29kZSA9IGxpbmUuY2hhckNvZGVBdChqKTtcbiAgICAgICAgICAgICAgICBpZiAoc3RhdGUgPT09IDEzIC8qIEFjY2VwdCAqLykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY2hDbGFzcyA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChjaENvZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNDAgLyogT3BlblBhcmVuICovOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc09wZW5QYXJlbnMgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoQ2xhc3MgPSAwIC8qIE5vbmUgKi87XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQxIC8qIENsb3NlUGFyZW4gKi86XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hDbGFzcyA9IChoYXNPcGVuUGFyZW5zID8gMCAvKiBOb25lICovIDogMSAvKiBGb3JjZVRlcm1pbmF0aW9uICovKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgOTEgLyogT3BlblNxdWFyZUJyYWNrZXQgKi86XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzT3BlblNxdWFyZUJyYWNrZXQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoQ2xhc3MgPSAwIC8qIE5vbmUgKi87XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDkzIC8qIENsb3NlU3F1YXJlQnJhY2tldCAqLzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaENsYXNzID0gKGhhc09wZW5TcXVhcmVCcmFja2V0ID8gMCAvKiBOb25lICovIDogMSAvKiBGb3JjZVRlcm1pbmF0aW9uICovKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTIzIC8qIE9wZW5DdXJseUJyYWNlICovOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc09wZW5DdXJseUJyYWNrZXQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoQ2xhc3MgPSAwIC8qIE5vbmUgKi87XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDEyNSAvKiBDbG9zZUN1cmx5QnJhY2UgKi86XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hDbGFzcyA9IChoYXNPcGVuQ3VybHlCcmFja2V0ID8gMCAvKiBOb25lICovIDogMSAvKiBGb3JjZVRlcm1pbmF0aW9uICovKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIFRoZSBmb2xsb3dpbmcgdGhyZWUgcnVsZXMgbWFrZSBpdCB0aGF0ICcgb3IgXCIgb3IgYCBhcmUgYWxsb3dlZCBpbnNpZGUgbGlua3MgaWYgdGhlIGxpbmsgYmVnYW4gd2l0aCBhIGRpZmZlcmVudCBvbmUgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzkgLyogU2luZ2xlUXVvdGUgKi86XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hDbGFzcyA9IChsaW5rQmVnaW5DaENvZGUgPT09IDM0IC8qIERvdWJsZVF1b3RlICovIHx8IGxpbmtCZWdpbkNoQ29kZSA9PT0gOTYgLyogQmFja1RpY2sgKi8pID8gMCAvKiBOb25lICovIDogMSAvKiBGb3JjZVRlcm1pbmF0aW9uICovO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzNCAvKiBEb3VibGVRdW90ZSAqLzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaENsYXNzID0gKGxpbmtCZWdpbkNoQ29kZSA9PT0gMzkgLyogU2luZ2xlUXVvdGUgKi8gfHwgbGlua0JlZ2luQ2hDb2RlID09PSA5NiAvKiBCYWNrVGljayAqLykgPyAwIC8qIE5vbmUgKi8gOiAxIC8qIEZvcmNlVGVybWluYXRpb24gKi87XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDk2IC8qIEJhY2tUaWNrICovOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoQ2xhc3MgPSAobGlua0JlZ2luQ2hDb2RlID09PSAzOSAvKiBTaW5nbGVRdW90ZSAqLyB8fCBsaW5rQmVnaW5DaENvZGUgPT09IDM0IC8qIERvdWJsZVF1b3RlICovKSA/IDAgLyogTm9uZSAqLyA6IDEgLyogRm9yY2VUZXJtaW5hdGlvbiAqLztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hDbGFzcyA9IGNsYXNzaWZpZXIuZ2V0KGNoQ29kZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgY2hhcmFjdGVyIHRlcm1pbmF0ZXMgbGlua1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2hDbGFzcyA9PT0gMSAvKiBGb3JjZVRlcm1pbmF0aW9uICovKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChMaW5rQ29tcHV0ZXIuX2NyZWF0ZUxpbmsoY2xhc3NpZmllciwgbGluZSwgaSwgbGlua0JlZ2luSW5kZXgsIGopKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc2V0U3RhdGVNYWNoaW5lID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChzdGF0ZSA9PT0gMTIgLyogRW5kICovKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjaENsYXNzID0gY2xhc3NpZmllci5nZXQoY2hDb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgY2hhcmFjdGVyIHRlcm1pbmF0ZXMgbGlua1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2hDbGFzcyA9PT0gMSAvKiBGb3JjZVRlcm1pbmF0aW9uICovKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNldFN0YXRlTWFjaGluZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZSA9IDEzIC8qIEFjY2VwdCAqLztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSBzdGF0ZU1hY2hpbmUubmV4dFN0YXRlKHN0YXRlLCBjaENvZGUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGUgPT09IDAgLyogSW52YWxpZCAqLykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzZXRTdGF0ZU1hY2hpbmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChyZXNldFN0YXRlTWFjaGluZSkge1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZSA9IDEgLyogU3RhcnQgKi87XG4gICAgICAgICAgICAgICAgICAgIGhhc09wZW5QYXJlbnMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgaGFzT3BlblNxdWFyZUJyYWNrZXQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgaGFzT3BlbkN1cmx5QnJhY2tldCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAvLyBSZWNvcmQgd2hlcmUgdGhlIGxpbmsgc3RhcnRlZFxuICAgICAgICAgICAgICAgICAgICBsaW5rQmVnaW5JbmRleCA9IGogKyAxO1xuICAgICAgICAgICAgICAgICAgICBsaW5rQmVnaW5DaENvZGUgPSBjaENvZGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGorKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzdGF0ZSA9PT0gMTMgLyogQWNjZXB0ICovKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goTGlua0NvbXB1dGVyLl9jcmVhdGVMaW5rKGNsYXNzaWZpZXIsIGxpbmUsIGksIGxpbmtCZWdpbkluZGV4LCBsZW4pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgcmV0dXJuIExpbmtDb21wdXRlcjtcbn0oKSk7XG4vKipcbiAqIFJldHVybnMgYW4gYXJyYXkgb2YgYWxsIGxpbmtzIGNvbnRhaW5zIGluIHRoZSBwcm92aWRlZFxuICogZG9jdW1lbnQuICpOb3RlKiB0aGF0IHRoaXMgb3BlcmF0aW9uIGlzIGNvbXB1dGF0aW9uYWxcbiAqIGV4cGVuc2l2ZSBhbmQgc2hvdWxkIG5vdCBydW4gaW4gdGhlIFVJIHRocmVhZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbXB1dGVMaW5rcyhtb2RlbCkge1xuICAgIGlmICghbW9kZWwgfHwgdHlwZW9mIG1vZGVsLmdldExpbmVDb3VudCAhPT0gJ2Z1bmN0aW9uJyB8fCB0eXBlb2YgbW9kZWwuZ2V0TGluZUNvbnRlbnQgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgLy8gVW5rbm93biBjYWxsZXIhXG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgcmV0dXJuIExpbmtDb21wdXRlci5jb21wdXRlTGlua3MobW9kZWwpO1xufVxuIiwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG4ndXNlIHN0cmljdCc7XG52YXIgQmFzaWNJbnBsYWNlUmVwbGFjZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBCYXNpY0lucGxhY2VSZXBsYWNlKCkge1xuICAgICAgICB0aGlzLl9kZWZhdWx0VmFsdWVTZXQgPSBbXG4gICAgICAgICAgICBbJ3RydWUnLCAnZmFsc2UnXSxcbiAgICAgICAgICAgIFsnVHJ1ZScsICdGYWxzZSddLFxuICAgICAgICAgICAgWydQcml2YXRlJywgJ1B1YmxpYycsICdGcmllbmQnLCAnUmVhZE9ubHknLCAnUGFydGlhbCcsICdQcm90ZWN0ZWQnLCAnV3JpdGVPbmx5J10sXG4gICAgICAgICAgICBbJ3B1YmxpYycsICdwcm90ZWN0ZWQnLCAncHJpdmF0ZSddLFxuICAgICAgICBdO1xuICAgIH1cbiAgICBCYXNpY0lucGxhY2VSZXBsYWNlLnByb3RvdHlwZS5uYXZpZ2F0ZVZhbHVlU2V0ID0gZnVuY3Rpb24gKHJhbmdlMSwgdGV4dDEsIHJhbmdlMiwgdGV4dDIsIHVwKSB7XG4gICAgICAgIGlmIChyYW5nZTEgJiYgdGV4dDEpIHtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSB0aGlzLmRvTmF2aWdhdGVWYWx1ZVNldCh0ZXh0MSwgdXApO1xuICAgICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHJhbmdlOiByYW5nZTEsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiByZXN1bHRcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChyYW5nZTIgJiYgdGV4dDIpIHtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSB0aGlzLmRvTmF2aWdhdGVWYWx1ZVNldCh0ZXh0MiwgdXApO1xuICAgICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHJhbmdlOiByYW5nZTIsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiByZXN1bHRcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgQmFzaWNJbnBsYWNlUmVwbGFjZS5wcm90b3R5cGUuZG9OYXZpZ2F0ZVZhbHVlU2V0ID0gZnVuY3Rpb24gKHRleHQsIHVwKSB7XG4gICAgICAgIHZhciBudW1iZXJSZXN1bHQgPSB0aGlzLm51bWJlclJlcGxhY2UodGV4dCwgdXApO1xuICAgICAgICBpZiAobnVtYmVyUmVzdWx0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVtYmVyUmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnRleHRSZXBsYWNlKHRleHQsIHVwKTtcbiAgICB9O1xuICAgIEJhc2ljSW5wbGFjZVJlcGxhY2UucHJvdG90eXBlLm51bWJlclJlcGxhY2UgPSBmdW5jdGlvbiAodmFsdWUsIHVwKSB7XG4gICAgICAgIHZhciBwcmVjaXNpb24gPSBNYXRoLnBvdygxMCwgdmFsdWUubGVuZ3RoIC0gKHZhbHVlLmxhc3RJbmRleE9mKCcuJykgKyAxKSk7XG4gICAgICAgIHZhciBuMSA9IE51bWJlcih2YWx1ZSk7XG4gICAgICAgIHZhciBuMiA9IHBhcnNlRmxvYXQodmFsdWUpO1xuICAgICAgICBpZiAoIWlzTmFOKG4xKSAmJiAhaXNOYU4objIpICYmIG4xID09PSBuMikge1xuICAgICAgICAgICAgaWYgKG4xID09PSAwICYmICF1cCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsOyAvLyBkb24ndCBkbyBuZWdhdGl2ZVxuICAgICAgICAgICAgICAgIC8vXHRcdFx0fSBlbHNlIGlmKG4xID09PSA5ICYmIHVwKSB7XG4gICAgICAgICAgICAgICAgLy9cdFx0XHRcdHJldHVybiBudWxsOyAvLyBkb24ndCBpbnNlcnQgMTAgaW50byBhIG51bWJlclxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbjEgPSBNYXRoLmZsb29yKG4xICogcHJlY2lzaW9uKTtcbiAgICAgICAgICAgICAgICBuMSArPSB1cCA/IHByZWNpc2lvbiA6IC1wcmVjaXNpb247XG4gICAgICAgICAgICAgICAgcmV0dXJuIFN0cmluZyhuMSAvIHByZWNpc2lvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICBCYXNpY0lucGxhY2VSZXBsYWNlLnByb3RvdHlwZS50ZXh0UmVwbGFjZSA9IGZ1bmN0aW9uICh2YWx1ZSwgdXApIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWVTZXRzUmVwbGFjZSh0aGlzLl9kZWZhdWx0VmFsdWVTZXQsIHZhbHVlLCB1cCk7XG4gICAgfTtcbiAgICBCYXNpY0lucGxhY2VSZXBsYWNlLnByb3RvdHlwZS52YWx1ZVNldHNSZXBsYWNlID0gZnVuY3Rpb24gKHZhbHVlU2V0cywgdmFsdWUsIHVwKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBudWxsO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gdmFsdWVTZXRzLmxlbmd0aDsgcmVzdWx0ID09PSBudWxsICYmIGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy52YWx1ZVNldFJlcGxhY2UodmFsdWVTZXRzW2ldLCB2YWx1ZSwgdXApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICBCYXNpY0lucGxhY2VSZXBsYWNlLnByb3RvdHlwZS52YWx1ZVNldFJlcGxhY2UgPSBmdW5jdGlvbiAodmFsdWVTZXQsIHZhbHVlLCB1cCkge1xuICAgICAgICB2YXIgaWR4ID0gdmFsdWVTZXQuaW5kZXhPZih2YWx1ZSk7XG4gICAgICAgIGlmIChpZHggPj0gMCkge1xuICAgICAgICAgICAgaWR4ICs9IHVwID8gKzEgOiAtMTtcbiAgICAgICAgICAgIGlmIChpZHggPCAwKSB7XG4gICAgICAgICAgICAgICAgaWR4ID0gdmFsdWVTZXQubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlkeCAlPSB2YWx1ZVNldC5sZW5ndGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdmFsdWVTZXRbaWR4XTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICAgIEJhc2ljSW5wbGFjZVJlcGxhY2UuSU5TVEFOQ0UgPSBuZXcgQmFzaWNJbnBsYWNlUmVwbGFjZSgpO1xuICAgIHJldHVybiBCYXNpY0lucGxhY2VSZXBsYWNlO1xufSgpKTtcbmV4cG9ydCB7IEJhc2ljSW5wbGFjZVJlcGxhY2UgfTtcbiIsIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuJ3VzZSBzdHJpY3QnO1xuZXhwb3J0IHZhciBVU1VBTF9XT1JEX1NFUEFSQVRPUlMgPSAnYH4hQCMkJV4mKigpLT0rW3tdfVxcXFx8OzpcXCdcIiwuPD4vPyc7XG4vKipcbiAqIENyZWF0ZSBhIHdvcmQgZGVmaW5pdGlvbiByZWd1bGFyIGV4cHJlc3Npb24gYmFzZWQgb24gZGVmYXVsdCB3b3JkIHNlcGFyYXRvcnMuXG4gKiBPcHRpb25hbGx5IHByb3ZpZGUgYWxsb3dlZCBzZXBhcmF0b3JzIHRoYXQgc2hvdWxkIGJlIGluY2x1ZGVkIGluIHdvcmRzLlxuICpcbiAqIFRoZSBkZWZhdWx0IHdvdWxkIGxvb2sgbGlrZSB0aGlzOlxuICogLygtP1xcZCpcXC5cXGRcXHcqKXwoW15cXGBcXH5cXCFcXEBcXCNcXCRcXCVcXF5cXCZcXCpcXChcXClcXC1cXD1cXCtcXFtcXHtcXF1cXH1cXFxcXFx8XFw7XFw6XFwnXFxcIlxcLFxcLlxcPFxcPlxcL1xcP1xcc10rKS9nXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVdvcmRSZWdFeHAoYWxsb3dJbldvcmRzKSB7XG4gICAgaWYgKGFsbG93SW5Xb3JkcyA9PT0gdm9pZCAwKSB7IGFsbG93SW5Xb3JkcyA9ICcnOyB9XG4gICAgdmFyIHNvdXJjZSA9ICcoLT9cXFxcZCpcXFxcLlxcXFxkXFxcXHcqKXwoW14nO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgVVNVQUxfV09SRF9TRVBBUkFUT1JTLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChhbGxvd0luV29yZHMuaW5kZXhPZihVU1VBTF9XT1JEX1NFUEFSQVRPUlNbaV0pID49IDApIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHNvdXJjZSArPSAnXFxcXCcgKyBVU1VBTF9XT1JEX1NFUEFSQVRPUlNbaV07XG4gICAgfVxuICAgIHNvdXJjZSArPSAnXFxcXHNdKyknO1xuICAgIHJldHVybiBuZXcgUmVnRXhwKHNvdXJjZSwgJ2cnKTtcbn1cbi8vIGNhdGNoZXMgbnVtYmVycyAoaW5jbHVkaW5nIGZsb2F0aW5nIG51bWJlcnMpIGluIHRoZSBmaXJzdCBncm91cCwgYW5kIGFscGhhbnVtIGluIHRoZSBzZWNvbmRcbmV4cG9ydCB2YXIgREVGQVVMVF9XT1JEX1JFR0VYUCA9IGNyZWF0ZVdvcmRSZWdFeHAoKTtcbmV4cG9ydCBmdW5jdGlvbiBlbnN1cmVWYWxpZFdvcmREZWZpbml0aW9uKHdvcmREZWZpbml0aW9uKSB7XG4gICAgdmFyIHJlc3VsdCA9IERFRkFVTFRfV09SRF9SRUdFWFA7XG4gICAgaWYgKHdvcmREZWZpbml0aW9uICYmICh3b3JkRGVmaW5pdGlvbiBpbnN0YW5jZW9mIFJlZ0V4cCkpIHtcbiAgICAgICAgaWYgKCF3b3JkRGVmaW5pdGlvbi5nbG9iYWwpIHtcbiAgICAgICAgICAgIHZhciBmbGFncyA9ICdnJztcbiAgICAgICAgICAgIGlmICh3b3JkRGVmaW5pdGlvbi5pZ25vcmVDYXNlKSB7XG4gICAgICAgICAgICAgICAgZmxhZ3MgKz0gJ2knO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHdvcmREZWZpbml0aW9uLm11bHRpbGluZSkge1xuICAgICAgICAgICAgICAgIGZsYWdzICs9ICdtJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc3VsdCA9IG5ldyBSZWdFeHAod29yZERlZmluaXRpb24uc291cmNlLCBmbGFncyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXN1bHQgPSB3b3JkRGVmaW5pdGlvbjtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXN1bHQubGFzdEluZGV4ID0gMDtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gZ2V0V29yZEF0UG9zRmFzdChjb2x1bW4sIHdvcmREZWZpbml0aW9uLCB0ZXh0LCB0ZXh0T2Zmc2V0KSB7XG4gICAgLy8gZmluZCB3aGl0ZXNwYWNlIGVuY2xvc2VkIHRleHQgYXJvdW5kIGNvbHVtbiBhbmQgbWF0Y2ggZnJvbSB0aGVyZVxuICAgIHZhciBwb3MgPSBjb2x1bW4gLSAxIC0gdGV4dE9mZnNldDtcbiAgICB2YXIgc3RhcnQgPSB0ZXh0Lmxhc3RJbmRleE9mKCcgJywgcG9zIC0gMSkgKyAxO1xuICAgIHZhciBlbmQgPSB0ZXh0LmluZGV4T2YoJyAnLCBwb3MpO1xuICAgIGlmIChlbmQgPT09IC0xKSB7XG4gICAgICAgIGVuZCA9IHRleHQubGVuZ3RoO1xuICAgIH1cbiAgICB3b3JkRGVmaW5pdGlvbi5sYXN0SW5kZXggPSBzdGFydDtcbiAgICB2YXIgbWF0Y2g7XG4gICAgd2hpbGUgKG1hdGNoID0gd29yZERlZmluaXRpb24uZXhlYyh0ZXh0KSkge1xuICAgICAgICBpZiAobWF0Y2guaW5kZXggPD0gcG9zICYmIHdvcmREZWZpbml0aW9uLmxhc3RJbmRleCA+PSBwb3MpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgd29yZDogbWF0Y2hbMF0sXG4gICAgICAgICAgICAgICAgc3RhcnRDb2x1bW46IHRleHRPZmZzZXQgKyAxICsgbWF0Y2guaW5kZXgsXG4gICAgICAgICAgICAgICAgZW5kQ29sdW1uOiB0ZXh0T2Zmc2V0ICsgMSArIHdvcmREZWZpbml0aW9uLmxhc3RJbmRleFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIGdldFdvcmRBdFBvc1Nsb3coY29sdW1uLCB3b3JkRGVmaW5pdGlvbiwgdGV4dCwgdGV4dE9mZnNldCkge1xuICAgIC8vIG1hdGNoZXMgYWxsIHdvcmRzIHN0YXJ0aW5nIGF0IHRoZSBiZWdpbm5pbmdcbiAgICAvLyBvZiB0aGUgaW5wdXQgdW50aWwgaXQgZmluZHMgYSBtYXRjaCB0aGF0IGVuY2xvc2VzXG4gICAgLy8gdGhlIGRlc2lyZWQgY29sdW1uLiBzbG93IGJ1dCBjb3JyZWN0XG4gICAgdmFyIHBvcyA9IGNvbHVtbiAtIDEgLSB0ZXh0T2Zmc2V0O1xuICAgIHdvcmREZWZpbml0aW9uLmxhc3RJbmRleCA9IDA7XG4gICAgdmFyIG1hdGNoO1xuICAgIHdoaWxlIChtYXRjaCA9IHdvcmREZWZpbml0aW9uLmV4ZWModGV4dCkpIHtcbiAgICAgICAgaWYgKG1hdGNoLmluZGV4ID4gcG9zKSB7XG4gICAgICAgICAgICAvLyB8blcgLT4gbWF0Y2hlZCBvbmx5IGFmdGVyIHRoZSBwb3NcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHdvcmREZWZpbml0aW9uLmxhc3RJbmRleCA+PSBwb3MpIHtcbiAgICAgICAgICAgIC8vIFd8VyAtPiBtYXRjaCBlbmNsb3NlcyBwb3NcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgd29yZDogbWF0Y2hbMF0sXG4gICAgICAgICAgICAgICAgc3RhcnRDb2x1bW46IHRleHRPZmZzZXQgKyAxICsgbWF0Y2guaW5kZXgsXG4gICAgICAgICAgICAgICAgZW5kQ29sdW1uOiB0ZXh0T2Zmc2V0ICsgMSArIHdvcmREZWZpbml0aW9uLmxhc3RJbmRleFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRXb3JkQXRUZXh0KGNvbHVtbiwgd29yZERlZmluaXRpb24sIHRleHQsIHRleHRPZmZzZXQpIHtcbiAgICAvLyBpZiBgd29yZHNgIGNhbiBjb250YWluIHdoaXRlc3BhY2UgY2hhcmFjdGVyIHdlIGhhdmUgdG8gdXNlIHRoZSBzbG93IHZhcmlhbnRcbiAgICAvLyBvdGhlcndpc2Ugd2UgdXNlIHRoZSBmYXN0IHZhcmlhbnQgb2YgZmluZGluZyBhIHdvcmRcbiAgICB3b3JkRGVmaW5pdGlvbi5sYXN0SW5kZXggPSAwO1xuICAgIHZhciBtYXRjaCA9IHdvcmREZWZpbml0aW9uLmV4ZWModGV4dCk7XG4gICAgaWYgKCFtYXRjaCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgLy8gdG9kb0Bqb2ggdGhlIGBtYXRjaGAgY291bGQgYWxyZWFkeSBiZSB0aGUgKGZpcnN0KSB3b3JkXG4gICAgdmFyIHJldCA9IG1hdGNoWzBdLmluZGV4T2YoJyAnKSA+PSAwXG4gICAgICAgIC8vIGRpZCBtYXRjaCBhIHdvcmQgd2hpY2ggY29udGFpbnMgYSBzcGFjZSBjaGFyYWN0ZXIgLT4gdXNlIHNsb3cgd29yZCBmaW5kXG4gICAgICAgID8gZ2V0V29yZEF0UG9zU2xvdyhjb2x1bW4sIHdvcmREZWZpbml0aW9uLCB0ZXh0LCB0ZXh0T2Zmc2V0KVxuICAgICAgICAvLyBzYW5lIHdvcmQgZGVmaW5pdGlvbiAtPiB1c2UgZmFzdCB3b3JkIGZpbmRcbiAgICAgICAgOiBnZXRXb3JkQXRQb3NGYXN0KGNvbHVtbiwgd29yZERlZmluaXRpb24sIHRleHQsIHRleHRPZmZzZXQpO1xuICAgIC8vIGJvdGggKGdldFdvcmRBdFBvc0Zhc3QgYW5kIGdldFdvcmRBdFBvc1Nsb3cpIGxlYXZlIHRoZSB3b3JkRGVmaW5pdGlvbi1SZWdFeHBcbiAgICAvLyBpbiBhbiB1bmRlZmluZWQgc3RhdGUgYW5kIHRvIG5vdCBjb25mdXNlIG90aGVyIHVzZXJzIG9mIHRoZSB3b3JkRGVmaW5pdGlvblxuICAgIC8vIHdlIHJlc2V0IHRoZSBsYXN0SW5kZXhcbiAgICB3b3JkRGVmaW5pdGlvbi5sYXN0SW5kZXggPSAwO1xuICAgIHJldHVybiByZXQ7XG59XG4iLCIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbid1c2Ugc3RyaWN0JztcbmV4cG9ydCBmdW5jdGlvbiBvbmNlKGZuKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICB2YXIgZGlkQ2FsbCA9IGZhbHNlO1xuICAgIHZhciByZXN1bHQ7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKGRpZENhbGwpIHtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgZGlkQ2FsbCA9IHRydWU7XG4gICAgICAgIHJlc3VsdCA9IGZuLmFwcGx5KF90aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG59XG4iLCIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbid1c2Ugc3RyaWN0JztcbmltcG9ydCB7IG9uY2UgfSBmcm9tICcuL2Z1bmN0aW9uYWwuanMnO1xuZXhwb3J0IHZhciBlbXB0eSA9IE9iamVjdC5mcmVlemUoe1xuICAgIGRpc3Bvc2U6IGZ1bmN0aW9uICgpIHsgfVxufSk7XG5leHBvcnQgZnVuY3Rpb24gaXNEaXNwb3NhYmxlKHRoaW5nKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB0aGluZy5kaXNwb3NlID09PSAnZnVuY3Rpb24nXG4gICAgICAgICYmIHRoaW5nLmRpc3Bvc2UubGVuZ3RoID09PSAwO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGRpc3Bvc2UoZmlyc3QpIHtcbiAgICB2YXIgcmVzdCA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMTsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIHJlc3RbX2kgLSAxXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIGlmIChBcnJheS5pc0FycmF5KGZpcnN0KSkge1xuICAgICAgICBmaXJzdC5mb3JFYWNoKGZ1bmN0aW9uIChkKSB7IHJldHVybiBkICYmIGQuZGlzcG9zZSgpOyB9KTtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICBlbHNlIGlmIChyZXN0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBpZiAoZmlyc3QpIHtcbiAgICAgICAgICAgIGZpcnN0LmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIHJldHVybiBmaXJzdDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZGlzcG9zZShmaXJzdCk7XG4gICAgICAgIGRpc3Bvc2UocmVzdCk7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gY29tYmluZWREaXNwb3NhYmxlKGRpc3Bvc2FibGVzKSB7XG4gICAgcmV0dXJuIHsgZGlzcG9zZTogZnVuY3Rpb24gKCkgeyByZXR1cm4gZGlzcG9zZShkaXNwb3NhYmxlcyk7IH0gfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB0b0Rpc3Bvc2FibGUoKSB7XG4gICAgdmFyIGZucyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIGZuc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBkaXNwb3NlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIGZuc18xID0gZm5zOyBfaSA8IGZuc18xLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgIHZhciBmbiA9IGZuc18xW19pXTtcbiAgICAgICAgICAgICAgICBmbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbn1cbnZhciBEaXNwb3NhYmxlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIERpc3Bvc2FibGUoKSB7XG4gICAgICAgIHRoaXMuX3RvRGlzcG9zZSA9IFtdO1xuICAgIH1cbiAgICBEaXNwb3NhYmxlLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl90b0Rpc3Bvc2UgPSBkaXNwb3NlKHRoaXMuX3RvRGlzcG9zZSk7XG4gICAgfTtcbiAgICBEaXNwb3NhYmxlLnByb3RvdHlwZS5fcmVnaXN0ZXIgPSBmdW5jdGlvbiAodCkge1xuICAgICAgICB0aGlzLl90b0Rpc3Bvc2UucHVzaCh0KTtcbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICByZXR1cm4gRGlzcG9zYWJsZTtcbn0oKSk7XG5leHBvcnQgeyBEaXNwb3NhYmxlIH07XG52YXIgUmVmZXJlbmNlQ29sbGVjdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZWZlcmVuY2VDb2xsZWN0aW9uKCkge1xuICAgICAgICB0aGlzLnJlZmVyZW5jZXMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIH1cbiAgICBSZWZlcmVuY2VDb2xsZWN0aW9uLnByb3RvdHlwZS5hY3F1aXJlID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgcmVmZXJlbmNlID0gdGhpcy5yZWZlcmVuY2VzW2tleV07XG4gICAgICAgIGlmICghcmVmZXJlbmNlKSB7XG4gICAgICAgICAgICByZWZlcmVuY2UgPSB0aGlzLnJlZmVyZW5jZXNba2V5XSA9IHsgY291bnRlcjogMCwgb2JqZWN0OiB0aGlzLmNyZWF0ZVJlZmVyZW5jZWRPYmplY3Qoa2V5KSB9O1xuICAgICAgICB9XG4gICAgICAgIHZhciBvYmplY3QgPSByZWZlcmVuY2Uub2JqZWN0O1xuICAgICAgICB2YXIgZGlzcG9zZSA9IG9uY2UoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKC0tcmVmZXJlbmNlLmNvdW50ZXIgPT09IDApIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5kZXN0cm95UmVmZXJlbmNlZE9iamVjdChyZWZlcmVuY2Uub2JqZWN0KTtcbiAgICAgICAgICAgICAgICBkZWxldGUgX3RoaXMucmVmZXJlbmNlc1trZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmVmZXJlbmNlLmNvdW50ZXIrKztcbiAgICAgICAgcmV0dXJuIHsgb2JqZWN0OiBvYmplY3QsIGRpc3Bvc2U6IGRpc3Bvc2UgfTtcbiAgICB9O1xuICAgIHJldHVybiBSZWZlcmVuY2VDb2xsZWN0aW9uO1xufSgpKTtcbmV4cG9ydCB7IFJlZmVyZW5jZUNvbGxlY3Rpb24gfTtcbnZhciBJbW1vcnRhbFJlZmVyZW5jZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBJbW1vcnRhbFJlZmVyZW5jZShvYmplY3QpIHtcbiAgICAgICAgdGhpcy5vYmplY3QgPSBvYmplY3Q7XG4gICAgfVxuICAgIEltbW9ydGFsUmVmZXJlbmNlLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgIHJldHVybiBJbW1vcnRhbFJlZmVyZW5jZTtcbn0oKSk7XG5leHBvcnQgeyBJbW1vcnRhbFJlZmVyZW5jZSB9O1xuIiwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG4ndXNlIHN0cmljdCc7XG5pbXBvcnQgeyBUUHJvbWlzZSB9IGZyb20gJy4vd2luanMuYmFzZS5qcyc7XG4vLyAtLS0tLS0gQkVHSU4gSG9vayB1cCBlcnJvciBsaXN0ZW5lcnMgdG8gd2luanMgcHJvbWlzZXNcbnZhciBvdXRzdGFuZGluZ1Byb21pc2VFcnJvcnMgPSB7fTtcbmZ1bmN0aW9uIHByb21pc2VFcnJvckhhbmRsZXIoZSkge1xuICAgIC8vXG4gICAgLy8gZS5kZXRhaWwgbG9va3MgbGlrZTogeyBleGNlcHRpb24sIGVycm9yLCBwcm9taXNlLCBoYW5kbGVyLCBpZCwgcGFyZW50IH1cbiAgICAvL1xuICAgIHZhciBkZXRhaWxzID0gZS5kZXRhaWw7XG4gICAgdmFyIGlkID0gZGV0YWlscy5pZDtcbiAgICAvLyBJZiB0aGUgZXJyb3IgaGFzIGEgcGFyZW50IHByb21pc2UgdGhlbiB0aGlzIGlzIG5vdCB0aGUgb3JpZ2luYXRpb24gb2YgdGhlXG4gICAgLy8gIGVycm9yIHNvIHdlIGNoZWNrIGlmIGl0IGhhcyBhIGhhbmRsZXIsIGFuZCBpZiBzbyB3ZSBtYXJrIHRoYXQgdGhlIGVycm9yXG4gICAgLy8gIHdhcyBoYW5kbGVkIGJ5IHJlbW92aW5nIGl0IGZyb20gb3V0c3RhbmRpbmdQcm9taXNlRXJyb3JzXG4gICAgLy9cbiAgICBpZiAoZGV0YWlscy5wYXJlbnQpIHtcbiAgICAgICAgaWYgKGRldGFpbHMuaGFuZGxlciAmJiBvdXRzdGFuZGluZ1Byb21pc2VFcnJvcnMpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBvdXRzdGFuZGluZ1Byb21pc2VFcnJvcnNbaWRdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gSW5kaWNhdGUgdGhhdCB0aGlzIGVycm9yIHdhcyBvcmlnaW5hdGVkIGFuZCBuZWVkcyB0byBiZSBoYW5kbGVkXG4gICAgb3V0c3RhbmRpbmdQcm9taXNlRXJyb3JzW2lkXSA9IGRldGFpbHM7XG4gICAgLy8gVGhlIGZpcnN0IHRpbWUgdGhlIHF1ZXVlIGZpbGxzIHVwIHRoaXMgaXRlcmF0aW9uLCBzY2hlZHVsZSBhIHRpbWVvdXQgdG9cbiAgICAvLyBjaGVjayBpZiBhbnkgZXJyb3JzIGFyZSBzdGlsbCB1bmhhbmRsZWQuXG4gICAgaWYgKE9iamVjdC5rZXlzKG91dHN0YW5kaW5nUHJvbWlzZUVycm9ycykubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGVycm9ycyA9IG91dHN0YW5kaW5nUHJvbWlzZUVycm9ycztcbiAgICAgICAgICAgIG91dHN0YW5kaW5nUHJvbWlzZUVycm9ycyA9IHt9O1xuICAgICAgICAgICAgT2JqZWN0LmtleXMoZXJyb3JzKS5mb3JFYWNoKGZ1bmN0aW9uIChlcnJvcklkKSB7XG4gICAgICAgICAgICAgICAgdmFyIGVycm9yID0gZXJyb3JzW2Vycm9ySWRdO1xuICAgICAgICAgICAgICAgIGlmIChlcnJvci5leGNlcHRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgb25VbmV4cGVjdGVkRXJyb3IoZXJyb3IuZXhjZXB0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZXJyb3IuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgb25VbmV4cGVjdGVkRXJyb3IoZXJyb3IuZXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnV0FSTklORzogUHJvbWlzZSB3aXRoIG5vIGVycm9yIGNhbGxiYWNrOicgKyBlcnJvci5pZCk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgICAgICAgICAgIGlmIChlcnJvci5leGNlcHRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IuZXhjZXB0aW9uLnN0YWNrKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSwgMCk7XG4gICAgfVxufVxuVFByb21pc2UuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCBwcm9taXNlRXJyb3JIYW5kbGVyKTtcbi8vIEF2b2lkIGNpcmN1bGFyIGRlcGVuZGVuY3kgb24gRXZlbnRFbWl0dGVyIGJ5IGltcGxlbWVudGluZyBhIHN1YnNldCBvZiB0aGUgaW50ZXJmYWNlLlxudmFyIEVycm9ySGFuZGxlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBFcnJvckhhbmRsZXIoKSB7XG4gICAgICAgIHRoaXMubGlzdGVuZXJzID0gW107XG4gICAgICAgIHRoaXMudW5leHBlY3RlZEVycm9ySGFuZGxlciA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAoZS5zdGFjaykge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZS5tZXNzYWdlICsgJ1xcblxcbicgKyBlLnN0YWNrKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgIH0sIDApO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBFcnJvckhhbmRsZXIucHJvdG90eXBlLmFkZExpc3RlbmVyID0gZnVuY3Rpb24gKGxpc3RlbmVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMubGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMuX3JlbW92ZUxpc3RlbmVyKGxpc3RlbmVyKTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIEVycm9ySGFuZGxlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHRoaXMubGlzdGVuZXJzLmZvckVhY2goZnVuY3Rpb24gKGxpc3RlbmVyKSB7XG4gICAgICAgICAgICBsaXN0ZW5lcihlKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBFcnJvckhhbmRsZXIucHJvdG90eXBlLl9yZW1vdmVMaXN0ZW5lciA9IGZ1bmN0aW9uIChsaXN0ZW5lcikge1xuICAgICAgICB0aGlzLmxpc3RlbmVycy5zcGxpY2UodGhpcy5saXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lciksIDEpO1xuICAgIH07XG4gICAgRXJyb3JIYW5kbGVyLnByb3RvdHlwZS5zZXRVbmV4cGVjdGVkRXJyb3JIYW5kbGVyID0gZnVuY3Rpb24gKG5ld1VuZXhwZWN0ZWRFcnJvckhhbmRsZXIpIHtcbiAgICAgICAgdGhpcy51bmV4cGVjdGVkRXJyb3JIYW5kbGVyID0gbmV3VW5leHBlY3RlZEVycm9ySGFuZGxlcjtcbiAgICB9O1xuICAgIEVycm9ySGFuZGxlci5wcm90b3R5cGUuZ2V0VW5leHBlY3RlZEVycm9ySGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudW5leHBlY3RlZEVycm9ySGFuZGxlcjtcbiAgICB9O1xuICAgIEVycm9ySGFuZGxlci5wcm90b3R5cGUub25VbmV4cGVjdGVkRXJyb3IgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICB0aGlzLnVuZXhwZWN0ZWRFcnJvckhhbmRsZXIoZSk7XG4gICAgICAgIHRoaXMuZW1pdChlKTtcbiAgICB9O1xuICAgIC8vIEZvciBleHRlcm5hbCBlcnJvcnMsIHdlIGRvbid0IHdhbnQgdGhlIGxpc3RlbmVycyB0byBiZSBjYWxsZWRcbiAgICBFcnJvckhhbmRsZXIucHJvdG90eXBlLm9uVW5leHBlY3RlZEV4dGVybmFsRXJyb3IgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICB0aGlzLnVuZXhwZWN0ZWRFcnJvckhhbmRsZXIoZSk7XG4gICAgfTtcbiAgICByZXR1cm4gRXJyb3JIYW5kbGVyO1xufSgpKTtcbmV4cG9ydCB7IEVycm9ySGFuZGxlciB9O1xuZXhwb3J0IHZhciBlcnJvckhhbmRsZXIgPSBuZXcgRXJyb3JIYW5kbGVyKCk7XG5leHBvcnQgZnVuY3Rpb24gc2V0VW5leHBlY3RlZEVycm9ySGFuZGxlcihuZXdVbmV4cGVjdGVkRXJyb3JIYW5kbGVyKSB7XG4gICAgZXJyb3JIYW5kbGVyLnNldFVuZXhwZWN0ZWRFcnJvckhhbmRsZXIobmV3VW5leHBlY3RlZEVycm9ySGFuZGxlcik7XG59XG5leHBvcnQgZnVuY3Rpb24gb25VbmV4cGVjdGVkRXJyb3IoZSkge1xuICAgIC8vIGlnbm9yZSBlcnJvcnMgZnJvbSBjYW5jZWxsZWQgcHJvbWlzZXNcbiAgICBpZiAoIWlzUHJvbWlzZUNhbmNlbGVkRXJyb3IoZSkpIHtcbiAgICAgICAgZXJyb3JIYW5kbGVyLm9uVW5leHBlY3RlZEVycm9yKGUpO1xuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG9uVW5leHBlY3RlZEV4dGVybmFsRXJyb3IoZSkge1xuICAgIC8vIGlnbm9yZSBlcnJvcnMgZnJvbSBjYW5jZWxsZWQgcHJvbWlzZXNcbiAgICBpZiAoIWlzUHJvbWlzZUNhbmNlbGVkRXJyb3IoZSkpIHtcbiAgICAgICAgZXJyb3JIYW5kbGVyLm9uVW5leHBlY3RlZEV4dGVybmFsRXJyb3IoZSk7XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtRXJyb3JGb3JTZXJpYWxpemF0aW9uKGVycm9yKSB7XG4gICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgdmFyIG5hbWVfMSA9IGVycm9yLm5hbWUsIG1lc3NhZ2UgPSBlcnJvci5tZXNzYWdlO1xuICAgICAgICB2YXIgc3RhY2sgPSBlcnJvci5zdGFja3RyYWNlIHx8IGVycm9yLnN0YWNrO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgJGlzRXJyb3I6IHRydWUsXG4gICAgICAgICAgICBuYW1lOiBuYW1lXzEsXG4gICAgICAgICAgICBtZXNzYWdlOiBtZXNzYWdlLFxuICAgICAgICAgICAgc3RhY2s6IHN0YWNrXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8vIHJldHVybiBhcyBpc1xuICAgIHJldHVybiBlcnJvcjtcbn1cbnZhciBjYW5jZWxlZE5hbWUgPSAnQ2FuY2VsZWQnO1xuLyoqXG4gKiBDaGVja3MgaWYgdGhlIGdpdmVuIGVycm9yIGlzIGEgcHJvbWlzZSBpbiBjYW5jZWxlZCBzdGF0ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNQcm9taXNlQ2FuY2VsZWRFcnJvcihlcnJvcikge1xuICAgIHJldHVybiBlcnJvciBpbnN0YW5jZW9mIEVycm9yICYmIGVycm9yLm5hbWUgPT09IGNhbmNlbGVkTmFtZSAmJiBlcnJvci5tZXNzYWdlID09PSBjYW5jZWxlZE5hbWU7XG59XG4vKipcbiAqIFJldHVybnMgYW4gZXJyb3IgdGhhdCBzaWduYWxzIGNhbmNlbGxhdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNhbmNlbGVkKCkge1xuICAgIHZhciBlcnJvciA9IG5ldyBFcnJvcihjYW5jZWxlZE5hbWUpO1xuICAgIGVycm9yLm5hbWUgPSBlcnJvci5tZXNzYWdlO1xuICAgIHJldHVybiBlcnJvcjtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpbGxlZ2FsQXJndW1lbnQobmFtZSkge1xuICAgIGlmIChuYW1lKSB7XG4gICAgICAgIHJldHVybiBuZXcgRXJyb3IoXCJJbGxlZ2FsIGFyZ3VtZW50OiBcIiArIG5hbWUpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG5ldyBFcnJvcignSWxsZWdhbCBhcmd1bWVudCcpO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBpbGxlZ2FsU3RhdGUobmFtZSkge1xuICAgIGlmIChuYW1lKSB7XG4gICAgICAgIHJldHVybiBuZXcgRXJyb3IoXCJJbGxlZ2FsIHN0YXRlOiBcIiArIG5hbWUpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG5ldyBFcnJvcignSWxsZWdhbCBzdGF0ZScpO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiByZWFkb25seShuYW1lKSB7XG4gICAgcmV0dXJuIG5hbWVcbiAgICAgICAgPyBuZXcgRXJyb3IoXCJyZWFkb25seSBwcm9wZXJ0eSAnXCIgKyBuYW1lICsgXCIgY2Fubm90IGJlIGNoYW5nZWQnXCIpXG4gICAgICAgIDogbmV3IEVycm9yKCdyZWFkb25seSBwcm9wZXJ0eSBjYW5ub3QgYmUgY2hhbmdlZCcpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGRpc3Bvc2VkKHdoYXQpIHtcbiAgICB2YXIgcmVzdWx0ID0gbmV3IEVycm9yKHdoYXQgKyBcIiBoYXMgYmVlbiBkaXNwb3NlZFwiKTtcbiAgICByZXN1bHQubmFtZSA9ICdESVNQT1NFRCc7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0Vycm9yV2l0aEFjdGlvbnMob2JqKSB7XG4gICAgcmV0dXJuIG9iaiBpbnN0YW5jZW9mIEVycm9yICYmIEFycmF5LmlzQXJyYXkob2JqLmFjdGlvbnMpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZShtZXNzYWdlLCBvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0gT2JqZWN0LmNyZWF0ZShudWxsKTsgfVxuICAgIHZhciByZXN1bHQgPSBuZXcgRXJyb3IobWVzc2FnZSk7XG4gICAgaWYgKG9wdGlvbnMuYWN0aW9ucykge1xuICAgICAgICByZXN1bHQuYWN0aW9ucyA9IG9wdGlvbnMuYWN0aW9ucztcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRFcnJvck1lc3NhZ2UoZXJyKSB7XG4gICAgaWYgKCFlcnIpIHtcbiAgICAgICAgcmV0dXJuICdFcnJvcic7XG4gICAgfVxuICAgIGlmIChlcnIubWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gZXJyLm1lc3NhZ2U7XG4gICAgfVxuICAgIGlmIChlcnIuc3RhY2spIHtcbiAgICAgICAgcmV0dXJuIGVyci5zdGFjay5zcGxpdCgnXFxuJylbMF07XG4gICAgfVxuICAgIHJldHVybiBTdHJpbmcoZXJyKTtcbn1cbiIsIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuJ3VzZSBzdHJpY3QnO1xudmFyIE5vZGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTm9kZShlbGVtZW50KSB7XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgfVxuICAgIHJldHVybiBOb2RlO1xufSgpKTtcbnZhciBMaW5rZWRMaXN0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIExpbmtlZExpc3QoKSB7XG4gICAgfVxuICAgIExpbmtlZExpc3QucHJvdG90eXBlLmlzRW1wdHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAhdGhpcy5fZmlyc3Q7XG4gICAgfTtcbiAgICBMaW5rZWRMaXN0LnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fZmlyc3QgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuX2xhc3QgPSB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICBMaW5rZWRMaXN0LnByb3RvdHlwZS51bnNoaWZ0ID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zZXJ0KGVsZW1lbnQsIGZhbHNlKTtcbiAgICB9O1xuICAgIExpbmtlZExpc3QucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbnNlcnQoZWxlbWVudCwgdHJ1ZSk7XG4gICAgfTtcbiAgICBMaW5rZWRMaXN0LnByb3RvdHlwZS5pbnNlcnQgPSBmdW5jdGlvbiAoZWxlbWVudCwgYXRUaGVFbmQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIG5ld05vZGUgPSBuZXcgTm9kZShlbGVtZW50KTtcbiAgICAgICAgaWYgKCF0aGlzLl9maXJzdCkge1xuICAgICAgICAgICAgdGhpcy5fZmlyc3QgPSBuZXdOb2RlO1xuICAgICAgICAgICAgdGhpcy5fbGFzdCA9IG5ld05vZGU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYXRUaGVFbmQpIHtcbiAgICAgICAgICAgIC8vIHB1c2hcbiAgICAgICAgICAgIHZhciBvbGRMYXN0ID0gdGhpcy5fbGFzdDtcbiAgICAgICAgICAgIHRoaXMuX2xhc3QgPSBuZXdOb2RlO1xuICAgICAgICAgICAgbmV3Tm9kZS5wcmV2ID0gb2xkTGFzdDtcbiAgICAgICAgICAgIG9sZExhc3QubmV4dCA9IG5ld05vZGU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyB1bnNoaWZ0XG4gICAgICAgICAgICB2YXIgb2xkRmlyc3QgPSB0aGlzLl9maXJzdDtcbiAgICAgICAgICAgIHRoaXMuX2ZpcnN0ID0gbmV3Tm9kZTtcbiAgICAgICAgICAgIG5ld05vZGUubmV4dCA9IG9sZEZpcnN0O1xuICAgICAgICAgICAgb2xkRmlyc3QucHJldiA9IG5ld05vZGU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGNhbmRpZGF0ZSA9IF90aGlzLl9maXJzdDsgY2FuZGlkYXRlIGluc3RhbmNlb2YgTm9kZTsgY2FuZGlkYXRlID0gY2FuZGlkYXRlLm5leHQpIHtcbiAgICAgICAgICAgICAgICBpZiAoY2FuZGlkYXRlICE9PSBuZXdOb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoY2FuZGlkYXRlLnByZXYgJiYgY2FuZGlkYXRlLm5leHQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gbWlkZGxlXG4gICAgICAgICAgICAgICAgICAgIHZhciBhbmNob3IgPSBjYW5kaWRhdGUucHJldjtcbiAgICAgICAgICAgICAgICAgICAgYW5jaG9yLm5leHQgPSBjYW5kaWRhdGUubmV4dDtcbiAgICAgICAgICAgICAgICAgICAgY2FuZGlkYXRlLm5leHQucHJldiA9IGFuY2hvcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoIWNhbmRpZGF0ZS5wcmV2ICYmICFjYW5kaWRhdGUubmV4dCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBvbmx5IG5vZGVcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2ZpcnN0ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fbGFzdCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoIWNhbmRpZGF0ZS5uZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGxhc3RcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2xhc3QgPSBfdGhpcy5fbGFzdC5wcmV2O1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fbGFzdC5uZXh0ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICghY2FuZGlkYXRlLnByZXYpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZmlyc3RcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2ZpcnN0ID0gX3RoaXMuX2ZpcnN0Lm5leHQ7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl9maXJzdC5wcmV2ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBkb25lXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBMaW5rZWRMaXN0LnByb3RvdHlwZS5pdGVyYXRvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGVsZW1lbnQgPSB7XG4gICAgICAgICAgICBkb25lOiB1bmRlZmluZWQsXG4gICAgICAgICAgICB2YWx1ZTogdW5kZWZpbmVkLFxuICAgICAgICB9O1xuICAgICAgICB2YXIgbm9kZSA9IHRoaXMuX2ZpcnN0O1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmICghbm9kZSkge1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmRvbmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5kb25lID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQudmFsdWUgPSBub2RlLmVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgICAgIG5vZGUgPSBub2RlLm5leHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH07XG4gICAgTGlua2VkTGlzdC5wcm90b3R5cGUudG9BcnJheSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgICBmb3IgKHZhciBub2RlID0gdGhpcy5fZmlyc3Q7IG5vZGUgaW5zdGFuY2VvZiBOb2RlOyBub2RlID0gbm9kZS5uZXh0KSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaChub2RlLmVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICByZXR1cm4gTGlua2VkTGlzdDtcbn0oKSk7XG5leHBvcnQgeyBMaW5rZWRMaXN0IH07XG4iLCIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbid1c2Ugc3RyaWN0JztcbmltcG9ydCB7IHRvRGlzcG9zYWJsZSwgY29tYmluZWREaXNwb3NhYmxlLCBlbXB0eSBhcyBFbXB0eURpc3Bvc2FibGUgfSBmcm9tICcuL2xpZmVjeWNsZS5qcyc7XG5pbXBvcnQgeyBUUHJvbWlzZSB9IGZyb20gJy4vd2luanMuYmFzZS5qcyc7XG5pbXBvcnQgeyBvbmNlIGFzIG9uY2VGbiB9IGZyb20gJy4vZnVuY3Rpb25hbC5qcyc7XG5pbXBvcnQgeyBvblVuZXhwZWN0ZWRFcnJvciB9IGZyb20gJy4vZXJyb3JzLmpzJztcbmltcG9ydCB7IExpbmtlZExpc3QgfSBmcm9tICcuL2xpbmtlZExpc3QuanMnO1xuZXhwb3J0IHZhciBFdmVudDtcbihmdW5jdGlvbiAoRXZlbnQpIHtcbiAgICB2YXIgX2Rpc3Bvc2FibGUgPSB7IGRpc3Bvc2U6IGZ1bmN0aW9uICgpIHsgfSB9O1xuICAgIEV2ZW50Lk5vbmUgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBfZGlzcG9zYWJsZTsgfTtcbn0pKEV2ZW50IHx8IChFdmVudCA9IHt9KSk7XG4vKipcbiAqIFRoZSBFbWl0dGVyIGNhbiBiZSB1c2VkIHRvIGV4cG9zZSBhbiBFdmVudCB0byB0aGUgcHVibGljXG4gKiB0byBmaXJlIGl0IGZyb20gdGhlIGluc2lkZXMuXG4gKiBTYW1wbGU6XG4gICAgY2xhc3MgRG9jdW1lbnQge1xuXG4gICAgICAgIHByaXZhdGUgX29uRGlkQ2hhbmdlID0gbmV3IEVtaXR0ZXI8KHZhbHVlOnN0cmluZyk9PmFueT4oKTtcblxuICAgICAgICBwdWJsaWMgb25EaWRDaGFuZ2UgPSB0aGlzLl9vbkRpZENoYW5nZS5ldmVudDtcblxuICAgICAgICAvLyBnZXR0ZXItc3R5bGVcbiAgICAgICAgLy8gZ2V0IG9uRGlkQ2hhbmdlKCk6IEV2ZW50PCh2YWx1ZTpzdHJpbmcpPT5hbnk+IHtcbiAgICAgICAgLy8gXHRyZXR1cm4gdGhpcy5fb25EaWRDaGFuZ2UuZXZlbnQ7XG4gICAgICAgIC8vIH1cblxuICAgICAgICBwcml2YXRlIF9kb0l0KCkge1xuICAgICAgICAgICAgLy8uLi5cbiAgICAgICAgICAgIHRoaXMuX29uRGlkQ2hhbmdlLmZpcmUodmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuICovXG52YXIgRW1pdHRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBFbWl0dGVyKF9vcHRpb25zKSB7XG4gICAgICAgIHRoaXMuX29wdGlvbnMgPSBfb3B0aW9ucztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEVtaXR0ZXIucHJvdG90eXBlLCBcImV2ZW50XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZvciB0aGUgcHVibGljIHRvIGFsbG93IHRvIHN1YnNjcmliZVxuICAgICAgICAgKiB0byBldmVudHMgZnJvbSB0aGlzIEVtaXR0ZXJcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIGlmICghdGhpcy5fZXZlbnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9ldmVudCA9IGZ1bmN0aW9uIChsaXN0ZW5lciwgdGhpc0FyZ3MsIGRpc3Bvc2FibGVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghX3RoaXMuX2xpc3RlbmVycykge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2xpc3RlbmVycyA9IG5ldyBMaW5rZWRMaXN0KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdmFyIGZpcnN0TGlzdGVuZXIgPSBfdGhpcy5fbGlzdGVuZXJzLmlzRW1wdHkoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpcnN0TGlzdGVuZXIgJiYgX3RoaXMuX29wdGlvbnMgJiYgX3RoaXMuX29wdGlvbnMub25GaXJzdExpc3RlbmVyQWRkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fb3B0aW9ucy5vbkZpcnN0TGlzdGVuZXJBZGQoX3RoaXMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHZhciByZW1vdmUgPSBfdGhpcy5fbGlzdGVuZXJzLnB1c2goIXRoaXNBcmdzID8gbGlzdGVuZXIgOiBbbGlzdGVuZXIsIHRoaXNBcmdzXSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmaXJzdExpc3RlbmVyICYmIF90aGlzLl9vcHRpb25zICYmIF90aGlzLl9vcHRpb25zLm9uRmlyc3RMaXN0ZW5lckRpZEFkZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX29wdGlvbnMub25GaXJzdExpc3RlbmVyRGlkQWRkKF90aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMuX29wdGlvbnMgJiYgX3RoaXMuX29wdGlvbnMub25MaXN0ZW5lckRpZEFkZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX29wdGlvbnMub25MaXN0ZW5lckRpZEFkZChfdGhpcywgbGlzdGVuZXIsIHRoaXNBcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwb3NlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmRpc3Bvc2UgPSBFbWl0dGVyLl9ub29wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghX3RoaXMuX2Rpc3Bvc2VkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMuX29wdGlvbnMgJiYgX3RoaXMuX29wdGlvbnMub25MYXN0TGlzdGVuZXJSZW1vdmUgJiYgX3RoaXMuX2xpc3RlbmVycy5pc0VtcHR5KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9vcHRpb25zLm9uTGFzdExpc3RlbmVyUmVtb3ZlKF90aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGlzcG9zYWJsZXMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwb3NhYmxlcy5wdXNoKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2V2ZW50O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBUbyBiZSBrZXB0IHByaXZhdGUgdG8gZmlyZSBhbiBldmVudCB0b1xuICAgICAqIHN1YnNjcmliZXJzXG4gICAgICovXG4gICAgRW1pdHRlci5wcm90b3R5cGUuZmlyZSA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBpZiAodGhpcy5fbGlzdGVuZXJzKSB7XG4gICAgICAgICAgICAvLyBwdXQgYWxsIFtsaXN0ZW5lcixldmVudF0tcGFpcnMgaW50byBkZWxpdmVyeSBxdWV1ZVxuICAgICAgICAgICAgLy8gdGhlbiBlbWl0IGFsbCBldmVudC4gYW4gaW5uZXIvbmVzdGVkIGV2ZW50IG1pZ2h0IGJlXG4gICAgICAgICAgICAvLyB0aGUgZHJpdmVyIG9mIHRoaXNcbiAgICAgICAgICAgIGlmICghdGhpcy5fZGVsaXZlcnlRdWV1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2RlbGl2ZXJ5UXVldWUgPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAodmFyIGl0ZXIgPSB0aGlzLl9saXN0ZW5lcnMuaXRlcmF0b3IoKSwgZSA9IGl0ZXIubmV4dCgpOyAhZS5kb25lOyBlID0gaXRlci5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9kZWxpdmVyeVF1ZXVlLnB1c2goW2UudmFsdWUsIGV2ZW50XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3aGlsZSAodGhpcy5fZGVsaXZlcnlRdWV1ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9hID0gdGhpcy5fZGVsaXZlcnlRdWV1ZS5zaGlmdCgpLCBsaXN0ZW5lciA9IF9hWzBdLCBldmVudF8xID0gX2FbMV07XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBsaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXIuY2FsbCh1bmRlZmluZWQsIGV2ZW50XzEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXJbMF0uY2FsbChsaXN0ZW5lclsxXSwgZXZlbnRfMSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgb25VbmV4cGVjdGVkRXJyb3IoZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBFbWl0dGVyLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5fbGlzdGVuZXJzKSB7XG4gICAgICAgICAgICB0aGlzLl9saXN0ZW5lcnMgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2RlbGl2ZXJ5UXVldWUpIHtcbiAgICAgICAgICAgIHRoaXMuX2RlbGl2ZXJ5UXVldWUubGVuZ3RoID0gMDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9kaXNwb3NlZCA9IHRydWU7XG4gICAgfTtcbiAgICBFbWl0dGVyLl9ub29wID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgIHJldHVybiBFbWl0dGVyO1xufSgpKTtcbmV4cG9ydCB7IEVtaXR0ZXIgfTtcbnZhciBFdmVudE11bHRpcGxleGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEV2ZW50TXVsdGlwbGV4ZXIoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuaGFzTGlzdGVuZXJzID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZXZlbnRzID0gW107XG4gICAgICAgIHRoaXMuZW1pdHRlciA9IG5ldyBFbWl0dGVyKHtcbiAgICAgICAgICAgIG9uRmlyc3RMaXN0ZW5lckFkZDogZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMub25GaXJzdExpc3RlbmVyQWRkKCk7IH0sXG4gICAgICAgICAgICBvbkxhc3RMaXN0ZW5lclJlbW92ZTogZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMub25MYXN0TGlzdGVuZXJSZW1vdmUoKTsgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEV2ZW50TXVsdGlwbGV4ZXIucHJvdG90eXBlLCBcImV2ZW50XCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lbWl0dGVyLmV2ZW50O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBFdmVudE11bHRpcGxleGVyLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGUgPSB7IGV2ZW50OiBldmVudCwgbGlzdGVuZXI6IG51bGwgfTtcbiAgICAgICAgdGhpcy5ldmVudHMucHVzaChlKTtcbiAgICAgICAgaWYgKHRoaXMuaGFzTGlzdGVuZXJzKSB7XG4gICAgICAgICAgICB0aGlzLmhvb2soZSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMuaGFzTGlzdGVuZXJzKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMudW5ob29rKGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGlkeCA9IF90aGlzLmV2ZW50cy5pbmRleE9mKGUpO1xuICAgICAgICAgICAgX3RoaXMuZXZlbnRzLnNwbGljZShpZHgsIDEpO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdG9EaXNwb3NhYmxlKG9uY2VGbihkaXNwb3NlKSk7XG4gICAgfTtcbiAgICBFdmVudE11bHRpcGxleGVyLnByb3RvdHlwZS5vbkZpcnN0TGlzdGVuZXJBZGQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuaGFzTGlzdGVuZXJzID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5ldmVudHMuZm9yRWFjaChmdW5jdGlvbiAoZSkgeyByZXR1cm4gX3RoaXMuaG9vayhlKTsgfSk7XG4gICAgfTtcbiAgICBFdmVudE11bHRpcGxleGVyLnByb3RvdHlwZS5vbkxhc3RMaXN0ZW5lclJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5oYXNMaXN0ZW5lcnMgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5ldmVudHMuZm9yRWFjaChmdW5jdGlvbiAoZSkgeyByZXR1cm4gX3RoaXMudW5ob29rKGUpOyB9KTtcbiAgICB9O1xuICAgIEV2ZW50TXVsdGlwbGV4ZXIucHJvdG90eXBlLmhvb2sgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBlLmxpc3RlbmVyID0gZS5ldmVudChmdW5jdGlvbiAocikgeyByZXR1cm4gX3RoaXMuZW1pdHRlci5maXJlKHIpOyB9KTtcbiAgICB9O1xuICAgIEV2ZW50TXVsdGlwbGV4ZXIucHJvdG90eXBlLnVuaG9vayA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGUubGlzdGVuZXIuZGlzcG9zZSgpO1xuICAgICAgICBlLmxpc3RlbmVyID0gbnVsbDtcbiAgICB9O1xuICAgIEV2ZW50TXVsdGlwbGV4ZXIucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZW1pdHRlci5kaXNwb3NlKCk7XG4gICAgfTtcbiAgICByZXR1cm4gRXZlbnRNdWx0aXBsZXhlcjtcbn0oKSk7XG5leHBvcnQgeyBFdmVudE11bHRpcGxleGVyIH07XG5leHBvcnQgZnVuY3Rpb24gZnJvbUNhbGxiYWNrKGZuKSB7XG4gICAgdmFyIGxpc3RlbmVyO1xuICAgIHZhciBlbWl0dGVyID0gbmV3IEVtaXR0ZXIoe1xuICAgICAgICBvbkZpcnN0TGlzdGVuZXJBZGQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGxpc3RlbmVyID0gZm4oZnVuY3Rpb24gKGUpIHsgcmV0dXJuIGVtaXR0ZXIuZmlyZShlKTsgfSk7IH0sXG4gICAgICAgIG9uTGFzdExpc3RlbmVyUmVtb3ZlOiBmdW5jdGlvbiAoKSB7IHJldHVybiBsaXN0ZW5lci5kaXNwb3NlKCk7IH1cbiAgICB9KTtcbiAgICByZXR1cm4gZW1pdHRlci5ldmVudDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBmcm9tUHJvbWlzZShwcm9taXNlKSB7XG4gICAgdmFyIGVtaXR0ZXIgPSBuZXcgRW1pdHRlcigpO1xuICAgIHZhciBzaG91bGRFbWl0ID0gZmFsc2U7XG4gICAgcHJvbWlzZVxuICAgICAgICAudGhlbihudWxsLCBmdW5jdGlvbiAoKSB7IHJldHVybiBudWxsOyB9KVxuICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghc2hvdWxkRW1pdCkge1xuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHJldHVybiBlbWl0dGVyLmZpcmUoKTsgfSwgMCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBlbWl0dGVyLmZpcmUoKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHNob3VsZEVtaXQgPSB0cnVlO1xuICAgIHJldHVybiBlbWl0dGVyLmV2ZW50O1xufVxuZXhwb3J0IGZ1bmN0aW9uIHRvUHJvbWlzZShldmVudCkge1xuICAgIHJldHVybiBuZXcgVFByb21pc2UoZnVuY3Rpb24gKGNvbXBsZXRlKSB7XG4gICAgICAgIHZhciBzdWIgPSBldmVudChmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgc3ViLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIGNvbXBsZXRlKGUpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBvbmNlKGV2ZW50KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChsaXN0ZW5lciwgdGhpc0FyZ3MsIGRpc3Bvc2FibGVzKSB7XG4gICAgICAgIGlmICh0aGlzQXJncyA9PT0gdm9pZCAwKSB7IHRoaXNBcmdzID0gbnVsbDsgfVxuICAgICAgICB2YXIgcmVzdWx0ID0gZXZlbnQoZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIHJlc3VsdC5kaXNwb3NlKCk7XG4gICAgICAgICAgICByZXR1cm4gbGlzdGVuZXIuY2FsbCh0aGlzQXJncywgZSk7XG4gICAgICAgIH0sIG51bGwsIGRpc3Bvc2FibGVzKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGFueUV2ZW50KCkge1xuICAgIHZhciBldmVudHMgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBldmVudHNbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChsaXN0ZW5lciwgdGhpc0FyZ3MsIGRpc3Bvc2FibGVzKSB7XG4gICAgICAgIGlmICh0aGlzQXJncyA9PT0gdm9pZCAwKSB7IHRoaXNBcmdzID0gbnVsbDsgfVxuICAgICAgICByZXR1cm4gY29tYmluZWREaXNwb3NhYmxlKGV2ZW50cy5tYXAoZnVuY3Rpb24gKGV2ZW50KSB7IHJldHVybiBldmVudChmdW5jdGlvbiAoZSkgeyByZXR1cm4gbGlzdGVuZXIuY2FsbCh0aGlzQXJncywgZSk7IH0sIG51bGwsIGRpc3Bvc2FibGVzKTsgfSkpO1xuICAgIH07XG59XG5leHBvcnQgZnVuY3Rpb24gZGVib3VuY2VFdmVudChldmVudCwgbWVyZ2VyLCBkZWxheSwgbGVhZGluZykge1xuICAgIGlmIChkZWxheSA9PT0gdm9pZCAwKSB7IGRlbGF5ID0gMTAwOyB9XG4gICAgaWYgKGxlYWRpbmcgPT09IHZvaWQgMCkgeyBsZWFkaW5nID0gZmFsc2U7IH1cbiAgICB2YXIgc3Vic2NyaXB0aW9uO1xuICAgIHZhciBvdXRwdXQgPSB1bmRlZmluZWQ7XG4gICAgdmFyIGhhbmRsZSA9IHVuZGVmaW5lZDtcbiAgICB2YXIgbnVtRGVib3VuY2VkQ2FsbHMgPSAwO1xuICAgIHZhciBlbWl0dGVyID0gbmV3IEVtaXR0ZXIoe1xuICAgICAgICBvbkZpcnN0TGlzdGVuZXJBZGQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbiA9IGV2ZW50KGZ1bmN0aW9uIChjdXIpIHtcbiAgICAgICAgICAgICAgICBudW1EZWJvdW5jZWRDYWxscysrO1xuICAgICAgICAgICAgICAgIG91dHB1dCA9IG1lcmdlcihvdXRwdXQsIGN1cik7XG4gICAgICAgICAgICAgICAgaWYgKGxlYWRpbmcgJiYgIWhhbmRsZSkge1xuICAgICAgICAgICAgICAgICAgICBlbWl0dGVyLmZpcmUob3V0cHV0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGhhbmRsZSk7XG4gICAgICAgICAgICAgICAgaGFuZGxlID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfb3V0cHV0ID0gb3V0cHV0O1xuICAgICAgICAgICAgICAgICAgICBvdXRwdXQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFsZWFkaW5nIHx8IG51bURlYm91bmNlZENhbGxzID4gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZW1pdHRlci5maXJlKF9vdXRwdXQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG51bURlYm91bmNlZENhbGxzID0gMDtcbiAgICAgICAgICAgICAgICB9LCBkZWxheSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgb25MYXN0TGlzdGVuZXJSZW1vdmU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbi5kaXNwb3NlKCk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gZW1pdHRlci5ldmVudDtcbn1cbi8qKlxuICogVGhlIEV2ZW50RGVsYXllciBpcyB1c2VmdWwgaW4gc2l0dWF0aW9ucyBpbiB3aGljaCB5b3Ugd2FudFxuICogdG8gZGVsYXkgZmlyaW5nIHlvdXIgZXZlbnRzIGR1cmluZyBzb21lIGNvZGUuXG4gKiBZb3UgY2FuIHdyYXAgdGhhdCBjb2RlIGFuZCBiZSBzdXJlIHRoYXQgdGhlIGV2ZW50IHdpbGwgbm90XG4gKiBiZSBmaXJlZCBkdXJpbmcgdGhhdCB3cmFwLlxuICpcbiAqIGBgYFxuICogY29uc3QgZW1pdHRlcjogRW1pdHRlcjtcbiAqIGNvbnN0IGRlbGF5ZXIgPSBuZXcgRXZlbnREZWxheWVyKCk7XG4gKiBjb25zdCBkZWxheWVkRXZlbnQgPSBkZWxheWVyLndyYXBFdmVudChlbWl0dGVyLmV2ZW50KTtcbiAqXG4gKiBkZWxheWVkRXZlbnQoY29uc29sZS5sb2cpO1xuICpcbiAqIGRlbGF5ZXIuYnVmZmVyRXZlbnRzKCgpID0+IHtcbiAqICAgZW1pdHRlci5maXJlKCk7IC8vIGV2ZW50IHdpbGwgbm90IGJlIGZpcmVkIHlldFxuICogfSk7XG4gKlxuICogLy8gZXZlbnQgd2lsbCBvbmx5IGJlIGZpcmVkIGF0IHRoaXMgcG9pbnRcbiAqIGBgYFxuICovXG52YXIgRXZlbnRCdWZmZXJlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBFdmVudEJ1ZmZlcmVyKCkge1xuICAgICAgICB0aGlzLmJ1ZmZlcnMgPSBbXTtcbiAgICB9XG4gICAgRXZlbnRCdWZmZXJlci5wcm90b3R5cGUud3JhcEV2ZW50ID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAobGlzdGVuZXIsIHRoaXNBcmdzLCBkaXNwb3NhYmxlcykge1xuICAgICAgICAgICAgcmV0dXJuIGV2ZW50KGZ1bmN0aW9uIChpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGJ1ZmZlciA9IF90aGlzLmJ1ZmZlcnNbX3RoaXMuYnVmZmVycy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgICAgICBpZiAoYnVmZmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGJ1ZmZlci5wdXNoKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGxpc3RlbmVyLmNhbGwodGhpc0FyZ3MsIGkpOyB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxpc3RlbmVyLmNhbGwodGhpc0FyZ3MsIGkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHZvaWQgMCwgZGlzcG9zYWJsZXMpO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgRXZlbnRCdWZmZXJlci5wcm90b3R5cGUuYnVmZmVyRXZlbnRzID0gZnVuY3Rpb24gKGZuKSB7XG4gICAgICAgIHZhciBidWZmZXIgPSBbXTtcbiAgICAgICAgdGhpcy5idWZmZXJzLnB1c2goYnVmZmVyKTtcbiAgICAgICAgZm4oKTtcbiAgICAgICAgdGhpcy5idWZmZXJzLnBvcCgpO1xuICAgICAgICBidWZmZXIuZm9yRWFjaChmdW5jdGlvbiAoZmx1c2gpIHsgcmV0dXJuIGZsdXNoKCk7IH0pO1xuICAgIH07XG4gICAgcmV0dXJuIEV2ZW50QnVmZmVyZXI7XG59KCkpO1xuZXhwb3J0IHsgRXZlbnRCdWZmZXJlciB9O1xuZXhwb3J0IGZ1bmN0aW9uIG1hcEV2ZW50KGV2ZW50LCBtYXApIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGxpc3RlbmVyLCB0aGlzQXJncywgZGlzcG9zYWJsZXMpIHtcbiAgICAgICAgaWYgKHRoaXNBcmdzID09PSB2b2lkIDApIHsgdGhpc0FyZ3MgPSBudWxsOyB9XG4gICAgICAgIHJldHVybiBldmVudChmdW5jdGlvbiAoaSkgeyByZXR1cm4gbGlzdGVuZXIuY2FsbCh0aGlzQXJncywgbWFwKGkpKTsgfSwgbnVsbCwgZGlzcG9zYWJsZXMpO1xuICAgIH07XG59XG5leHBvcnQgZnVuY3Rpb24gZm9yRWFjaChldmVudCwgZWFjaCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAobGlzdGVuZXIsIHRoaXNBcmdzLCBkaXNwb3NhYmxlcykge1xuICAgICAgICBpZiAodGhpc0FyZ3MgPT09IHZvaWQgMCkgeyB0aGlzQXJncyA9IG51bGw7IH1cbiAgICAgICAgcmV0dXJuIGV2ZW50KGZ1bmN0aW9uIChpKSB7IGVhY2goaSk7IGxpc3RlbmVyLmNhbGwodGhpc0FyZ3MsIGkpOyB9LCBudWxsLCBkaXNwb3NhYmxlcyk7XG4gICAgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBmaWx0ZXJFdmVudChldmVudCwgZmlsdGVyKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChsaXN0ZW5lciwgdGhpc0FyZ3MsIGRpc3Bvc2FibGVzKSB7XG4gICAgICAgIGlmICh0aGlzQXJncyA9PT0gdm9pZCAwKSB7IHRoaXNBcmdzID0gbnVsbDsgfVxuICAgICAgICByZXR1cm4gZXZlbnQoZnVuY3Rpb24gKGUpIHsgcmV0dXJuIGZpbHRlcihlKSAmJiBsaXN0ZW5lci5jYWxsKHRoaXNBcmdzLCBlKTsgfSwgbnVsbCwgZGlzcG9zYWJsZXMpO1xuICAgIH07XG59XG52YXIgQ2hhaW5hYmxlRXZlbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ2hhaW5hYmxlRXZlbnQoX2V2ZW50KSB7XG4gICAgICAgIHRoaXMuX2V2ZW50ID0gX2V2ZW50O1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ2hhaW5hYmxlRXZlbnQucHJvdG90eXBlLCBcImV2ZW50XCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLl9ldmVudDsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgQ2hhaW5hYmxlRXZlbnQucHJvdG90eXBlLm1hcCA9IGZ1bmN0aW9uIChmbikge1xuICAgICAgICByZXR1cm4gbmV3IENoYWluYWJsZUV2ZW50KG1hcEV2ZW50KHRoaXMuX2V2ZW50LCBmbikpO1xuICAgIH07XG4gICAgQ2hhaW5hYmxlRXZlbnQucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDaGFpbmFibGVFdmVudChmb3JFYWNoKHRoaXMuX2V2ZW50LCBmbikpO1xuICAgIH07XG4gICAgQ2hhaW5hYmxlRXZlbnQucHJvdG90eXBlLmZpbHRlciA9IGZ1bmN0aW9uIChmbikge1xuICAgICAgICByZXR1cm4gbmV3IENoYWluYWJsZUV2ZW50KGZpbHRlckV2ZW50KHRoaXMuX2V2ZW50LCBmbikpO1xuICAgIH07XG4gICAgQ2hhaW5hYmxlRXZlbnQucHJvdG90eXBlLmxhdGNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbmV3IENoYWluYWJsZUV2ZW50KGxhdGNoKHRoaXMuX2V2ZW50KSk7XG4gICAgfTtcbiAgICBDaGFpbmFibGVFdmVudC5wcm90b3R5cGUub24gPSBmdW5jdGlvbiAobGlzdGVuZXIsIHRoaXNBcmdzLCBkaXNwb3NhYmxlcykge1xuICAgICAgICByZXR1cm4gdGhpcy5fZXZlbnQobGlzdGVuZXIsIHRoaXNBcmdzLCBkaXNwb3NhYmxlcyk7XG4gICAgfTtcbiAgICByZXR1cm4gQ2hhaW5hYmxlRXZlbnQ7XG59KCkpO1xuZXhwb3J0IGZ1bmN0aW9uIGNoYWluKGV2ZW50KSB7XG4gICAgcmV0dXJuIG5ldyBDaGFpbmFibGVFdmVudChldmVudCk7XG59XG5leHBvcnQgZnVuY3Rpb24gc3RvcHdhdGNoKGV2ZW50KSB7XG4gICAgdmFyIHN0YXJ0ID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgcmV0dXJuIG1hcEV2ZW50KG9uY2UoZXZlbnQpLCBmdW5jdGlvbiAoXykgeyByZXR1cm4gbmV3IERhdGUoKS5nZXRUaW1lKCkgLSBzdGFydDsgfSk7XG59XG4vKipcbiAqIEJ1ZmZlcnMgdGhlIHByb3ZpZGVkIGV2ZW50IHVudGlsIGEgZmlyc3QgbGlzdGVuZXIgY29tZXNcbiAqIGFsb25nLCBhdCB3aGljaCBwb2ludCBmaXJlIGFsbCB0aGUgZXZlbnRzIGF0IG9uY2UgYW5kXG4gKiBwaXBlIHRoZSBldmVudCBmcm9tIHRoZW4gb24uXG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogY29uc3QgZW1pdHRlciA9IG5ldyBFbWl0dGVyPG51bWJlcj4oKTtcbiAqIGNvbnN0IGV2ZW50ID0gZW1pdHRlci5ldmVudDtcbiAqIGNvbnN0IGJ1ZmZlcmVkRXZlbnQgPSBidWZmZXIoZXZlbnQpO1xuICpcbiAqIGVtaXR0ZXIuZmlyZSgxKTtcbiAqIGVtaXR0ZXIuZmlyZSgyKTtcbiAqIGVtaXR0ZXIuZmlyZSgzKTtcbiAqIC8vIG5vdGhpbmcuLi5cbiAqXG4gKiBjb25zdCBsaXN0ZW5lciA9IGJ1ZmZlcmVkRXZlbnQobnVtID0+IGNvbnNvbGUubG9nKG51bSkpO1xuICogLy8gMSwgMiwgM1xuICpcbiAqIGVtaXR0ZXIuZmlyZSg0KTtcbiAqIC8vIDRcbiAqIGBgYFxuICovXG5leHBvcnQgZnVuY3Rpb24gYnVmZmVyKGV2ZW50LCBuZXh0VGljaywgYnVmZmVyKSB7XG4gICAgaWYgKG5leHRUaWNrID09PSB2b2lkIDApIHsgbmV4dFRpY2sgPSBmYWxzZTsgfVxuICAgIGlmIChidWZmZXIgPT09IHZvaWQgMCkgeyBidWZmZXIgPSBbXTsgfVxuICAgIGJ1ZmZlciA9IGJ1ZmZlci5zbGljZSgpO1xuICAgIHZhciBsaXN0ZW5lciA9IGV2ZW50KGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGlmIChidWZmZXIpIHtcbiAgICAgICAgICAgIGJ1ZmZlci5wdXNoKGUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZW1pdHRlci5maXJlKGUpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgdmFyIGZsdXNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBidWZmZXIuZm9yRWFjaChmdW5jdGlvbiAoZSkgeyByZXR1cm4gZW1pdHRlci5maXJlKGUpOyB9KTtcbiAgICAgICAgYnVmZmVyID0gbnVsbDtcbiAgICB9O1xuICAgIHZhciBlbWl0dGVyID0gbmV3IEVtaXR0ZXIoe1xuICAgICAgICBvbkZpcnN0TGlzdGVuZXJBZGQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghbGlzdGVuZXIpIHtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lciA9IGV2ZW50KGZ1bmN0aW9uIChlKSB7IHJldHVybiBlbWl0dGVyLmZpcmUoZSk7IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBvbkZpcnN0TGlzdGVuZXJEaWRBZGQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChidWZmZXIpIHtcbiAgICAgICAgICAgICAgICBpZiAobmV4dFRpY2spIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmbHVzaCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBmbHVzaCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgb25MYXN0TGlzdGVuZXJSZW1vdmU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGxpc3RlbmVyLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIGxpc3RlbmVyID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBlbWl0dGVyLmV2ZW50O1xufVxuLyoqXG4gKiBTaW1pbGFyIHRvIGBidWZmZXJgIGJ1dCBpdCBidWZmZXJzIGluZGVmaW5pdGVseSBhbmQgcmVwZWF0c1xuICogdGhlIGJ1ZmZlcmVkIGV2ZW50cyB0byBldmVyeSBuZXcgbGlzdGVuZXIuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlY2hvKGV2ZW50LCBuZXh0VGljaywgYnVmZmVyKSB7XG4gICAgaWYgKG5leHRUaWNrID09PSB2b2lkIDApIHsgbmV4dFRpY2sgPSBmYWxzZTsgfVxuICAgIGlmIChidWZmZXIgPT09IHZvaWQgMCkgeyBidWZmZXIgPSBbXTsgfVxuICAgIGJ1ZmZlciA9IGJ1ZmZlci5zbGljZSgpO1xuICAgIGV2ZW50KGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGJ1ZmZlci5wdXNoKGUpO1xuICAgICAgICBlbWl0dGVyLmZpcmUoZSk7XG4gICAgfSk7XG4gICAgdmFyIGZsdXNoID0gZnVuY3Rpb24gKGxpc3RlbmVyLCB0aGlzQXJncykgeyByZXR1cm4gYnVmZmVyLmZvckVhY2goZnVuY3Rpb24gKGUpIHsgcmV0dXJuIGxpc3RlbmVyLmNhbGwodGhpc0FyZ3MsIGUpOyB9KTsgfTtcbiAgICB2YXIgZW1pdHRlciA9IG5ldyBFbWl0dGVyKHtcbiAgICAgICAgb25MaXN0ZW5lckRpZEFkZDogZnVuY3Rpb24gKGVtaXR0ZXIsIGxpc3RlbmVyLCB0aGlzQXJncykge1xuICAgICAgICAgICAgaWYgKG5leHRUaWNrKSB7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHJldHVybiBmbHVzaChsaXN0ZW5lciwgdGhpc0FyZ3MpOyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGZsdXNoKGxpc3RlbmVyLCB0aGlzQXJncyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gZW1pdHRlci5ldmVudDtcbn1cbnZhciBSZWxheSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZWxheSgpIHtcbiAgICAgICAgdGhpcy5lbWl0dGVyID0gbmV3IEVtaXR0ZXIoKTtcbiAgICAgICAgdGhpcy5ldmVudCA9IHRoaXMuZW1pdHRlci5ldmVudDtcbiAgICAgICAgdGhpcy5kaXNwb3NhYmxlID0gRW1wdHlEaXNwb3NhYmxlO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVsYXkucHJvdG90eXBlLCBcImlucHV0XCIsIHtcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcG9zYWJsZS5kaXNwb3NlKCk7XG4gICAgICAgICAgICB0aGlzLmRpc3Bvc2FibGUgPSBldmVudCh0aGlzLmVtaXR0ZXIuZmlyZSwgdGhpcy5lbWl0dGVyKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgUmVsYXkucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZGlzcG9zYWJsZS5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMuZW1pdHRlci5kaXNwb3NlKCk7XG4gICAgfTtcbiAgICByZXR1cm4gUmVsYXk7XG59KCkpO1xuZXhwb3J0IHsgUmVsYXkgfTtcbmV4cG9ydCBmdW5jdGlvbiBmcm9tTm9kZUV2ZW50RW1pdHRlcihlbWl0dGVyLCBldmVudE5hbWUsIG1hcCkge1xuICAgIGlmIChtYXAgPT09IHZvaWQgMCkgeyBtYXAgPSBmdW5jdGlvbiAoaWQpIHsgcmV0dXJuIGlkOyB9OyB9XG4gICAgdmFyIGZuID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQuZmlyZShtYXAuYXBwbHkodm9pZCAwLCBhcmdzKSk7XG4gICAgfTtcbiAgICB2YXIgb25GaXJzdExpc3RlbmVyQWRkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gZW1pdHRlci5vbihldmVudE5hbWUsIGZuKTsgfTtcbiAgICB2YXIgb25MYXN0TGlzdGVuZXJSZW1vdmUgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBlbWl0dGVyLnJlbW92ZUxpc3RlbmVyKGV2ZW50TmFtZSwgZm4pOyB9O1xuICAgIHZhciByZXN1bHQgPSBuZXcgRW1pdHRlcih7IG9uRmlyc3RMaXN0ZW5lckFkZDogb25GaXJzdExpc3RlbmVyQWRkLCBvbkxhc3RMaXN0ZW5lclJlbW92ZTogb25MYXN0TGlzdGVuZXJSZW1vdmUgfSk7XG4gICAgcmV0dXJuIHJlc3VsdC5ldmVudDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBsYXRjaChldmVudCkge1xuICAgIHZhciBmaXJzdENhbGwgPSB0cnVlO1xuICAgIHZhciBjYWNoZTtcbiAgICByZXR1cm4gZmlsdGVyRXZlbnQoZXZlbnQsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB2YXIgc2hvdWxkRW1pdCA9IGZpcnN0Q2FsbCB8fCB2YWx1ZSAhPT0gY2FjaGU7XG4gICAgICAgIGZpcnN0Q2FsbCA9IGZhbHNlO1xuICAgICAgICBjYWNoZSA9IHZhbHVlO1xuICAgICAgICByZXR1cm4gc2hvdWxkRW1pdDtcbiAgICB9KTtcbn1cbiIsIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuJ3VzZSBzdHJpY3QnO1xudmFyIEtleUNvZGVTdHJNYXAgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gS2V5Q29kZVN0ck1hcCgpIHtcbiAgICAgICAgdGhpcy5fa2V5Q29kZVRvU3RyID0gW107XG4gICAgICAgIHRoaXMuX3N0clRvS2V5Q29kZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgfVxuICAgIEtleUNvZGVTdHJNYXAucHJvdG90eXBlLmRlZmluZSA9IGZ1bmN0aW9uIChrZXlDb2RlLCBzdHIpIHtcbiAgICAgICAgdGhpcy5fa2V5Q29kZVRvU3RyW2tleUNvZGVdID0gc3RyO1xuICAgICAgICB0aGlzLl9zdHJUb0tleUNvZGVbc3RyLnRvTG93ZXJDYXNlKCldID0ga2V5Q29kZTtcbiAgICB9O1xuICAgIEtleUNvZGVTdHJNYXAucHJvdG90eXBlLmtleUNvZGVUb1N0ciA9IGZ1bmN0aW9uIChrZXlDb2RlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9rZXlDb2RlVG9TdHJba2V5Q29kZV07XG4gICAgfTtcbiAgICBLZXlDb2RlU3RyTWFwLnByb3RvdHlwZS5zdHJUb0tleUNvZGUgPSBmdW5jdGlvbiAoc3RyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdHJUb0tleUNvZGVbc3RyLnRvTG93ZXJDYXNlKCldIHx8IDAgLyogVW5rbm93biAqLztcbiAgICB9O1xuICAgIHJldHVybiBLZXlDb2RlU3RyTWFwO1xufSgpKTtcbnZhciB1aU1hcCA9IG5ldyBLZXlDb2RlU3RyTWFwKCk7XG52YXIgdXNlclNldHRpbmdzVVNNYXAgPSBuZXcgS2V5Q29kZVN0ck1hcCgpO1xudmFyIHVzZXJTZXR0aW5nc0dlbmVyYWxNYXAgPSBuZXcgS2V5Q29kZVN0ck1hcCgpO1xuKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBkZWZpbmUoa2V5Q29kZSwgdWlMYWJlbCwgdXNVc2VyU2V0dGluZ3NMYWJlbCwgZ2VuZXJhbFVzZXJTZXR0aW5nc0xhYmVsKSB7XG4gICAgICAgIGlmICh1c1VzZXJTZXR0aW5nc0xhYmVsID09PSB2b2lkIDApIHsgdXNVc2VyU2V0dGluZ3NMYWJlbCA9IHVpTGFiZWw7IH1cbiAgICAgICAgaWYgKGdlbmVyYWxVc2VyU2V0dGluZ3NMYWJlbCA9PT0gdm9pZCAwKSB7IGdlbmVyYWxVc2VyU2V0dGluZ3NMYWJlbCA9IHVzVXNlclNldHRpbmdzTGFiZWw7IH1cbiAgICAgICAgdWlNYXAuZGVmaW5lKGtleUNvZGUsIHVpTGFiZWwpO1xuICAgICAgICB1c2VyU2V0dGluZ3NVU01hcC5kZWZpbmUoa2V5Q29kZSwgdXNVc2VyU2V0dGluZ3NMYWJlbCk7XG4gICAgICAgIHVzZXJTZXR0aW5nc0dlbmVyYWxNYXAuZGVmaW5lKGtleUNvZGUsIGdlbmVyYWxVc2VyU2V0dGluZ3NMYWJlbCk7XG4gICAgfVxuICAgIGRlZmluZSgwIC8qIFVua25vd24gKi8sICd1bmtub3duJyk7XG4gICAgZGVmaW5lKDEgLyogQmFja3NwYWNlICovLCAnQmFja3NwYWNlJyk7XG4gICAgZGVmaW5lKDIgLyogVGFiICovLCAnVGFiJyk7XG4gICAgZGVmaW5lKDMgLyogRW50ZXIgKi8sICdFbnRlcicpO1xuICAgIGRlZmluZSg0IC8qIFNoaWZ0ICovLCAnU2hpZnQnKTtcbiAgICBkZWZpbmUoNSAvKiBDdHJsICovLCAnQ3RybCcpO1xuICAgIGRlZmluZSg2IC8qIEFsdCAqLywgJ0FsdCcpO1xuICAgIGRlZmluZSg3IC8qIFBhdXNlQnJlYWsgKi8sICdQYXVzZUJyZWFrJyk7XG4gICAgZGVmaW5lKDggLyogQ2Fwc0xvY2sgKi8sICdDYXBzTG9jaycpO1xuICAgIGRlZmluZSg5IC8qIEVzY2FwZSAqLywgJ0VzY2FwZScpO1xuICAgIGRlZmluZSgxMCAvKiBTcGFjZSAqLywgJ1NwYWNlJyk7XG4gICAgZGVmaW5lKDExIC8qIFBhZ2VVcCAqLywgJ1BhZ2VVcCcpO1xuICAgIGRlZmluZSgxMiAvKiBQYWdlRG93biAqLywgJ1BhZ2VEb3duJyk7XG4gICAgZGVmaW5lKDEzIC8qIEVuZCAqLywgJ0VuZCcpO1xuICAgIGRlZmluZSgxNCAvKiBIb21lICovLCAnSG9tZScpO1xuICAgIGRlZmluZSgxNSAvKiBMZWZ0QXJyb3cgKi8sICdMZWZ0QXJyb3cnLCAnTGVmdCcpO1xuICAgIGRlZmluZSgxNiAvKiBVcEFycm93ICovLCAnVXBBcnJvdycsICdVcCcpO1xuICAgIGRlZmluZSgxNyAvKiBSaWdodEFycm93ICovLCAnUmlnaHRBcnJvdycsICdSaWdodCcpO1xuICAgIGRlZmluZSgxOCAvKiBEb3duQXJyb3cgKi8sICdEb3duQXJyb3cnLCAnRG93bicpO1xuICAgIGRlZmluZSgxOSAvKiBJbnNlcnQgKi8sICdJbnNlcnQnKTtcbiAgICBkZWZpbmUoMjAgLyogRGVsZXRlICovLCAnRGVsZXRlJyk7XG4gICAgZGVmaW5lKDIxIC8qIEtFWV8wICovLCAnMCcpO1xuICAgIGRlZmluZSgyMiAvKiBLRVlfMSAqLywgJzEnKTtcbiAgICBkZWZpbmUoMjMgLyogS0VZXzIgKi8sICcyJyk7XG4gICAgZGVmaW5lKDI0IC8qIEtFWV8zICovLCAnMycpO1xuICAgIGRlZmluZSgyNSAvKiBLRVlfNCAqLywgJzQnKTtcbiAgICBkZWZpbmUoMjYgLyogS0VZXzUgKi8sICc1Jyk7XG4gICAgZGVmaW5lKDI3IC8qIEtFWV82ICovLCAnNicpO1xuICAgIGRlZmluZSgyOCAvKiBLRVlfNyAqLywgJzcnKTtcbiAgICBkZWZpbmUoMjkgLyogS0VZXzggKi8sICc4Jyk7XG4gICAgZGVmaW5lKDMwIC8qIEtFWV85ICovLCAnOScpO1xuICAgIGRlZmluZSgzMSAvKiBLRVlfQSAqLywgJ0EnKTtcbiAgICBkZWZpbmUoMzIgLyogS0VZX0IgKi8sICdCJyk7XG4gICAgZGVmaW5lKDMzIC8qIEtFWV9DICovLCAnQycpO1xuICAgIGRlZmluZSgzNCAvKiBLRVlfRCAqLywgJ0QnKTtcbiAgICBkZWZpbmUoMzUgLyogS0VZX0UgKi8sICdFJyk7XG4gICAgZGVmaW5lKDM2IC8qIEtFWV9GICovLCAnRicpO1xuICAgIGRlZmluZSgzNyAvKiBLRVlfRyAqLywgJ0cnKTtcbiAgICBkZWZpbmUoMzggLyogS0VZX0ggKi8sICdIJyk7XG4gICAgZGVmaW5lKDM5IC8qIEtFWV9JICovLCAnSScpO1xuICAgIGRlZmluZSg0MCAvKiBLRVlfSiAqLywgJ0onKTtcbiAgICBkZWZpbmUoNDEgLyogS0VZX0sgKi8sICdLJyk7XG4gICAgZGVmaW5lKDQyIC8qIEtFWV9MICovLCAnTCcpO1xuICAgIGRlZmluZSg0MyAvKiBLRVlfTSAqLywgJ00nKTtcbiAgICBkZWZpbmUoNDQgLyogS0VZX04gKi8sICdOJyk7XG4gICAgZGVmaW5lKDQ1IC8qIEtFWV9PICovLCAnTycpO1xuICAgIGRlZmluZSg0NiAvKiBLRVlfUCAqLywgJ1AnKTtcbiAgICBkZWZpbmUoNDcgLyogS0VZX1EgKi8sICdRJyk7XG4gICAgZGVmaW5lKDQ4IC8qIEtFWV9SICovLCAnUicpO1xuICAgIGRlZmluZSg0OSAvKiBLRVlfUyAqLywgJ1MnKTtcbiAgICBkZWZpbmUoNTAgLyogS0VZX1QgKi8sICdUJyk7XG4gICAgZGVmaW5lKDUxIC8qIEtFWV9VICovLCAnVScpO1xuICAgIGRlZmluZSg1MiAvKiBLRVlfViAqLywgJ1YnKTtcbiAgICBkZWZpbmUoNTMgLyogS0VZX1cgKi8sICdXJyk7XG4gICAgZGVmaW5lKDU0IC8qIEtFWV9YICovLCAnWCcpO1xuICAgIGRlZmluZSg1NSAvKiBLRVlfWSAqLywgJ1knKTtcbiAgICBkZWZpbmUoNTYgLyogS0VZX1ogKi8sICdaJyk7XG4gICAgZGVmaW5lKDU3IC8qIE1ldGEgKi8sICdNZXRhJyk7XG4gICAgZGVmaW5lKDU4IC8qIENvbnRleHRNZW51ICovLCAnQ29udGV4dE1lbnUnKTtcbiAgICBkZWZpbmUoNTkgLyogRjEgKi8sICdGMScpO1xuICAgIGRlZmluZSg2MCAvKiBGMiAqLywgJ0YyJyk7XG4gICAgZGVmaW5lKDYxIC8qIEYzICovLCAnRjMnKTtcbiAgICBkZWZpbmUoNjIgLyogRjQgKi8sICdGNCcpO1xuICAgIGRlZmluZSg2MyAvKiBGNSAqLywgJ0Y1Jyk7XG4gICAgZGVmaW5lKDY0IC8qIEY2ICovLCAnRjYnKTtcbiAgICBkZWZpbmUoNjUgLyogRjcgKi8sICdGNycpO1xuICAgIGRlZmluZSg2NiAvKiBGOCAqLywgJ0Y4Jyk7XG4gICAgZGVmaW5lKDY3IC8qIEY5ICovLCAnRjknKTtcbiAgICBkZWZpbmUoNjggLyogRjEwICovLCAnRjEwJyk7XG4gICAgZGVmaW5lKDY5IC8qIEYxMSAqLywgJ0YxMScpO1xuICAgIGRlZmluZSg3MCAvKiBGMTIgKi8sICdGMTInKTtcbiAgICBkZWZpbmUoNzEgLyogRjEzICovLCAnRjEzJyk7XG4gICAgZGVmaW5lKDcyIC8qIEYxNCAqLywgJ0YxNCcpO1xuICAgIGRlZmluZSg3MyAvKiBGMTUgKi8sICdGMTUnKTtcbiAgICBkZWZpbmUoNzQgLyogRjE2ICovLCAnRjE2Jyk7XG4gICAgZGVmaW5lKDc1IC8qIEYxNyAqLywgJ0YxNycpO1xuICAgIGRlZmluZSg3NiAvKiBGMTggKi8sICdGMTgnKTtcbiAgICBkZWZpbmUoNzcgLyogRjE5ICovLCAnRjE5Jyk7XG4gICAgZGVmaW5lKDc4IC8qIE51bUxvY2sgKi8sICdOdW1Mb2NrJyk7XG4gICAgZGVmaW5lKDc5IC8qIFNjcm9sbExvY2sgKi8sICdTY3JvbGxMb2NrJyk7XG4gICAgZGVmaW5lKDgwIC8qIFVTX1NFTUlDT0xPTiAqLywgJzsnLCAnOycsICdPRU1fMScpO1xuICAgIGRlZmluZSg4MSAvKiBVU19FUVVBTCAqLywgJz0nLCAnPScsICdPRU1fUExVUycpO1xuICAgIGRlZmluZSg4MiAvKiBVU19DT01NQSAqLywgJywnLCAnLCcsICdPRU1fQ09NTUEnKTtcbiAgICBkZWZpbmUoODMgLyogVVNfTUlOVVMgKi8sICctJywgJy0nLCAnT0VNX01JTlVTJyk7XG4gICAgZGVmaW5lKDg0IC8qIFVTX0RPVCAqLywgJy4nLCAnLicsICdPRU1fUEVSSU9EJyk7XG4gICAgZGVmaW5lKDg1IC8qIFVTX1NMQVNIICovLCAnLycsICcvJywgJ09FTV8yJyk7XG4gICAgZGVmaW5lKDg2IC8qIFVTX0JBQ0tUSUNLICovLCAnYCcsICdgJywgJ09FTV8zJyk7XG4gICAgZGVmaW5lKDExMCAvKiBBQk5UX0MxICovLCAnQUJOVF9DMScpO1xuICAgIGRlZmluZSgxMTEgLyogQUJOVF9DMiAqLywgJ0FCTlRfQzInKTtcbiAgICBkZWZpbmUoODcgLyogVVNfT1BFTl9TUVVBUkVfQlJBQ0tFVCAqLywgJ1snLCAnWycsICdPRU1fNCcpO1xuICAgIGRlZmluZSg4OCAvKiBVU19CQUNLU0xBU0ggKi8sICdcXFxcJywgJ1xcXFwnLCAnT0VNXzUnKTtcbiAgICBkZWZpbmUoODkgLyogVVNfQ0xPU0VfU1FVQVJFX0JSQUNLRVQgKi8sICddJywgJ10nLCAnT0VNXzYnKTtcbiAgICBkZWZpbmUoOTAgLyogVVNfUVVPVEUgKi8sICdcXCcnLCAnXFwnJywgJ09FTV83Jyk7XG4gICAgZGVmaW5lKDkxIC8qIE9FTV84ICovLCAnT0VNXzgnKTtcbiAgICBkZWZpbmUoOTIgLyogT0VNXzEwMiAqLywgJ09FTV8xMDInKTtcbiAgICBkZWZpbmUoOTMgLyogTlVNUEFEXzAgKi8sICdOdW1QYWQwJyk7XG4gICAgZGVmaW5lKDk0IC8qIE5VTVBBRF8xICovLCAnTnVtUGFkMScpO1xuICAgIGRlZmluZSg5NSAvKiBOVU1QQURfMiAqLywgJ051bVBhZDInKTtcbiAgICBkZWZpbmUoOTYgLyogTlVNUEFEXzMgKi8sICdOdW1QYWQzJyk7XG4gICAgZGVmaW5lKDk3IC8qIE5VTVBBRF80ICovLCAnTnVtUGFkNCcpO1xuICAgIGRlZmluZSg5OCAvKiBOVU1QQURfNSAqLywgJ051bVBhZDUnKTtcbiAgICBkZWZpbmUoOTkgLyogTlVNUEFEXzYgKi8sICdOdW1QYWQ2Jyk7XG4gICAgZGVmaW5lKDEwMCAvKiBOVU1QQURfNyAqLywgJ051bVBhZDcnKTtcbiAgICBkZWZpbmUoMTAxIC8qIE5VTVBBRF84ICovLCAnTnVtUGFkOCcpO1xuICAgIGRlZmluZSgxMDIgLyogTlVNUEFEXzkgKi8sICdOdW1QYWQ5Jyk7XG4gICAgZGVmaW5lKDEwMyAvKiBOVU1QQURfTVVMVElQTFkgKi8sICdOdW1QYWRfTXVsdGlwbHknKTtcbiAgICBkZWZpbmUoMTA0IC8qIE5VTVBBRF9BREQgKi8sICdOdW1QYWRfQWRkJyk7XG4gICAgZGVmaW5lKDEwNSAvKiBOVU1QQURfU0VQQVJBVE9SICovLCAnTnVtUGFkX1NlcGFyYXRvcicpO1xuICAgIGRlZmluZSgxMDYgLyogTlVNUEFEX1NVQlRSQUNUICovLCAnTnVtUGFkX1N1YnRyYWN0Jyk7XG4gICAgZGVmaW5lKDEwNyAvKiBOVU1QQURfREVDSU1BTCAqLywgJ051bVBhZF9EZWNpbWFsJyk7XG4gICAgZGVmaW5lKDEwOCAvKiBOVU1QQURfRElWSURFICovLCAnTnVtUGFkX0RpdmlkZScpO1xufSkoKTtcbmV4cG9ydCB2YXIgS2V5Q29kZVV0aWxzO1xuKGZ1bmN0aW9uIChLZXlDb2RlVXRpbHMpIHtcbiAgICBmdW5jdGlvbiB0b1N0cmluZyhrZXlDb2RlKSB7XG4gICAgICAgIHJldHVybiB1aU1hcC5rZXlDb2RlVG9TdHIoa2V5Q29kZSk7XG4gICAgfVxuICAgIEtleUNvZGVVdGlscy50b1N0cmluZyA9IHRvU3RyaW5nO1xuICAgIGZ1bmN0aW9uIGZyb21TdHJpbmcoa2V5KSB7XG4gICAgICAgIHJldHVybiB1aU1hcC5zdHJUb0tleUNvZGUoa2V5KTtcbiAgICB9XG4gICAgS2V5Q29kZVV0aWxzLmZyb21TdHJpbmcgPSBmcm9tU3RyaW5nO1xuICAgIGZ1bmN0aW9uIHRvVXNlclNldHRpbmdzVVMoa2V5Q29kZSkge1xuICAgICAgICByZXR1cm4gdXNlclNldHRpbmdzVVNNYXAua2V5Q29kZVRvU3RyKGtleUNvZGUpO1xuICAgIH1cbiAgICBLZXlDb2RlVXRpbHMudG9Vc2VyU2V0dGluZ3NVUyA9IHRvVXNlclNldHRpbmdzVVM7XG4gICAgZnVuY3Rpb24gdG9Vc2VyU2V0dGluZ3NHZW5lcmFsKGtleUNvZGUpIHtcbiAgICAgICAgcmV0dXJuIHVzZXJTZXR0aW5nc0dlbmVyYWxNYXAua2V5Q29kZVRvU3RyKGtleUNvZGUpO1xuICAgIH1cbiAgICBLZXlDb2RlVXRpbHMudG9Vc2VyU2V0dGluZ3NHZW5lcmFsID0gdG9Vc2VyU2V0dGluZ3NHZW5lcmFsO1xuICAgIGZ1bmN0aW9uIGZyb21Vc2VyU2V0dGluZ3Moa2V5KSB7XG4gICAgICAgIHJldHVybiB1c2VyU2V0dGluZ3NVU01hcC5zdHJUb0tleUNvZGUoa2V5KSB8fCB1c2VyU2V0dGluZ3NHZW5lcmFsTWFwLnN0clRvS2V5Q29kZShrZXkpO1xuICAgIH1cbiAgICBLZXlDb2RlVXRpbHMuZnJvbVVzZXJTZXR0aW5ncyA9IGZyb21Vc2VyU2V0dGluZ3M7XG59KShLZXlDb2RlVXRpbHMgfHwgKEtleUNvZGVVdGlscyA9IHt9KSk7XG5leHBvcnQgZnVuY3Rpb24gS2V5Q2hvcmQoZmlyc3RQYXJ0LCBzZWNvbmRQYXJ0KSB7XG4gICAgdmFyIGNob3JkUGFydCA9ICgoc2Vjb25kUGFydCAmIDB4MDAwMGZmZmYpIDw8IDE2KSA+Pj4gMDtcbiAgICByZXR1cm4gKGZpcnN0UGFydCB8IGNob3JkUGFydCkgPj4+IDA7XG59XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlS2V5YmluZGluZyhrZXliaW5kaW5nLCBPUykge1xuICAgIGlmIChrZXliaW5kaW5nID09PSAwKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICB2YXIgZmlyc3RQYXJ0ID0gKGtleWJpbmRpbmcgJiAweDAwMDBmZmZmKSA+Pj4gMDtcbiAgICB2YXIgY2hvcmRQYXJ0ID0gKGtleWJpbmRpbmcgJiAweGZmZmYwMDAwKSA+Pj4gMTY7XG4gICAgaWYgKGNob3JkUGFydCAhPT0gMCkge1xuICAgICAgICByZXR1cm4gbmV3IENob3JkS2V5YmluZGluZyhjcmVhdGVTaW1wbGVLZXliaW5kaW5nKGZpcnN0UGFydCwgT1MpLCBjcmVhdGVTaW1wbGVLZXliaW5kaW5nKGNob3JkUGFydCwgT1MpKTtcbiAgICB9XG4gICAgcmV0dXJuIGNyZWF0ZVNpbXBsZUtleWJpbmRpbmcoZmlyc3RQYXJ0LCBPUyk7XG59XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU2ltcGxlS2V5YmluZGluZyhrZXliaW5kaW5nLCBPUykge1xuICAgIHZhciBjdHJsQ21kID0gKGtleWJpbmRpbmcgJiAyMDQ4IC8qIEN0cmxDbWQgKi8gPyB0cnVlIDogZmFsc2UpO1xuICAgIHZhciB3aW5DdHJsID0gKGtleWJpbmRpbmcgJiAyNTYgLyogV2luQ3RybCAqLyA/IHRydWUgOiBmYWxzZSk7XG4gICAgdmFyIGN0cmxLZXkgPSAoT1MgPT09IDIgLyogTWFjaW50b3NoICovID8gd2luQ3RybCA6IGN0cmxDbWQpO1xuICAgIHZhciBzaGlmdEtleSA9IChrZXliaW5kaW5nICYgMTAyNCAvKiBTaGlmdCAqLyA/IHRydWUgOiBmYWxzZSk7XG4gICAgdmFyIGFsdEtleSA9IChrZXliaW5kaW5nICYgNTEyIC8qIEFsdCAqLyA/IHRydWUgOiBmYWxzZSk7XG4gICAgdmFyIG1ldGFLZXkgPSAoT1MgPT09IDIgLyogTWFjaW50b3NoICovID8gY3RybENtZCA6IHdpbkN0cmwpO1xuICAgIHZhciBrZXlDb2RlID0gKGtleWJpbmRpbmcgJiAyNTUgLyogS2V5Q29kZSAqLyk7XG4gICAgcmV0dXJuIG5ldyBTaW1wbGVLZXliaW5kaW5nKGN0cmxLZXksIHNoaWZ0S2V5LCBhbHRLZXksIG1ldGFLZXksIGtleUNvZGUpO1xufVxudmFyIFNpbXBsZUtleWJpbmRpbmcgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU2ltcGxlS2V5YmluZGluZyhjdHJsS2V5LCBzaGlmdEtleSwgYWx0S2V5LCBtZXRhS2V5LCBrZXlDb2RlKSB7XG4gICAgICAgIHRoaXMudHlwZSA9IDEgLyogU2ltcGxlICovO1xuICAgICAgICB0aGlzLmN0cmxLZXkgPSBjdHJsS2V5O1xuICAgICAgICB0aGlzLnNoaWZ0S2V5ID0gc2hpZnRLZXk7XG4gICAgICAgIHRoaXMuYWx0S2V5ID0gYWx0S2V5O1xuICAgICAgICB0aGlzLm1ldGFLZXkgPSBtZXRhS2V5O1xuICAgICAgICB0aGlzLmtleUNvZGUgPSBrZXlDb2RlO1xuICAgIH1cbiAgICBTaW1wbGVLZXliaW5kaW5nLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAob3RoZXIpIHtcbiAgICAgICAgaWYgKG90aGVyLnR5cGUgIT09IDEgLyogU2ltcGxlICovKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICh0aGlzLmN0cmxLZXkgPT09IG90aGVyLmN0cmxLZXlcbiAgICAgICAgICAgICYmIHRoaXMuc2hpZnRLZXkgPT09IG90aGVyLnNoaWZ0S2V5XG4gICAgICAgICAgICAmJiB0aGlzLmFsdEtleSA9PT0gb3RoZXIuYWx0S2V5XG4gICAgICAgICAgICAmJiB0aGlzLm1ldGFLZXkgPT09IG90aGVyLm1ldGFLZXlcbiAgICAgICAgICAgICYmIHRoaXMua2V5Q29kZSA9PT0gb3RoZXIua2V5Q29kZSk7XG4gICAgfTtcbiAgICBTaW1wbGVLZXliaW5kaW5nLnByb3RvdHlwZS5nZXRIYXNoQ29kZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGN0cmwgPSB0aGlzLmN0cmxLZXkgPyAnMScgOiAnMCc7XG4gICAgICAgIHZhciBzaGlmdCA9IHRoaXMuc2hpZnRLZXkgPyAnMScgOiAnMCc7XG4gICAgICAgIHZhciBhbHQgPSB0aGlzLmFsdEtleSA/ICcxJyA6ICcwJztcbiAgICAgICAgdmFyIG1ldGEgPSB0aGlzLm1ldGFLZXkgPyAnMScgOiAnMCc7XG4gICAgICAgIHJldHVybiBcIlwiICsgY3RybCArIHNoaWZ0ICsgYWx0ICsgbWV0YSArIHRoaXMua2V5Q29kZTtcbiAgICB9O1xuICAgIFNpbXBsZUtleWJpbmRpbmcucHJvdG90eXBlLmlzTW9kaWZpZXJLZXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5rZXlDb2RlID09PSAwIC8qIFVua25vd24gKi9cbiAgICAgICAgICAgIHx8IHRoaXMua2V5Q29kZSA9PT0gNSAvKiBDdHJsICovXG4gICAgICAgICAgICB8fCB0aGlzLmtleUNvZGUgPT09IDU3IC8qIE1ldGEgKi9cbiAgICAgICAgICAgIHx8IHRoaXMua2V5Q29kZSA9PT0gNiAvKiBBbHQgKi9cbiAgICAgICAgICAgIHx8IHRoaXMua2V5Q29kZSA9PT0gNCAvKiBTaGlmdCAqLyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEb2VzIHRoaXMga2V5YmluZGluZyByZWZlciB0byB0aGUga2V5IGNvZGUgb2YgYSBtb2RpZmllciBhbmQgaXQgYWxzbyBoYXMgdGhlIG1vZGlmaWVyIGZsYWc/XG4gICAgICovXG4gICAgU2ltcGxlS2V5YmluZGluZy5wcm90b3R5cGUuaXNEdXBsaWNhdGVNb2RpZmllckNhc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAoKHRoaXMuY3RybEtleSAmJiB0aGlzLmtleUNvZGUgPT09IDUgLyogQ3RybCAqLylcbiAgICAgICAgICAgIHx8ICh0aGlzLnNoaWZ0S2V5ICYmIHRoaXMua2V5Q29kZSA9PT0gNCAvKiBTaGlmdCAqLylcbiAgICAgICAgICAgIHx8ICh0aGlzLmFsdEtleSAmJiB0aGlzLmtleUNvZGUgPT09IDYgLyogQWx0ICovKVxuICAgICAgICAgICAgfHwgKHRoaXMubWV0YUtleSAmJiB0aGlzLmtleUNvZGUgPT09IDU3IC8qIE1ldGEgKi8pKTtcbiAgICB9O1xuICAgIHJldHVybiBTaW1wbGVLZXliaW5kaW5nO1xufSgpKTtcbmV4cG9ydCB7IFNpbXBsZUtleWJpbmRpbmcgfTtcbnZhciBDaG9yZEtleWJpbmRpbmcgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ2hvcmRLZXliaW5kaW5nKGZpcnN0UGFydCwgY2hvcmRQYXJ0KSB7XG4gICAgICAgIHRoaXMudHlwZSA9IDIgLyogQ2hvcmQgKi87XG4gICAgICAgIHRoaXMuZmlyc3RQYXJ0ID0gZmlyc3RQYXJ0O1xuICAgICAgICB0aGlzLmNob3JkUGFydCA9IGNob3JkUGFydDtcbiAgICB9XG4gICAgQ2hvcmRLZXliaW5kaW5nLnByb3RvdHlwZS5nZXRIYXNoQ29kZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmlyc3RQYXJ0LmdldEhhc2hDb2RlKCkgKyBcIjtcIiArIHRoaXMuY2hvcmRQYXJ0LmdldEhhc2hDb2RlKCk7XG4gICAgfTtcbiAgICByZXR1cm4gQ2hvcmRLZXliaW5kaW5nO1xufSgpKTtcbmV4cG9ydCB7IENob3JkS2V5YmluZGluZyB9O1xudmFyIFJlc29sdmVkS2V5YmluZGluZ1BhcnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVzb2x2ZWRLZXliaW5kaW5nUGFydChjdHJsS2V5LCBzaGlmdEtleSwgYWx0S2V5LCBtZXRhS2V5LCBrYkxhYmVsLCBrYkFyaWFMYWJlbCkge1xuICAgICAgICB0aGlzLmN0cmxLZXkgPSBjdHJsS2V5O1xuICAgICAgICB0aGlzLnNoaWZ0S2V5ID0gc2hpZnRLZXk7XG4gICAgICAgIHRoaXMuYWx0S2V5ID0gYWx0S2V5O1xuICAgICAgICB0aGlzLm1ldGFLZXkgPSBtZXRhS2V5O1xuICAgICAgICB0aGlzLmtleUxhYmVsID0ga2JMYWJlbDtcbiAgICAgICAgdGhpcy5rZXlBcmlhTGFiZWwgPSBrYkFyaWFMYWJlbDtcbiAgICB9XG4gICAgcmV0dXJuIFJlc29sdmVkS2V5YmluZGluZ1BhcnQ7XG59KCkpO1xuZXhwb3J0IHsgUmVzb2x2ZWRLZXliaW5kaW5nUGFydCB9O1xuLyoqXG4gKiBBIHJlc29sdmVkIGtleWJpbmRpbmcuIENhbiBiZSBhIHNpbXBsZSBrZXliaW5kaW5nIG9yIGEgY2hvcmQga2V5YmluZGluZy5cbiAqL1xudmFyIFJlc29sdmVkS2V5YmluZGluZyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZXNvbHZlZEtleWJpbmRpbmcoKSB7XG4gICAgfVxuICAgIHJldHVybiBSZXNvbHZlZEtleWJpbmRpbmc7XG59KCkpO1xuZXhwb3J0IHsgUmVzb2x2ZWRLZXliaW5kaW5nIH07XG4iLCIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbid1c2Ugc3RyaWN0JztcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuaW1wb3J0IHsgUmFuZ2UgfSBmcm9tICcuL3JhbmdlLmpzJztcbmltcG9ydCB7IFBvc2l0aW9uIH0gZnJvbSAnLi9wb3NpdGlvbi5qcyc7XG4vKipcbiAqIFRoZSBkaXJlY3Rpb24gb2YgYSBzZWxlY3Rpb24uXG4gKi9cbmV4cG9ydCB2YXIgU2VsZWN0aW9uRGlyZWN0aW9uO1xuKGZ1bmN0aW9uIChTZWxlY3Rpb25EaXJlY3Rpb24pIHtcbiAgICAvKipcbiAgICAgKiBUaGUgc2VsZWN0aW9uIHN0YXJ0cyBhYm92ZSB3aGVyZSBpdCBlbmRzLlxuICAgICAqL1xuICAgIFNlbGVjdGlvbkRpcmVjdGlvbltTZWxlY3Rpb25EaXJlY3Rpb25bXCJMVFJcIl0gPSAwXSA9IFwiTFRSXCI7XG4gICAgLyoqXG4gICAgICogVGhlIHNlbGVjdGlvbiBzdGFydHMgYmVsb3cgd2hlcmUgaXQgZW5kcy5cbiAgICAgKi9cbiAgICBTZWxlY3Rpb25EaXJlY3Rpb25bU2VsZWN0aW9uRGlyZWN0aW9uW1wiUlRMXCJdID0gMV0gPSBcIlJUTFwiO1xufSkoU2VsZWN0aW9uRGlyZWN0aW9uIHx8IChTZWxlY3Rpb25EaXJlY3Rpb24gPSB7fSkpO1xuLyoqXG4gKiBBIHNlbGVjdGlvbiBpbiB0aGUgZWRpdG9yLlxuICogVGhlIHNlbGVjdGlvbiBpcyBhIHJhbmdlIHRoYXQgaGFzIGFuIG9yaWVudGF0aW9uLlxuICovXG52YXIgU2VsZWN0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhTZWxlY3Rpb24sIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU2VsZWN0aW9uKHNlbGVjdGlvblN0YXJ0TGluZU51bWJlciwgc2VsZWN0aW9uU3RhcnRDb2x1bW4sIHBvc2l0aW9uTGluZU51bWJlciwgcG9zaXRpb25Db2x1bW4pIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgc2VsZWN0aW9uU3RhcnRMaW5lTnVtYmVyLCBzZWxlY3Rpb25TdGFydENvbHVtbiwgcG9zaXRpb25MaW5lTnVtYmVyLCBwb3NpdGlvbkNvbHVtbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuc2VsZWN0aW9uU3RhcnRMaW5lTnVtYmVyID0gc2VsZWN0aW9uU3RhcnRMaW5lTnVtYmVyO1xuICAgICAgICBfdGhpcy5zZWxlY3Rpb25TdGFydENvbHVtbiA9IHNlbGVjdGlvblN0YXJ0Q29sdW1uO1xuICAgICAgICBfdGhpcy5wb3NpdGlvbkxpbmVOdW1iZXIgPSBwb3NpdGlvbkxpbmVOdW1iZXI7XG4gICAgICAgIF90aGlzLnBvc2l0aW9uQ29sdW1uID0gcG9zaXRpb25Db2x1bW47XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xvbmUgdGhpcyBzZWxlY3Rpb24uXG4gICAgICovXG4gICAgU2VsZWN0aW9uLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTZWxlY3Rpb24odGhpcy5zZWxlY3Rpb25TdGFydExpbmVOdW1iZXIsIHRoaXMuc2VsZWN0aW9uU3RhcnRDb2x1bW4sIHRoaXMucG9zaXRpb25MaW5lTnVtYmVyLCB0aGlzLnBvc2l0aW9uQ29sdW1uKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRyYW5zZm9ybSB0byBhIGh1bWFuLXJlYWRhYmxlIHJlcHJlc2VudGF0aW9uLlxuICAgICAqL1xuICAgIFNlbGVjdGlvbi5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAnWycgKyB0aGlzLnNlbGVjdGlvblN0YXJ0TGluZU51bWJlciArICcsJyArIHRoaXMuc2VsZWN0aW9uU3RhcnRDb2x1bW4gKyAnIC0+ICcgKyB0aGlzLnBvc2l0aW9uTGluZU51bWJlciArICcsJyArIHRoaXMucG9zaXRpb25Db2x1bW4gKyAnXSc7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUZXN0IGlmIGVxdWFscyBvdGhlciBzZWxlY3Rpb24uXG4gICAgICovXG4gICAgU2VsZWN0aW9uLnByb3RvdHlwZS5lcXVhbHNTZWxlY3Rpb24gPSBmdW5jdGlvbiAob3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIChTZWxlY3Rpb24uc2VsZWN0aW9uc0VxdWFsKHRoaXMsIG90aGVyKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUZXN0IGlmIHRoZSB0d28gc2VsZWN0aW9ucyBhcmUgZXF1YWwuXG4gICAgICovXG4gICAgU2VsZWN0aW9uLnNlbGVjdGlvbnNFcXVhbCA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgIHJldHVybiAoYS5zZWxlY3Rpb25TdGFydExpbmVOdW1iZXIgPT09IGIuc2VsZWN0aW9uU3RhcnRMaW5lTnVtYmVyICYmXG4gICAgICAgICAgICBhLnNlbGVjdGlvblN0YXJ0Q29sdW1uID09PSBiLnNlbGVjdGlvblN0YXJ0Q29sdW1uICYmXG4gICAgICAgICAgICBhLnBvc2l0aW9uTGluZU51bWJlciA9PT0gYi5wb3NpdGlvbkxpbmVOdW1iZXIgJiZcbiAgICAgICAgICAgIGEucG9zaXRpb25Db2x1bW4gPT09IGIucG9zaXRpb25Db2x1bW4pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IGRpcmVjdGlvbnMgKExUUiBvciBSVEwpLlxuICAgICAqL1xuICAgIFNlbGVjdGlvbi5wcm90b3R5cGUuZ2V0RGlyZWN0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5zZWxlY3Rpb25TdGFydExpbmVOdW1iZXIgPT09IHRoaXMuc3RhcnRMaW5lTnVtYmVyICYmIHRoaXMuc2VsZWN0aW9uU3RhcnRDb2x1bW4gPT09IHRoaXMuc3RhcnRDb2x1bW4pIHtcbiAgICAgICAgICAgIHJldHVybiBTZWxlY3Rpb25EaXJlY3Rpb24uTFRSO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBTZWxlY3Rpb25EaXJlY3Rpb24uUlRMO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IHNlbGVjdGlvbiB3aXRoIGEgZGlmZmVyZW50IGBwb3NpdGlvbkxpbmVOdW1iZXJgIGFuZCBgcG9zaXRpb25Db2x1bW5gLlxuICAgICAqL1xuICAgIFNlbGVjdGlvbi5wcm90b3R5cGUuc2V0RW5kUG9zaXRpb24gPSBmdW5jdGlvbiAoZW5kTGluZU51bWJlciwgZW5kQ29sdW1uKSB7XG4gICAgICAgIGlmICh0aGlzLmdldERpcmVjdGlvbigpID09PSBTZWxlY3Rpb25EaXJlY3Rpb24uTFRSKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFNlbGVjdGlvbih0aGlzLnN0YXJ0TGluZU51bWJlciwgdGhpcy5zdGFydENvbHVtbiwgZW5kTGluZU51bWJlciwgZW5kQ29sdW1uKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFNlbGVjdGlvbihlbmRMaW5lTnVtYmVyLCBlbmRDb2x1bW4sIHRoaXMuc3RhcnRMaW5lTnVtYmVyLCB0aGlzLnN0YXJ0Q29sdW1uKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgcG9zaXRpb24gYXQgYHBvc2l0aW9uTGluZU51bWJlcmAgYW5kIGBwb3NpdGlvbkNvbHVtbmAuXG4gICAgICovXG4gICAgU2VsZWN0aW9uLnByb3RvdHlwZS5nZXRQb3NpdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQb3NpdGlvbih0aGlzLnBvc2l0aW9uTGluZU51bWJlciwgdGhpcy5wb3NpdGlvbkNvbHVtbik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgc2VsZWN0aW9uIHdpdGggYSBkaWZmZXJlbnQgYHNlbGVjdGlvblN0YXJ0TGluZU51bWJlcmAgYW5kIGBzZWxlY3Rpb25TdGFydENvbHVtbmAuXG4gICAgICovXG4gICAgU2VsZWN0aW9uLnByb3RvdHlwZS5zZXRTdGFydFBvc2l0aW9uID0gZnVuY3Rpb24gKHN0YXJ0TGluZU51bWJlciwgc3RhcnRDb2x1bW4pIHtcbiAgICAgICAgaWYgKHRoaXMuZ2V0RGlyZWN0aW9uKCkgPT09IFNlbGVjdGlvbkRpcmVjdGlvbi5MVFIpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgU2VsZWN0aW9uKHN0YXJ0TGluZU51bWJlciwgc3RhcnRDb2x1bW4sIHRoaXMuZW5kTGluZU51bWJlciwgdGhpcy5lbmRDb2x1bW4pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgU2VsZWN0aW9uKHRoaXMuZW5kTGluZU51bWJlciwgdGhpcy5lbmRDb2x1bW4sIHN0YXJ0TGluZU51bWJlciwgc3RhcnRDb2x1bW4pO1xuICAgIH07XG4gICAgLy8gLS0tLVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIGBTZWxlY3Rpb25gIGZyb20gb25lIG9yIHR3byBwb3NpdGlvbnNcbiAgICAgKi9cbiAgICBTZWxlY3Rpb24uZnJvbVBvc2l0aW9ucyA9IGZ1bmN0aW9uIChzdGFydCwgZW5kKSB7XG4gICAgICAgIGlmIChlbmQgPT09IHZvaWQgMCkgeyBlbmQgPSBzdGFydDsgfVxuICAgICAgICByZXR1cm4gbmV3IFNlbGVjdGlvbihzdGFydC5saW5lTnVtYmVyLCBzdGFydC5jb2x1bW4sIGVuZC5saW5lTnVtYmVyLCBlbmQuY29sdW1uKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIGBTZWxlY3Rpb25gIGZyb20gYW4gYElTZWxlY3Rpb25gLlxuICAgICAqL1xuICAgIFNlbGVjdGlvbi5saWZ0U2VsZWN0aW9uID0gZnVuY3Rpb24gKHNlbCkge1xuICAgICAgICByZXR1cm4gbmV3IFNlbGVjdGlvbihzZWwuc2VsZWN0aW9uU3RhcnRMaW5lTnVtYmVyLCBzZWwuc2VsZWN0aW9uU3RhcnRDb2x1bW4sIHNlbC5wb3NpdGlvbkxpbmVOdW1iZXIsIHNlbC5wb3NpdGlvbkNvbHVtbik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBgYWAgZXF1YWxzIGBiYC5cbiAgICAgKi9cbiAgICBTZWxlY3Rpb24uc2VsZWN0aW9uc0FyckVxdWFsID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgaWYgKGEgJiYgIWIgfHwgIWEgJiYgYikge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghYSAmJiAhYikge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGEubGVuZ3RoICE9PSBiLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBhLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuc2VsZWN0aW9uc0VxdWFsKGFbaV0sIGJbaV0pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGVzdCBpZiBgb2JqYCBpcyBhbiBgSVNlbGVjdGlvbmAuXG4gICAgICovXG4gICAgU2VsZWN0aW9uLmlzSVNlbGVjdGlvbiA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgcmV0dXJuIChvYmpcbiAgICAgICAgICAgICYmICh0eXBlb2Ygb2JqLnNlbGVjdGlvblN0YXJ0TGluZU51bWJlciA9PT0gJ251bWJlcicpXG4gICAgICAgICAgICAmJiAodHlwZW9mIG9iai5zZWxlY3Rpb25TdGFydENvbHVtbiA9PT0gJ251bWJlcicpXG4gICAgICAgICAgICAmJiAodHlwZW9mIG9iai5wb3NpdGlvbkxpbmVOdW1iZXIgPT09ICdudW1iZXInKVxuICAgICAgICAgICAgJiYgKHR5cGVvZiBvYmoucG9zaXRpb25Db2x1bW4gPT09ICdudW1iZXInKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgd2l0aCBhIGRpcmVjdGlvbi5cbiAgICAgKi9cbiAgICBTZWxlY3Rpb24uY3JlYXRlV2l0aERpcmVjdGlvbiA9IGZ1bmN0aW9uIChzdGFydExpbmVOdW1iZXIsIHN0YXJ0Q29sdW1uLCBlbmRMaW5lTnVtYmVyLCBlbmRDb2x1bW4sIGRpcmVjdGlvbikge1xuICAgICAgICBpZiAoZGlyZWN0aW9uID09PSBTZWxlY3Rpb25EaXJlY3Rpb24uTFRSKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFNlbGVjdGlvbihzdGFydExpbmVOdW1iZXIsIHN0YXJ0Q29sdW1uLCBlbmRMaW5lTnVtYmVyLCBlbmRDb2x1bW4pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgU2VsZWN0aW9uKGVuZExpbmVOdW1iZXIsIGVuZENvbHVtbiwgc3RhcnRMaW5lTnVtYmVyLCBzdGFydENvbHVtbik7XG4gICAgfTtcbiAgICByZXR1cm4gU2VsZWN0aW9uO1xufShSYW5nZSkpO1xuZXhwb3J0IHsgU2VsZWN0aW9uIH07XG4iLCIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbid1c2Ugc3RyaWN0JztcbmltcG9ydCB7IEV2ZW50LCBFbWl0dGVyIH0gZnJvbSAnLi9ldmVudC5qcyc7XG52YXIgc2hvcnRjdXRFdmVudCA9IE9iamVjdC5mcmVlemUoZnVuY3Rpb24gKGNhbGxiYWNrLCBjb250ZXh0KSB7XG4gICAgdmFyIGhhbmRsZSA9IHNldFRpbWVvdXQoY2FsbGJhY2suYmluZChjb250ZXh0KSwgMCk7XG4gICAgcmV0dXJuIHsgZGlzcG9zZTogZnVuY3Rpb24gKCkgeyBjbGVhclRpbWVvdXQoaGFuZGxlKTsgfSB9O1xufSk7XG5leHBvcnQgdmFyIENhbmNlbGxhdGlvblRva2VuO1xuKGZ1bmN0aW9uIChDYW5jZWxsYXRpb25Ub2tlbikge1xuICAgIENhbmNlbGxhdGlvblRva2VuLk5vbmUgPSBPYmplY3QuZnJlZXplKHtcbiAgICAgICAgaXNDYW5jZWxsYXRpb25SZXF1ZXN0ZWQ6IGZhbHNlLFxuICAgICAgICBvbkNhbmNlbGxhdGlvblJlcXVlc3RlZDogRXZlbnQuTm9uZVxuICAgIH0pO1xuICAgIENhbmNlbGxhdGlvblRva2VuLkNhbmNlbGxlZCA9IE9iamVjdC5mcmVlemUoe1xuICAgICAgICBpc0NhbmNlbGxhdGlvblJlcXVlc3RlZDogdHJ1ZSxcbiAgICAgICAgb25DYW5jZWxsYXRpb25SZXF1ZXN0ZWQ6IHNob3J0Y3V0RXZlbnRcbiAgICB9KTtcbn0pKENhbmNlbGxhdGlvblRva2VuIHx8IChDYW5jZWxsYXRpb25Ub2tlbiA9IHt9KSk7XG52YXIgTXV0YWJsZVRva2VuID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE11dGFibGVUb2tlbigpIHtcbiAgICAgICAgdGhpcy5faXNDYW5jZWxsZWQgPSBmYWxzZTtcbiAgICB9XG4gICAgTXV0YWJsZVRva2VuLnByb3RvdHlwZS5jYW5jZWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5faXNDYW5jZWxsZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX2lzQ2FuY2VsbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9lbWl0dGVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZW1pdHRlci5maXJlKHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNdXRhYmxlVG9rZW4ucHJvdG90eXBlLCBcImlzQ2FuY2VsbGF0aW9uUmVxdWVzdGVkXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faXNDYW5jZWxsZWQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNdXRhYmxlVG9rZW4ucHJvdG90eXBlLCBcIm9uQ2FuY2VsbGF0aW9uUmVxdWVzdGVkXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5faXNDYW5jZWxsZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2hvcnRjdXRFdmVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghdGhpcy5fZW1pdHRlcikge1xuICAgICAgICAgICAgICAgIHRoaXMuX2VtaXR0ZXIgPSBuZXcgRW1pdHRlcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2VtaXR0ZXIuZXZlbnQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE11dGFibGVUb2tlbi5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2VtaXR0ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX2VtaXR0ZXIuZGlzcG9zZSgpO1xuICAgICAgICAgICAgdGhpcy5fZW1pdHRlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIE11dGFibGVUb2tlbjtcbn0oKSk7XG52YXIgQ2FuY2VsbGF0aW9uVG9rZW5Tb3VyY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ2FuY2VsbGF0aW9uVG9rZW5Tb3VyY2UoKSB7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDYW5jZWxsYXRpb25Ub2tlblNvdXJjZS5wcm90b3R5cGUsIFwidG9rZW5cIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fdG9rZW4pIHtcbiAgICAgICAgICAgICAgICAvLyBiZSBsYXp5IGFuZCBjcmVhdGUgdGhlIHRva2VuIG9ubHkgd2hlblxuICAgICAgICAgICAgICAgIC8vIGFjdHVhbGx5IG5lZWRlZFxuICAgICAgICAgICAgICAgIHRoaXMuX3Rva2VuID0gbmV3IE11dGFibGVUb2tlbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3Rva2VuO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBDYW5jZWxsYXRpb25Ub2tlblNvdXJjZS5wcm90b3R5cGUuY2FuY2VsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuX3Rva2VuKSB7XG4gICAgICAgICAgICAvLyBzYXZlIGFuIG9iamVjdCBieSByZXR1cm5pbmcgdGhlIGRlZmF1bHRcbiAgICAgICAgICAgIC8vIGNhbmNlbGxlZCB0b2tlbiB3aGVuIGNhbmNlbGxhdGlvbiBoYXBwZW5zXG4gICAgICAgICAgICAvLyBiZWZvcmUgc29tZW9uZSBhc2tzIGZvciB0aGUgdG9rZW5cbiAgICAgICAgICAgIHRoaXMuX3Rva2VuID0gQ2FuY2VsbGF0aW9uVG9rZW4uQ2FuY2VsbGVkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuX3Rva2VuIGluc3RhbmNlb2YgTXV0YWJsZVRva2VuKSB7XG4gICAgICAgICAgICAvLyBhY3R1YWxseSBjYW5jZWxcbiAgICAgICAgICAgIHRoaXMuX3Rva2VuLmNhbmNlbCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBDYW5jZWxsYXRpb25Ub2tlblNvdXJjZS5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl90b2tlbikge1xuICAgICAgICAgICAgLy8gZW5zdXJlIHRvIGluaXRpYWxpemUgd2l0aCBhbiBlbXB0eSB0b2tlbiBpZiB3ZSBoYWQgbm9uZVxuICAgICAgICAgICAgdGhpcy5fdG9rZW4gPSBDYW5jZWxsYXRpb25Ub2tlbi5Ob25lO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuX3Rva2VuIGluc3RhbmNlb2YgTXV0YWJsZVRva2VuKSB7XG4gICAgICAgICAgICAvLyBhY3R1YWxseSBkaXNwb3NlXG4gICAgICAgICAgICB0aGlzLl90b2tlbi5kaXNwb3NlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBDYW5jZWxsYXRpb25Ub2tlblNvdXJjZTtcbn0oKSk7XG5leHBvcnQgeyBDYW5jZWxsYXRpb25Ub2tlblNvdXJjZSB9O1xuIiwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG4ndXNlIHN0cmljdCc7XG5pbXBvcnQgeyBFbWl0dGVyIH0gZnJvbSAnLi4vLi4vLi4vYmFzZS9jb21tb24vZXZlbnQuanMnO1xuaW1wb3J0IHsgS2V5Q2hvcmQgfSBmcm9tICcuLi8uLi8uLi9iYXNlL2NvbW1vbi9rZXlDb2Rlcy5qcyc7XG5pbXBvcnQgeyBQb3NpdGlvbiB9IGZyb20gJy4uL2NvcmUvcG9zaXRpb24uanMnO1xuaW1wb3J0IHsgUmFuZ2UgfSBmcm9tICcuLi9jb3JlL3JhbmdlLmpzJztcbmltcG9ydCB7IFNlbGVjdGlvbiwgU2VsZWN0aW9uRGlyZWN0aW9uIH0gZnJvbSAnLi4vY29yZS9zZWxlY3Rpb24uanMnO1xuaW1wb3J0IHsgVFByb21pc2UgfSBmcm9tICcuLi8uLi8uLi9iYXNlL2NvbW1vbi93aW5qcy5iYXNlLmpzJztcbmltcG9ydCB7IENhbmNlbGxhdGlvblRva2VuU291cmNlIH0gZnJvbSAnLi4vLi4vLi4vYmFzZS9jb21tb24vY2FuY2VsbGF0aW9uLmpzJztcbmltcG9ydCB7IFRva2VuIH0gZnJvbSAnLi4vY29yZS90b2tlbi5qcyc7XG5pbXBvcnQgVVJJIGZyb20gJy4uLy4uLy4uL2Jhc2UvY29tbW9uL3VyaS5qcyc7XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gVGhpcyBpcyByZXBlYXRlZCBoZXJlIHNvIGl0IGNhbiBiZSBleHBvcnRlZFxuLy8gYmVjYXVzZSBUUyBpbmxpbmVzIGNvbnN0IGVudW1zXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuZXhwb3J0IHZhciBTZXZlcml0eTtcbihmdW5jdGlvbiAoU2V2ZXJpdHkpIHtcbiAgICBTZXZlcml0eVtTZXZlcml0eVtcIklnbm9yZVwiXSA9IDBdID0gXCJJZ25vcmVcIjtcbiAgICBTZXZlcml0eVtTZXZlcml0eVtcIkluZm9cIl0gPSAxXSA9IFwiSW5mb1wiO1xuICAgIFNldmVyaXR5W1NldmVyaXR5W1wiV2FybmluZ1wiXSA9IDJdID0gXCJXYXJuaW5nXCI7XG4gICAgU2V2ZXJpdHlbU2V2ZXJpdHlbXCJFcnJvclwiXSA9IDNdID0gXCJFcnJvclwiO1xufSkoU2V2ZXJpdHkgfHwgKFNldmVyaXR5ID0ge30pKTtcbmV4cG9ydCB2YXIgTWFya2VyU2V2ZXJpdHk7XG4oZnVuY3Rpb24gKE1hcmtlclNldmVyaXR5KSB7XG4gICAgTWFya2VyU2V2ZXJpdHlbTWFya2VyU2V2ZXJpdHlbXCJIaW50XCJdID0gMV0gPSBcIkhpbnRcIjtcbiAgICBNYXJrZXJTZXZlcml0eVtNYXJrZXJTZXZlcml0eVtcIkluZm9cIl0gPSAyXSA9IFwiSW5mb1wiO1xuICAgIE1hcmtlclNldmVyaXR5W01hcmtlclNldmVyaXR5W1wiV2FybmluZ1wiXSA9IDRdID0gXCJXYXJuaW5nXCI7XG4gICAgTWFya2VyU2V2ZXJpdHlbTWFya2VyU2V2ZXJpdHlbXCJFcnJvclwiXSA9IDhdID0gXCJFcnJvclwiO1xufSkoTWFya2VyU2V2ZXJpdHkgfHwgKE1hcmtlclNldmVyaXR5ID0ge30pKTtcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBUaGlzIGlzIHJlcGVhdGVkIGhlcmUgc28gaXQgY2FuIGJlIGV4cG9ydGVkXG4vLyBiZWNhdXNlIFRTIGlubGluZXMgY29uc3QgZW51bXNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG52YXIgS2V5TW9kID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEtleU1vZCgpIHtcbiAgICB9XG4gICAgS2V5TW9kLmNob3JkID0gZnVuY3Rpb24gKGZpcnN0UGFydCwgc2Vjb25kUGFydCkge1xuICAgICAgICByZXR1cm4gS2V5Q2hvcmQoZmlyc3RQYXJ0LCBzZWNvbmRQYXJ0KTtcbiAgICB9O1xuICAgIEtleU1vZC5DdHJsQ21kID0gMjA0OCAvKiBDdHJsQ21kICovO1xuICAgIEtleU1vZC5TaGlmdCA9IDEwMjQgLyogU2hpZnQgKi87XG4gICAgS2V5TW9kLkFsdCA9IDUxMiAvKiBBbHQgKi87XG4gICAgS2V5TW9kLldpbkN0cmwgPSAyNTYgLyogV2luQ3RybCAqLztcbiAgICByZXR1cm4gS2V5TW9kO1xufSgpKTtcbmV4cG9ydCB7IEtleU1vZCB9O1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFRoaXMgaXMgcmVwZWF0ZWQgaGVyZSBzbyBpdCBjYW4gYmUgZXhwb3J0ZWRcbi8vIGJlY2F1c2UgVFMgaW5saW5lcyBjb25zdCBlbnVtc1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8qKlxuICogVmlydHVhbCBLZXkgQ29kZXMsIHRoZSB2YWx1ZSBkb2VzIG5vdCBob2xkIGFueSBpbmhlcmVudCBtZWFuaW5nLlxuICogSW5zcGlyZWQgc29tZXdoYXQgZnJvbSBodHRwczovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L3dpbmRvd3MvZGVza3RvcC9kZDM3NTczMSh2PXZzLjg1KS5hc3B4XG4gKiBCdXQgdGhlc2UgYXJlIFwibW9yZSBnZW5lcmFsXCIsIGFzIHRoZXkgc2hvdWxkIHdvcmsgYWNyb3NzIGJyb3dzZXJzICYgT1Ngcy5cbiAqL1xuZXhwb3J0IHZhciBLZXlDb2RlO1xuKGZ1bmN0aW9uIChLZXlDb2RlKSB7XG4gICAgLyoqXG4gICAgICogUGxhY2VkIGZpcnN0IHRvIGNvdmVyIHRoZSAwIHZhbHVlIG9mIHRoZSBlbnVtLlxuICAgICAqL1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIlVua25vd25cIl0gPSAwXSA9IFwiVW5rbm93blwiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIkJhY2tzcGFjZVwiXSA9IDFdID0gXCJCYWNrc3BhY2VcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJUYWJcIl0gPSAyXSA9IFwiVGFiXCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiRW50ZXJcIl0gPSAzXSA9IFwiRW50ZXJcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJTaGlmdFwiXSA9IDRdID0gXCJTaGlmdFwiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIkN0cmxcIl0gPSA1XSA9IFwiQ3RybFwiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIkFsdFwiXSA9IDZdID0gXCJBbHRcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJQYXVzZUJyZWFrXCJdID0gN10gPSBcIlBhdXNlQnJlYWtcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJDYXBzTG9ja1wiXSA9IDhdID0gXCJDYXBzTG9ja1wiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIkVzY2FwZVwiXSA9IDldID0gXCJFc2NhcGVcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJTcGFjZVwiXSA9IDEwXSA9IFwiU3BhY2VcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJQYWdlVXBcIl0gPSAxMV0gPSBcIlBhZ2VVcFwiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIlBhZ2VEb3duXCJdID0gMTJdID0gXCJQYWdlRG93blwiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIkVuZFwiXSA9IDEzXSA9IFwiRW5kXCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiSG9tZVwiXSA9IDE0XSA9IFwiSG9tZVwiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIkxlZnRBcnJvd1wiXSA9IDE1XSA9IFwiTGVmdEFycm93XCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiVXBBcnJvd1wiXSA9IDE2XSA9IFwiVXBBcnJvd1wiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIlJpZ2h0QXJyb3dcIl0gPSAxN10gPSBcIlJpZ2h0QXJyb3dcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJEb3duQXJyb3dcIl0gPSAxOF0gPSBcIkRvd25BcnJvd1wiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIkluc2VydFwiXSA9IDE5XSA9IFwiSW5zZXJ0XCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiRGVsZXRlXCJdID0gMjBdID0gXCJEZWxldGVcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJLRVlfMFwiXSA9IDIxXSA9IFwiS0VZXzBcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJLRVlfMVwiXSA9IDIyXSA9IFwiS0VZXzFcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJLRVlfMlwiXSA9IDIzXSA9IFwiS0VZXzJcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJLRVlfM1wiXSA9IDI0XSA9IFwiS0VZXzNcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJLRVlfNFwiXSA9IDI1XSA9IFwiS0VZXzRcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJLRVlfNVwiXSA9IDI2XSA9IFwiS0VZXzVcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJLRVlfNlwiXSA9IDI3XSA9IFwiS0VZXzZcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJLRVlfN1wiXSA9IDI4XSA9IFwiS0VZXzdcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJLRVlfOFwiXSA9IDI5XSA9IFwiS0VZXzhcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJLRVlfOVwiXSA9IDMwXSA9IFwiS0VZXzlcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJLRVlfQVwiXSA9IDMxXSA9IFwiS0VZX0FcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJLRVlfQlwiXSA9IDMyXSA9IFwiS0VZX0JcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJLRVlfQ1wiXSA9IDMzXSA9IFwiS0VZX0NcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJLRVlfRFwiXSA9IDM0XSA9IFwiS0VZX0RcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJLRVlfRVwiXSA9IDM1XSA9IFwiS0VZX0VcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJLRVlfRlwiXSA9IDM2XSA9IFwiS0VZX0ZcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJLRVlfR1wiXSA9IDM3XSA9IFwiS0VZX0dcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJLRVlfSFwiXSA9IDM4XSA9IFwiS0VZX0hcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJLRVlfSVwiXSA9IDM5XSA9IFwiS0VZX0lcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJLRVlfSlwiXSA9IDQwXSA9IFwiS0VZX0pcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJLRVlfS1wiXSA9IDQxXSA9IFwiS0VZX0tcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJLRVlfTFwiXSA9IDQyXSA9IFwiS0VZX0xcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJLRVlfTVwiXSA9IDQzXSA9IFwiS0VZX01cIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJLRVlfTlwiXSA9IDQ0XSA9IFwiS0VZX05cIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJLRVlfT1wiXSA9IDQ1XSA9IFwiS0VZX09cIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJLRVlfUFwiXSA9IDQ2XSA9IFwiS0VZX1BcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJLRVlfUVwiXSA9IDQ3XSA9IFwiS0VZX1FcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJLRVlfUlwiXSA9IDQ4XSA9IFwiS0VZX1JcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJLRVlfU1wiXSA9IDQ5XSA9IFwiS0VZX1NcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJLRVlfVFwiXSA9IDUwXSA9IFwiS0VZX1RcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJLRVlfVVwiXSA9IDUxXSA9IFwiS0VZX1VcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJLRVlfVlwiXSA9IDUyXSA9IFwiS0VZX1ZcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJLRVlfV1wiXSA9IDUzXSA9IFwiS0VZX1dcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJLRVlfWFwiXSA9IDU0XSA9IFwiS0VZX1hcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJLRVlfWVwiXSA9IDU1XSA9IFwiS0VZX1lcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJLRVlfWlwiXSA9IDU2XSA9IFwiS0VZX1pcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJNZXRhXCJdID0gNTddID0gXCJNZXRhXCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiQ29udGV4dE1lbnVcIl0gPSA1OF0gPSBcIkNvbnRleHRNZW51XCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiRjFcIl0gPSA1OV0gPSBcIkYxXCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiRjJcIl0gPSA2MF0gPSBcIkYyXCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiRjNcIl0gPSA2MV0gPSBcIkYzXCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiRjRcIl0gPSA2Ml0gPSBcIkY0XCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiRjVcIl0gPSA2M10gPSBcIkY1XCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiRjZcIl0gPSA2NF0gPSBcIkY2XCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiRjdcIl0gPSA2NV0gPSBcIkY3XCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiRjhcIl0gPSA2Nl0gPSBcIkY4XCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiRjlcIl0gPSA2N10gPSBcIkY5XCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiRjEwXCJdID0gNjhdID0gXCJGMTBcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJGMTFcIl0gPSA2OV0gPSBcIkYxMVwiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIkYxMlwiXSA9IDcwXSA9IFwiRjEyXCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiRjEzXCJdID0gNzFdID0gXCJGMTNcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJGMTRcIl0gPSA3Ml0gPSBcIkYxNFwiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIkYxNVwiXSA9IDczXSA9IFwiRjE1XCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiRjE2XCJdID0gNzRdID0gXCJGMTZcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJGMTdcIl0gPSA3NV0gPSBcIkYxN1wiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIkYxOFwiXSA9IDc2XSA9IFwiRjE4XCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiRjE5XCJdID0gNzddID0gXCJGMTlcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJOdW1Mb2NrXCJdID0gNzhdID0gXCJOdW1Mb2NrXCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiU2Nyb2xsTG9ja1wiXSA9IDc5XSA9IFwiU2Nyb2xsTG9ja1wiO1xuICAgIC8qKlxuICAgICAqIFVzZWQgZm9yIG1pc2NlbGxhbmVvdXMgY2hhcmFjdGVyczsgaXQgY2FuIHZhcnkgYnkga2V5Ym9hcmQuXG4gICAgICogRm9yIHRoZSBVUyBzdGFuZGFyZCBrZXlib2FyZCwgdGhlICc7Oicga2V5XG4gICAgICovXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiVVNfU0VNSUNPTE9OXCJdID0gODBdID0gXCJVU19TRU1JQ09MT05cIjtcbiAgICAvKipcbiAgICAgKiBGb3IgYW55IGNvdW50cnkvcmVnaW9uLCB0aGUgJysnIGtleVxuICAgICAqIEZvciB0aGUgVVMgc3RhbmRhcmQga2V5Ym9hcmQsIHRoZSAnPSsnIGtleVxuICAgICAqL1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIlVTX0VRVUFMXCJdID0gODFdID0gXCJVU19FUVVBTFwiO1xuICAgIC8qKlxuICAgICAqIEZvciBhbnkgY291bnRyeS9yZWdpb24sIHRoZSAnLCcga2V5XG4gICAgICogRm9yIHRoZSBVUyBzdGFuZGFyZCBrZXlib2FyZCwgdGhlICcsPCcga2V5XG4gICAgICovXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiVVNfQ09NTUFcIl0gPSA4Ml0gPSBcIlVTX0NPTU1BXCI7XG4gICAgLyoqXG4gICAgICogRm9yIGFueSBjb3VudHJ5L3JlZ2lvbiwgdGhlICctJyBrZXlcbiAgICAgKiBGb3IgdGhlIFVTIHN0YW5kYXJkIGtleWJvYXJkLCB0aGUgJy1fJyBrZXlcbiAgICAgKi9cbiAgICBLZXlDb2RlW0tleUNvZGVbXCJVU19NSU5VU1wiXSA9IDgzXSA9IFwiVVNfTUlOVVNcIjtcbiAgICAvKipcbiAgICAgKiBGb3IgYW55IGNvdW50cnkvcmVnaW9uLCB0aGUgJy4nIGtleVxuICAgICAqIEZvciB0aGUgVVMgc3RhbmRhcmQga2V5Ym9hcmQsIHRoZSAnLj4nIGtleVxuICAgICAqL1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIlVTX0RPVFwiXSA9IDg0XSA9IFwiVVNfRE9UXCI7XG4gICAgLyoqXG4gICAgICogVXNlZCBmb3IgbWlzY2VsbGFuZW91cyBjaGFyYWN0ZXJzOyBpdCBjYW4gdmFyeSBieSBrZXlib2FyZC5cbiAgICAgKiBGb3IgdGhlIFVTIHN0YW5kYXJkIGtleWJvYXJkLCB0aGUgJy8/JyBrZXlcbiAgICAgKi9cbiAgICBLZXlDb2RlW0tleUNvZGVbXCJVU19TTEFTSFwiXSA9IDg1XSA9IFwiVVNfU0xBU0hcIjtcbiAgICAvKipcbiAgICAgKiBVc2VkIGZvciBtaXNjZWxsYW5lb3VzIGNoYXJhY3RlcnM7IGl0IGNhbiB2YXJ5IGJ5IGtleWJvYXJkLlxuICAgICAqIEZvciB0aGUgVVMgc3RhbmRhcmQga2V5Ym9hcmQsIHRoZSAnYH4nIGtleVxuICAgICAqL1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIlVTX0JBQ0tUSUNLXCJdID0gODZdID0gXCJVU19CQUNLVElDS1wiO1xuICAgIC8qKlxuICAgICAqIFVzZWQgZm9yIG1pc2NlbGxhbmVvdXMgY2hhcmFjdGVyczsgaXQgY2FuIHZhcnkgYnkga2V5Ym9hcmQuXG4gICAgICogRm9yIHRoZSBVUyBzdGFuZGFyZCBrZXlib2FyZCwgdGhlICdbeycga2V5XG4gICAgICovXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiVVNfT1BFTl9TUVVBUkVfQlJBQ0tFVFwiXSA9IDg3XSA9IFwiVVNfT1BFTl9TUVVBUkVfQlJBQ0tFVFwiO1xuICAgIC8qKlxuICAgICAqIFVzZWQgZm9yIG1pc2NlbGxhbmVvdXMgY2hhcmFjdGVyczsgaXQgY2FuIHZhcnkgYnkga2V5Ym9hcmQuXG4gICAgICogRm9yIHRoZSBVUyBzdGFuZGFyZCBrZXlib2FyZCwgdGhlICdcXHwnIGtleVxuICAgICAqL1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIlVTX0JBQ0tTTEFTSFwiXSA9IDg4XSA9IFwiVVNfQkFDS1NMQVNIXCI7XG4gICAgLyoqXG4gICAgICogVXNlZCBmb3IgbWlzY2VsbGFuZW91cyBjaGFyYWN0ZXJzOyBpdCBjYW4gdmFyeSBieSBrZXlib2FyZC5cbiAgICAgKiBGb3IgdGhlIFVTIHN0YW5kYXJkIGtleWJvYXJkLCB0aGUgJ119JyBrZXlcbiAgICAgKi9cbiAgICBLZXlDb2RlW0tleUNvZGVbXCJVU19DTE9TRV9TUVVBUkVfQlJBQ0tFVFwiXSA9IDg5XSA9IFwiVVNfQ0xPU0VfU1FVQVJFX0JSQUNLRVRcIjtcbiAgICAvKipcbiAgICAgKiBVc2VkIGZvciBtaXNjZWxsYW5lb3VzIGNoYXJhY3RlcnM7IGl0IGNhbiB2YXJ5IGJ5IGtleWJvYXJkLlxuICAgICAqIEZvciB0aGUgVVMgc3RhbmRhcmQga2V5Ym9hcmQsIHRoZSAnJ1wiJyBrZXlcbiAgICAgKi9cbiAgICBLZXlDb2RlW0tleUNvZGVbXCJVU19RVU9URVwiXSA9IDkwXSA9IFwiVVNfUVVPVEVcIjtcbiAgICAvKipcbiAgICAgKiBVc2VkIGZvciBtaXNjZWxsYW5lb3VzIGNoYXJhY3RlcnM7IGl0IGNhbiB2YXJ5IGJ5IGtleWJvYXJkLlxuICAgICAqL1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIk9FTV84XCJdID0gOTFdID0gXCJPRU1fOFwiO1xuICAgIC8qKlxuICAgICAqIEVpdGhlciB0aGUgYW5nbGUgYnJhY2tldCBrZXkgb3IgdGhlIGJhY2tzbGFzaCBrZXkgb24gdGhlIFJUIDEwMi1rZXkga2V5Ym9hcmQuXG4gICAgICovXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiT0VNXzEwMlwiXSA9IDkyXSA9IFwiT0VNXzEwMlwiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIk5VTVBBRF8wXCJdID0gOTNdID0gXCJOVU1QQURfMFwiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIk5VTVBBRF8xXCJdID0gOTRdID0gXCJOVU1QQURfMVwiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIk5VTVBBRF8yXCJdID0gOTVdID0gXCJOVU1QQURfMlwiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIk5VTVBBRF8zXCJdID0gOTZdID0gXCJOVU1QQURfM1wiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIk5VTVBBRF80XCJdID0gOTddID0gXCJOVU1QQURfNFwiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIk5VTVBBRF81XCJdID0gOThdID0gXCJOVU1QQURfNVwiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIk5VTVBBRF82XCJdID0gOTldID0gXCJOVU1QQURfNlwiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIk5VTVBBRF83XCJdID0gMTAwXSA9IFwiTlVNUEFEXzdcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJOVU1QQURfOFwiXSA9IDEwMV0gPSBcIk5VTVBBRF84XCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiTlVNUEFEXzlcIl0gPSAxMDJdID0gXCJOVU1QQURfOVwiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIk5VTVBBRF9NVUxUSVBMWVwiXSA9IDEwM10gPSBcIk5VTVBBRF9NVUxUSVBMWVwiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIk5VTVBBRF9BRERcIl0gPSAxMDRdID0gXCJOVU1QQURfQUREXCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiTlVNUEFEX1NFUEFSQVRPUlwiXSA9IDEwNV0gPSBcIk5VTVBBRF9TRVBBUkFUT1JcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJOVU1QQURfU1VCVFJBQ1RcIl0gPSAxMDZdID0gXCJOVU1QQURfU1VCVFJBQ1RcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJOVU1QQURfREVDSU1BTFwiXSA9IDEwN10gPSBcIk5VTVBBRF9ERUNJTUFMXCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiTlVNUEFEX0RJVklERVwiXSA9IDEwOF0gPSBcIk5VTVBBRF9ESVZJREVcIjtcbiAgICAvKipcbiAgICAgKiBDb3ZlciBhbGwga2V5IGNvZGVzIHdoZW4gSU1FIGlzIHByb2Nlc3NpbmcgaW5wdXQuXG4gICAgICovXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiS0VZX0lOX0NPTVBPU0lUSU9OXCJdID0gMTA5XSA9IFwiS0VZX0lOX0NPTVBPU0lUSU9OXCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiQUJOVF9DMVwiXSA9IDExMF0gPSBcIkFCTlRfQzFcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJBQk5UX0MyXCJdID0gMTExXSA9IFwiQUJOVF9DMlwiO1xuICAgIC8qKlxuICAgICAqIFBsYWNlZCBsYXN0IHRvIGNvdmVyIHRoZSBsZW5ndGggb2YgdGhlIGVudW0uXG4gICAgICogUGxlYXNlIGRvIG5vdCBkZXBlbmQgb24gdGhpcyB2YWx1ZSFcbiAgICAgKi9cbiAgICBLZXlDb2RlW0tleUNvZGVbXCJNQVhfVkFMVUVcIl0gPSAxMTJdID0gXCJNQVhfVkFMVUVcIjtcbn0pKEtleUNvZGUgfHwgKEtleUNvZGUgPSB7fSkpO1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU1vbmFjb0Jhc2VBUEkoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZWRpdG9yOiB1bmRlZmluZWQsXG4gICAgICAgIGxhbmd1YWdlczogdW5kZWZpbmVkLFxuICAgICAgICBDYW5jZWxsYXRpb25Ub2tlblNvdXJjZTogQ2FuY2VsbGF0aW9uVG9rZW5Tb3VyY2UsXG4gICAgICAgIEVtaXR0ZXI6IEVtaXR0ZXIsXG4gICAgICAgIEtleUNvZGU6IEtleUNvZGUsXG4gICAgICAgIEtleU1vZDogS2V5TW9kLFxuICAgICAgICBQb3NpdGlvbjogUG9zaXRpb24sXG4gICAgICAgIFJhbmdlOiBSYW5nZSxcbiAgICAgICAgU2VsZWN0aW9uOiBTZWxlY3Rpb24sXG4gICAgICAgIFNlbGVjdGlvbkRpcmVjdGlvbjogU2VsZWN0aW9uRGlyZWN0aW9uLFxuICAgICAgICBTZXZlcml0eTogU2V2ZXJpdHksXG4gICAgICAgIE1hcmtlclNldmVyaXR5OiBNYXJrZXJTZXZlcml0eSxcbiAgICAgICAgUHJvbWlzZTogVFByb21pc2UsXG4gICAgICAgIFVyaTogVVJJLFxuICAgICAgICBUb2tlbjogVG9rZW5cbiAgICB9O1xufVxuIiwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG4ndXNlIHN0cmljdCc7XG52YXIgVG9rZW4gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVG9rZW4ob2Zmc2V0LCB0eXBlLCBsYW5ndWFnZSkge1xuICAgICAgICB0aGlzLm9mZnNldCA9IG9mZnNldCB8IDA7IC8vIEBwZXJmXG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgICAgIHRoaXMubGFuZ3VhZ2UgPSBsYW5ndWFnZTtcbiAgICB9XG4gICAgVG9rZW4ucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gJygnICsgdGhpcy5vZmZzZXQgKyAnLCAnICsgdGhpcy50eXBlICsgJyknO1xuICAgIH07XG4gICAgcmV0dXJuIFRva2VuO1xufSgpKTtcbmV4cG9ydCB7IFRva2VuIH07XG52YXIgVG9rZW5pemF0aW9uUmVzdWx0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFRva2VuaXphdGlvblJlc3VsdCh0b2tlbnMsIGVuZFN0YXRlKSB7XG4gICAgICAgIHRoaXMudG9rZW5zID0gdG9rZW5zO1xuICAgICAgICB0aGlzLmVuZFN0YXRlID0gZW5kU3RhdGU7XG4gICAgfVxuICAgIHJldHVybiBUb2tlbml6YXRpb25SZXN1bHQ7XG59KCkpO1xuZXhwb3J0IHsgVG9rZW5pemF0aW9uUmVzdWx0IH07XG52YXIgVG9rZW5pemF0aW9uUmVzdWx0MiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBUb2tlbml6YXRpb25SZXN1bHQyKHRva2VucywgZW5kU3RhdGUpIHtcbiAgICAgICAgdGhpcy50b2tlbnMgPSB0b2tlbnM7XG4gICAgICAgIHRoaXMuZW5kU3RhdGUgPSBlbmRTdGF0ZTtcbiAgICB9XG4gICAgcmV0dXJuIFRva2VuaXphdGlvblJlc3VsdDI7XG59KCkpO1xuZXhwb3J0IHsgVG9rZW5pemF0aW9uUmVzdWx0MiB9O1xuIiwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG4ndXNlIHN0cmljdCc7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbmltcG9ydCBVUkkgZnJvbSAnLi4vLi4vLi4vYmFzZS9jb21tb24vdXJpLmpzJztcbmltcG9ydCB7IFRQcm9taXNlIH0gZnJvbSAnLi4vLi4vLi4vYmFzZS9jb21tb24vd2luanMuYmFzZS5qcyc7XG5pbXBvcnQgeyBSYW5nZSB9IGZyb20gJy4uL2NvcmUvcmFuZ2UuanMnO1xuaW1wb3J0IHsgRGlmZkNvbXB1dGVyIH0gZnJvbSAnLi4vZGlmZi9kaWZmQ29tcHV0ZXIuanMnO1xuaW1wb3J0IHsgc3RyaW5nRGlmZiB9IGZyb20gJy4uLy4uLy4uL2Jhc2UvY29tbW9uL2RpZmYvZGlmZi5qcyc7XG5pbXBvcnQgeyBQb3NpdGlvbiB9IGZyb20gJy4uL2NvcmUvcG9zaXRpb24uanMnO1xuaW1wb3J0IHsgTWlycm9yVGV4dE1vZGVsIGFzIEJhc2VNaXJyb3JNb2RlbCB9IGZyb20gJy4uL21vZGVsL21pcnJvclRleHRNb2RlbC5qcyc7XG5pbXBvcnQgeyBjb21wdXRlTGlua3MgfSBmcm9tICcuLi9tb2Rlcy9saW5rQ29tcHV0ZXIuanMnO1xuaW1wb3J0IHsgQmFzaWNJbnBsYWNlUmVwbGFjZSB9IGZyb20gJy4uL21vZGVzL3N1cHBvcnRzL2lucGxhY2VSZXBsYWNlU3VwcG9ydC5qcyc7XG5pbXBvcnQgeyBnZXRXb3JkQXRUZXh0LCBlbnN1cmVWYWxpZFdvcmREZWZpbml0aW9uIH0gZnJvbSAnLi4vbW9kZWwvd29yZEhlbHBlci5qcyc7XG5pbXBvcnQgeyBjcmVhdGVNb25hY29CYXNlQVBJIH0gZnJvbSAnLi4vc3RhbmRhbG9uZS9zdGFuZGFsb25lQmFzZS5qcyc7XG5pbXBvcnQgeyBnbG9iYWxzIH0gZnJvbSAnLi4vLi4vLi4vYmFzZS9jb21tb24vcGxhdGZvcm0uanMnO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xudmFyIE1pcnJvck1vZGVsID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhNaXJyb3JNb2RlbCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBNaXJyb3JNb2RlbCgpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWlycm9yTW9kZWwucHJvdG90eXBlLCBcInVyaVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3VyaTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1pcnJvck1vZGVsLnByb3RvdHlwZSwgXCJ2ZXJzaW9uXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdmVyc2lvbklkO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWlycm9yTW9kZWwucHJvdG90eXBlLCBcImVvbFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2VvbDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgTWlycm9yTW9kZWwucHJvdG90eXBlLmdldFZhbHVlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRUZXh0KCk7XG4gICAgfTtcbiAgICBNaXJyb3JNb2RlbC5wcm90b3R5cGUuZ2V0TGluZXNDb250ZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbGluZXMuc2xpY2UoMCk7XG4gICAgfTtcbiAgICBNaXJyb3JNb2RlbC5wcm90b3R5cGUuZ2V0TGluZUNvdW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbGluZXMubGVuZ3RoO1xuICAgIH07XG4gICAgTWlycm9yTW9kZWwucHJvdG90eXBlLmdldExpbmVDb250ZW50ID0gZnVuY3Rpb24gKGxpbmVOdW1iZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xpbmVzW2xpbmVOdW1iZXIgLSAxXTtcbiAgICB9O1xuICAgIE1pcnJvck1vZGVsLnByb3RvdHlwZS5nZXRXb3JkQXRQb3NpdGlvbiA9IGZ1bmN0aW9uIChwb3NpdGlvbiwgd29yZERlZmluaXRpb24pIHtcbiAgICAgICAgdmFyIHdvcmRBdFRleHQgPSBnZXRXb3JkQXRUZXh0KHBvc2l0aW9uLmNvbHVtbiwgZW5zdXJlVmFsaWRXb3JkRGVmaW5pdGlvbih3b3JkRGVmaW5pdGlvbiksIHRoaXMuX2xpbmVzW3Bvc2l0aW9uLmxpbmVOdW1iZXIgLSAxXSwgMCk7XG4gICAgICAgIGlmICh3b3JkQXRUZXh0KSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFJhbmdlKHBvc2l0aW9uLmxpbmVOdW1iZXIsIHdvcmRBdFRleHQuc3RhcnRDb2x1bW4sIHBvc2l0aW9uLmxpbmVOdW1iZXIsIHdvcmRBdFRleHQuZW5kQ29sdW1uKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICAgIE1pcnJvck1vZGVsLnByb3RvdHlwZS5nZXRXb3JkVW50aWxQb3NpdGlvbiA9IGZ1bmN0aW9uIChwb3NpdGlvbiwgd29yZERlZmluaXRpb24pIHtcbiAgICAgICAgdmFyIHdvcmRBdFBvc2l0aW9uID0gdGhpcy5nZXRXb3JkQXRQb3NpdGlvbihwb3NpdGlvbiwgd29yZERlZmluaXRpb24pO1xuICAgICAgICBpZiAoIXdvcmRBdFBvc2l0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHdvcmQ6ICcnLFxuICAgICAgICAgICAgICAgIHN0YXJ0Q29sdW1uOiBwb3NpdGlvbi5jb2x1bW4sXG4gICAgICAgICAgICAgICAgZW5kQ29sdW1uOiBwb3NpdGlvbi5jb2x1bW5cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHdvcmQ6IHRoaXMuX2xpbmVzW3Bvc2l0aW9uLmxpbmVOdW1iZXIgLSAxXS5zdWJzdHJpbmcod29yZEF0UG9zaXRpb24uc3RhcnRDb2x1bW4gLSAxLCBwb3NpdGlvbi5jb2x1bW4gLSAxKSxcbiAgICAgICAgICAgIHN0YXJ0Q29sdW1uOiB3b3JkQXRQb3NpdGlvbi5zdGFydENvbHVtbixcbiAgICAgICAgICAgIGVuZENvbHVtbjogcG9zaXRpb24uY29sdW1uXG4gICAgICAgIH07XG4gICAgfTtcbiAgICBNaXJyb3JNb2RlbC5wcm90b3R5cGUuY3JlYXRlV29yZEl0ZXJhdG9yID0gZnVuY3Rpb24gKHdvcmREZWZpbml0aW9uKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBvYmogPSB7XG4gICAgICAgICAgICBkb25lOiBmYWxzZSxcbiAgICAgICAgICAgIHZhbHVlOiAnJ1xuICAgICAgICB9O1xuICAgICAgICB2YXIgbGluZU51bWJlciA9IDA7XG4gICAgICAgIHZhciBsaW5lVGV4dDtcbiAgICAgICAgdmFyIHdvcmRSYW5nZXNJZHggPSAwO1xuICAgICAgICB2YXIgd29yZFJhbmdlcyA9IFtdO1xuICAgICAgICB2YXIgbmV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICh3b3JkUmFuZ2VzSWR4IDwgd29yZFJhbmdlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBvYmouZG9uZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIG9iai52YWx1ZSA9IGxpbmVUZXh0LnN1YnN0cmluZyh3b3JkUmFuZ2VzW3dvcmRSYW5nZXNJZHhdLnN0YXJ0LCB3b3JkUmFuZ2VzW3dvcmRSYW5nZXNJZHhdLmVuZCk7XG4gICAgICAgICAgICAgICAgd29yZFJhbmdlc0lkeCArPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobGluZU51bWJlciA+PSBfdGhpcy5fbGluZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgb2JqLmRvbmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIG9iai52YWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxpbmVUZXh0ID0gX3RoaXMuX2xpbmVzW2xpbmVOdW1iZXJdO1xuICAgICAgICAgICAgICAgIHdvcmRSYW5nZXMgPSBfdGhpcy5fd29yZGVuaXplKGxpbmVUZXh0LCB3b3JkRGVmaW5pdGlvbik7XG4gICAgICAgICAgICAgICAgd29yZFJhbmdlc0lkeCA9IDA7XG4gICAgICAgICAgICAgICAgbGluZU51bWJlciArPSAxO1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXh0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4geyBuZXh0OiBuZXh0IH07XG4gICAgfTtcbiAgICBNaXJyb3JNb2RlbC5wcm90b3R5cGUuX3dvcmRlbml6ZSA9IGZ1bmN0aW9uIChjb250ZW50LCB3b3JkRGVmaW5pdGlvbikge1xuICAgICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICAgIHZhciBtYXRjaDtcbiAgICAgICAgd29yZERlZmluaXRpb24ubGFzdEluZGV4ID0gMDsgLy8gcmVzZXQgbGFzdEluZGV4IGp1c3QgdG8gYmUgc3VyZVxuICAgICAgICB3aGlsZSAobWF0Y2ggPSB3b3JkRGVmaW5pdGlvbi5leGVjKGNvbnRlbnQpKSB7XG4gICAgICAgICAgICBpZiAobWF0Y2hbMF0ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgLy8gaXQgZGlkIG1hdGNoIHRoZSBlbXB0eSBzdHJpbmdcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKHsgc3RhcnQ6IG1hdGNoLmluZGV4LCBlbmQ6IG1hdGNoLmluZGV4ICsgbWF0Y2hbMF0ubGVuZ3RoIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICBNaXJyb3JNb2RlbC5wcm90b3R5cGUuZ2V0VmFsdWVJblJhbmdlID0gZnVuY3Rpb24gKHJhbmdlKSB7XG4gICAgICAgIHJhbmdlID0gdGhpcy5fdmFsaWRhdGVSYW5nZShyYW5nZSk7XG4gICAgICAgIGlmIChyYW5nZS5zdGFydExpbmVOdW1iZXIgPT09IHJhbmdlLmVuZExpbmVOdW1iZXIpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9saW5lc1tyYW5nZS5zdGFydExpbmVOdW1iZXIgLSAxXS5zdWJzdHJpbmcocmFuZ2Uuc3RhcnRDb2x1bW4gLSAxLCByYW5nZS5lbmRDb2x1bW4gLSAxKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbGluZUVuZGluZyA9IHRoaXMuX2VvbDtcbiAgICAgICAgdmFyIHN0YXJ0TGluZUluZGV4ID0gcmFuZ2Uuc3RhcnRMaW5lTnVtYmVyIC0gMTtcbiAgICAgICAgdmFyIGVuZExpbmVJbmRleCA9IHJhbmdlLmVuZExpbmVOdW1iZXIgLSAxO1xuICAgICAgICB2YXIgcmVzdWx0TGluZXMgPSBbXTtcbiAgICAgICAgcmVzdWx0TGluZXMucHVzaCh0aGlzLl9saW5lc1tzdGFydExpbmVJbmRleF0uc3Vic3RyaW5nKHJhbmdlLnN0YXJ0Q29sdW1uIC0gMSkpO1xuICAgICAgICBmb3IgKHZhciBpID0gc3RhcnRMaW5lSW5kZXggKyAxOyBpIDwgZW5kTGluZUluZGV4OyBpKyspIHtcbiAgICAgICAgICAgIHJlc3VsdExpbmVzLnB1c2godGhpcy5fbGluZXNbaV0pO1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdExpbmVzLnB1c2godGhpcy5fbGluZXNbZW5kTGluZUluZGV4XS5zdWJzdHJpbmcoMCwgcmFuZ2UuZW5kQ29sdW1uIC0gMSkpO1xuICAgICAgICByZXR1cm4gcmVzdWx0TGluZXMuam9pbihsaW5lRW5kaW5nKTtcbiAgICB9O1xuICAgIE1pcnJvck1vZGVsLnByb3RvdHlwZS5vZmZzZXRBdCA9IGZ1bmN0aW9uIChwb3NpdGlvbikge1xuICAgICAgICBwb3NpdGlvbiA9IHRoaXMuX3ZhbGlkYXRlUG9zaXRpb24ocG9zaXRpb24pO1xuICAgICAgICB0aGlzLl9lbnN1cmVMaW5lU3RhcnRzKCk7XG4gICAgICAgIHJldHVybiB0aGlzLl9saW5lU3RhcnRzLmdldEFjY3VtdWxhdGVkVmFsdWUocG9zaXRpb24ubGluZU51bWJlciAtIDIpICsgKHBvc2l0aW9uLmNvbHVtbiAtIDEpO1xuICAgIH07XG4gICAgTWlycm9yTW9kZWwucHJvdG90eXBlLnBvc2l0aW9uQXQgPSBmdW5jdGlvbiAob2Zmc2V0KSB7XG4gICAgICAgIG9mZnNldCA9IE1hdGguZmxvb3Iob2Zmc2V0KTtcbiAgICAgICAgb2Zmc2V0ID0gTWF0aC5tYXgoMCwgb2Zmc2V0KTtcbiAgICAgICAgdGhpcy5fZW5zdXJlTGluZVN0YXJ0cygpO1xuICAgICAgICB2YXIgb3V0ID0gdGhpcy5fbGluZVN0YXJ0cy5nZXRJbmRleE9mKG9mZnNldCk7XG4gICAgICAgIHZhciBsaW5lTGVuZ3RoID0gdGhpcy5fbGluZXNbb3V0LmluZGV4XS5sZW5ndGg7XG4gICAgICAgIC8vIEVuc3VyZSB3ZSByZXR1cm4gYSB2YWxpZCBwb3NpdGlvblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbGluZU51bWJlcjogMSArIG91dC5pbmRleCxcbiAgICAgICAgICAgIGNvbHVtbjogMSArIE1hdGgubWluKG91dC5yZW1haW5kZXIsIGxpbmVMZW5ndGgpXG4gICAgICAgIH07XG4gICAgfTtcbiAgICBNaXJyb3JNb2RlbC5wcm90b3R5cGUuX3ZhbGlkYXRlUmFuZ2UgPSBmdW5jdGlvbiAocmFuZ2UpIHtcbiAgICAgICAgdmFyIHN0YXJ0ID0gdGhpcy5fdmFsaWRhdGVQb3NpdGlvbih7IGxpbmVOdW1iZXI6IHJhbmdlLnN0YXJ0TGluZU51bWJlciwgY29sdW1uOiByYW5nZS5zdGFydENvbHVtbiB9KTtcbiAgICAgICAgdmFyIGVuZCA9IHRoaXMuX3ZhbGlkYXRlUG9zaXRpb24oeyBsaW5lTnVtYmVyOiByYW5nZS5lbmRMaW5lTnVtYmVyLCBjb2x1bW46IHJhbmdlLmVuZENvbHVtbiB9KTtcbiAgICAgICAgaWYgKHN0YXJ0LmxpbmVOdW1iZXIgIT09IHJhbmdlLnN0YXJ0TGluZU51bWJlclxuICAgICAgICAgICAgfHwgc3RhcnQuY29sdW1uICE9PSByYW5nZS5zdGFydENvbHVtblxuICAgICAgICAgICAgfHwgZW5kLmxpbmVOdW1iZXIgIT09IHJhbmdlLmVuZExpbmVOdW1iZXJcbiAgICAgICAgICAgIHx8IGVuZC5jb2x1bW4gIT09IHJhbmdlLmVuZENvbHVtbikge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzdGFydExpbmVOdW1iZXI6IHN0YXJ0LmxpbmVOdW1iZXIsXG4gICAgICAgICAgICAgICAgc3RhcnRDb2x1bW46IHN0YXJ0LmNvbHVtbixcbiAgICAgICAgICAgICAgICBlbmRMaW5lTnVtYmVyOiBlbmQubGluZU51bWJlcixcbiAgICAgICAgICAgICAgICBlbmRDb2x1bW46IGVuZC5jb2x1bW5cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJhbmdlO1xuICAgIH07XG4gICAgTWlycm9yTW9kZWwucHJvdG90eXBlLl92YWxpZGF0ZVBvc2l0aW9uID0gZnVuY3Rpb24gKHBvc2l0aW9uKSB7XG4gICAgICAgIGlmICghUG9zaXRpb24uaXNJUG9zaXRpb24ocG9zaXRpb24pKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2JhZCBwb3NpdGlvbicpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBsaW5lTnVtYmVyID0gcG9zaXRpb24ubGluZU51bWJlciwgY29sdW1uID0gcG9zaXRpb24uY29sdW1uO1xuICAgICAgICB2YXIgaGFzQ2hhbmdlZCA9IGZhbHNlO1xuICAgICAgICBpZiAobGluZU51bWJlciA8IDEpIHtcbiAgICAgICAgICAgIGxpbmVOdW1iZXIgPSAxO1xuICAgICAgICAgICAgY29sdW1uID0gMTtcbiAgICAgICAgICAgIGhhc0NoYW5nZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGxpbmVOdW1iZXIgPiB0aGlzLl9saW5lcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGxpbmVOdW1iZXIgPSB0aGlzLl9saW5lcy5sZW5ndGg7XG4gICAgICAgICAgICBjb2x1bW4gPSB0aGlzLl9saW5lc1tsaW5lTnVtYmVyIC0gMV0ubGVuZ3RoICsgMTtcbiAgICAgICAgICAgIGhhc0NoYW5nZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIG1heENoYXJhY3RlciA9IHRoaXMuX2xpbmVzW2xpbmVOdW1iZXIgLSAxXS5sZW5ndGggKyAxO1xuICAgICAgICAgICAgaWYgKGNvbHVtbiA8IDEpIHtcbiAgICAgICAgICAgICAgICBjb2x1bW4gPSAxO1xuICAgICAgICAgICAgICAgIGhhc0NoYW5nZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY29sdW1uID4gbWF4Q2hhcmFjdGVyKSB7XG4gICAgICAgICAgICAgICAgY29sdW1uID0gbWF4Q2hhcmFjdGVyO1xuICAgICAgICAgICAgICAgIGhhc0NoYW5nZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghaGFzQ2hhbmdlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHBvc2l0aW9uO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHsgbGluZU51bWJlcjogbGluZU51bWJlciwgY29sdW1uOiBjb2x1bW4gfTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIE1pcnJvck1vZGVsO1xufShCYXNlTWlycm9yTW9kZWwpKTtcbi8qKlxuICogQGludGVybmFsXG4gKi9cbnZhciBCYXNlRWRpdG9yU2ltcGxlV29ya2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEJhc2VFZGl0b3JTaW1wbGVXb3JrZXIoZm9yZWlnbk1vZHVsZUZhY3RvcnkpIHtcbiAgICAgICAgdGhpcy5fZm9yZWlnbk1vZHVsZUZhY3RvcnkgPSBmb3JlaWduTW9kdWxlRmFjdG9yeTtcbiAgICAgICAgdGhpcy5fZm9yZWlnbk1vZHVsZSA9IG51bGw7XG4gICAgfVxuICAgIC8vIC0tLS0gQkVHSU4gZGlmZiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIEJhc2VFZGl0b3JTaW1wbGVXb3JrZXIucHJvdG90eXBlLmNvbXB1dGVEaWZmID0gZnVuY3Rpb24gKG9yaWdpbmFsVXJsLCBtb2RpZmllZFVybCwgaWdub3JlVHJpbVdoaXRlc3BhY2UpIHtcbiAgICAgICAgdmFyIG9yaWdpbmFsID0gdGhpcy5fZ2V0TW9kZWwob3JpZ2luYWxVcmwpO1xuICAgICAgICB2YXIgbW9kaWZpZWQgPSB0aGlzLl9nZXRNb2RlbChtb2RpZmllZFVybCk7XG4gICAgICAgIGlmICghb3JpZ2luYWwgfHwgIW1vZGlmaWVkKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgb3JpZ2luYWxMaW5lcyA9IG9yaWdpbmFsLmdldExpbmVzQ29udGVudCgpO1xuICAgICAgICB2YXIgbW9kaWZpZWRMaW5lcyA9IG1vZGlmaWVkLmdldExpbmVzQ29udGVudCgpO1xuICAgICAgICB2YXIgZGlmZkNvbXB1dGVyID0gbmV3IERpZmZDb21wdXRlcihvcmlnaW5hbExpbmVzLCBtb2RpZmllZExpbmVzLCB7XG4gICAgICAgICAgICBzaG91bGRQb3N0UHJvY2Vzc0NoYXJDaGFuZ2VzOiB0cnVlLFxuICAgICAgICAgICAgc2hvdWxkSWdub3JlVHJpbVdoaXRlc3BhY2U6IGlnbm9yZVRyaW1XaGl0ZXNwYWNlLFxuICAgICAgICAgICAgc2hvdWxkTWFrZVByZXR0eURpZmY6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBUUHJvbWlzZS5hcyhkaWZmQ29tcHV0ZXIuY29tcHV0ZURpZmYoKSk7XG4gICAgfTtcbiAgICBCYXNlRWRpdG9yU2ltcGxlV29ya2VyLnByb3RvdHlwZS5jb21wdXRlRGlydHlEaWZmID0gZnVuY3Rpb24gKG9yaWdpbmFsVXJsLCBtb2RpZmllZFVybCwgaWdub3JlVHJpbVdoaXRlc3BhY2UpIHtcbiAgICAgICAgdmFyIG9yaWdpbmFsID0gdGhpcy5fZ2V0TW9kZWwob3JpZ2luYWxVcmwpO1xuICAgICAgICB2YXIgbW9kaWZpZWQgPSB0aGlzLl9nZXRNb2RlbChtb2RpZmllZFVybCk7XG4gICAgICAgIGlmICghb3JpZ2luYWwgfHwgIW1vZGlmaWVkKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgb3JpZ2luYWxMaW5lcyA9IG9yaWdpbmFsLmdldExpbmVzQ29udGVudCgpO1xuICAgICAgICB2YXIgbW9kaWZpZWRMaW5lcyA9IG1vZGlmaWVkLmdldExpbmVzQ29udGVudCgpO1xuICAgICAgICB2YXIgZGlmZkNvbXB1dGVyID0gbmV3IERpZmZDb21wdXRlcihvcmlnaW5hbExpbmVzLCBtb2RpZmllZExpbmVzLCB7XG4gICAgICAgICAgICBzaG91bGRQb3N0UHJvY2Vzc0NoYXJDaGFuZ2VzOiBmYWxzZSxcbiAgICAgICAgICAgIHNob3VsZElnbm9yZVRyaW1XaGl0ZXNwYWNlOiBpZ25vcmVUcmltV2hpdGVzcGFjZSxcbiAgICAgICAgICAgIHNob3VsZE1ha2VQcmV0dHlEaWZmOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gVFByb21pc2UuYXMoZGlmZkNvbXB1dGVyLmNvbXB1dGVEaWZmKCkpO1xuICAgIH07XG4gICAgQmFzZUVkaXRvclNpbXBsZVdvcmtlci5wcm90b3R5cGUuY29tcHV0ZU1vcmVNaW5pbWFsRWRpdHMgPSBmdW5jdGlvbiAobW9kZWxVcmwsIGVkaXRzKSB7XG4gICAgICAgIHZhciBtb2RlbCA9IHRoaXMuX2dldE1vZGVsKG1vZGVsVXJsKTtcbiAgICAgICAgaWYgKCFtb2RlbCkge1xuICAgICAgICAgICAgcmV0dXJuIFRQcm9taXNlLmFzKGVkaXRzKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICAgIHZhciBsYXN0RW9sO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIGVkaXRzXzEgPSBlZGl0czsgX2kgPCBlZGl0c18xLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgdmFyIF9hID0gZWRpdHNfMVtfaV0sIHJhbmdlID0gX2EucmFuZ2UsIHRleHQgPSBfYS50ZXh0LCBlb2wgPSBfYS5lb2w7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGVvbCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICBsYXN0RW9sID0gZW9sO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFyYW5nZSkge1xuICAgICAgICAgICAgICAgIC8vIGVvbC1jaGFuZ2Ugb25seVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIG9yaWdpbmFsID0gbW9kZWwuZ2V0VmFsdWVJblJhbmdlKHJhbmdlKTtcbiAgICAgICAgICAgIHRleHQgPSB0ZXh0LnJlcGxhY2UoL1xcclxcbnxcXG58XFxyL2csIG1vZGVsLmVvbCk7XG4gICAgICAgICAgICBpZiAob3JpZ2luYWwgPT09IHRleHQpIHtcbiAgICAgICAgICAgICAgICAvLyBub29wXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBtYWtlIHN1cmUgZGlmZiB3b24ndCB0YWtlIHRvbyBsb25nXG4gICAgICAgICAgICBpZiAoTWF0aC5tYXgodGV4dC5sZW5ndGgsIG9yaWdpbmFsLmxlbmd0aCkgPiBCYXNlRWRpdG9yU2ltcGxlV29ya2VyLl9kaWZmTGltaXQpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh7IHJhbmdlOiByYW5nZSwgdGV4dDogdGV4dCB9KTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGNvbXB1dGUgZGlmZiBiZXR3ZWVuIG9yaWdpbmFsIGFuZCBlZGl0LnRleHRcbiAgICAgICAgICAgIHZhciBjaGFuZ2VzID0gc3RyaW5nRGlmZihvcmlnaW5hbCwgdGV4dCwgZmFsc2UpO1xuICAgICAgICAgICAgdmFyIGVkaXRPZmZzZXQgPSBtb2RlbC5vZmZzZXRBdChSYW5nZS5saWZ0KHJhbmdlKS5nZXRTdGFydFBvc2l0aW9uKCkpO1xuICAgICAgICAgICAgZm9yICh2YXIgX2IgPSAwLCBjaGFuZ2VzXzEgPSBjaGFuZ2VzOyBfYiA8IGNoYW5nZXNfMS5sZW5ndGg7IF9iKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgY2hhbmdlID0gY2hhbmdlc18xW19iXTtcbiAgICAgICAgICAgICAgICB2YXIgc3RhcnQgPSBtb2RlbC5wb3NpdGlvbkF0KGVkaXRPZmZzZXQgKyBjaGFuZ2Uub3JpZ2luYWxTdGFydCk7XG4gICAgICAgICAgICAgICAgdmFyIGVuZCA9IG1vZGVsLnBvc2l0aW9uQXQoZWRpdE9mZnNldCArIGNoYW5nZS5vcmlnaW5hbFN0YXJ0ICsgY2hhbmdlLm9yaWdpbmFsTGVuZ3RoKTtcbiAgICAgICAgICAgICAgICB2YXIgbmV3RWRpdCA9IHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogdGV4dC5zdWJzdHIoY2hhbmdlLm1vZGlmaWVkU3RhcnQsIGNoYW5nZS5tb2RpZmllZExlbmd0aCksXG4gICAgICAgICAgICAgICAgICAgIHJhbmdlOiB7IHN0YXJ0TGluZU51bWJlcjogc3RhcnQubGluZU51bWJlciwgc3RhcnRDb2x1bW46IHN0YXJ0LmNvbHVtbiwgZW5kTGluZU51bWJlcjogZW5kLmxpbmVOdW1iZXIsIGVuZENvbHVtbjogZW5kLmNvbHVtbiB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBpZiAobW9kZWwuZ2V0VmFsdWVJblJhbmdlKG5ld0VkaXQucmFuZ2UpICE9PSBuZXdFZGl0LnRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gobmV3RWRpdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgbGFzdEVvbCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKHsgZW9sOiBsYXN0RW9sLCB0ZXh0OiB1bmRlZmluZWQsIHJhbmdlOiB1bmRlZmluZWQgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFRQcm9taXNlLmFzKHJlc3VsdCk7XG4gICAgfTtcbiAgICAvLyAtLS0tIEVORCBtaW5pbWFsIGVkaXRzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIEJhc2VFZGl0b3JTaW1wbGVXb3JrZXIucHJvdG90eXBlLmNvbXB1dGVMaW5rcyA9IGZ1bmN0aW9uIChtb2RlbFVybCkge1xuICAgICAgICB2YXIgbW9kZWwgPSB0aGlzLl9nZXRNb2RlbChtb2RlbFVybCk7XG4gICAgICAgIGlmICghbW9kZWwpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBUUHJvbWlzZS5hcyhjb21wdXRlTGlua3MobW9kZWwpKTtcbiAgICB9O1xuICAgIEJhc2VFZGl0b3JTaW1wbGVXb3JrZXIucHJvdG90eXBlLnRleHR1YWxTdWdnZXN0ID0gZnVuY3Rpb24gKG1vZGVsVXJsLCBwb3NpdGlvbiwgd29yZERlZiwgd29yZERlZkZsYWdzKSB7XG4gICAgICAgIHZhciBtb2RlbCA9IHRoaXMuX2dldE1vZGVsKG1vZGVsVXJsKTtcbiAgICAgICAgaWYgKG1vZGVsKSB7XG4gICAgICAgICAgICB2YXIgc3VnZ2VzdGlvbnMgPSBbXTtcbiAgICAgICAgICAgIHZhciB3b3JkRGVmUmVnRXhwID0gbmV3IFJlZ0V4cCh3b3JkRGVmLCB3b3JkRGVmRmxhZ3MpO1xuICAgICAgICAgICAgdmFyIGN1cnJlbnRXb3JkID0gbW9kZWwuZ2V0V29yZFVudGlsUG9zaXRpb24ocG9zaXRpb24sIHdvcmREZWZSZWdFeHApLndvcmQ7XG4gICAgICAgICAgICB2YXIgc2VlbiA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgICAgICBzZWVuW2N1cnJlbnRXb3JkXSA9IHRydWU7XG4gICAgICAgICAgICBmb3IgKHZhciBpdGVyID0gbW9kZWwuY3JlYXRlV29yZEl0ZXJhdG9yKHdvcmREZWZSZWdFeHApLCBlID0gaXRlci5uZXh0KCk7ICFlLmRvbmUgJiYgc3VnZ2VzdGlvbnMubGVuZ3RoIDw9IEJhc2VFZGl0b3JTaW1wbGVXb3JrZXIuX3N1Z2dlc3Rpb25zTGltaXQ7IGUgPSBpdGVyLm5leHQoKSkge1xuICAgICAgICAgICAgICAgIHZhciB3b3JkID0gZS52YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAoc2Vlblt3b3JkXSkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2Vlblt3b3JkXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgaWYgKCFpc05hTihOdW1iZXIod29yZCkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzdWdnZXN0aW9ucy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogd29yZCxcbiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0VGV4dDogd29yZCxcbiAgICAgICAgICAgICAgICAgICAgbm9BdXRvQWNjZXB0OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBvdmVyd3JpdGVCZWZvcmU6IGN1cnJlbnRXb3JkLmxlbmd0aFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFRQcm9taXNlLmFzKHsgc3VnZ2VzdGlvbnM6IHN1Z2dlc3Rpb25zIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICAvLyAtLS0tIEVORCBzdWdnZXN0IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgQmFzZUVkaXRvclNpbXBsZVdvcmtlci5wcm90b3R5cGUubmF2aWdhdGVWYWx1ZVNldCA9IGZ1bmN0aW9uIChtb2RlbFVybCwgcmFuZ2UsIHVwLCB3b3JkRGVmLCB3b3JkRGVmRmxhZ3MpIHtcbiAgICAgICAgdmFyIG1vZGVsID0gdGhpcy5fZ2V0TW9kZWwobW9kZWxVcmwpO1xuICAgICAgICBpZiAoIW1vZGVsKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgd29yZERlZlJlZ0V4cCA9IG5ldyBSZWdFeHAod29yZERlZiwgd29yZERlZkZsYWdzKTtcbiAgICAgICAgaWYgKHJhbmdlLnN0YXJ0Q29sdW1uID09PSByYW5nZS5lbmRDb2x1bW4pIHtcbiAgICAgICAgICAgIHJhbmdlID0ge1xuICAgICAgICAgICAgICAgIHN0YXJ0TGluZU51bWJlcjogcmFuZ2Uuc3RhcnRMaW5lTnVtYmVyLFxuICAgICAgICAgICAgICAgIHN0YXJ0Q29sdW1uOiByYW5nZS5zdGFydENvbHVtbixcbiAgICAgICAgICAgICAgICBlbmRMaW5lTnVtYmVyOiByYW5nZS5lbmRMaW5lTnVtYmVyLFxuICAgICAgICAgICAgICAgIGVuZENvbHVtbjogcmFuZ2UuZW5kQ29sdW1uICsgMVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc2VsZWN0aW9uVGV4dCA9IG1vZGVsLmdldFZhbHVlSW5SYW5nZShyYW5nZSk7XG4gICAgICAgIHZhciB3b3JkUmFuZ2UgPSBtb2RlbC5nZXRXb3JkQXRQb3NpdGlvbih7IGxpbmVOdW1iZXI6IHJhbmdlLnN0YXJ0TGluZU51bWJlciwgY29sdW1uOiByYW5nZS5zdGFydENvbHVtbiB9LCB3b3JkRGVmUmVnRXhwKTtcbiAgICAgICAgdmFyIHdvcmQgPSBudWxsO1xuICAgICAgICBpZiAod29yZFJhbmdlICE9PSBudWxsKSB7XG4gICAgICAgICAgICB3b3JkID0gbW9kZWwuZ2V0VmFsdWVJblJhbmdlKHdvcmRSYW5nZSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlc3VsdCA9IEJhc2ljSW5wbGFjZVJlcGxhY2UuSU5TVEFOQ0UubmF2aWdhdGVWYWx1ZVNldChyYW5nZSwgc2VsZWN0aW9uVGV4dCwgd29yZFJhbmdlLCB3b3JkLCB1cCk7XG4gICAgICAgIHJldHVybiBUUHJvbWlzZS5hcyhyZXN1bHQpO1xuICAgIH07XG4gICAgLy8gLS0tLSBCRUdJTiBmb3JlaWduIG1vZHVsZSBzdXBwb3J0IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgQmFzZUVkaXRvclNpbXBsZVdvcmtlci5wcm90b3R5cGUubG9hZEZvcmVpZ25Nb2R1bGUgPSBmdW5jdGlvbiAobW9kdWxlSWQsIGNyZWF0ZURhdGEpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGN0eCA9IHtcbiAgICAgICAgICAgIGdldE1pcnJvck1vZGVsczogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5fZ2V0TW9kZWxzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGlmICh0aGlzLl9mb3JlaWduTW9kdWxlRmFjdG9yeSkge1xuICAgICAgICAgICAgdGhpcy5fZm9yZWlnbk1vZHVsZSA9IHRoaXMuX2ZvcmVpZ25Nb2R1bGVGYWN0b3J5KGN0eCwgY3JlYXRlRGF0YSk7XG4gICAgICAgICAgICAvLyBzdGF0aWMgZm9yZWluZyBtb2R1bGVcbiAgICAgICAgICAgIHZhciBtZXRob2RzID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBwcm9wIGluIHRoaXMuX2ZvcmVpZ25Nb2R1bGUpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMuX2ZvcmVpZ25Nb2R1bGVbcHJvcF0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kcy5wdXNoKHByb3ApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBUUHJvbWlzZS5hcyhtZXRob2RzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFRQcm9taXNlKGZ1bmN0aW9uIChjLCBlKSB7XG4gICAgICAgICAgICByZXF1aXJlKFttb2R1bGVJZF0sIGZ1bmN0aW9uIChmb3JlaWduTW9kdWxlKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuX2ZvcmVpZ25Nb2R1bGUgPSBmb3JlaWduTW9kdWxlLmNyZWF0ZShjdHgsIGNyZWF0ZURhdGEpO1xuICAgICAgICAgICAgICAgIHZhciBtZXRob2RzID0gW107XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBfdGhpcy5fZm9yZWlnbk1vZHVsZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIF90aGlzLl9mb3JlaWduTW9kdWxlW3Byb3BdID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXRob2RzLnB1c2gocHJvcCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYyhtZXRob2RzKTtcbiAgICAgICAgICAgIH0sIGUpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8vIGZvcmVpZ24gbWV0aG9kIHJlcXVlc3RcbiAgICBCYXNlRWRpdG9yU2ltcGxlV29ya2VyLnByb3RvdHlwZS5mbXIgPSBmdW5jdGlvbiAobWV0aG9kLCBhcmdzKSB7XG4gICAgICAgIGlmICghdGhpcy5fZm9yZWlnbk1vZHVsZSB8fCB0eXBlb2YgdGhpcy5fZm9yZWlnbk1vZHVsZVttZXRob2RdICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICByZXR1cm4gVFByb21pc2Uud3JhcEVycm9yKG5ldyBFcnJvcignTWlzc2luZyByZXF1ZXN0SGFuZGxlciBvciBtZXRob2Q6ICcgKyBtZXRob2QpKTtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIFRQcm9taXNlLmFzKHRoaXMuX2ZvcmVpZ25Nb2R1bGVbbWV0aG9kXS5hcHBseSh0aGlzLl9mb3JlaWduTW9kdWxlLCBhcmdzKSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHJldHVybiBUUHJvbWlzZS53cmFwRXJyb3IoZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8vIC0tLS0gRU5EIGRpZmYgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyAtLS0tIEJFR0lOIG1pbmltYWwgZWRpdHMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgQmFzZUVkaXRvclNpbXBsZVdvcmtlci5fZGlmZkxpbWl0ID0gMTAwMDA7XG4gICAgLy8gLS0tLSBCRUdJTiBzdWdnZXN0IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgQmFzZUVkaXRvclNpbXBsZVdvcmtlci5fc3VnZ2VzdGlvbnNMaW1pdCA9IDEwMDAwO1xuICAgIHJldHVybiBCYXNlRWRpdG9yU2ltcGxlV29ya2VyO1xufSgpKTtcbmV4cG9ydCB7IEJhc2VFZGl0b3JTaW1wbGVXb3JrZXIgfTtcbi8qKlxuICogQGludGVybmFsXG4gKi9cbnZhciBFZGl0b3JTaW1wbGVXb3JrZXJJbXBsID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhFZGl0b3JTaW1wbGVXb3JrZXJJbXBsLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEVkaXRvclNpbXBsZVdvcmtlckltcGwoZm9yZWlnbk1vZHVsZUZhY3RvcnkpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZm9yZWlnbk1vZHVsZUZhY3RvcnkpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLl9tb2RlbHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIEVkaXRvclNpbXBsZVdvcmtlckltcGwucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX21vZGVscyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgfTtcbiAgICBFZGl0b3JTaW1wbGVXb3JrZXJJbXBsLnByb3RvdHlwZS5fZ2V0TW9kZWwgPSBmdW5jdGlvbiAodXJpKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tb2RlbHNbdXJpXTtcbiAgICB9O1xuICAgIEVkaXRvclNpbXBsZVdvcmtlckltcGwucHJvdG90eXBlLl9nZXRNb2RlbHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBhbGwgPSBbXTtcbiAgICAgICAgT2JqZWN0LmtleXModGhpcy5fbW9kZWxzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIGFsbC5wdXNoKF90aGlzLl9tb2RlbHNba2V5XSk7IH0pO1xuICAgICAgICByZXR1cm4gYWxsO1xuICAgIH07XG4gICAgRWRpdG9yU2ltcGxlV29ya2VySW1wbC5wcm90b3R5cGUuYWNjZXB0TmV3TW9kZWwgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB0aGlzLl9tb2RlbHNbZGF0YS51cmxdID0gbmV3IE1pcnJvck1vZGVsKFVSSS5wYXJzZShkYXRhLnVybCksIGRhdGEubGluZXMsIGRhdGEuRU9MLCBkYXRhLnZlcnNpb25JZCk7XG4gICAgfTtcbiAgICBFZGl0b3JTaW1wbGVXb3JrZXJJbXBsLnByb3RvdHlwZS5hY2NlcHRNb2RlbENoYW5nZWQgPSBmdW5jdGlvbiAoc3RyVVJMLCBlKSB7XG4gICAgICAgIGlmICghdGhpcy5fbW9kZWxzW3N0clVSTF0pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbW9kZWwgPSB0aGlzLl9tb2RlbHNbc3RyVVJMXTtcbiAgICAgICAgbW9kZWwub25FdmVudHMoZSk7XG4gICAgfTtcbiAgICBFZGl0b3JTaW1wbGVXb3JrZXJJbXBsLnByb3RvdHlwZS5hY2NlcHRSZW1vdmVkTW9kZWwgPSBmdW5jdGlvbiAoc3RyVVJMKSB7XG4gICAgICAgIGlmICghdGhpcy5fbW9kZWxzW3N0clVSTF0pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBkZWxldGUgdGhpcy5fbW9kZWxzW3N0clVSTF07XG4gICAgfTtcbiAgICByZXR1cm4gRWRpdG9yU2ltcGxlV29ya2VySW1wbDtcbn0oQmFzZUVkaXRvclNpbXBsZVdvcmtlcikpO1xuZXhwb3J0IHsgRWRpdG9yU2ltcGxlV29ya2VySW1wbCB9O1xuLyoqXG4gKiBDYWxsZWQgb24gdGhlIHdvcmtlciBzaWRlXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgICByZXR1cm4gbmV3IEVkaXRvclNpbXBsZVdvcmtlckltcGwobnVsbCk7XG59XG5pZiAodHlwZW9mIGltcG9ydFNjcmlwdHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAvLyBSdW5uaW5nIGluIGEgd2ViIHdvcmtlclxuICAgIGdsb2JhbHMubW9uYWNvID0gY3JlYXRlTW9uYWNvQmFzZUFQSSgpO1xufVxuIiwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG4ndXNlIHN0cmljdCc7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbmltcG9ydCAqIGFzIGVycm9ycyBmcm9tICcuL2Vycm9ycy5qcyc7XG5pbXBvcnQgeyBQcm9taXNlLCBUUHJvbWlzZSB9IGZyb20gJy4vd2luanMuYmFzZS5qcyc7XG5pbXBvcnQgeyBDYW5jZWxsYXRpb25Ub2tlblNvdXJjZSB9IGZyb20gJy4vY2FuY2VsbGF0aW9uLmpzJztcbmltcG9ydCB7IERpc3Bvc2FibGUgfSBmcm9tICcuL2xpZmVjeWNsZS5qcyc7XG5pbXBvcnQgeyBFbWl0dGVyIH0gZnJvbSAnLi9ldmVudC5qcyc7XG5leHBvcnQgZnVuY3Rpb24gaXNQcm9taXNlTGlrZShvYmopIHtcbiAgICByZXR1cm4gb2JqICYmIHR5cGVvZiBvYmoudGhlbiA9PT0gJ2Z1bmN0aW9uJztcbn1cbmV4cG9ydCBmdW5jdGlvbiB0b1Byb21pc2VMaWtlKGFyZykge1xuICAgIGlmIChpc1Byb21pc2VMaWtlKGFyZykpIHtcbiAgICAgICAgcmV0dXJuIGFyZztcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBUUHJvbWlzZS5hcyhhcmcpO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBhc1dpbkpzUHJvbWlzZShjYWxsYmFjaykge1xuICAgIHZhciBzb3VyY2UgPSBuZXcgQ2FuY2VsbGF0aW9uVG9rZW5Tb3VyY2UoKTtcbiAgICByZXR1cm4gbmV3IFRQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QsIHByb2dyZXNzKSB7XG4gICAgICAgIHZhciBpdGVtID0gY2FsbGJhY2soc291cmNlLnRva2VuKTtcbiAgICAgICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBUUHJvbWlzZSkge1xuICAgICAgICAgICAgaXRlbS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICBzb3VyY2UuZGlzcG9zZSgpO1xuICAgICAgICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICAgICBzb3VyY2UuZGlzcG9zZSgpO1xuICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgfSwgcHJvZ3Jlc3MpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzUHJvbWlzZUxpa2UoaXRlbSkpIHtcbiAgICAgICAgICAgIGl0ZW0udGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgc291cmNlLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgc291cmNlLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc291cmNlLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIHJlc29sdmUoaXRlbSk7XG4gICAgICAgIH1cbiAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHNvdXJjZS5jYW5jZWwoKTtcbiAgICB9KTtcbn1cbi8qKlxuICogSG9vayBhIGNhbmNlbGxhdGlvbiB0b2tlbiB0byBhIFdpbkpTIFByb21pc2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHdpcmVDYW5jZWxsYXRpb25Ub2tlbih0b2tlbiwgcHJvbWlzZSwgcmVzb2x2ZUFzVW5kZWZpbmVkV2hlbkNhbmNlbGxlZCkge1xuICAgIHZhciBzdWJzY3JpcHRpb24gPSB0b2tlbi5vbkNhbmNlbGxhdGlvblJlcXVlc3RlZChmdW5jdGlvbiAoKSB7IHJldHVybiBwcm9taXNlLmNhbmNlbCgpOyB9KTtcbiAgICBpZiAocmVzb2x2ZUFzVW5kZWZpbmVkV2hlbkNhbmNlbGxlZCkge1xuICAgICAgICBwcm9taXNlID0gcHJvbWlzZS50aGVuKHVuZGVmaW5lZCwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgaWYgKCFlcnJvcnMuaXNQcm9taXNlQ2FuY2VsZWRFcnJvcihlcnIpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFRQcm9taXNlLndyYXBFcnJvcihlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBhbHdheXMocHJvbWlzZSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gc3Vic2NyaXB0aW9uLmRpc3Bvc2UoKTsgfSk7XG59XG4vKipcbiAqIEEgaGVscGVyIHRvIHByZXZlbnQgYWNjdW11bGF0aW9uIG9mIHNlcXVlbnRpYWwgYXN5bmMgdGFza3MuXG4gKlxuICogSW1hZ2luZSBhIG1haWwgbWFuIHdpdGggdGhlIHNvbGUgdGFzayBvZiBkZWxpdmVyaW5nIGxldHRlcnMuIEFzIHNvb24gYXNcbiAqIGEgbGV0dGVyIHN1Ym1pdHRlZCBmb3IgZGVsaXZlcnksIGhlIGRyaXZlcyB0byB0aGUgZGVzdGluYXRpb24sIGRlbGl2ZXJzIGl0XG4gKiBhbmQgcmV0dXJucyB0byBoaXMgYmFzZS4gSW1hZ2luZSB0aGF0IGR1cmluZyB0aGUgdHJpcCwgTiBtb3JlIGxldHRlcnMgd2VyZSBzdWJtaXR0ZWQuXG4gKiBXaGVuIHRoZSBtYWlsIG1hbiByZXR1cm5zLCBoZSBwaWNrcyB0aG9zZSBOIGxldHRlcnMgYW5kIGRlbGl2ZXJzIHRoZW0gYWxsIGluIGFcbiAqIHNpbmdsZSB0cmlwLiBFdmVuIHRob3VnaCBOKzEgc3VibWlzc2lvbnMgb2NjdXJyZWQsIG9ubHkgMiBkZWxpdmVyaWVzIHdlcmUgbWFkZS5cbiAqXG4gKiBUaGUgdGhyb3R0bGVyIGltcGxlbWVudHMgdGhpcyB2aWEgdGhlIHF1ZXVlKCkgbWV0aG9kLCBieSBwcm92aWRpbmcgaXQgYSB0YXNrXG4gKiBmYWN0b3J5LiBGb2xsb3dpbmcgdGhlIGV4YW1wbGU6XG4gKlxuICogXHRcdGNvbnN0IHRocm90dGxlciA9IG5ldyBUaHJvdHRsZXIoKTtcbiAqIFx0XHRjb25zdCBsZXR0ZXJzID0gW107XG4gKlxuICogXHRcdGZ1bmN0aW9uIGRlbGl2ZXIoKSB7XG4gKiBcdFx0XHRjb25zdCBsZXR0ZXJzVG9EZWxpdmVyID0gbGV0dGVycztcbiAqIFx0XHRcdGxldHRlcnMgPSBbXTtcbiAqIFx0XHRcdHJldHVybiBtYWtlVGhlVHJpcChsZXR0ZXJzVG9EZWxpdmVyKTtcbiAqIFx0XHR9XG4gKlxuICogXHRcdGZ1bmN0aW9uIG9uTGV0dGVyUmVjZWl2ZWQobCkge1xuICogXHRcdFx0bGV0dGVycy5wdXNoKGwpO1xuICogXHRcdFx0dGhyb3R0bGVyLnF1ZXVlKGRlbGl2ZXIpO1xuICogXHRcdH1cbiAqL1xudmFyIFRocm90dGxlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBUaHJvdHRsZXIoKSB7XG4gICAgICAgIHRoaXMuYWN0aXZlUHJvbWlzZSA9IG51bGw7XG4gICAgICAgIHRoaXMucXVldWVkUHJvbWlzZSA9IG51bGw7XG4gICAgICAgIHRoaXMucXVldWVkUHJvbWlzZUZhY3RvcnkgPSBudWxsO1xuICAgIH1cbiAgICBUaHJvdHRsZXIucHJvdG90eXBlLnF1ZXVlID0gZnVuY3Rpb24gKHByb21pc2VGYWN0b3J5KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZVByb21pc2UpIHtcbiAgICAgICAgICAgIHRoaXMucXVldWVkUHJvbWlzZUZhY3RvcnkgPSBwcm9taXNlRmFjdG9yeTtcbiAgICAgICAgICAgIGlmICghdGhpcy5xdWV1ZWRQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgdmFyIG9uQ29tcGxldGVfMSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMucXVldWVkUHJvbWlzZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBfdGhpcy5xdWV1ZShfdGhpcy5xdWV1ZWRQcm9taXNlRmFjdG9yeSk7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnF1ZXVlZFByb21pc2VGYWN0b3J5ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHRoaXMucXVldWVkUHJvbWlzZSA9IG5ldyBUUHJvbWlzZShmdW5jdGlvbiAoYywgZSwgcCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5hY3RpdmVQcm9taXNlLnRoZW4ob25Db21wbGV0ZV8xLCBvbkNvbXBsZXRlXzEsIHApLmRvbmUoYyk7XG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5hY3RpdmVQcm9taXNlLmNhbmNlbCgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBUUHJvbWlzZShmdW5jdGlvbiAoYywgZSwgcCkge1xuICAgICAgICAgICAgICAgIF90aGlzLnF1ZXVlZFByb21pc2UudGhlbihjLCBlLCBwKTtcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAvLyBuby1vcFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hY3RpdmVQcm9taXNlID0gcHJvbWlzZUZhY3RvcnkoKTtcbiAgICAgICAgcmV0dXJuIG5ldyBUUHJvbWlzZShmdW5jdGlvbiAoYywgZSwgcCkge1xuICAgICAgICAgICAgX3RoaXMuYWN0aXZlUHJvbWlzZS5kb25lKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5hY3RpdmVQcm9taXNlID0gbnVsbDtcbiAgICAgICAgICAgICAgICBjKHJlc3VsdCk7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuYWN0aXZlUHJvbWlzZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgZShlcnIpO1xuICAgICAgICAgICAgfSwgcCk7XG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLmFjdGl2ZVByb21pc2UuY2FuY2VsKCk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIFRocm90dGxlcjtcbn0oKSk7XG5leHBvcnQgeyBUaHJvdHRsZXIgfTtcbi8vIFRPRE9ASm9hbzogY2FuIHRoZSBwcmV2aW91cyB0aHJvdHRsZXIgYmUgcmVwbGFjZWQgd2l0aCB0aGlzP1xudmFyIFNpbXBsZVRocm90dGxlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTaW1wbGVUaHJvdHRsZXIoKSB7XG4gICAgICAgIHRoaXMuY3VycmVudCA9IFRQcm9taXNlLndyYXAobnVsbCk7XG4gICAgfVxuICAgIFNpbXBsZVRocm90dGxlci5wcm90b3R5cGUucXVldWUgPSBmdW5jdGlvbiAocHJvbWlzZVRhc2spIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudCA9IHRoaXMuY3VycmVudC50aGVuKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHByb21pc2VUYXNrKCk7IH0pO1xuICAgIH07XG4gICAgcmV0dXJuIFNpbXBsZVRocm90dGxlcjtcbn0oKSk7XG5leHBvcnQgeyBTaW1wbGVUaHJvdHRsZXIgfTtcbi8qKlxuICogQSBoZWxwZXIgdG8gZGVsYXkgZXhlY3V0aW9uIG9mIGEgdGFzayB0aGF0IGlzIGJlaW5nIHJlcXVlc3RlZCBvZnRlbi5cbiAqXG4gKiBGb2xsb3dpbmcgdGhlIHRocm90dGxlciwgbm93IGltYWdpbmUgdGhlIG1haWwgbWFuIHdhbnRzIHRvIG9wdGltaXplIHRoZSBudW1iZXIgb2ZcbiAqIHRyaXBzIHByb2FjdGl2ZWx5LiBUaGUgdHJpcCBpdHNlbGYgY2FuIGJlIGxvbmcsIHNvIHRoZSBoZSBkZWNpZGVzIG5vdCB0byBtYWtlIHRoZSB0cmlwXG4gKiBhcyBzb29uIGFzIGEgbGV0dGVyIGlzIHN1Ym1pdHRlZC4gSW5zdGVhZCBoZSB3YWl0cyBhIHdoaWxlLCBpbiBjYXNlIG1vcmVcbiAqIGxldHRlcnMgYXJlIHN1Ym1pdHRlZC4gQWZ0ZXIgc2FpZCB3YWl0aW5nIHBlcmlvZCwgaWYgbm8gbGV0dGVycyB3ZXJlIHN1Ym1pdHRlZCwgaGVcbiAqIGRlY2lkZXMgdG8gbWFrZSB0aGUgdHJpcC4gSW1hZ2luZSB0aGF0IE4gbW9yZSBsZXR0ZXJzIHdlcmUgc3VibWl0dGVkIGFmdGVyIHRoZSBmaXJzdFxuICogb25lLCBhbGwgd2l0aGluIGEgc2hvcnQgcGVyaW9kIG9mIHRpbWUgYmV0d2VlbiBlYWNoIG90aGVyLiBFdmVuIHRob3VnaCBOKzFcbiAqIHN1Ym1pc3Npb25zIG9jY3VycmVkLCBvbmx5IDEgZGVsaXZlcnkgd2FzIG1hZGUuXG4gKlxuICogVGhlIGRlbGF5ZXIgb2ZmZXJzIHRoaXMgYmVoYXZpb3IgdmlhIHRoZSB0cmlnZ2VyKCkgbWV0aG9kLCBpbnRvIHdoaWNoIGJvdGggdGhlIHRhc2tcbiAqIHRvIGJlIGV4ZWN1dGVkIGFuZCB0aGUgd2FpdGluZyBwZXJpb2QgKGRlbGF5KSBtdXN0IGJlIHBhc3NlZCBpbiBhcyBhcmd1bWVudHMuIEZvbGxvd2luZ1xuICogdGhlIGV4YW1wbGU6XG4gKlxuICogXHRcdGNvbnN0IGRlbGF5ZXIgPSBuZXcgRGVsYXllcihXQUlUSU5HX1BFUklPRCk7XG4gKiBcdFx0Y29uc3QgbGV0dGVycyA9IFtdO1xuICpcbiAqIFx0XHRmdW5jdGlvbiBsZXR0ZXJSZWNlaXZlZChsKSB7XG4gKiBcdFx0XHRsZXR0ZXJzLnB1c2gobCk7XG4gKiBcdFx0XHRkZWxheWVyLnRyaWdnZXIoKCkgPT4geyByZXR1cm4gbWFrZVRoZVRyaXAoKTsgfSk7XG4gKiBcdFx0fVxuICovXG52YXIgRGVsYXllciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBEZWxheWVyKGRlZmF1bHREZWxheSkge1xuICAgICAgICB0aGlzLmRlZmF1bHREZWxheSA9IGRlZmF1bHREZWxheTtcbiAgICAgICAgdGhpcy50aW1lb3V0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5jb21wbGV0aW9uUHJvbWlzZSA9IG51bGw7XG4gICAgICAgIHRoaXMub25TdWNjZXNzID0gbnVsbDtcbiAgICAgICAgdGhpcy50YXNrID0gbnVsbDtcbiAgICB9XG4gICAgRGVsYXllci5wcm90b3R5cGUudHJpZ2dlciA9IGZ1bmN0aW9uICh0YXNrLCBkZWxheSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoZGVsYXkgPT09IHZvaWQgMCkgeyBkZWxheSA9IHRoaXMuZGVmYXVsdERlbGF5OyB9XG4gICAgICAgIHRoaXMudGFzayA9IHRhc2s7XG4gICAgICAgIHRoaXMuY2FuY2VsVGltZW91dCgpO1xuICAgICAgICBpZiAoIXRoaXMuY29tcGxldGlvblByb21pc2UpIHtcbiAgICAgICAgICAgIHRoaXMuY29tcGxldGlvblByb21pc2UgPSBuZXcgVFByb21pc2UoZnVuY3Rpb24gKGMpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5vblN1Y2Nlc3MgPSBjO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIC8vIG5vLW9wXG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5jb21wbGV0aW9uUHJvbWlzZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgX3RoaXMub25TdWNjZXNzID0gbnVsbDtcbiAgICAgICAgICAgICAgICB2YXIgdGFzayA9IF90aGlzLnRhc2s7XG4gICAgICAgICAgICAgICAgX3RoaXMudGFzayA9IG51bGw7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRhc2soKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMudGltZW91dCA9IG51bGw7XG4gICAgICAgICAgICBfdGhpcy5vblN1Y2Nlc3MobnVsbCk7XG4gICAgICAgIH0sIGRlbGF5KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29tcGxldGlvblByb21pc2U7XG4gICAgfTtcbiAgICBEZWxheWVyLnByb3RvdHlwZS5pc1RyaWdnZXJlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGltZW91dCAhPT0gbnVsbDtcbiAgICB9O1xuICAgIERlbGF5ZXIucHJvdG90eXBlLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5jYW5jZWxUaW1lb3V0KCk7XG4gICAgICAgIGlmICh0aGlzLmNvbXBsZXRpb25Qcm9taXNlKSB7XG4gICAgICAgICAgICB0aGlzLmNvbXBsZXRpb25Qcm9taXNlLmNhbmNlbCgpO1xuICAgICAgICAgICAgdGhpcy5jb21wbGV0aW9uUHJvbWlzZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIERlbGF5ZXIucHJvdG90eXBlLmNhbmNlbFRpbWVvdXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnRpbWVvdXQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXQpO1xuICAgICAgICAgICAgdGhpcy50aW1lb3V0ID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIERlbGF5ZXI7XG59KCkpO1xuZXhwb3J0IHsgRGVsYXllciB9O1xuLyoqXG4gKiBBIGhlbHBlciB0byBkZWxheSBleGVjdXRpb24gb2YgYSB0YXNrIHRoYXQgaXMgYmVpbmcgcmVxdWVzdGVkIG9mdGVuLCB3aGlsZVxuICogcHJldmVudGluZyBhY2N1bXVsYXRpb24gb2YgY29uc2VjdXRpdmUgZXhlY3V0aW9ucywgd2hpbGUgdGhlIHRhc2sgcnVucy5cbiAqXG4gKiBTaW1wbHkgY29tYmluZSB0aGUgdHdvIG1haWwgbWFuIHN0cmF0ZWdpZXMgZnJvbSB0aGUgVGhyb3R0bGVyIGFuZCBEZWxheWVyXG4gKiBoZWxwZXJzLCBmb3IgYW4gYW5hbG9neS5cbiAqL1xudmFyIFRocm90dGxlZERlbGF5ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFRocm90dGxlZERlbGF5ZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gVGhyb3R0bGVkRGVsYXllcihkZWZhdWx0RGVsYXkpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVmYXVsdERlbGF5KSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy50aHJvdHRsZXIgPSBuZXcgVGhyb3R0bGVyKCk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgVGhyb3R0bGVkRGVsYXllci5wcm90b3R5cGUudHJpZ2dlciA9IGZ1bmN0aW9uIChwcm9taXNlRmFjdG9yeSwgZGVsYXkpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUudHJpZ2dlci5jYWxsKHRoaXMsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLnRocm90dGxlci5xdWV1ZShwcm9taXNlRmFjdG9yeSk7IH0sIGRlbGF5KTtcbiAgICB9O1xuICAgIHJldHVybiBUaHJvdHRsZWREZWxheWVyO1xufShEZWxheWVyKSk7XG5leHBvcnQgeyBUaHJvdHRsZWREZWxheWVyIH07XG4vKipcbiAqIEEgYmFycmllciB0aGF0IGlzIGluaXRpYWxseSBjbG9zZWQgYW5kIHRoZW4gYmVjb21lcyBvcGVuZWQgcGVybWFuZW50bHkuXG4gKi9cbnZhciBCYXJyaWVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEJhcnJpZXIoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuX2lzT3BlbiA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9wcm9taXNlID0gbmV3IFRQcm9taXNlKGZ1bmN0aW9uIChjLCBlLCBwKSB7XG4gICAgICAgICAgICBfdGhpcy5fY29tcGxldGVQcm9taXNlID0gYztcbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdZb3Ugc2hvdWxkIHJlYWxseSBub3QgdHJ5IHRvIGNhbmNlbCB0aGlzIHJlYWR5IHByb21pc2UhJyk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBCYXJyaWVyLnByb3RvdHlwZS5pc09wZW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc09wZW47XG4gICAgfTtcbiAgICBCYXJyaWVyLnByb3RvdHlwZS5vcGVuID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl9pc09wZW4gPSB0cnVlO1xuICAgICAgICB0aGlzLl9jb21wbGV0ZVByb21pc2UodHJ1ZSk7XG4gICAgfTtcbiAgICBCYXJyaWVyLnByb3RvdHlwZS53YWl0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcHJvbWlzZTtcbiAgICB9O1xuICAgIHJldHVybiBCYXJyaWVyO1xufSgpKTtcbmV4cG9ydCB7IEJhcnJpZXIgfTtcbnZhciBTaGFsbG93Q2FuY2VsVGhlblByb21pc2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFNoYWxsb3dDYW5jZWxUaGVuUHJvbWlzZSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTaGFsbG93Q2FuY2VsVGhlblByb21pc2Uob3V0ZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGNvbXBsZXRlQ2FsbGJhY2ssIGVycm9yQ2FsbGJhY2ssIHByb2dyZXNzQ2FsbGJhY2s7XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZnVuY3Rpb24gKGMsIGUsIHApIHtcbiAgICAgICAgICAgIGNvbXBsZXRlQ2FsbGJhY2sgPSBjO1xuICAgICAgICAgICAgZXJyb3JDYWxsYmFjayA9IGU7XG4gICAgICAgICAgICBwcm9ncmVzc0NhbGxiYWNrID0gcDtcbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy8gY2FuY2VsIHRoaXMgcHJvbWlzZSBidXQgbm90IHRoZVxuICAgICAgICAgICAgLy8gb3V0ZXIgcHJvbWlzZVxuICAgICAgICAgICAgZXJyb3JDYWxsYmFjayhlcnJvcnMuY2FuY2VsZWQoKSk7XG4gICAgICAgIH0pIHx8IHRoaXM7XG4gICAgICAgIG91dGVyLnRoZW4oY29tcGxldGVDYWxsYmFjaywgZXJyb3JDYWxsYmFjaywgcHJvZ3Jlc3NDYWxsYmFjayk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIFNoYWxsb3dDYW5jZWxUaGVuUHJvbWlzZTtcbn0oVFByb21pc2UpKTtcbmV4cG9ydCB7IFNoYWxsb3dDYW5jZWxUaGVuUHJvbWlzZSB9O1xuLyoqXG4gKiBSZXBsYWNlbWVudCBmb3IgYFdpbkpTLlByb21pc2UudGltZW91dGAuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0aW1lb3V0KG4pIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmV0dXJuIHNldFRpbWVvdXQocmVzb2x2ZSwgbik7IH0pO1xufVxuZnVuY3Rpb24gaXNXaW5KU1Byb21pc2UoY2FuZGlkYXRlKSB7XG4gICAgcmV0dXJuIFRQcm9taXNlLmlzKGNhbmRpZGF0ZSkgJiYgdHlwZW9mIGNhbmRpZGF0ZS5kb25lID09PSAnZnVuY3Rpb24nO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGFsd2F5cyh3aW5qc1Byb21pc2VPclByb21pc2VMaWtlLCBmKSB7XG4gICAgaWYgKGlzV2luSlNQcm9taXNlKHdpbmpzUHJvbWlzZU9yUHJvbWlzZUxpa2UpKSB7XG4gICAgICAgIHJldHVybiBuZXcgVFByb21pc2UoZnVuY3Rpb24gKGMsIGUsIHApIHtcbiAgICAgICAgICAgIHdpbmpzUHJvbWlzZU9yUHJvbWlzZUxpa2UuZG9uZShmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgZihyZXN1bHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZTEpIHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JzLm9uVW5leHBlY3RlZEVycm9yKGUxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYyhyZXN1bHQpO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGYoZXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUxKSB7XG4gICAgICAgICAgICAgICAgICAgIGVycm9ycy5vblVuZXhwZWN0ZWRFcnJvcihlMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGUoZXJyKTtcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChwcm9ncmVzcykge1xuICAgICAgICAgICAgICAgIHAocHJvZ3Jlc3MpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHdpbmpzUHJvbWlzZU9yUHJvbWlzZUxpa2UuY2FuY2VsKCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gc2ltcGxlXG4gICAgICAgIHdpbmpzUHJvbWlzZU9yUHJvbWlzZUxpa2UudGhlbihmdW5jdGlvbiAoXykgeyByZXR1cm4gZigpOyB9LCBmdW5jdGlvbiAoXykgeyByZXR1cm4gZigpOyB9KTtcbiAgICAgICAgcmV0dXJuIHdpbmpzUHJvbWlzZU9yUHJvbWlzZUxpa2U7XG4gICAgfVxufVxuLyoqXG4gKiBSdW5zIHRoZSBwcm92aWRlZCBsaXN0IG9mIHByb21pc2UgZmFjdG9yaWVzIGluIHNlcXVlbnRpYWwgb3JkZXIuIFRoZSByZXR1cm5lZFxuICogcHJvbWlzZSB3aWxsIGNvbXBsZXRlIHRvIGFuIGFycmF5IG9mIHJlc3VsdHMgZnJvbSBlYWNoIHByb21pc2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXF1ZW5jZShwcm9taXNlRmFjdG9yaWVzKSB7XG4gICAgdmFyIHJlc3VsdHMgPSBbXTtcbiAgICAvLyByZXZlcnNlIHNpbmNlIHdlIHN0YXJ0IHdpdGggbGFzdCBlbGVtZW50IHVzaW5nIHBvcCgpXG4gICAgcHJvbWlzZUZhY3RvcmllcyA9IHByb21pc2VGYWN0b3JpZXMucmV2ZXJzZSgpO1xuICAgIGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICAgIGlmIChwcm9taXNlRmFjdG9yaWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIHByb21pc2VGYWN0b3JpZXMucG9wKCkoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gdGhlbkhhbmRsZXIocmVzdWx0KSB7XG4gICAgICAgIGlmIChyZXN1bHQgIT09IHVuZGVmaW5lZCAmJiByZXN1bHQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHJlc3VsdHMucHVzaChyZXN1bHQpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBuID0gbmV4dCgpO1xuICAgICAgICBpZiAobikge1xuICAgICAgICAgICAgcmV0dXJuIG4udGhlbih0aGVuSGFuZGxlcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFRQcm9taXNlLmFzKHJlc3VsdHMpO1xuICAgIH1cbiAgICByZXR1cm4gVFByb21pc2UuYXMobnVsbCkudGhlbih0aGVuSGFuZGxlcik7XG59XG5leHBvcnQgZnVuY3Rpb24gZmlyc3QocHJvbWlzZUZhY3Rvcmllcywgc2hvdWxkU3RvcCkge1xuICAgIGlmIChzaG91bGRTdG9wID09PSB2b2lkIDApIHsgc2hvdWxkU3RvcCA9IGZ1bmN0aW9uICh0KSB7IHJldHVybiAhIXQ7IH07IH1cbiAgICBwcm9taXNlRmFjdG9yaWVzID0gcHJvbWlzZUZhY3Rvcmllcy5yZXZlcnNlKCkuc2xpY2UoKTtcbiAgICB2YXIgbG9vcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHByb21pc2VGYWN0b3JpZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gVFByb21pc2UuYXMobnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGZhY3RvcnkgPSBwcm9taXNlRmFjdG9yaWVzLnBvcCgpO1xuICAgICAgICB2YXIgcHJvbWlzZSA9IGZhY3RvcnkoKTtcbiAgICAgICAgcmV0dXJuIHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICBpZiAoc2hvdWxkU3RvcChyZXN1bHQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFRQcm9taXNlLmFzKHJlc3VsdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbG9vcCgpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHJldHVybiBsb29wKCk7XG59XG4vKipcbiAqIEEgaGVscGVyIHRvIHF1ZXVlIE4gcHJvbWlzZXMgYW5kIHJ1biB0aGVtIGFsbCB3aXRoIGEgbWF4IGRlZ3JlZSBvZiBwYXJhbGxlbGlzbS4gVGhlIGhlbHBlclxuICogZW5zdXJlcyB0aGF0IGF0IGFueSB0aW1lIG5vIG1vcmUgdGhhbiBNIHByb21pc2VzIGFyZSBydW5uaW5nIGF0IHRoZSBzYW1lIHRpbWUuXG4gKi9cbnZhciBMaW1pdGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIExpbWl0ZXIobWF4RGVncmVlT2ZQYXJhbGVsbGlzbSkge1xuICAgICAgICB0aGlzLm1heERlZ3JlZU9mUGFyYWxlbGxpc20gPSBtYXhEZWdyZWVPZlBhcmFsZWxsaXNtO1xuICAgICAgICB0aGlzLm91dHN0YW5kaW5nUHJvbWlzZXMgPSBbXTtcbiAgICAgICAgdGhpcy5ydW5uaW5nUHJvbWlzZXMgPSAwO1xuICAgICAgICB0aGlzLl9vbkZpbmlzaGVkID0gbmV3IEVtaXR0ZXIoKTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KExpbWl0ZXIucHJvdG90eXBlLCBcIm9uRmluaXNoZWRcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9vbkZpbmlzaGVkLmV2ZW50O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTGltaXRlci5wcm90b3R5cGUsIFwic2l6ZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucnVubmluZ1Byb21pc2VzICsgdGhpcy5vdXRzdGFuZGluZ1Byb21pc2VzLmxlbmd0aDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgTGltaXRlci5wcm90b3R5cGUucXVldWUgPSBmdW5jdGlvbiAocHJvbWlzZUZhY3RvcnkpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgcmV0dXJuIG5ldyBUUHJvbWlzZShmdW5jdGlvbiAoYywgZSwgcCkge1xuICAgICAgICAgICAgX3RoaXMub3V0c3RhbmRpbmdQcm9taXNlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBmYWN0b3J5OiBwcm9taXNlRmFjdG9yeSxcbiAgICAgICAgICAgICAgICBjOiBjLFxuICAgICAgICAgICAgICAgIGU6IGUsXG4gICAgICAgICAgICAgICAgcDogcFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBfdGhpcy5jb25zdW1lKCk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgTGltaXRlci5wcm90b3R5cGUuY29uc3VtZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgd2hpbGUgKHRoaXMub3V0c3RhbmRpbmdQcm9taXNlcy5sZW5ndGggJiYgdGhpcy5ydW5uaW5nUHJvbWlzZXMgPCB0aGlzLm1heERlZ3JlZU9mUGFyYWxlbGxpc20pIHtcbiAgICAgICAgICAgIHZhciBpTGltaXRlZFRhc2sgPSB0aGlzLm91dHN0YW5kaW5nUHJvbWlzZXMuc2hpZnQoKTtcbiAgICAgICAgICAgIHRoaXMucnVubmluZ1Byb21pc2VzKys7XG4gICAgICAgICAgICB2YXIgcHJvbWlzZSA9IGlMaW1pdGVkVGFzay5mYWN0b3J5KCk7XG4gICAgICAgICAgICBwcm9taXNlLmRvbmUoaUxpbWl0ZWRUYXNrLmMsIGlMaW1pdGVkVGFzay5lLCBpTGltaXRlZFRhc2sucCk7XG4gICAgICAgICAgICBwcm9taXNlLmRvbmUoZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMuY29uc3VtZWQoKTsgfSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMuY29uc3VtZWQoKTsgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIExpbWl0ZXIucHJvdG90eXBlLmNvbnN1bWVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnJ1bm5pbmdQcm9taXNlcy0tO1xuICAgICAgICBpZiAodGhpcy5vdXRzdGFuZGluZ1Byb21pc2VzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuY29uc3VtZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fb25GaW5pc2hlZC5maXJlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIExpbWl0ZXIucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX29uRmluaXNoZWQuZGlzcG9zZSgpO1xuICAgIH07XG4gICAgcmV0dXJuIExpbWl0ZXI7XG59KCkpO1xuZXhwb3J0IHsgTGltaXRlciB9O1xuLyoqXG4gKiBBIHF1ZXVlIGlzIGhhbmRsZXMgb25lIHByb21pc2UgYXQgYSB0aW1lIGFuZCBndWFyYW50ZWVzIHRoYXQgYXQgYW55IHRpbWUgb25seSBvbmUgcHJvbWlzZSBpcyBleGVjdXRpbmcuXG4gKi9cbnZhciBRdWV1ZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoUXVldWUsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gUXVldWUoKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCAxKSB8fCB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gUXVldWU7XG59KExpbWl0ZXIpKTtcbmV4cG9ydCB7IFF1ZXVlIH07XG4vKipcbiAqIEEgaGVscGVyIHRvIG9yZ2FuaXplIHF1ZXVlcyBwZXIgcmVzb3VyY2UuIFRoZSBSZXNvdXJjZVF1ZXVlIG1ha2VzIHN1cmUgdG8gbWFuYWdlIHF1ZXVlcyBwZXIgcmVzb3VyY2VcbiAqIGJ5IGRpc3Bvc2luZyB0aGVtIG9uY2UgdGhlIHF1ZXVlIGlzIGVtcHR5LlxuICovXG52YXIgUmVzb3VyY2VRdWV1ZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZXNvdXJjZVF1ZXVlKCkge1xuICAgICAgICB0aGlzLnF1ZXVlcyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgfVxuICAgIFJlc291cmNlUXVldWUucHJvdG90eXBlLnF1ZXVlRm9yID0gZnVuY3Rpb24gKHJlc291cmNlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBrZXkgPSByZXNvdXJjZS50b1N0cmluZygpO1xuICAgICAgICBpZiAoIXRoaXMucXVldWVzW2tleV0pIHtcbiAgICAgICAgICAgIHZhciBxdWV1ZV8xID0gbmV3IFF1ZXVlKCk7XG4gICAgICAgICAgICBxdWV1ZV8xLm9uRmluaXNoZWQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHF1ZXVlXzEuZGlzcG9zZSgpO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBfdGhpcy5xdWV1ZXNba2V5XTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5xdWV1ZXNba2V5XSA9IHF1ZXVlXzE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMucXVldWVzW2tleV07XG4gICAgfTtcbiAgICByZXR1cm4gUmVzb3VyY2VRdWV1ZTtcbn0oKSk7XG5leHBvcnQgeyBSZXNvdXJjZVF1ZXVlIH07XG5leHBvcnQgZnVuY3Rpb24gc2V0RGlzcG9zYWJsZVRpbWVvdXQoaGFuZGxlciwgdGltZW91dCkge1xuICAgIHZhciBhcmdzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAyOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgYXJnc1tfaSAtIDJdID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgdmFyIGhhbmRsZSA9IHNldFRpbWVvdXQuYXBwbHkodm9pZCAwLCBbaGFuZGxlciwgdGltZW91dF0uY29uY2F0KGFyZ3MpKTtcbiAgICByZXR1cm4geyBkaXNwb3NlOiBmdW5jdGlvbiAoKSB7IGNsZWFyVGltZW91dChoYW5kbGUpOyB9IH07XG59XG52YXIgVGltZW91dFRpbWVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhUaW1lb3V0VGltZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gVGltZW91dFRpbWVyKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5fdG9rZW4gPSAtMTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBUaW1lb3V0VGltZXIucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY2FuY2VsKCk7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpO1xuICAgIH07XG4gICAgVGltZW91dFRpbWVyLnByb3RvdHlwZS5jYW5jZWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLl90b2tlbiAhPT0gLTEpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl90b2tlbik7XG4gICAgICAgICAgICB0aGlzLl90b2tlbiA9IC0xO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBUaW1lb3V0VGltZXIucHJvdG90eXBlLmNhbmNlbEFuZFNldCA9IGZ1bmN0aW9uIChydW5uZXIsIHRpbWVvdXQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5jYW5jZWwoKTtcbiAgICAgICAgdGhpcy5fdG9rZW4gPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLl90b2tlbiA9IC0xO1xuICAgICAgICAgICAgcnVubmVyKCk7XG4gICAgICAgIH0sIHRpbWVvdXQpO1xuICAgIH07XG4gICAgVGltZW91dFRpbWVyLnByb3RvdHlwZS5zZXRJZk5vdFNldCA9IGZ1bmN0aW9uIChydW5uZXIsIHRpbWVvdXQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKHRoaXMuX3Rva2VuICE9PSAtMSkge1xuICAgICAgICAgICAgLy8gdGltZXIgaXMgYWxyZWFkeSBzZXRcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl90b2tlbiA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMuX3Rva2VuID0gLTE7XG4gICAgICAgICAgICBydW5uZXIoKTtcbiAgICAgICAgfSwgdGltZW91dCk7XG4gICAgfTtcbiAgICByZXR1cm4gVGltZW91dFRpbWVyO1xufShEaXNwb3NhYmxlKSk7XG5leHBvcnQgeyBUaW1lb3V0VGltZXIgfTtcbnZhciBJbnRlcnZhbFRpbWVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhJbnRlcnZhbFRpbWVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEludGVydmFsVGltZXIoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLl90b2tlbiA9IC0xO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIEludGVydmFsVGltZXIucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY2FuY2VsKCk7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpO1xuICAgIH07XG4gICAgSW50ZXJ2YWxUaW1lci5wcm90b3R5cGUuY2FuY2VsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5fdG9rZW4gIT09IC0xKSB7XG4gICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMuX3Rva2VuKTtcbiAgICAgICAgICAgIHRoaXMuX3Rva2VuID0gLTE7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEludGVydmFsVGltZXIucHJvdG90eXBlLmNhbmNlbEFuZFNldCA9IGZ1bmN0aW9uIChydW5uZXIsIGludGVydmFsKSB7XG4gICAgICAgIHRoaXMuY2FuY2VsKCk7XG4gICAgICAgIHRoaXMuX3Rva2VuID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcnVubmVyKCk7XG4gICAgICAgIH0sIGludGVydmFsKTtcbiAgICB9O1xuICAgIHJldHVybiBJbnRlcnZhbFRpbWVyO1xufShEaXNwb3NhYmxlKSk7XG5leHBvcnQgeyBJbnRlcnZhbFRpbWVyIH07XG52YXIgUnVuT25jZVNjaGVkdWxlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSdW5PbmNlU2NoZWR1bGVyKHJ1bm5lciwgdGltZW91dCkge1xuICAgICAgICB0aGlzLnRpbWVvdXRUb2tlbiA9IC0xO1xuICAgICAgICB0aGlzLnJ1bm5lciA9IHJ1bm5lcjtcbiAgICAgICAgdGhpcy50aW1lb3V0ID0gdGltZW91dDtcbiAgICAgICAgdGhpcy50aW1lb3V0SGFuZGxlciA9IHRoaXMub25UaW1lb3V0LmJpbmQodGhpcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERpc3Bvc2UgUnVuT25jZVNjaGVkdWxlclxuICAgICAqL1xuICAgIFJ1bk9uY2VTY2hlZHVsZXIucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY2FuY2VsKCk7XG4gICAgICAgIHRoaXMucnVubmVyID0gbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENhbmNlbCBjdXJyZW50IHNjaGVkdWxlZCBydW5uZXIgKGlmIGFueSkuXG4gICAgICovXG4gICAgUnVuT25jZVNjaGVkdWxlci5wcm90b3R5cGUuY2FuY2VsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5pc1NjaGVkdWxlZCgpKSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0VG9rZW4pO1xuICAgICAgICAgICAgdGhpcy50aW1lb3V0VG9rZW4gPSAtMTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2FuY2VsIHByZXZpb3VzIHJ1bm5lciAoaWYgYW55KSAmIHNjaGVkdWxlIGEgbmV3IHJ1bm5lci5cbiAgICAgKi9cbiAgICBSdW5PbmNlU2NoZWR1bGVyLnByb3RvdHlwZS5zY2hlZHVsZSA9IGZ1bmN0aW9uIChkZWxheSkge1xuICAgICAgICBpZiAoZGVsYXkgPT09IHZvaWQgMCkgeyBkZWxheSA9IHRoaXMudGltZW91dDsgfVxuICAgICAgICB0aGlzLmNhbmNlbCgpO1xuICAgICAgICB0aGlzLnRpbWVvdXRUb2tlbiA9IHNldFRpbWVvdXQodGhpcy50aW1lb3V0SGFuZGxlciwgZGVsYXkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHNjaGVkdWxlZC5cbiAgICAgKi9cbiAgICBSdW5PbmNlU2NoZWR1bGVyLnByb3RvdHlwZS5pc1NjaGVkdWxlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGltZW91dFRva2VuICE9PSAtMTtcbiAgICB9O1xuICAgIFJ1bk9uY2VTY2hlZHVsZXIucHJvdG90eXBlLm9uVGltZW91dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy50aW1lb3V0VG9rZW4gPSAtMTtcbiAgICAgICAgaWYgKHRoaXMucnVubmVyKSB7XG4gICAgICAgICAgICB0aGlzLnJ1bm5lcigpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gUnVuT25jZVNjaGVkdWxlcjtcbn0oKSk7XG5leHBvcnQgeyBSdW5PbmNlU2NoZWR1bGVyIH07XG5leHBvcnQgZnVuY3Rpb24gbmZjYWxsKGZuKSB7XG4gICAgdmFyIGFyZ3MgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDE7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBhcmdzW19pIC0gMV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFRQcm9taXNlKGZ1bmN0aW9uIChjLCBlKSB7IHJldHVybiBmbi5hcHBseSh2b2lkIDAsIGFyZ3MuY29uY2F0KFtmdW5jdGlvbiAoZXJyLCByZXN1bHQpIHsgcmV0dXJuIGVyciA/IGUoZXJyKSA6IGMocmVzdWx0KTsgfV0pKTsgfSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gbnVsbDsgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gbmludm9rZSh0aGlzQXJnLCBmbikge1xuICAgIHZhciBhcmdzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAyOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgYXJnc1tfaSAtIDJdID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBUUHJvbWlzZShmdW5jdGlvbiAoYywgZSkgeyByZXR1cm4gZm4uY2FsbC5hcHBseShmbiwgW3RoaXNBcmddLmNvbmNhdChhcmdzLCBbZnVuY3Rpb24gKGVyciwgcmVzdWx0KSB7IHJldHVybiBlcnIgPyBlKGVycikgOiBjKHJlc3VsdCk7IH1dKSk7IH0sIGZ1bmN0aW9uICgpIHsgcmV0dXJuIG51bGw7IH0pO1xufVxuLyoqXG4gKiBBbiBlbWl0dGVyIHRoYXQgd2lsbCBpZ25vcmUgYW55IGV2ZW50cyB0aGF0IG9jY3VyIGR1cmluZyBhIHNwZWNpZmljIGNvZGVcbiAqIGV4ZWN1dGlvbiB0cmlnZ2VyZWQgdmlhIHRocm90dGxlKCkgdW50aWwgdGhlIHByb21pc2UgaGFzIGZpbmlzaGVkIChlaXRoZXJcbiAqIHN1Y2Nlc3NmdWxseSBvciB3aXRoIGFuIGVycm9yKS4gT25seSBhZnRlciB0aGUgcHJvbWlzZSBoYXMgZmluaXNoZWQsIHRoZVxuICogbGFzdCBldmVudCB0aGF0IHdhcyBmaXJlZCBkdXJpbmcgdGhlIG9wZXJhdGlvbiB3aWxsIGdldCBlbWl0dGVkLlxuICpcbiAqL1xudmFyIFRocm90dGxlZEVtaXR0ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFRocm90dGxlZEVtaXR0ZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gVGhyb3R0bGVkRW1pdHRlcigpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIH1cbiAgICBUaHJvdHRsZWRFbWl0dGVyLnByb3RvdHlwZS50aHJvdHRsZSA9IGZ1bmN0aW9uIChwcm9taXNlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuc3VzcGVuZGVkID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIGFsd2F5cyhwcm9taXNlLCBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5yZXN1bWUoKTsgfSk7XG4gICAgfTtcbiAgICBUaHJvdHRsZWRFbWl0dGVyLnByb3RvdHlwZS5maXJlID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGlmICh0aGlzLnN1c3BlbmRlZCkge1xuICAgICAgICAgICAgdGhpcy5sYXN0RXZlbnQgPSBldmVudDtcbiAgICAgICAgICAgIHRoaXMuaGFzTGFzdEV2ZW50ID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS5maXJlLmNhbGwodGhpcywgZXZlbnQpO1xuICAgIH07XG4gICAgVGhyb3R0bGVkRW1pdHRlci5wcm90b3R5cGUucmVzdW1lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnN1c3BlbmRlZCA9IGZhbHNlO1xuICAgICAgICBpZiAodGhpcy5oYXNMYXN0RXZlbnQpIHtcbiAgICAgICAgICAgIHRoaXMuZmlyZSh0aGlzLmxhc3RFdmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5oYXNMYXN0RXZlbnQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5sYXN0RXZlbnQgPSB2b2lkIDA7XG4gICAgfTtcbiAgICByZXR1cm4gVGhyb3R0bGVkRW1pdHRlcjtcbn0oRW1pdHRlcikpO1xuZXhwb3J0IHsgVGhyb3R0bGVkRW1pdHRlciB9O1xuIiwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG4ndXNlIHN0cmljdCc7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbmltcG9ydCB7IHRyYW5zZm9ybUVycm9yRm9yU2VyaWFsaXphdGlvbiB9IGZyb20gJy4uL2Vycm9ycy5qcyc7XG5pbXBvcnQgeyBEaXNwb3NhYmxlIH0gZnJvbSAnLi4vbGlmZWN5Y2xlLmpzJztcbmltcG9ydCB7IFRQcm9taXNlIH0gZnJvbSAnLi4vd2luanMuYmFzZS5qcyc7XG5pbXBvcnQgeyBTaGFsbG93Q2FuY2VsVGhlblByb21pc2UgfSBmcm9tICcuLi9hc3luYy5qcyc7XG5pbXBvcnQgeyBpc1dlYiB9IGZyb20gJy4uL3BsYXRmb3JtLmpzJztcbnZhciBJTklUSUFMSVpFID0gJyRpbml0aWFsaXplJztcbnZhciB3ZWJXb3JrZXJXYXJuaW5nTG9nZ2VkID0gZmFsc2U7XG5leHBvcnQgZnVuY3Rpb24gbG9nT25jZVdlYldvcmtlcldhcm5pbmcoZXJyKSB7XG4gICAgaWYgKCFpc1dlYikge1xuICAgICAgICAvLyBydW5uaW5nIHRlc3RzXG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCF3ZWJXb3JrZXJXYXJuaW5nTG9nZ2VkKSB7XG4gICAgICAgIHdlYldvcmtlcldhcm5pbmdMb2dnZWQgPSB0cnVlO1xuICAgICAgICBjb25zb2xlLndhcm4oJ0NvdWxkIG5vdCBjcmVhdGUgd2ViIHdvcmtlcihzKS4gRmFsbGluZyBiYWNrIHRvIGxvYWRpbmcgd2ViIHdvcmtlciBjb2RlIGluIG1haW4gdGhyZWFkLCB3aGljaCBtaWdodCBjYXVzZSBVSSBmcmVlemVzLiBQbGVhc2Ugc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9NaWNyb3NvZnQvbW9uYWNvLWVkaXRvciNmYXEnKTtcbiAgICB9XG4gICAgY29uc29sZS53YXJuKGVyci5tZXNzYWdlKTtcbn1cbnZhciBTaW1wbGVXb3JrZXJQcm90b2NvbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTaW1wbGVXb3JrZXJQcm90b2NvbChoYW5kbGVyKSB7XG4gICAgICAgIHRoaXMuX3dvcmtlcklkID0gLTE7XG4gICAgICAgIHRoaXMuX2hhbmRsZXIgPSBoYW5kbGVyO1xuICAgICAgICB0aGlzLl9sYXN0U2VudFJlcSA9IDA7XG4gICAgICAgIHRoaXMuX3BlbmRpbmdSZXBsaWVzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICB9XG4gICAgU2ltcGxlV29ya2VyUHJvdG9jb2wucHJvdG90eXBlLnNldFdvcmtlcklkID0gZnVuY3Rpb24gKHdvcmtlcklkKSB7XG4gICAgICAgIHRoaXMuX3dvcmtlcklkID0gd29ya2VySWQ7XG4gICAgfTtcbiAgICBTaW1wbGVXb3JrZXJQcm90b2NvbC5wcm90b3R5cGUuc2VuZE1lc3NhZ2UgPSBmdW5jdGlvbiAobWV0aG9kLCBhcmdzKSB7XG4gICAgICAgIHZhciByZXEgPSBTdHJpbmcoKyt0aGlzLl9sYXN0U2VudFJlcSk7XG4gICAgICAgIHZhciByZXBseSA9IHtcbiAgICAgICAgICAgIGM6IG51bGwsXG4gICAgICAgICAgICBlOiBudWxsXG4gICAgICAgIH07XG4gICAgICAgIHZhciByZXN1bHQgPSBuZXcgVFByb21pc2UoZnVuY3Rpb24gKGMsIGUsIHApIHtcbiAgICAgICAgICAgIHJlcGx5LmMgPSBjO1xuICAgICAgICAgICAgcmVwbHkuZSA9IGU7XG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vIENhbmNlbCBub3Qgc3VwcG9ydGVkXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9wZW5kaW5nUmVwbGllc1tyZXFdID0gcmVwbHk7XG4gICAgICAgIHRoaXMuX3NlbmQoe1xuICAgICAgICAgICAgdnNXb3JrZXI6IHRoaXMuX3dvcmtlcklkLFxuICAgICAgICAgICAgcmVxOiByZXEsXG4gICAgICAgICAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICAgICAgICAgIGFyZ3M6IGFyZ3NcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICBTaW1wbGVXb3JrZXJQcm90b2NvbC5wcm90b3R5cGUuaGFuZGxlTWVzc2FnZSA9IGZ1bmN0aW9uIChzZXJpYWxpemVkTWVzc2FnZSkge1xuICAgICAgICB2YXIgbWVzc2FnZTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBKU09OLnBhcnNlKHNlcmlhbGl6ZWRNZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgLy8gbm90aGluZ1xuICAgICAgICB9XG4gICAgICAgIGlmICghbWVzc2FnZSB8fCAhbWVzc2FnZS52c1dvcmtlcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl93b3JrZXJJZCAhPT0gLTEgJiYgbWVzc2FnZS52c1dvcmtlciAhPT0gdGhpcy5fd29ya2VySWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9oYW5kbGVNZXNzYWdlKG1lc3NhZ2UpO1xuICAgIH07XG4gICAgU2ltcGxlV29ya2VyUHJvdG9jb2wucHJvdG90eXBlLl9oYW5kbGVNZXNzYWdlID0gZnVuY3Rpb24gKG1zZykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAobXNnLnNlcSkge1xuICAgICAgICAgICAgdmFyIHJlcGx5TWVzc2FnZSA9IG1zZztcbiAgICAgICAgICAgIGlmICghdGhpcy5fcGVuZGluZ1JlcGxpZXNbcmVwbHlNZXNzYWdlLnNlcV0pIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ0dvdCByZXBseSB0byB1bmtub3duIHNlcScpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciByZXBseSA9IHRoaXMuX3BlbmRpbmdSZXBsaWVzW3JlcGx5TWVzc2FnZS5zZXFdO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX3BlbmRpbmdSZXBsaWVzW3JlcGx5TWVzc2FnZS5zZXFdO1xuICAgICAgICAgICAgaWYgKHJlcGx5TWVzc2FnZS5lcnIpIHtcbiAgICAgICAgICAgICAgICB2YXIgZXJyID0gcmVwbHlNZXNzYWdlLmVycjtcbiAgICAgICAgICAgICAgICBpZiAocmVwbHlNZXNzYWdlLmVyci4kaXNFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBlcnIgPSBuZXcgRXJyb3IoKTtcbiAgICAgICAgICAgICAgICAgICAgZXJyLm5hbWUgPSByZXBseU1lc3NhZ2UuZXJyLm5hbWU7XG4gICAgICAgICAgICAgICAgICAgIGVyci5tZXNzYWdlID0gcmVwbHlNZXNzYWdlLmVyci5tZXNzYWdlO1xuICAgICAgICAgICAgICAgICAgICBlcnIuc3RhY2sgPSByZXBseU1lc3NhZ2UuZXJyLnN0YWNrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXBseS5lKGVycik7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVwbHkuYyhyZXBseU1lc3NhZ2UucmVzKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVxdWVzdE1lc3NhZ2UgPSBtc2c7XG4gICAgICAgIHZhciByZXEgPSByZXF1ZXN0TWVzc2FnZS5yZXE7XG4gICAgICAgIHZhciByZXN1bHQgPSB0aGlzLl9oYW5kbGVyLmhhbmRsZU1lc3NhZ2UocmVxdWVzdE1lc3NhZ2UubWV0aG9kLCByZXF1ZXN0TWVzc2FnZS5hcmdzKTtcbiAgICAgICAgcmVzdWx0LnRoZW4oZnVuY3Rpb24gKHIpIHtcbiAgICAgICAgICAgIF90aGlzLl9zZW5kKHtcbiAgICAgICAgICAgICAgICB2c1dvcmtlcjogX3RoaXMuX3dvcmtlcklkLFxuICAgICAgICAgICAgICAgIHNlcTogcmVxLFxuICAgICAgICAgICAgICAgIHJlczogcixcbiAgICAgICAgICAgICAgICBlcnI6IHVuZGVmaW5lZFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBpZiAoZS5kZXRhaWwgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICAgICAgICAgIC8vIExvYWRpbmcgZXJyb3JzIGhhdmUgYSBkZXRhaWwgcHJvcGVydHkgdGhhdCBwb2ludHMgdG8gdGhlIGFjdHVhbCBlcnJvclxuICAgICAgICAgICAgICAgIGUuZGV0YWlsID0gdHJhbnNmb3JtRXJyb3JGb3JTZXJpYWxpemF0aW9uKGUuZGV0YWlsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF90aGlzLl9zZW5kKHtcbiAgICAgICAgICAgICAgICB2c1dvcmtlcjogX3RoaXMuX3dvcmtlcklkLFxuICAgICAgICAgICAgICAgIHNlcTogcmVxLFxuICAgICAgICAgICAgICAgIHJlczogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIGVycjogdHJhbnNmb3JtRXJyb3JGb3JTZXJpYWxpemF0aW9uKGUpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBTaW1wbGVXb3JrZXJQcm90b2NvbC5wcm90b3R5cGUuX3NlbmQgPSBmdW5jdGlvbiAobXNnKSB7XG4gICAgICAgIHZhciBzdHJNc2cgPSBKU09OLnN0cmluZ2lmeShtc2cpO1xuICAgICAgICAvLyBjb25zb2xlLmxvZygnU0VORElORzogJyArIHN0ck1zZyk7XG4gICAgICAgIHRoaXMuX2hhbmRsZXIuc2VuZE1lc3NhZ2Uoc3RyTXNnKTtcbiAgICB9O1xuICAgIHJldHVybiBTaW1wbGVXb3JrZXJQcm90b2NvbDtcbn0oKSk7XG4vKipcbiAqIE1haW4gdGhyZWFkIHNpZGVcbiAqL1xudmFyIFNpbXBsZVdvcmtlckNsaWVudCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoU2ltcGxlV29ya2VyQ2xpZW50LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFNpbXBsZVdvcmtlckNsaWVudCh3b3JrZXJGYWN0b3J5LCBtb2R1bGVJZCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICB2YXIgbGF6eVByb3h5RnVsZmlsbCA9IG51bGw7XG4gICAgICAgIHZhciBsYXp5UHJveHlSZWplY3QgPSBudWxsO1xuICAgICAgICBfdGhpcy5fd29ya2VyID0gX3RoaXMuX3JlZ2lzdGVyKHdvcmtlckZhY3RvcnkuY3JlYXRlKCd2cy9iYXNlL2NvbW1vbi93b3JrZXIvc2ltcGxlV29ya2VyJywgZnVuY3Rpb24gKG1zZykge1xuICAgICAgICAgICAgX3RoaXMuX3Byb3RvY29sLmhhbmRsZU1lc3NhZ2UobXNnKTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgLy8gaW4gRmlyZWZveCwgd2ViIHdvcmtlcnMgZmFpbCBsYXppbHkgOihcbiAgICAgICAgICAgIC8vIHdlIHdpbGwgcmVqZWN0IHRoZSBwcm94eVxuICAgICAgICAgICAgbGF6eVByb3h5UmVqZWN0KGVycik7XG4gICAgICAgIH0pKTtcbiAgICAgICAgX3RoaXMuX3Byb3RvY29sID0gbmV3IFNpbXBsZVdvcmtlclByb3RvY29sKHtcbiAgICAgICAgICAgIHNlbmRNZXNzYWdlOiBmdW5jdGlvbiAobXNnKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuX3dvcmtlci5wb3N0TWVzc2FnZShtc2cpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGhhbmRsZU1lc3NhZ2U6IGZ1bmN0aW9uIChtZXRob2QsIGFyZ3MpIHtcbiAgICAgICAgICAgICAgICAvLyBJbnRlbnRpb25hbGx5IG5vdCBzdXBwb3J0aW5nIHdvcmtlciAtPiBtYWluIHJlcXVlc3RzXG4gICAgICAgICAgICAgICAgcmV0dXJuIFRQcm9taXNlLmFzKG51bGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgX3RoaXMuX3Byb3RvY29sLnNldFdvcmtlcklkKF90aGlzLl93b3JrZXIuZ2V0SWQoKSk7XG4gICAgICAgIC8vIEdhdGhlciBsb2FkZXIgY29uZmlndXJhdGlvblxuICAgICAgICB2YXIgbG9hZGVyQ29uZmlndXJhdGlvbiA9IG51bGw7XG4gICAgICAgIGlmICh0eXBlb2Ygc2VsZi5yZXF1aXJlICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygc2VsZi5yZXF1aXJlLmdldENvbmZpZyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgLy8gR2V0IHRoZSBjb25maWd1cmF0aW9uIGZyb20gdGhlIE1vbmFjbyBBTUQgTG9hZGVyXG4gICAgICAgICAgICBsb2FkZXJDb25maWd1cmF0aW9uID0gc2VsZi5yZXF1aXJlLmdldENvbmZpZygpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBzZWxmLnJlcXVpcmVqcyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIC8vIEdldCB0aGUgY29uZmlndXJhdGlvbiBmcm9tIHJlcXVpcmVqc1xuICAgICAgICAgICAgbG9hZGVyQ29uZmlndXJhdGlvbiA9IHNlbGYucmVxdWlyZWpzLnMuY29udGV4dHMuXy5jb25maWc7XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXMuX2xhenlQcm94eSA9IG5ldyBUUHJvbWlzZShmdW5jdGlvbiAoYywgZSwgcCkge1xuICAgICAgICAgICAgbGF6eVByb3h5RnVsZmlsbCA9IGM7XG4gICAgICAgICAgICBsYXp5UHJveHlSZWplY3QgPSBlO1xuICAgICAgICB9LCBmdW5jdGlvbiAoKSB7IH0pO1xuICAgICAgICAvLyBTZW5kIGluaXRpYWxpemUgbWVzc2FnZVxuICAgICAgICBfdGhpcy5fb25Nb2R1bGVMb2FkZWQgPSBfdGhpcy5fcHJvdG9jb2wuc2VuZE1lc3NhZ2UoSU5JVElBTElaRSwgW1xuICAgICAgICAgICAgX3RoaXMuX3dvcmtlci5nZXRJZCgpLFxuICAgICAgICAgICAgbW9kdWxlSWQsXG4gICAgICAgICAgICBsb2FkZXJDb25maWd1cmF0aW9uXG4gICAgICAgIF0pO1xuICAgICAgICBfdGhpcy5fb25Nb2R1bGVMb2FkZWQudGhlbihmdW5jdGlvbiAoYXZhaWxhYmxlTWV0aG9kcykge1xuICAgICAgICAgICAgdmFyIHByb3h5ID0ge307XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGF2YWlsYWJsZU1ldGhvZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBwcm94eVthdmFpbGFibGVNZXRob2RzW2ldXSA9IGNyZWF0ZVByb3h5TWV0aG9kKGF2YWlsYWJsZU1ldGhvZHNbaV0sIHByb3h5TWV0aG9kUmVxdWVzdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsYXp5UHJveHlGdWxmaWxsKHByb3h5KTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGxhenlQcm94eVJlamVjdChlKTtcbiAgICAgICAgICAgIF90aGlzLl9vbkVycm9yKCdXb3JrZXIgZmFpbGVkIHRvIGxvYWQgJyArIG1vZHVsZUlkLCBlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIENyZWF0ZSBwcm94eSB0byBsb2FkZWQgY29kZVxuICAgICAgICB2YXIgcHJveHlNZXRob2RSZXF1ZXN0ID0gZnVuY3Rpb24gKG1ldGhvZCwgYXJncykge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLl9yZXF1ZXN0KG1ldGhvZCwgYXJncyk7XG4gICAgICAgIH07XG4gICAgICAgIHZhciBjcmVhdGVQcm94eU1ldGhvZCA9IGZ1bmN0aW9uIChtZXRob2QsIHByb3h5TWV0aG9kUmVxdWVzdCkge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHByb3h5TWV0aG9kUmVxdWVzdChtZXRob2QsIGFyZ3MpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBTaW1wbGVXb3JrZXJDbGllbnQucHJvdG90eXBlLmdldFByb3h5T2JqZWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBEbyBub3QgYWxsb3cgY2hhaW5pbmcgcHJvbWlzZXMgdG8gY2FuY2VsIHRoZSBwcm94eSBjcmVhdGlvblxuICAgICAgICByZXR1cm4gbmV3IFNoYWxsb3dDYW5jZWxUaGVuUHJvbWlzZSh0aGlzLl9sYXp5UHJveHkpO1xuICAgIH07XG4gICAgU2ltcGxlV29ya2VyQ2xpZW50LnByb3RvdHlwZS5fcmVxdWVzdCA9IGZ1bmN0aW9uIChtZXRob2QsIGFyZ3MpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgcmV0dXJuIG5ldyBUUHJvbWlzZShmdW5jdGlvbiAoYywgZSwgcCkge1xuICAgICAgICAgICAgX3RoaXMuX29uTW9kdWxlTG9hZGVkLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLl9wcm90b2NvbC5zZW5kTWVzc2FnZShtZXRob2QsIGFyZ3MpLnRoZW4oYywgZSk7XG4gICAgICAgICAgICB9LCBlKTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy8gQ2FuY2VsIGludGVudGlvbmFsbHkgbm90IHN1cHBvcnRlZFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFNpbXBsZVdvcmtlckNsaWVudC5wcm90b3R5cGUuX29uRXJyb3IgPSBmdW5jdGlvbiAobWVzc2FnZSwgZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihtZXNzYWdlKTtcbiAgICAgICAgY29uc29sZS5pbmZvKGVycm9yKTtcbiAgICB9O1xuICAgIHJldHVybiBTaW1wbGVXb3JrZXJDbGllbnQ7XG59KERpc3Bvc2FibGUpKTtcbmV4cG9ydCB7IFNpbXBsZVdvcmtlckNsaWVudCB9O1xuLyoqXG4gKiBXb3JrZXIgc2lkZVxuICovXG52YXIgU2ltcGxlV29ya2VyU2VydmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFNpbXBsZVdvcmtlclNlcnZlcihwb3N0U2VyaWFsaXplZE1lc3NhZ2UsIHJlcXVlc3RIYW5kbGVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuX3JlcXVlc3RIYW5kbGVyID0gcmVxdWVzdEhhbmRsZXI7XG4gICAgICAgIHRoaXMuX3Byb3RvY29sID0gbmV3IFNpbXBsZVdvcmtlclByb3RvY29sKHtcbiAgICAgICAgICAgIHNlbmRNZXNzYWdlOiBmdW5jdGlvbiAobXNnKSB7XG4gICAgICAgICAgICAgICAgcG9zdFNlcmlhbGl6ZWRNZXNzYWdlKG1zZyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaGFuZGxlTWVzc2FnZTogZnVuY3Rpb24gKG1ldGhvZCwgYXJncykgeyByZXR1cm4gX3RoaXMuX2hhbmRsZU1lc3NhZ2UobWV0aG9kLCBhcmdzKTsgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgU2ltcGxlV29ya2VyU2VydmVyLnByb3RvdHlwZS5vbm1lc3NhZ2UgPSBmdW5jdGlvbiAobXNnKSB7XG4gICAgICAgIHRoaXMuX3Byb3RvY29sLmhhbmRsZU1lc3NhZ2UobXNnKTtcbiAgICB9O1xuICAgIFNpbXBsZVdvcmtlclNlcnZlci5wcm90b3R5cGUuX2hhbmRsZU1lc3NhZ2UgPSBmdW5jdGlvbiAobWV0aG9kLCBhcmdzKSB7XG4gICAgICAgIGlmIChtZXRob2QgPT09IElOSVRJQUxJWkUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmluaXRpYWxpemUoYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLl9yZXF1ZXN0SGFuZGxlciB8fCB0eXBlb2YgdGhpcy5fcmVxdWVzdEhhbmRsZXJbbWV0aG9kXSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgcmV0dXJuIFRQcm9taXNlLndyYXBFcnJvcihuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWVzdEhhbmRsZXIgb3IgbWV0aG9kOiAnICsgbWV0aG9kKSk7XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiBUUHJvbWlzZS5hcyh0aGlzLl9yZXF1ZXN0SGFuZGxlclttZXRob2RdLmFwcGx5KHRoaXMuX3JlcXVlc3RIYW5kbGVyLCBhcmdzKSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHJldHVybiBUUHJvbWlzZS53cmFwRXJyb3IoZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNpbXBsZVdvcmtlclNlcnZlci5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICh3b3JrZXJJZCwgbW9kdWxlSWQsIGxvYWRlckNvbmZpZykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLl9wcm90b2NvbC5zZXRXb3JrZXJJZCh3b3JrZXJJZCk7XG4gICAgICAgIGlmICh0aGlzLl9yZXF1ZXN0SGFuZGxlcikge1xuICAgICAgICAgICAgLy8gc3RhdGljIHJlcXVlc3QgaGFuZGxlclxuICAgICAgICAgICAgdmFyIG1ldGhvZHMgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIHByb3AgaW4gdGhpcy5fcmVxdWVzdEhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMuX3JlcXVlc3RIYW5kbGVyW3Byb3BdID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZHMucHVzaChwcm9wKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gVFByb21pc2UuYXMobWV0aG9kcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxvYWRlckNvbmZpZykge1xuICAgICAgICAgICAgLy8gUmVtb3ZlICdiYXNlVXJsJywgaGFuZGxpbmcgaXQgaXMgYmV5b25kIHNjb3BlIGZvciBub3dcbiAgICAgICAgICAgIGlmICh0eXBlb2YgbG9hZGVyQ29uZmlnLmJhc2VVcmwgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIGxvYWRlckNvbmZpZ1snYmFzZVVybCddO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBsb2FkZXJDb25maWcucGF0aHMgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBsb2FkZXJDb25maWcucGF0aHMudnMgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBsb2FkZXJDb25maWcucGF0aHNbJ3ZzJ107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gU2luY2UgdGhpcyBpcyBpbiBhIHdlYiB3b3JrZXIsIGVuYWJsZSBjYXRjaGluZyBlcnJvcnNcbiAgICAgICAgICAgIGxvYWRlckNvbmZpZy5jYXRjaEVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgIHNlbGYucmVxdWlyZS5jb25maWcobG9hZGVyQ29uZmlnKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY2M7XG4gICAgICAgIHZhciBlZTtcbiAgICAgICAgdmFyIHIgPSBuZXcgVFByb21pc2UoZnVuY3Rpb24gKGMsIGUsIHApIHtcbiAgICAgICAgICAgIGNjID0gYztcbiAgICAgICAgICAgIGVlID0gZTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIFVzZSB0aGUgZ2xvYmFsIHJlcXVpcmUgdG8gYmUgc3VyZSB0byBnZXQgdGhlIGdsb2JhbCBjb25maWdcbiAgICAgICAgc2VsZi5yZXF1aXJlKFttb2R1bGVJZF0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0W19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgaGFuZGxlck1vZHVsZSA9IHJlc3VsdFswXTtcbiAgICAgICAgICAgIF90aGlzLl9yZXF1ZXN0SGFuZGxlciA9IGhhbmRsZXJNb2R1bGUuY3JlYXRlKCk7XG4gICAgICAgICAgICB2YXIgbWV0aG9kcyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBfdGhpcy5fcmVxdWVzdEhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIF90aGlzLl9yZXF1ZXN0SGFuZGxlcltwcm9wXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICBtZXRob2RzLnB1c2gocHJvcCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2MobWV0aG9kcyk7XG4gICAgICAgIH0sIGVlKTtcbiAgICAgICAgcmV0dXJuIHI7XG4gICAgfTtcbiAgICByZXR1cm4gU2ltcGxlV29ya2VyU2VydmVyO1xufSgpKTtcbmV4cG9ydCB7IFNpbXBsZVdvcmtlclNlcnZlciB9O1xuLyoqXG4gKiBDYWxsZWQgb24gdGhlIHdvcmtlciBzaWRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUocG9zdE1lc3NhZ2UpIHtcbiAgICByZXR1cm4gbmV3IFNpbXBsZVdvcmtlclNlcnZlcihwb3N0TWVzc2FnZSwgbnVsbCk7XG59XG4iLCIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbid1c2Ugc3RyaWN0JztcbmltcG9ydCB7IEVkaXRvclNpbXBsZVdvcmtlckltcGwgfSBmcm9tICcuL2NvbW1vbi9zZXJ2aWNlcy9lZGl0b3JTaW1wbGVXb3JrZXIuanMnO1xuaW1wb3J0IHsgU2ltcGxlV29ya2VyU2VydmVyIH0gZnJvbSAnLi4vYmFzZS9jb21tb24vd29ya2VyL3NpbXBsZVdvcmtlci5qcyc7XG52YXIgaW5pdGlhbGl6ZWQgPSBmYWxzZTtcbmV4cG9ydCBmdW5jdGlvbiBpbml0aWFsaXplKGZvcmVpZ25Nb2R1bGUpIHtcbiAgICBpZiAoaW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpbml0aWFsaXplZCA9IHRydWU7XG4gICAgdmFyIGVkaXRvcldvcmtlciA9IG5ldyBFZGl0b3JTaW1wbGVXb3JrZXJJbXBsKGZvcmVpZ25Nb2R1bGUpO1xuICAgIHZhciBzaW1wbGVXb3JrZXIgPSBuZXcgU2ltcGxlV29ya2VyU2VydmVyKGZ1bmN0aW9uIChtc2cpIHtcbiAgICAgICAgc2VsZi5wb3N0TWVzc2FnZShtc2cpO1xuICAgIH0sIGVkaXRvcldvcmtlcik7XG4gICAgc2VsZi5vbm1lc3NhZ2UgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICBzaW1wbGVXb3JrZXIub25tZXNzYWdlKGUuZGF0YSk7XG4gICAgfTtcbn1cbnNlbGYub25tZXNzYWdlID0gZnVuY3Rpb24gKGUpIHtcbiAgICAvLyBJZ25vcmUgZmlyc3QgbWVzc2FnZSBpbiB0aGlzIGNhc2UgYW5kIGluaXRpYWxpemUgaWYgbm90IHlldCBpbml0aWFsaXplZFxuICAgIGlmICghaW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgaW5pdGlhbGl6ZShudWxsKTtcbiAgICB9XG59O1xuIiwiLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuJ3VzZSBzdHJpY3QnO1xuLyoqXG4gKiBUaGUgUG9zaXRpb24gbmFtZXNwYWNlIHByb3ZpZGVzIGhlbHBlciBmdW5jdGlvbnMgdG8gd29yayB3aXRoXG4gKiBbUG9zaXRpb25dKCNQb3NpdGlvbikgbGl0ZXJhbHMuXG4gKi9cbmV4cG9ydCB2YXIgUG9zaXRpb247XG4oZnVuY3Rpb24gKFBvc2l0aW9uKSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBQb3NpdGlvbiBsaXRlcmFsIGZyb20gdGhlIGdpdmVuIGxpbmUgYW5kIGNoYXJhY3Rlci5cbiAgICAgKiBAcGFyYW0gbGluZSBUaGUgcG9zaXRpb24ncyBsaW5lLlxuICAgICAqIEBwYXJhbSBjaGFyYWN0ZXIgVGhlIHBvc2l0aW9uJ3MgY2hhcmFjdGVyLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZShsaW5lLCBjaGFyYWN0ZXIpIHtcbiAgICAgICAgcmV0dXJuIHsgbGluZTogbGluZSwgY2hhcmFjdGVyOiBjaGFyYWN0ZXIgfTtcbiAgICB9XG4gICAgUG9zaXRpb24uY3JlYXRlID0gY3JlYXRlO1xuICAgIC8qKlxuICAgICAqIENoZWNrcyB3aGV0aGVyIHRoZSBnaXZlbiBsaXRlcm5hbCBjb25mb3JtcyB0byB0aGUgW1Bvc2l0aW9uXSgjUG9zaXRpb24pIGludGVyZmFjZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpcyh2YWx1ZSkge1xuICAgICAgICB2YXIgY2FuZGlkYXRlID0gdmFsdWU7XG4gICAgICAgIHJldHVybiBJcy5kZWZpbmVkKGNhbmRpZGF0ZSkgJiYgSXMubnVtYmVyKGNhbmRpZGF0ZS5saW5lKSAmJiBJcy5udW1iZXIoY2FuZGlkYXRlLmNoYXJhY3Rlcik7XG4gICAgfVxuICAgIFBvc2l0aW9uLmlzID0gaXM7XG59KShQb3NpdGlvbiB8fCAoUG9zaXRpb24gPSB7fSkpO1xuLyoqXG4gKiBUaGUgUmFuZ2UgbmFtZXNwYWNlIHByb3ZpZGVzIGhlbHBlciBmdW5jdGlvbnMgdG8gd29yayB3aXRoXG4gKiBbUmFuZ2VdKCNSYW5nZSkgbGl0ZXJhbHMuXG4gKi9cbmV4cG9ydCB2YXIgUmFuZ2U7XG4oZnVuY3Rpb24gKFJhbmdlKSB7XG4gICAgZnVuY3Rpb24gY3JlYXRlKG9uZSwgdHdvLCB0aHJlZSwgZm91cikge1xuICAgICAgICBpZiAoSXMubnVtYmVyKG9uZSkgJiYgSXMubnVtYmVyKHR3bykgJiYgSXMubnVtYmVyKHRocmVlKSAmJiBJcy5udW1iZXIoZm91cikpIHtcbiAgICAgICAgICAgIHJldHVybiB7IHN0YXJ0OiBQb3NpdGlvbi5jcmVhdGUob25lLCB0d28pLCBlbmQ6IFBvc2l0aW9uLmNyZWF0ZSh0aHJlZSwgZm91cikgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChQb3NpdGlvbi5pcyhvbmUpICYmIFBvc2l0aW9uLmlzKHR3bykpIHtcbiAgICAgICAgICAgIHJldHVybiB7IHN0YXJ0OiBvbmUsIGVuZDogdHdvIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJSYW5nZSNjcmVhdGUgY2FsbGVkIHdpdGggaW52YWxpZCBhcmd1bWVudHNbXCIgKyBvbmUgKyBcIiwgXCIgKyB0d28gKyBcIiwgXCIgKyB0aHJlZSArIFwiLCBcIiArIGZvdXIgKyBcIl1cIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgUmFuZ2UuY3JlYXRlID0gY3JlYXRlO1xuICAgIC8qKlxuICAgICAqIENoZWNrcyB3aGV0aGVyIHRoZSBnaXZlbiBsaXRlcmFsIGNvbmZvcm1zIHRvIHRoZSBbUmFuZ2VdKCNSYW5nZSkgaW50ZXJmYWNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzKHZhbHVlKSB7XG4gICAgICAgIHZhciBjYW5kaWRhdGUgPSB2YWx1ZTtcbiAgICAgICAgcmV0dXJuIElzLmRlZmluZWQoY2FuZGlkYXRlKSAmJiBQb3NpdGlvbi5pcyhjYW5kaWRhdGUuc3RhcnQpICYmIFBvc2l0aW9uLmlzKGNhbmRpZGF0ZS5lbmQpO1xuICAgIH1cbiAgICBSYW5nZS5pcyA9IGlzO1xufSkoUmFuZ2UgfHwgKFJhbmdlID0ge30pKTtcbi8qKlxuICogVGhlIExvY2F0aW9uIG5hbWVzcGFjZSBwcm92aWRlcyBoZWxwZXIgZnVuY3Rpb25zIHRvIHdvcmsgd2l0aFxuICogW0xvY2F0aW9uXSgjTG9jYXRpb24pIGxpdGVyYWxzLlxuICovXG5leHBvcnQgdmFyIExvY2F0aW9uO1xuKGZ1bmN0aW9uIChMb2NhdGlvbikge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBMb2NhdGlvbiBsaXRlcmFsLlxuICAgICAqIEBwYXJhbSB1cmkgVGhlIGxvY2F0aW9uJ3MgdXJpLlxuICAgICAqIEBwYXJhbSByYW5nZSBUaGUgbG9jYXRpb24ncyByYW5nZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGUodXJpLCByYW5nZSkge1xuICAgICAgICByZXR1cm4geyB1cmk6IHVyaSwgcmFuZ2U6IHJhbmdlIH07XG4gICAgfVxuICAgIExvY2F0aW9uLmNyZWF0ZSA9IGNyZWF0ZTtcbiAgICAvKipcbiAgICAgKiBDaGVja3Mgd2hldGhlciB0aGUgZ2l2ZW4gbGl0ZXJhbCBjb25mb3JtcyB0byB0aGUgW0xvY2F0aW9uXSgjTG9jYXRpb24pIGludGVyZmFjZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpcyh2YWx1ZSkge1xuICAgICAgICB2YXIgY2FuZGlkYXRlID0gdmFsdWU7XG4gICAgICAgIHJldHVybiBJcy5kZWZpbmVkKGNhbmRpZGF0ZSkgJiYgUmFuZ2UuaXMoY2FuZGlkYXRlLnJhbmdlKSAmJiAoSXMuc3RyaW5nKGNhbmRpZGF0ZS51cmkpIHx8IElzLnVuZGVmaW5lZChjYW5kaWRhdGUudXJpKSk7XG4gICAgfVxuICAgIExvY2F0aW9uLmlzID0gaXM7XG59KShMb2NhdGlvbiB8fCAoTG9jYXRpb24gPSB7fSkpO1xuLyoqXG4gKiBUaGUgZGlhZ25vc3RpYydzIHNlcnZlcml0eS5cbiAqL1xuZXhwb3J0IHZhciBEaWFnbm9zdGljU2V2ZXJpdHk7XG4oZnVuY3Rpb24gKERpYWdub3N0aWNTZXZlcml0eSkge1xuICAgIC8qKlxuICAgICAqIFJlcG9ydHMgYW4gZXJyb3IuXG4gICAgICovXG4gICAgRGlhZ25vc3RpY1NldmVyaXR5LkVycm9yID0gMTtcbiAgICAvKipcbiAgICAgKiBSZXBvcnRzIGEgd2FybmluZy5cbiAgICAgKi9cbiAgICBEaWFnbm9zdGljU2V2ZXJpdHkuV2FybmluZyA9IDI7XG4gICAgLyoqXG4gICAgICogUmVwb3J0cyBhbiBpbmZvcm1hdGlvbi5cbiAgICAgKi9cbiAgICBEaWFnbm9zdGljU2V2ZXJpdHkuSW5mb3JtYXRpb24gPSAzO1xuICAgIC8qKlxuICAgICAqIFJlcG9ydHMgYSBoaW50LlxuICAgICAqL1xuICAgIERpYWdub3N0aWNTZXZlcml0eS5IaW50ID0gNDtcbn0pKERpYWdub3N0aWNTZXZlcml0eSB8fCAoRGlhZ25vc3RpY1NldmVyaXR5ID0ge30pKTtcbi8qKlxuICogVGhlIERpYWdub3N0aWMgbmFtZXNwYWNlIHByb3ZpZGVzIGhlbHBlciBmdW5jdGlvbnMgdG8gd29yayB3aXRoXG4gKiBbRGlhZ25vc3RpY10oI0RpYWdub3N0aWMpIGxpdGVyYWxzLlxuICovXG5leHBvcnQgdmFyIERpYWdub3N0aWM7XG4oZnVuY3Rpb24gKERpYWdub3N0aWMpIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IERpYWdub3N0aWMgbGl0ZXJhbC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGUocmFuZ2UsIG1lc3NhZ2UsIHNldmVyaXR5LCBjb2RlLCBzb3VyY2UpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHsgcmFuZ2U6IHJhbmdlLCBtZXNzYWdlOiBtZXNzYWdlIH07XG4gICAgICAgIGlmIChJcy5kZWZpbmVkKHNldmVyaXR5KSkge1xuICAgICAgICAgICAgcmVzdWx0LnNldmVyaXR5ID0gc2V2ZXJpdHk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKElzLmRlZmluZWQoY29kZSkpIHtcbiAgICAgICAgICAgIHJlc3VsdC5jb2RlID0gY29kZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoSXMuZGVmaW5lZChzb3VyY2UpKSB7XG4gICAgICAgICAgICByZXN1bHQuc291cmNlID0gc291cmNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIERpYWdub3N0aWMuY3JlYXRlID0gY3JlYXRlO1xuICAgIC8qKlxuICAgICAqIENoZWNrcyB3aGV0aGVyIHRoZSBnaXZlbiBsaXRlcmFsIGNvbmZvcm1zIHRvIHRoZSBbRGlhZ25vc3RpY10oI0RpYWdub3N0aWMpIGludGVyZmFjZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpcyh2YWx1ZSkge1xuICAgICAgICB2YXIgY2FuZGlkYXRlID0gdmFsdWU7XG4gICAgICAgIHJldHVybiBJcy5kZWZpbmVkKGNhbmRpZGF0ZSlcbiAgICAgICAgICAgICYmIFJhbmdlLmlzKGNhbmRpZGF0ZS5yYW5nZSlcbiAgICAgICAgICAgICYmIElzLnN0cmluZyhjYW5kaWRhdGUubWVzc2FnZSlcbiAgICAgICAgICAgICYmIChJcy5udW1iZXIoY2FuZGlkYXRlLnNldmVyaXR5KSB8fCBJcy51bmRlZmluZWQoY2FuZGlkYXRlLnNldmVyaXR5KSlcbiAgICAgICAgICAgICYmIChJcy5udW1iZXIoY2FuZGlkYXRlLmNvZGUpIHx8IElzLnN0cmluZyhjYW5kaWRhdGUuY29kZSkgfHwgSXMudW5kZWZpbmVkKGNhbmRpZGF0ZS5jb2RlKSlcbiAgICAgICAgICAgICYmIChJcy5zdHJpbmcoY2FuZGlkYXRlLnNvdXJjZSkgfHwgSXMudW5kZWZpbmVkKGNhbmRpZGF0ZS5zb3VyY2UpKTtcbiAgICB9XG4gICAgRGlhZ25vc3RpYy5pcyA9IGlzO1xufSkoRGlhZ25vc3RpYyB8fCAoRGlhZ25vc3RpYyA9IHt9KSk7XG4vKipcbiAqIFRoZSBDb21tYW5kIG5hbWVzcGFjZSBwcm92aWRlcyBoZWxwZXIgZnVuY3Rpb25zIHRvIHdvcmsgd2l0aFxuICogW0NvbW1hbmRdKCNDb21tYW5kKSBsaXRlcmFscy5cbiAqL1xuZXhwb3J0IHZhciBDb21tYW5kO1xuKGZ1bmN0aW9uIChDb21tYW5kKSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBDb21tYW5kIGxpdGVyYWwuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlKHRpdGxlLCBjb21tYW5kKSB7XG4gICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMjsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBhcmdzW19pIC0gMl0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIHZhciByZXN1bHQgPSB7IHRpdGxlOiB0aXRsZSwgY29tbWFuZDogY29tbWFuZCB9O1xuICAgICAgICBpZiAoSXMuZGVmaW5lZChhcmdzKSAmJiBhcmdzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHJlc3VsdC5hcmd1bWVudHMgPSBhcmdzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIENvbW1hbmQuY3JlYXRlID0gY3JlYXRlO1xuICAgIC8qKlxuICAgICAqIENoZWNrcyB3aGV0aGVyIHRoZSBnaXZlbiBsaXRlcmFsIGNvbmZvcm1zIHRvIHRoZSBbQ29tbWFuZF0oI0NvbW1hbmQpIGludGVyZmFjZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpcyh2YWx1ZSkge1xuICAgICAgICB2YXIgY2FuZGlkYXRlID0gdmFsdWU7XG4gICAgICAgIHJldHVybiBJcy5kZWZpbmVkKGNhbmRpZGF0ZSkgJiYgSXMuc3RyaW5nKGNhbmRpZGF0ZS50aXRsZSkgJiYgSXMuc3RyaW5nKGNhbmRpZGF0ZS50aXRsZSk7XG4gICAgfVxuICAgIENvbW1hbmQuaXMgPSBpcztcbn0pKENvbW1hbmQgfHwgKENvbW1hbmQgPSB7fSkpO1xuLyoqXG4gKiBUaGUgVGV4dEVkaXQgbmFtZXNwYWNlIHByb3ZpZGVzIGhlbHBlciBmdW5jdGlvbiB0byBjcmVhdGUgcmVwbGFjZSxcbiAqIGluc2VydCBhbmQgZGVsZXRlIGVkaXRzIG1vcmUgZWFzaWx5LlxuICovXG5leHBvcnQgdmFyIFRleHRFZGl0O1xuKGZ1bmN0aW9uIChUZXh0RWRpdCkge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSByZXBsYWNlIHRleHQgZWRpdC5cbiAgICAgKiBAcGFyYW0gcmFuZ2UgVGhlIHJhbmdlIG9mIHRleHQgdG8gYmUgcmVwbGFjZWQuXG4gICAgICogQHBhcmFtIG5ld1RleHQgVGhlIG5ldyB0ZXh0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlcGxhY2UocmFuZ2UsIG5ld1RleHQpIHtcbiAgICAgICAgcmV0dXJuIHsgcmFuZ2U6IHJhbmdlLCBuZXdUZXh0OiBuZXdUZXh0IH07XG4gICAgfVxuICAgIFRleHRFZGl0LnJlcGxhY2UgPSByZXBsYWNlO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBpbnNlcnQgdGV4dCBlZGl0LlxuICAgICAqIEBwYXJhbSBwb3NpdGlvbiBUaGUgcG9zaXRpb24gdG8gaW5zZXJ0IHRoZSB0ZXh0IGF0LlxuICAgICAqIEBwYXJhbSBuZXdUZXh0IFRoZSB0ZXh0IHRvIGJlIGluc2VydGVkLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGluc2VydChwb3NpdGlvbiwgbmV3VGV4dCkge1xuICAgICAgICByZXR1cm4geyByYW5nZTogeyBzdGFydDogcG9zaXRpb24sIGVuZDogcG9zaXRpb24gfSwgbmV3VGV4dDogbmV3VGV4dCB9O1xuICAgIH1cbiAgICBUZXh0RWRpdC5pbnNlcnQgPSBpbnNlcnQ7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGRlbGV0ZSB0ZXh0IGVkaXQuXG4gICAgICogQHBhcmFtIHJhbmdlIFRoZSByYW5nZSBvZiB0ZXh0IHRvIGJlIGRlbGV0ZWQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZGVsKHJhbmdlKSB7XG4gICAgICAgIHJldHVybiB7IHJhbmdlOiByYW5nZSwgbmV3VGV4dDogJycgfTtcbiAgICB9XG4gICAgVGV4dEVkaXQuZGVsID0gZGVsO1xufSkoVGV4dEVkaXQgfHwgKFRleHRFZGl0ID0ge30pKTtcbi8qKlxuICogVGhlIFRleHREb2N1bWVudEVkaXQgbmFtZXNwYWNlIHByb3ZpZGVzIGhlbHBlciBmdW5jdGlvbiB0byBjcmVhdGVcbiAqIGFuIGVkaXQgdGhhdCBtYW5pcHVsYXRlcyBhIHRleHQgZG9jdW1lbnQuXG4gKi9cbmV4cG9ydCB2YXIgVGV4dERvY3VtZW50RWRpdDtcbihmdW5jdGlvbiAoVGV4dERvY3VtZW50RWRpdCkge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgYFRleHREb2N1bWVudEVkaXRgXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlKHRleHREb2N1bWVudCwgZWRpdHMpIHtcbiAgICAgICAgcmV0dXJuIHsgdGV4dERvY3VtZW50OiB0ZXh0RG9jdW1lbnQsIGVkaXRzOiBlZGl0cyB9O1xuICAgIH1cbiAgICBUZXh0RG9jdW1lbnRFZGl0LmNyZWF0ZSA9IGNyZWF0ZTtcbiAgICBmdW5jdGlvbiBpcyh2YWx1ZSkge1xuICAgICAgICB2YXIgY2FuZGlkYXRlID0gdmFsdWU7XG4gICAgICAgIHJldHVybiBJcy5kZWZpbmVkKGNhbmRpZGF0ZSlcbiAgICAgICAgICAgICYmIFZlcnNpb25lZFRleHREb2N1bWVudElkZW50aWZpZXIuaXMoY2FuZGlkYXRlLnRleHREb2N1bWVudClcbiAgICAgICAgICAgICYmIEFycmF5LmlzQXJyYXkoY2FuZGlkYXRlLmVkaXRzKTtcbiAgICB9XG4gICAgVGV4dERvY3VtZW50RWRpdC5pcyA9IGlzO1xufSkoVGV4dERvY3VtZW50RWRpdCB8fCAoVGV4dERvY3VtZW50RWRpdCA9IHt9KSk7XG52YXIgVGV4dEVkaXRDaGFuZ2VJbXBsID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFRleHRFZGl0Q2hhbmdlSW1wbChlZGl0cykge1xuICAgICAgICB0aGlzLmVkaXRzID0gZWRpdHM7XG4gICAgfVxuICAgIFRleHRFZGl0Q2hhbmdlSW1wbC5wcm90b3R5cGUuaW5zZXJ0ID0gZnVuY3Rpb24gKHBvc2l0aW9uLCBuZXdUZXh0KSB7XG4gICAgICAgIHRoaXMuZWRpdHMucHVzaChUZXh0RWRpdC5pbnNlcnQocG9zaXRpb24sIG5ld1RleHQpKTtcbiAgICB9O1xuICAgIFRleHRFZGl0Q2hhbmdlSW1wbC5wcm90b3R5cGUucmVwbGFjZSA9IGZ1bmN0aW9uIChyYW5nZSwgbmV3VGV4dCkge1xuICAgICAgICB0aGlzLmVkaXRzLnB1c2goVGV4dEVkaXQucmVwbGFjZShyYW5nZSwgbmV3VGV4dCkpO1xuICAgIH07XG4gICAgVGV4dEVkaXRDaGFuZ2VJbXBsLnByb3RvdHlwZS5kZWxldGUgPSBmdW5jdGlvbiAocmFuZ2UpIHtcbiAgICAgICAgdGhpcy5lZGl0cy5wdXNoKFRleHRFZGl0LmRlbChyYW5nZSkpO1xuICAgIH07XG4gICAgVGV4dEVkaXRDaGFuZ2VJbXBsLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAoZWRpdCkge1xuICAgICAgICB0aGlzLmVkaXRzLnB1c2goZWRpdCk7XG4gICAgfTtcbiAgICBUZXh0RWRpdENoYW5nZUltcGwucHJvdG90eXBlLmFsbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWRpdHM7XG4gICAgfTtcbiAgICBUZXh0RWRpdENoYW5nZUltcGwucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmVkaXRzLnNwbGljZSgwLCB0aGlzLmVkaXRzLmxlbmd0aCk7XG4gICAgfTtcbiAgICByZXR1cm4gVGV4dEVkaXRDaGFuZ2VJbXBsO1xufSgpKTtcbi8qKlxuICogQSB3b3Jrc3BhY2UgY2hhbmdlIGhlbHBzIGNvbnN0cnVjdGluZyBjaGFuZ2VzIHRvIGEgd29ya3NwYWNlLlxuICovXG52YXIgV29ya3NwYWNlQ2hhbmdlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFdvcmtzcGFjZUNoYW5nZSh3b3Jrc3BhY2VFZGl0KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuX3RleHRFZGl0Q2hhbmdlcyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIGlmICh3b3Jrc3BhY2VFZGl0KSB7XG4gICAgICAgICAgICB0aGlzLl93b3Jrc3BhY2VFZGl0ID0gd29ya3NwYWNlRWRpdDtcbiAgICAgICAgICAgIGlmICh3b3Jrc3BhY2VFZGl0LmRvY3VtZW50Q2hhbmdlcykge1xuICAgICAgICAgICAgICAgIHdvcmtzcGFjZUVkaXQuZG9jdW1lbnRDaGFuZ2VzLmZvckVhY2goZnVuY3Rpb24gKHRleHREb2N1bWVudEVkaXQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRleHRFZGl0Q2hhbmdlID0gbmV3IFRleHRFZGl0Q2hhbmdlSW1wbCh0ZXh0RG9jdW1lbnRFZGl0LmVkaXRzKTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3RleHRFZGl0Q2hhbmdlc1t0ZXh0RG9jdW1lbnRFZGl0LnRleHREb2N1bWVudC51cmldID0gdGV4dEVkaXRDaGFuZ2U7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh3b3Jrc3BhY2VFZGl0LmNoYW5nZXMpIHtcbiAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyh3b3Jrc3BhY2VFZGl0LmNoYW5nZXMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGV4dEVkaXRDaGFuZ2UgPSBuZXcgVGV4dEVkaXRDaGFuZ2VJbXBsKHdvcmtzcGFjZUVkaXQuY2hhbmdlc1trZXldKTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3RleHRFZGl0Q2hhbmdlc1trZXldID0gdGV4dEVkaXRDaGFuZ2U7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFdvcmtzcGFjZUNoYW5nZS5wcm90b3R5cGUsIFwiZWRpdFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXR1cm5zIHRoZSB1bmRlcmx5aW5nIFtXb3Jrc3BhY2VFZGl0XSgjV29ya3NwYWNlRWRpdCkgbGl0ZXJhbFxuICAgICAgICAgKiB1c2UgdG8gYmUgcmV0dXJuZWQgZnJvbSBhIHdvcmtzcGFjZSBlZGl0IG9wZXJhdGlvbiBsaWtlIHJlbmFtZS5cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dvcmtzcGFjZUVkaXQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIFdvcmtzcGFjZUNoYW5nZS5wcm90b3R5cGUuZ2V0VGV4dEVkaXRDaGFuZ2UgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIGlmIChWZXJzaW9uZWRUZXh0RG9jdW1lbnRJZGVudGlmaWVyLmlzKGtleSkpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fd29ya3NwYWNlRWRpdCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3dvcmtzcGFjZUVkaXQgPSB7XG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50Q2hhbmdlczogW11cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF0aGlzLl93b3Jrc3BhY2VFZGl0LmRvY3VtZW50Q2hhbmdlcykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignV29ya3NwYWNlIGVkaXQgaXMgbm90IGNvbmZpZ3VyZWQgZm9yIHZlcnNpb25lZCBkb2N1bWVudCBjaGFuZ2VzLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHRleHREb2N1bWVudCA9IGtleTtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSB0aGlzLl90ZXh0RWRpdENoYW5nZXNbdGV4dERvY3VtZW50LnVyaV07XG4gICAgICAgICAgICBpZiAoIXJlc3VsdCkge1xuICAgICAgICAgICAgICAgIHZhciBlZGl0cyA9IFtdO1xuICAgICAgICAgICAgICAgIHZhciB0ZXh0RG9jdW1lbnRFZGl0ID0ge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0RG9jdW1lbnQ6IHRleHREb2N1bWVudCxcbiAgICAgICAgICAgICAgICAgICAgZWRpdHM6IGVkaXRzXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB0aGlzLl93b3Jrc3BhY2VFZGl0LmRvY3VtZW50Q2hhbmdlcy5wdXNoKHRleHREb2N1bWVudEVkaXQpO1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IG5ldyBUZXh0RWRpdENoYW5nZUltcGwoZWRpdHMpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3RleHRFZGl0Q2hhbmdlc1t0ZXh0RG9jdW1lbnQudXJpXSA9IHJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX3dvcmtzcGFjZUVkaXQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl93b3Jrc3BhY2VFZGl0ID0ge1xuICAgICAgICAgICAgICAgICAgICBjaGFuZ2VzOiBPYmplY3QuY3JlYXRlKG51bGwpXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghdGhpcy5fd29ya3NwYWNlRWRpdC5jaGFuZ2VzKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdXb3Jrc3BhY2UgZWRpdCBpcyBub3QgY29uZmlndXJlZCBmb3Igbm9ybWFsIHRleHQgZWRpdCBjaGFuZ2VzLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHRoaXMuX3RleHRFZGl0Q2hhbmdlc1trZXldO1xuICAgICAgICAgICAgaWYgKCFyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICB2YXIgZWRpdHMgPSBbXTtcbiAgICAgICAgICAgICAgICB0aGlzLl93b3Jrc3BhY2VFZGl0LmNoYW5nZXNba2V5XSA9IGVkaXRzO1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IG5ldyBUZXh0RWRpdENoYW5nZUltcGwoZWRpdHMpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3RleHRFZGl0Q2hhbmdlc1trZXldID0gcmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFdvcmtzcGFjZUNoYW5nZTtcbn0oKSk7XG5leHBvcnQgeyBXb3Jrc3BhY2VDaGFuZ2UgfTtcbi8qKlxuICogVGhlIFRleHREb2N1bWVudElkZW50aWZpZXIgbmFtZXNwYWNlIHByb3ZpZGVzIGhlbHBlciBmdW5jdGlvbnMgdG8gd29yayB3aXRoXG4gKiBbVGV4dERvY3VtZW50SWRlbnRpZmllcl0oI1RleHREb2N1bWVudElkZW50aWZpZXIpIGxpdGVyYWxzLlxuICovXG5leHBvcnQgdmFyIFRleHREb2N1bWVudElkZW50aWZpZXI7XG4oZnVuY3Rpb24gKFRleHREb2N1bWVudElkZW50aWZpZXIpIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IFRleHREb2N1bWVudElkZW50aWZpZXIgbGl0ZXJhbC5cbiAgICAgKiBAcGFyYW0gdXJpIFRoZSBkb2N1bWVudCdzIHVyaS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGUodXJpKSB7XG4gICAgICAgIHJldHVybiB7IHVyaTogdXJpIH07XG4gICAgfVxuICAgIFRleHREb2N1bWVudElkZW50aWZpZXIuY3JlYXRlID0gY3JlYXRlO1xuICAgIC8qKlxuICAgICAqIENoZWNrcyB3aGV0aGVyIHRoZSBnaXZlbiBsaXRlcmFsIGNvbmZvcm1zIHRvIHRoZSBbVGV4dERvY3VtZW50SWRlbnRpZmllcl0oI1RleHREb2N1bWVudElkZW50aWZpZXIpIGludGVyZmFjZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpcyh2YWx1ZSkge1xuICAgICAgICB2YXIgY2FuZGlkYXRlID0gdmFsdWU7XG4gICAgICAgIHJldHVybiBJcy5kZWZpbmVkKGNhbmRpZGF0ZSkgJiYgSXMuc3RyaW5nKGNhbmRpZGF0ZS51cmkpO1xuICAgIH1cbiAgICBUZXh0RG9jdW1lbnRJZGVudGlmaWVyLmlzID0gaXM7XG59KShUZXh0RG9jdW1lbnRJZGVudGlmaWVyIHx8IChUZXh0RG9jdW1lbnRJZGVudGlmaWVyID0ge30pKTtcbi8qKlxuICogVGhlIFZlcnNpb25lZFRleHREb2N1bWVudElkZW50aWZpZXIgbmFtZXNwYWNlIHByb3ZpZGVzIGhlbHBlciBmdW5jdGlvbnMgdG8gd29yayB3aXRoXG4gKiBbVmVyc2lvbmVkVGV4dERvY3VtZW50SWRlbnRpZmllcl0oI1ZlcnNpb25lZFRleHREb2N1bWVudElkZW50aWZpZXIpIGxpdGVyYWxzLlxuICovXG5leHBvcnQgdmFyIFZlcnNpb25lZFRleHREb2N1bWVudElkZW50aWZpZXI7XG4oZnVuY3Rpb24gKFZlcnNpb25lZFRleHREb2N1bWVudElkZW50aWZpZXIpIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IFZlcnNpb25lZFRleHREb2N1bWVudElkZW50aWZpZXIgbGl0ZXJhbC5cbiAgICAgKiBAcGFyYW0gdXJpIFRoZSBkb2N1bWVudCdzIHVyaS5cbiAgICAgKiBAcGFyYW0gdXJpIFRoZSBkb2N1bWVudCdzIHRleHQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlKHVyaSwgdmVyc2lvbikge1xuICAgICAgICByZXR1cm4geyB1cmk6IHVyaSwgdmVyc2lvbjogdmVyc2lvbiB9O1xuICAgIH1cbiAgICBWZXJzaW9uZWRUZXh0RG9jdW1lbnRJZGVudGlmaWVyLmNyZWF0ZSA9IGNyZWF0ZTtcbiAgICAvKipcbiAgICAgKiBDaGVja3Mgd2hldGhlciB0aGUgZ2l2ZW4gbGl0ZXJhbCBjb25mb3JtcyB0byB0aGUgW1ZlcnNpb25lZFRleHREb2N1bWVudElkZW50aWZpZXJdKCNWZXJzaW9uZWRUZXh0RG9jdW1lbnRJZGVudGlmaWVyKSBpbnRlcmZhY2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXModmFsdWUpIHtcbiAgICAgICAgdmFyIGNhbmRpZGF0ZSA9IHZhbHVlO1xuICAgICAgICByZXR1cm4gSXMuZGVmaW5lZChjYW5kaWRhdGUpICYmIElzLnN0cmluZyhjYW5kaWRhdGUudXJpKSAmJiBJcy5udW1iZXIoY2FuZGlkYXRlLnZlcnNpb24pO1xuICAgIH1cbiAgICBWZXJzaW9uZWRUZXh0RG9jdW1lbnRJZGVudGlmaWVyLmlzID0gaXM7XG59KShWZXJzaW9uZWRUZXh0RG9jdW1lbnRJZGVudGlmaWVyIHx8IChWZXJzaW9uZWRUZXh0RG9jdW1lbnRJZGVudGlmaWVyID0ge30pKTtcbi8qKlxuICogVGhlIFRleHREb2N1bWVudEl0ZW0gbmFtZXNwYWNlIHByb3ZpZGVzIGhlbHBlciBmdW5jdGlvbnMgdG8gd29yayB3aXRoXG4gKiBbVGV4dERvY3VtZW50SXRlbV0oI1RleHREb2N1bWVudEl0ZW0pIGxpdGVyYWxzLlxuICovXG5leHBvcnQgdmFyIFRleHREb2N1bWVudEl0ZW07XG4oZnVuY3Rpb24gKFRleHREb2N1bWVudEl0ZW0pIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IFRleHREb2N1bWVudEl0ZW0gbGl0ZXJhbC5cbiAgICAgKiBAcGFyYW0gdXJpIFRoZSBkb2N1bWVudCdzIHVyaS5cbiAgICAgKiBAcGFyYW0gbGFuZ3VhZ2VJZCBUaGUgZG9jdW1lbnQncyBsYW5ndWFnZSBpZGVudGlmaWVyLlxuICAgICAqIEBwYXJhbSB2ZXJzaW9uIFRoZSBkb2N1bWVudCdzIHZlcnNpb24gbnVtYmVyLlxuICAgICAqIEBwYXJhbSB0ZXh0IFRoZSBkb2N1bWVudCdzIHRleHQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlKHVyaSwgbGFuZ3VhZ2VJZCwgdmVyc2lvbiwgdGV4dCkge1xuICAgICAgICByZXR1cm4geyB1cmk6IHVyaSwgbGFuZ3VhZ2VJZDogbGFuZ3VhZ2VJZCwgdmVyc2lvbjogdmVyc2lvbiwgdGV4dDogdGV4dCB9O1xuICAgIH1cbiAgICBUZXh0RG9jdW1lbnRJdGVtLmNyZWF0ZSA9IGNyZWF0ZTtcbiAgICAvKipcbiAgICAgKiBDaGVja3Mgd2hldGhlciB0aGUgZ2l2ZW4gbGl0ZXJhbCBjb25mb3JtcyB0byB0aGUgW1RleHREb2N1bWVudEl0ZW1dKCNUZXh0RG9jdW1lbnRJdGVtKSBpbnRlcmZhY2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXModmFsdWUpIHtcbiAgICAgICAgdmFyIGNhbmRpZGF0ZSA9IHZhbHVlO1xuICAgICAgICByZXR1cm4gSXMuZGVmaW5lZChjYW5kaWRhdGUpICYmIElzLnN0cmluZyhjYW5kaWRhdGUudXJpKSAmJiBJcy5zdHJpbmcoY2FuZGlkYXRlLmxhbmd1YWdlSWQpICYmIElzLm51bWJlcihjYW5kaWRhdGUudmVyc2lvbikgJiYgSXMuc3RyaW5nKGNhbmRpZGF0ZS50ZXh0KTtcbiAgICB9XG4gICAgVGV4dERvY3VtZW50SXRlbS5pcyA9IGlzO1xufSkoVGV4dERvY3VtZW50SXRlbSB8fCAoVGV4dERvY3VtZW50SXRlbSA9IHt9KSk7XG4vKipcbiAqIERlc2NyaWJlcyB0aGUgY29udGVudCB0eXBlIHRoYXQgYSBjbGllbnQgc3VwcG9ydHMgaW4gdmFyaW91c1xuICogcmVzdWx0IGxpdGVyYWxzIGxpa2UgYEhvdmVyYCwgYFBhcmFtZXRlckluZm9gIG9yIGBDb21wbGV0aW9uSXRlbWAuXG4gKlxuICogUGxlYXNlIG5vdGUgdGhhdCBgTWFya3VwS2luZHNgIG11c3Qgbm90IHN0YXJ0IHdpdGggYSBgJGAuIFRoaXMga2luZHNcbiAqIGFyZSByZXNlcnZlZCBmb3IgaW50ZXJuYWwgdXNhZ2UuXG4gKi9cbmV4cG9ydCB2YXIgTWFya3VwS2luZDtcbihmdW5jdGlvbiAoTWFya3VwS2luZCkge1xuICAgIC8qKlxuICAgICAqIFBsYWluIHRleHQgaXMgc3VwcG9ydGVkIGFzIGEgY29udGVudCBmb3JtYXRcbiAgICAgKi9cbiAgICBNYXJrdXBLaW5kLlBsYWluVGV4dCA9ICdwbGFpbnRleHQnO1xuICAgIC8qKlxuICAgICAqIE1hcmtkb3duIGlzIHN1cHBvcnRlZCBhcyBhIGNvbnRlbnQgZm9ybWF0XG4gICAgICovXG4gICAgTWFya3VwS2luZC5NYXJrZG93biA9ICdtYXJrZG93bic7XG59KShNYXJrdXBLaW5kIHx8IChNYXJrdXBLaW5kID0ge30pKTtcbi8qKlxuICogVGhlIGtpbmQgb2YgYSBjb21wbGV0aW9uIGVudHJ5LlxuICovXG5leHBvcnQgdmFyIENvbXBsZXRpb25JdGVtS2luZDtcbihmdW5jdGlvbiAoQ29tcGxldGlvbkl0ZW1LaW5kKSB7XG4gICAgQ29tcGxldGlvbkl0ZW1LaW5kLlRleHQgPSAxO1xuICAgIENvbXBsZXRpb25JdGVtS2luZC5NZXRob2QgPSAyO1xuICAgIENvbXBsZXRpb25JdGVtS2luZC5GdW5jdGlvbiA9IDM7XG4gICAgQ29tcGxldGlvbkl0ZW1LaW5kLkNvbnN0cnVjdG9yID0gNDtcbiAgICBDb21wbGV0aW9uSXRlbUtpbmQuRmllbGQgPSA1O1xuICAgIENvbXBsZXRpb25JdGVtS2luZC5WYXJpYWJsZSA9IDY7XG4gICAgQ29tcGxldGlvbkl0ZW1LaW5kLkNsYXNzID0gNztcbiAgICBDb21wbGV0aW9uSXRlbUtpbmQuSW50ZXJmYWNlID0gODtcbiAgICBDb21wbGV0aW9uSXRlbUtpbmQuTW9kdWxlID0gOTtcbiAgICBDb21wbGV0aW9uSXRlbUtpbmQuUHJvcGVydHkgPSAxMDtcbiAgICBDb21wbGV0aW9uSXRlbUtpbmQuVW5pdCA9IDExO1xuICAgIENvbXBsZXRpb25JdGVtS2luZC5WYWx1ZSA9IDEyO1xuICAgIENvbXBsZXRpb25JdGVtS2luZC5FbnVtID0gMTM7XG4gICAgQ29tcGxldGlvbkl0ZW1LaW5kLktleXdvcmQgPSAxNDtcbiAgICBDb21wbGV0aW9uSXRlbUtpbmQuU25pcHBldCA9IDE1O1xuICAgIENvbXBsZXRpb25JdGVtS2luZC5Db2xvciA9IDE2O1xuICAgIENvbXBsZXRpb25JdGVtS2luZC5GaWxlID0gMTc7XG4gICAgQ29tcGxldGlvbkl0ZW1LaW5kLlJlZmVyZW5jZSA9IDE4O1xuICAgIENvbXBsZXRpb25JdGVtS2luZC5Gb2xkZXIgPSAxOTtcbiAgICBDb21wbGV0aW9uSXRlbUtpbmQuRW51bU1lbWJlciA9IDIwO1xuICAgIENvbXBsZXRpb25JdGVtS2luZC5Db25zdGFudCA9IDIxO1xuICAgIENvbXBsZXRpb25JdGVtS2luZC5TdHJ1Y3QgPSAyMjtcbiAgICBDb21wbGV0aW9uSXRlbUtpbmQuRXZlbnQgPSAyMztcbiAgICBDb21wbGV0aW9uSXRlbUtpbmQuT3BlcmF0b3IgPSAyNDtcbiAgICBDb21wbGV0aW9uSXRlbUtpbmQuVHlwZVBhcmFtZXRlciA9IDI1O1xufSkoQ29tcGxldGlvbkl0ZW1LaW5kIHx8IChDb21wbGV0aW9uSXRlbUtpbmQgPSB7fSkpO1xuLyoqXG4gKiBEZWZpbmVzIHdoZXRoZXIgdGhlIGluc2VydCB0ZXh0IGluIGEgY29tcGxldGlvbiBpdGVtIHNob3VsZCBiZSBpbnRlcnByZXRlZCBhc1xuICogcGxhaW4gdGV4dCBvciBhIHNuaXBwZXQuXG4gKi9cbmV4cG9ydCB2YXIgSW5zZXJ0VGV4dEZvcm1hdDtcbihmdW5jdGlvbiAoSW5zZXJ0VGV4dEZvcm1hdCkge1xuICAgIC8qKlxuICAgICAqIFRoZSBwcmltYXJ5IHRleHQgdG8gYmUgaW5zZXJ0ZWQgaXMgdHJlYXRlZCBhcyBhIHBsYWluIHN0cmluZy5cbiAgICAgKi9cbiAgICBJbnNlcnRUZXh0Rm9ybWF0LlBsYWluVGV4dCA9IDE7XG4gICAgLyoqXG4gICAgICogVGhlIHByaW1hcnkgdGV4dCB0byBiZSBpbnNlcnRlZCBpcyB0cmVhdGVkIGFzIGEgc25pcHBldC5cbiAgICAgKlxuICAgICAqIEEgc25pcHBldCBjYW4gZGVmaW5lIHRhYiBzdG9wcyBhbmQgcGxhY2Vob2xkZXJzIHdpdGggYCQxYCwgYCQyYFxuICAgICAqIGFuZCBgJHszOmZvb31gLiBgJDBgIGRlZmluZXMgdGhlIGZpbmFsIHRhYiBzdG9wLCBpdCBkZWZhdWx0cyB0b1xuICAgICAqIHRoZSBlbmQgb2YgdGhlIHNuaXBwZXQuIFBsYWNlaG9sZGVycyB3aXRoIGVxdWFsIGlkZW50aWZpZXJzIGFyZSBsaW5rZWQsXG4gICAgICogdGhhdCBpcyB0eXBpbmcgaW4gb25lIHdpbGwgdXBkYXRlIG90aGVycyB0b28uXG4gICAgICpcbiAgICAgKiBTZWUgYWxzbzogaHR0cHM6Ly9naXRodWIuY29tL01pY3Jvc29mdC92c2NvZGUvYmxvYi9tYXN0ZXIvc3JjL3ZzL2VkaXRvci9jb250cmliL3NuaXBwZXQvY29tbW9uL3NuaXBwZXQubWRcbiAgICAgKi9cbiAgICBJbnNlcnRUZXh0Rm9ybWF0LlNuaXBwZXQgPSAyO1xufSkoSW5zZXJ0VGV4dEZvcm1hdCB8fCAoSW5zZXJ0VGV4dEZvcm1hdCA9IHt9KSk7XG4vKipcbiAqIFRoZSBDb21wbGV0aW9uSXRlbSBuYW1lc3BhY2UgcHJvdmlkZXMgZnVuY3Rpb25zIHRvIGRlYWwgd2l0aFxuICogY29tcGxldGlvbiBpdGVtcy5cbiAqL1xuZXhwb3J0IHZhciBDb21wbGV0aW9uSXRlbTtcbihmdW5jdGlvbiAoQ29tcGxldGlvbkl0ZW0pIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBjb21wbGV0aW9uIGl0ZW0gYW5kIHNlZWQgaXQgd2l0aCBhIGxhYmVsLlxuICAgICAqIEBwYXJhbSBsYWJlbCBUaGUgY29tcGxldGlvbiBpdGVtJ3MgbGFiZWxcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGUobGFiZWwpIHtcbiAgICAgICAgcmV0dXJuIHsgbGFiZWw6IGxhYmVsIH07XG4gICAgfVxuICAgIENvbXBsZXRpb25JdGVtLmNyZWF0ZSA9IGNyZWF0ZTtcbn0pKENvbXBsZXRpb25JdGVtIHx8IChDb21wbGV0aW9uSXRlbSA9IHt9KSk7XG4vKipcbiAqIFRoZSBDb21wbGV0aW9uTGlzdCBuYW1lc3BhY2UgcHJvdmlkZXMgZnVuY3Rpb25zIHRvIGRlYWwgd2l0aFxuICogY29tcGxldGlvbiBsaXN0cy5cbiAqL1xuZXhwb3J0IHZhciBDb21wbGV0aW9uTGlzdDtcbihmdW5jdGlvbiAoQ29tcGxldGlvbkxpc3QpIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IGNvbXBsZXRpb24gbGlzdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBpdGVtcyBUaGUgY29tcGxldGlvbiBpdGVtcy5cbiAgICAgKiBAcGFyYW0gaXNJbmNvbXBsZXRlIFRoZSBsaXN0IGlzIG5vdCBjb21wbGV0ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGUoaXRlbXMsIGlzSW5jb21wbGV0ZSkge1xuICAgICAgICByZXR1cm4geyBpdGVtczogaXRlbXMgPyBpdGVtcyA6IFtdLCBpc0luY29tcGxldGU6ICEhaXNJbmNvbXBsZXRlIH07XG4gICAgfVxuICAgIENvbXBsZXRpb25MaXN0LmNyZWF0ZSA9IGNyZWF0ZTtcbn0pKENvbXBsZXRpb25MaXN0IHx8IChDb21wbGV0aW9uTGlzdCA9IHt9KSk7XG5leHBvcnQgdmFyIE1hcmtlZFN0cmluZztcbihmdW5jdGlvbiAoTWFya2VkU3RyaW5nKSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG1hcmtlZCBzdHJpbmcgZnJvbSBwbGFpbiB0ZXh0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHBsYWluVGV4dCBUaGUgcGxhaW4gdGV4dC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmcm9tUGxhaW5UZXh0KHBsYWluVGV4dCkge1xuICAgICAgICByZXR1cm4gcGxhaW5UZXh0LnJlcGxhY2UoL1tcXFxcYCpfe31bXFxdKCkjK1xcLS4hXS9nLCBcIlxcXFwkJlwiKTsgLy8gZXNjYXBlIG1hcmtkb3duIHN5bnRheCB0b2tlbnM6IGh0dHA6Ly9kYXJpbmdmaXJlYmFsbC5uZXQvcHJvamVjdHMvbWFya2Rvd24vc3ludGF4I2JhY2tzbGFzaFxuICAgIH1cbiAgICBNYXJrZWRTdHJpbmcuZnJvbVBsYWluVGV4dCA9IGZyb21QbGFpblRleHQ7XG59KShNYXJrZWRTdHJpbmcgfHwgKE1hcmtlZFN0cmluZyA9IHt9KSk7XG4vKipcbiAqIFRoZSBQYXJhbWV0ZXJJbmZvcm1hdGlvbiBuYW1lc3BhY2UgcHJvdmlkZXMgaGVscGVyIGZ1bmN0aW9ucyB0byB3b3JrIHdpdGhcbiAqIFtQYXJhbWV0ZXJJbmZvcm1hdGlvbl0oI1BhcmFtZXRlckluZm9ybWF0aW9uKSBsaXRlcmFscy5cbiAqL1xuZXhwb3J0IHZhciBQYXJhbWV0ZXJJbmZvcm1hdGlvbjtcbihmdW5jdGlvbiAoUGFyYW1ldGVySW5mb3JtYXRpb24pIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IHBhcmFtZXRlciBpbmZvcm1hdGlvbiBsaXRlcmFsLlxuICAgICAqXG4gICAgICogQHBhcmFtIGxhYmVsIEEgbGFiZWwgc3RyaW5nLlxuICAgICAqIEBwYXJhbSBkb2N1bWVudGF0aW9uIEEgZG9jIHN0cmluZy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGUobGFiZWwsIGRvY3VtZW50YXRpb24pIHtcbiAgICAgICAgcmV0dXJuIGRvY3VtZW50YXRpb24gPyB7IGxhYmVsOiBsYWJlbCwgZG9jdW1lbnRhdGlvbjogZG9jdW1lbnRhdGlvbiB9IDogeyBsYWJlbDogbGFiZWwgfTtcbiAgICB9XG4gICAgUGFyYW1ldGVySW5mb3JtYXRpb24uY3JlYXRlID0gY3JlYXRlO1xuICAgIDtcbn0pKFBhcmFtZXRlckluZm9ybWF0aW9uIHx8IChQYXJhbWV0ZXJJbmZvcm1hdGlvbiA9IHt9KSk7XG4vKipcbiAqIFRoZSBTaWduYXR1cmVJbmZvcm1hdGlvbiBuYW1lc3BhY2UgcHJvdmlkZXMgaGVscGVyIGZ1bmN0aW9ucyB0byB3b3JrIHdpdGhcbiAqIFtTaWduYXR1cmVJbmZvcm1hdGlvbl0oI1NpZ25hdHVyZUluZm9ybWF0aW9uKSBsaXRlcmFscy5cbiAqL1xuZXhwb3J0IHZhciBTaWduYXR1cmVJbmZvcm1hdGlvbjtcbihmdW5jdGlvbiAoU2lnbmF0dXJlSW5mb3JtYXRpb24pIHtcbiAgICBmdW5jdGlvbiBjcmVhdGUobGFiZWwsIGRvY3VtZW50YXRpb24pIHtcbiAgICAgICAgdmFyIHBhcmFtZXRlcnMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAyOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIHBhcmFtZXRlcnNbX2kgLSAyXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlc3VsdCA9IHsgbGFiZWw6IGxhYmVsIH07XG4gICAgICAgIGlmIChJcy5kZWZpbmVkKGRvY3VtZW50YXRpb24pKSB7XG4gICAgICAgICAgICByZXN1bHQuZG9jdW1lbnRhdGlvbiA9IGRvY3VtZW50YXRpb247XG4gICAgICAgIH1cbiAgICAgICAgaWYgKElzLmRlZmluZWQocGFyYW1ldGVycykpIHtcbiAgICAgICAgICAgIHJlc3VsdC5wYXJhbWV0ZXJzID0gcGFyYW1ldGVycztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdC5wYXJhbWV0ZXJzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgU2lnbmF0dXJlSW5mb3JtYXRpb24uY3JlYXRlID0gY3JlYXRlO1xufSkoU2lnbmF0dXJlSW5mb3JtYXRpb24gfHwgKFNpZ25hdHVyZUluZm9ybWF0aW9uID0ge30pKTtcbi8qKlxuICogQSBkb2N1bWVudCBoaWdobGlnaHQga2luZC5cbiAqL1xuZXhwb3J0IHZhciBEb2N1bWVudEhpZ2hsaWdodEtpbmQ7XG4oZnVuY3Rpb24gKERvY3VtZW50SGlnaGxpZ2h0S2luZCkge1xuICAgIC8qKlxuICAgICAqIEEgdGV4dHVhbCBvY2N1cnJhbmNlLlxuICAgICAqL1xuICAgIERvY3VtZW50SGlnaGxpZ2h0S2luZC5UZXh0ID0gMTtcbiAgICAvKipcbiAgICAgKiBSZWFkLWFjY2VzcyBvZiBhIHN5bWJvbCwgbGlrZSByZWFkaW5nIGEgdmFyaWFibGUuXG4gICAgICovXG4gICAgRG9jdW1lbnRIaWdobGlnaHRLaW5kLlJlYWQgPSAyO1xuICAgIC8qKlxuICAgICAqIFdyaXRlLWFjY2VzcyBvZiBhIHN5bWJvbCwgbGlrZSB3cml0aW5nIHRvIGEgdmFyaWFibGUuXG4gICAgICovXG4gICAgRG9jdW1lbnRIaWdobGlnaHRLaW5kLldyaXRlID0gMztcbn0pKERvY3VtZW50SGlnaGxpZ2h0S2luZCB8fCAoRG9jdW1lbnRIaWdobGlnaHRLaW5kID0ge30pKTtcbi8qKlxuICogRG9jdW1lbnRIaWdobGlnaHQgbmFtZXNwYWNlIHRvIHByb3ZpZGUgaGVscGVyIGZ1bmN0aW9ucyB0byB3b3JrIHdpdGhcbiAqIFtEb2N1bWVudEhpZ2hsaWdodF0oI0RvY3VtZW50SGlnaGxpZ2h0KSBsaXRlcmFscy5cbiAqL1xuZXhwb3J0IHZhciBEb2N1bWVudEhpZ2hsaWdodDtcbihmdW5jdGlvbiAoRG9jdW1lbnRIaWdobGlnaHQpIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBEb2N1bWVudEhpZ2hsaWdodCBvYmplY3QuXG4gICAgICogQHBhcmFtIHJhbmdlIFRoZSByYW5nZSB0aGUgaGlnaGxpZ2h0IGFwcGxpZXMgdG8uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlKHJhbmdlLCBraW5kKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSB7IHJhbmdlOiByYW5nZSB9O1xuICAgICAgICBpZiAoSXMubnVtYmVyKGtpbmQpKSB7XG4gICAgICAgICAgICByZXN1bHQua2luZCA9IGtpbmQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgRG9jdW1lbnRIaWdobGlnaHQuY3JlYXRlID0gY3JlYXRlO1xufSkoRG9jdW1lbnRIaWdobGlnaHQgfHwgKERvY3VtZW50SGlnaGxpZ2h0ID0ge30pKTtcbi8qKlxuICogQSBzeW1ib2wga2luZC5cbiAqL1xuZXhwb3J0IHZhciBTeW1ib2xLaW5kO1xuKGZ1bmN0aW9uIChTeW1ib2xLaW5kKSB7XG4gICAgU3ltYm9sS2luZC5GaWxlID0gMTtcbiAgICBTeW1ib2xLaW5kLk1vZHVsZSA9IDI7XG4gICAgU3ltYm9sS2luZC5OYW1lc3BhY2UgPSAzO1xuICAgIFN5bWJvbEtpbmQuUGFja2FnZSA9IDQ7XG4gICAgU3ltYm9sS2luZC5DbGFzcyA9IDU7XG4gICAgU3ltYm9sS2luZC5NZXRob2QgPSA2O1xuICAgIFN5bWJvbEtpbmQuUHJvcGVydHkgPSA3O1xuICAgIFN5bWJvbEtpbmQuRmllbGQgPSA4O1xuICAgIFN5bWJvbEtpbmQuQ29uc3RydWN0b3IgPSA5O1xuICAgIFN5bWJvbEtpbmQuRW51bSA9IDEwO1xuICAgIFN5bWJvbEtpbmQuSW50ZXJmYWNlID0gMTE7XG4gICAgU3ltYm9sS2luZC5GdW5jdGlvbiA9IDEyO1xuICAgIFN5bWJvbEtpbmQuVmFyaWFibGUgPSAxMztcbiAgICBTeW1ib2xLaW5kLkNvbnN0YW50ID0gMTQ7XG4gICAgU3ltYm9sS2luZC5TdHJpbmcgPSAxNTtcbiAgICBTeW1ib2xLaW5kLk51bWJlciA9IDE2O1xuICAgIFN5bWJvbEtpbmQuQm9vbGVhbiA9IDE3O1xuICAgIFN5bWJvbEtpbmQuQXJyYXkgPSAxODtcbiAgICBTeW1ib2xLaW5kLk9iamVjdCA9IDE5O1xuICAgIFN5bWJvbEtpbmQuS2V5ID0gMjA7XG4gICAgU3ltYm9sS2luZC5OdWxsID0gMjE7XG4gICAgU3ltYm9sS2luZC5FbnVtTWVtYmVyID0gMjI7XG4gICAgU3ltYm9sS2luZC5TdHJ1Y3QgPSAyMztcbiAgICBTeW1ib2xLaW5kLkV2ZW50ID0gMjQ7XG4gICAgU3ltYm9sS2luZC5PcGVyYXRvciA9IDI1O1xuICAgIFN5bWJvbEtpbmQuVHlwZVBhcmFtZXRlciA9IDI2O1xufSkoU3ltYm9sS2luZCB8fCAoU3ltYm9sS2luZCA9IHt9KSk7XG5leHBvcnQgdmFyIFN5bWJvbEluZm9ybWF0aW9uO1xuKGZ1bmN0aW9uIChTeW1ib2xJbmZvcm1hdGlvbikge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgc3ltYm9sIGluZm9ybWF0aW9uIGxpdGVyYWwuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbmFtZSBUaGUgbmFtZSBvZiB0aGUgc3ltYm9sLlxuICAgICAqIEBwYXJhbSBraW5kIFRoZSBraW5kIG9mIHRoZSBzeW1ib2wuXG4gICAgICogQHBhcmFtIHJhbmdlIFRoZSByYW5nZSBvZiB0aGUgbG9jYXRpb24gb2YgdGhlIHN5bWJvbC5cbiAgICAgKiBAcGFyYW0gdXJpIFRoZSByZXNvdXJjZSBvZiB0aGUgbG9jYXRpb24gb2Ygc3ltYm9sLCBkZWZhdWx0cyB0byB0aGUgY3VycmVudCBkb2N1bWVudC5cbiAgICAgKiBAcGFyYW0gY29udGFpbmVyTmFtZSBUaGUgbmFtZSBvZiB0aGUgc3ltYm9sIGNvbnRhaW5nIHRoZSBzeW1ib2wuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlKG5hbWUsIGtpbmQsIHJhbmdlLCB1cmksIGNvbnRhaW5lck5hbWUpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHtcbiAgICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgICBraW5kOiBraW5kLFxuICAgICAgICAgICAgbG9jYXRpb246IHsgdXJpOiB1cmksIHJhbmdlOiByYW5nZSB9XG4gICAgICAgIH07XG4gICAgICAgIGlmIChjb250YWluZXJOYW1lKSB7XG4gICAgICAgICAgICByZXN1bHQuY29udGFpbmVyTmFtZSA9IGNvbnRhaW5lck5hbWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgU3ltYm9sSW5mb3JtYXRpb24uY3JlYXRlID0gY3JlYXRlO1xufSkoU3ltYm9sSW5mb3JtYXRpb24gfHwgKFN5bWJvbEluZm9ybWF0aW9uID0ge30pKTtcbi8qKlxuICogVGhlIENvZGVBY3Rpb25Db250ZXh0IG5hbWVzcGFjZSBwcm92aWRlcyBoZWxwZXIgZnVuY3Rpb25zIHRvIHdvcmsgd2l0aFxuICogW0NvZGVBY3Rpb25Db250ZXh0XSgjQ29kZUFjdGlvbkNvbnRleHQpIGxpdGVyYWxzLlxuICovXG5leHBvcnQgdmFyIENvZGVBY3Rpb25Db250ZXh0O1xuKGZ1bmN0aW9uIChDb2RlQWN0aW9uQ29udGV4dCkge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgQ29kZUFjdGlvbkNvbnRleHQgbGl0ZXJhbC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGUoZGlhZ25vc3RpY3MpIHtcbiAgICAgICAgcmV0dXJuIHsgZGlhZ25vc3RpY3M6IGRpYWdub3N0aWNzIH07XG4gICAgfVxuICAgIENvZGVBY3Rpb25Db250ZXh0LmNyZWF0ZSA9IGNyZWF0ZTtcbiAgICAvKipcbiAgICAgKiBDaGVja3Mgd2hldGhlciB0aGUgZ2l2ZW4gbGl0ZXJhbCBjb25mb3JtcyB0byB0aGUgW0NvZGVBY3Rpb25Db250ZXh0XSgjQ29kZUFjdGlvbkNvbnRleHQpIGludGVyZmFjZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpcyh2YWx1ZSkge1xuICAgICAgICB2YXIgY2FuZGlkYXRlID0gdmFsdWU7XG4gICAgICAgIHJldHVybiBJcy5kZWZpbmVkKGNhbmRpZGF0ZSkgJiYgSXMudHlwZWRBcnJheShjYW5kaWRhdGUuZGlhZ25vc3RpY3MsIERpYWdub3N0aWMuaXMpO1xuICAgIH1cbiAgICBDb2RlQWN0aW9uQ29udGV4dC5pcyA9IGlzO1xufSkoQ29kZUFjdGlvbkNvbnRleHQgfHwgKENvZGVBY3Rpb25Db250ZXh0ID0ge30pKTtcbi8qKlxuICogVGhlIENvZGVMZW5zIG5hbWVzcGFjZSBwcm92aWRlcyBoZWxwZXIgZnVuY3Rpb25zIHRvIHdvcmsgd2l0aFxuICogW0NvZGVMZW5zXSgjQ29kZUxlbnMpIGxpdGVyYWxzLlxuICovXG5leHBvcnQgdmFyIENvZGVMZW5zO1xuKGZ1bmN0aW9uIChDb2RlTGVucykge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgQ29kZUxlbnMgbGl0ZXJhbC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGUocmFuZ2UsIGRhdGEpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHsgcmFuZ2U6IHJhbmdlIH07XG4gICAgICAgIGlmIChJcy5kZWZpbmVkKGRhdGEpKVxuICAgICAgICAgICAgcmVzdWx0LmRhdGEgPSBkYXRhO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBDb2RlTGVucy5jcmVhdGUgPSBjcmVhdGU7XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHdoZXRoZXIgdGhlIGdpdmVuIGxpdGVyYWwgY29uZm9ybXMgdG8gdGhlIFtDb2RlTGVuc10oI0NvZGVMZW5zKSBpbnRlcmZhY2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXModmFsdWUpIHtcbiAgICAgICAgdmFyIGNhbmRpZGF0ZSA9IHZhbHVlO1xuICAgICAgICByZXR1cm4gSXMuZGVmaW5lZChjYW5kaWRhdGUpICYmIFJhbmdlLmlzKGNhbmRpZGF0ZS5yYW5nZSkgJiYgKElzLnVuZGVmaW5lZChjYW5kaWRhdGUuY29tbWFuZCkgfHwgQ29tbWFuZC5pcyhjYW5kaWRhdGUuY29tbWFuZCkpO1xuICAgIH1cbiAgICBDb2RlTGVucy5pcyA9IGlzO1xufSkoQ29kZUxlbnMgfHwgKENvZGVMZW5zID0ge30pKTtcbi8qKlxuICogVGhlIEZvcm1hdHRpbmdPcHRpb25zIG5hbWVzcGFjZSBwcm92aWRlcyBoZWxwZXIgZnVuY3Rpb25zIHRvIHdvcmsgd2l0aFxuICogW0Zvcm1hdHRpbmdPcHRpb25zXSgjRm9ybWF0dGluZ09wdGlvbnMpIGxpdGVyYWxzLlxuICovXG5leHBvcnQgdmFyIEZvcm1hdHRpbmdPcHRpb25zO1xuKGZ1bmN0aW9uIChGb3JtYXR0aW5nT3B0aW9ucykge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgRm9ybWF0dGluZ09wdGlvbnMgbGl0ZXJhbC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGUodGFiU2l6ZSwgaW5zZXJ0U3BhY2VzKSB7XG4gICAgICAgIHJldHVybiB7IHRhYlNpemU6IHRhYlNpemUsIGluc2VydFNwYWNlczogaW5zZXJ0U3BhY2VzIH07XG4gICAgfVxuICAgIEZvcm1hdHRpbmdPcHRpb25zLmNyZWF0ZSA9IGNyZWF0ZTtcbiAgICAvKipcbiAgICAgKiBDaGVja3Mgd2hldGhlciB0aGUgZ2l2ZW4gbGl0ZXJhbCBjb25mb3JtcyB0byB0aGUgW0Zvcm1hdHRpbmdPcHRpb25zXSgjRm9ybWF0dGluZ09wdGlvbnMpIGludGVyZmFjZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpcyh2YWx1ZSkge1xuICAgICAgICB2YXIgY2FuZGlkYXRlID0gdmFsdWU7XG4gICAgICAgIHJldHVybiBJcy5kZWZpbmVkKGNhbmRpZGF0ZSkgJiYgSXMubnVtYmVyKGNhbmRpZGF0ZS50YWJTaXplKSAmJiBJcy5ib29sZWFuKGNhbmRpZGF0ZS5pbnNlcnRTcGFjZXMpO1xuICAgIH1cbiAgICBGb3JtYXR0aW5nT3B0aW9ucy5pcyA9IGlzO1xufSkoRm9ybWF0dGluZ09wdGlvbnMgfHwgKEZvcm1hdHRpbmdPcHRpb25zID0ge30pKTtcbi8qKlxuICogQSBkb2N1bWVudCBsaW5rIGlzIGEgcmFuZ2UgaW4gYSB0ZXh0IGRvY3VtZW50IHRoYXQgbGlua3MgdG8gYW4gaW50ZXJuYWwgb3IgZXh0ZXJuYWwgcmVzb3VyY2UsIGxpa2UgYW5vdGhlclxuICogdGV4dCBkb2N1bWVudCBvciBhIHdlYiBzaXRlLlxuICovXG52YXIgRG9jdW1lbnRMaW5rID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIERvY3VtZW50TGluaygpIHtcbiAgICB9XG4gICAgcmV0dXJuIERvY3VtZW50TGluaztcbn0oKSk7XG5leHBvcnQgeyBEb2N1bWVudExpbmsgfTtcbi8qKlxuICogVGhlIERvY3VtZW50TGluayBuYW1lc3BhY2UgcHJvdmlkZXMgaGVscGVyIGZ1bmN0aW9ucyB0byB3b3JrIHdpdGhcbiAqIFtEb2N1bWVudExpbmtdKCNEb2N1bWVudExpbmspIGxpdGVyYWxzLlxuICovXG4oZnVuY3Rpb24gKERvY3VtZW50TGluaykge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgRG9jdW1lbnRMaW5rIGxpdGVyYWwuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlKHJhbmdlLCB0YXJnZXQpIHtcbiAgICAgICAgcmV0dXJuIHsgcmFuZ2U6IHJhbmdlLCB0YXJnZXQ6IHRhcmdldCB9O1xuICAgIH1cbiAgICBEb2N1bWVudExpbmsuY3JlYXRlID0gY3JlYXRlO1xuICAgIC8qKlxuICAgICAqIENoZWNrcyB3aGV0aGVyIHRoZSBnaXZlbiBsaXRlcmFsIGNvbmZvcm1zIHRvIHRoZSBbRG9jdW1lbnRMaW5rXSgjRG9jdW1lbnRMaW5rKSBpbnRlcmZhY2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXModmFsdWUpIHtcbiAgICAgICAgdmFyIGNhbmRpZGF0ZSA9IHZhbHVlO1xuICAgICAgICByZXR1cm4gSXMuZGVmaW5lZChjYW5kaWRhdGUpICYmIFJhbmdlLmlzKGNhbmRpZGF0ZS5yYW5nZSkgJiYgKElzLnVuZGVmaW5lZChjYW5kaWRhdGUudGFyZ2V0KSB8fCBJcy5zdHJpbmcoY2FuZGlkYXRlLnRhcmdldCkpO1xuICAgIH1cbiAgICBEb2N1bWVudExpbmsuaXMgPSBpcztcbn0pKERvY3VtZW50TGluayB8fCAoRG9jdW1lbnRMaW5rID0ge30pKTtcbmV4cG9ydCB2YXIgRU9MID0gWydcXG4nLCAnXFxyXFxuJywgJ1xcciddO1xuZXhwb3J0IHZhciBUZXh0RG9jdW1lbnQ7XG4oZnVuY3Rpb24gKFRleHREb2N1bWVudCkge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgSVRleHREb2N1bWVudCBsaXRlcmFsIGZyb20gdGhlIGdpdmVuIHVyaSBhbmQgY29udGVudC5cbiAgICAgKiBAcGFyYW0gdXJpIFRoZSBkb2N1bWVudCdzIHVyaS5cbiAgICAgKiBAcGFyYW0gbGFuZ3VhZ2VJZCAgVGhlIGRvY3VtZW50J3MgbGFuZ3VhZ2UgSWQuXG4gICAgICogQHBhcmFtIGNvbnRlbnQgVGhlIGRvY3VtZW50J3MgY29udGVudC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGUodXJpLCBsYW5ndWFnZUlkLCB2ZXJzaW9uLCBjb250ZW50KSB7XG4gICAgICAgIHJldHVybiBuZXcgRnVsbFRleHREb2N1bWVudCh1cmksIGxhbmd1YWdlSWQsIHZlcnNpb24sIGNvbnRlbnQpO1xuICAgIH1cbiAgICBUZXh0RG9jdW1lbnQuY3JlYXRlID0gY3JlYXRlO1xuICAgIC8qKlxuICAgICAqIENoZWNrcyB3aGV0aGVyIHRoZSBnaXZlbiBsaXRlcmFsIGNvbmZvcm1zIHRvIHRoZSBbSVRleHREb2N1bWVudF0oI0lUZXh0RG9jdW1lbnQpIGludGVyZmFjZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpcyh2YWx1ZSkge1xuICAgICAgICB2YXIgY2FuZGlkYXRlID0gdmFsdWU7XG4gICAgICAgIHJldHVybiBJcy5kZWZpbmVkKGNhbmRpZGF0ZSkgJiYgSXMuc3RyaW5nKGNhbmRpZGF0ZS51cmkpICYmIChJcy51bmRlZmluZWQoY2FuZGlkYXRlLmxhbmd1YWdlSWQpIHx8IElzLnN0cmluZyhjYW5kaWRhdGUubGFuZ3VhZ2VJZCkpICYmIElzLm51bWJlcihjYW5kaWRhdGUubGluZUNvdW50KVxuICAgICAgICAgICAgJiYgSXMuZnVuYyhjYW5kaWRhdGUuZ2V0VGV4dCkgJiYgSXMuZnVuYyhjYW5kaWRhdGUucG9zaXRpb25BdCkgJiYgSXMuZnVuYyhjYW5kaWRhdGUub2Zmc2V0QXQpID8gdHJ1ZSA6IGZhbHNlO1xuICAgIH1cbiAgICBUZXh0RG9jdW1lbnQuaXMgPSBpcztcbiAgICBmdW5jdGlvbiBhcHBseUVkaXRzKGRvY3VtZW50LCBlZGl0cykge1xuICAgICAgICB2YXIgdGV4dCA9IGRvY3VtZW50LmdldFRleHQoKTtcbiAgICAgICAgdmFyIHNvcnRlZEVkaXRzID0gbWVyZ2VTb3J0KGVkaXRzLCBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICAgICAgdmFyIGRpZmYgPSBhLnJhbmdlLnN0YXJ0LmxpbmUgLSBiLnJhbmdlLnN0YXJ0LmxpbmU7XG4gICAgICAgICAgICBpZiAoZGlmZiA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBhLnJhbmdlLnN0YXJ0LmNoYXJhY3RlciAtIGIucmFuZ2Uuc3RhcnQuY2hhcmFjdGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgbGFzdE1vZGlmaWVkT2Zmc2V0ID0gdGV4dC5sZW5ndGg7XG4gICAgICAgIGZvciAodmFyIGkgPSBzb3J0ZWRFZGl0cy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgdmFyIGUgPSBzb3J0ZWRFZGl0c1tpXTtcbiAgICAgICAgICAgIHZhciBzdGFydE9mZnNldCA9IGRvY3VtZW50Lm9mZnNldEF0KGUucmFuZ2Uuc3RhcnQpO1xuICAgICAgICAgICAgdmFyIGVuZE9mZnNldCA9IGRvY3VtZW50Lm9mZnNldEF0KGUucmFuZ2UuZW5kKTtcbiAgICAgICAgICAgIGlmIChlbmRPZmZzZXQgPD0gbGFzdE1vZGlmaWVkT2Zmc2V0KSB7XG4gICAgICAgICAgICAgICAgdGV4dCA9IHRleHQuc3Vic3RyaW5nKDAsIHN0YXJ0T2Zmc2V0KSArIGUubmV3VGV4dCArIHRleHQuc3Vic3RyaW5nKGVuZE9mZnNldCwgdGV4dC5sZW5ndGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdPdmVsYXBwaW5nIGVkaXQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxhc3RNb2RpZmllZE9mZnNldCA9IHN0YXJ0T2Zmc2V0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0ZXh0O1xuICAgIH1cbiAgICBUZXh0RG9jdW1lbnQuYXBwbHlFZGl0cyA9IGFwcGx5RWRpdHM7XG4gICAgZnVuY3Rpb24gbWVyZ2VTb3J0KGRhdGEsIGNvbXBhcmUpIHtcbiAgICAgICAgaWYgKGRhdGEubGVuZ3RoIDw9IDEpIHtcbiAgICAgICAgICAgIC8vIHNvcnRlZFxuICAgICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHAgPSAoZGF0YS5sZW5ndGggLyAyKSB8IDA7XG4gICAgICAgIHZhciBsZWZ0ID0gZGF0YS5zbGljZSgwLCBwKTtcbiAgICAgICAgdmFyIHJpZ2h0ID0gZGF0YS5zbGljZShwKTtcbiAgICAgICAgbWVyZ2VTb3J0KGxlZnQsIGNvbXBhcmUpO1xuICAgICAgICBtZXJnZVNvcnQocmlnaHQsIGNvbXBhcmUpO1xuICAgICAgICB2YXIgbGVmdElkeCA9IDA7XG4gICAgICAgIHZhciByaWdodElkeCA9IDA7XG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgd2hpbGUgKGxlZnRJZHggPCBsZWZ0Lmxlbmd0aCAmJiByaWdodElkeCA8IHJpZ2h0Lmxlbmd0aCkge1xuICAgICAgICAgICAgdmFyIHJldCA9IGNvbXBhcmUobGVmdFtsZWZ0SWR4XSwgcmlnaHRbcmlnaHRJZHhdKTtcbiAgICAgICAgICAgIGlmIChyZXQgPD0gMCkge1xuICAgICAgICAgICAgICAgIC8vIHNtYWxsZXJfZXF1YWwgLT4gdGFrZSBsZWZ0IHRvIHByZXNlcnZlIG9yZGVyXG4gICAgICAgICAgICAgICAgZGF0YVtpKytdID0gbGVmdFtsZWZ0SWR4KytdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gZ3JlYXRlciAtPiB0YWtlIHJpZ2h0XG4gICAgICAgICAgICAgICAgZGF0YVtpKytdID0gcmlnaHRbcmlnaHRJZHgrK107XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKGxlZnRJZHggPCBsZWZ0Lmxlbmd0aCkge1xuICAgICAgICAgICAgZGF0YVtpKytdID0gbGVmdFtsZWZ0SWR4KytdO1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlIChyaWdodElkeCA8IHJpZ2h0Lmxlbmd0aCkge1xuICAgICAgICAgICAgZGF0YVtpKytdID0gcmlnaHRbcmlnaHRJZHgrK107XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxufSkoVGV4dERvY3VtZW50IHx8IChUZXh0RG9jdW1lbnQgPSB7fSkpO1xuLyoqXG4gKiBSZXByZXNlbnRzIHJlYXNvbnMgd2h5IGEgdGV4dCBkb2N1bWVudCBpcyBzYXZlZC5cbiAqL1xuZXhwb3J0IHZhciBUZXh0RG9jdW1lbnRTYXZlUmVhc29uO1xuKGZ1bmN0aW9uIChUZXh0RG9jdW1lbnRTYXZlUmVhc29uKSB7XG4gICAgLyoqXG4gICAgICogTWFudWFsbHkgdHJpZ2dlcmVkLCBlLmcuIGJ5IHRoZSB1c2VyIHByZXNzaW5nIHNhdmUsIGJ5IHN0YXJ0aW5nIGRlYnVnZ2luZyxcbiAgICAgKiBvciBieSBhbiBBUEkgY2FsbC5cbiAgICAgKi9cbiAgICBUZXh0RG9jdW1lbnRTYXZlUmVhc29uLk1hbnVhbCA9IDE7XG4gICAgLyoqXG4gICAgICogQXV0b21hdGljIGFmdGVyIGEgZGVsYXkuXG4gICAgICovXG4gICAgVGV4dERvY3VtZW50U2F2ZVJlYXNvbi5BZnRlckRlbGF5ID0gMjtcbiAgICAvKipcbiAgICAgKiBXaGVuIHRoZSBlZGl0b3IgbG9zdCBmb2N1cy5cbiAgICAgKi9cbiAgICBUZXh0RG9jdW1lbnRTYXZlUmVhc29uLkZvY3VzT3V0ID0gMztcbn0pKFRleHREb2N1bWVudFNhdmVSZWFzb24gfHwgKFRleHREb2N1bWVudFNhdmVSZWFzb24gPSB7fSkpO1xudmFyIEZ1bGxUZXh0RG9jdW1lbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRnVsbFRleHREb2N1bWVudCh1cmksIGxhbmd1YWdlSWQsIHZlcnNpb24sIGNvbnRlbnQpIHtcbiAgICAgICAgdGhpcy5fdXJpID0gdXJpO1xuICAgICAgICB0aGlzLl9sYW5ndWFnZUlkID0gbGFuZ3VhZ2VJZDtcbiAgICAgICAgdGhpcy5fdmVyc2lvbiA9IHZlcnNpb247XG4gICAgICAgIHRoaXMuX2NvbnRlbnQgPSBjb250ZW50O1xuICAgICAgICB0aGlzLl9saW5lT2Zmc2V0cyA9IG51bGw7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShGdWxsVGV4dERvY3VtZW50LnByb3RvdHlwZSwgXCJ1cmlcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl91cmk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShGdWxsVGV4dERvY3VtZW50LnByb3RvdHlwZSwgXCJsYW5ndWFnZUlkXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbGFuZ3VhZ2VJZDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEZ1bGxUZXh0RG9jdW1lbnQucHJvdG90eXBlLCBcInZlcnNpb25cIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl92ZXJzaW9uO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBGdWxsVGV4dERvY3VtZW50LnByb3RvdHlwZS5nZXRUZXh0ID0gZnVuY3Rpb24gKHJhbmdlKSB7XG4gICAgICAgIGlmIChyYW5nZSkge1xuICAgICAgICAgICAgdmFyIHN0YXJ0ID0gdGhpcy5vZmZzZXRBdChyYW5nZS5zdGFydCk7XG4gICAgICAgICAgICB2YXIgZW5kID0gdGhpcy5vZmZzZXRBdChyYW5nZS5lbmQpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NvbnRlbnQuc3Vic3RyaW5nKHN0YXJ0LCBlbmQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9jb250ZW50O1xuICAgIH07XG4gICAgRnVsbFRleHREb2N1bWVudC5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKGV2ZW50LCB2ZXJzaW9uKSB7XG4gICAgICAgIHRoaXMuX2NvbnRlbnQgPSBldmVudC50ZXh0O1xuICAgICAgICB0aGlzLl92ZXJzaW9uID0gdmVyc2lvbjtcbiAgICAgICAgdGhpcy5fbGluZU9mZnNldHMgPSBudWxsO1xuICAgIH07XG4gICAgRnVsbFRleHREb2N1bWVudC5wcm90b3R5cGUuZ2V0TGluZU9mZnNldHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLl9saW5lT2Zmc2V0cyA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdmFyIGxpbmVPZmZzZXRzID0gW107XG4gICAgICAgICAgICB2YXIgdGV4dCA9IHRoaXMuX2NvbnRlbnQ7XG4gICAgICAgICAgICB2YXIgaXNMaW5lU3RhcnQgPSB0cnVlO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZXh0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzTGluZVN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgICAgIGxpbmVPZmZzZXRzLnB1c2goaSk7XG4gICAgICAgICAgICAgICAgICAgIGlzTGluZVN0YXJ0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBjaCA9IHRleHQuY2hhckF0KGkpO1xuICAgICAgICAgICAgICAgIGlzTGluZVN0YXJ0ID0gKGNoID09PSAnXFxyJyB8fCBjaCA9PT0gJ1xcbicpO1xuICAgICAgICAgICAgICAgIGlmIChjaCA9PT0gJ1xccicgJiYgaSArIDEgPCB0ZXh0Lmxlbmd0aCAmJiB0ZXh0LmNoYXJBdChpICsgMSkgPT09ICdcXG4nKSB7XG4gICAgICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXNMaW5lU3RhcnQgJiYgdGV4dC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgbGluZU9mZnNldHMucHVzaCh0ZXh0Lmxlbmd0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9saW5lT2Zmc2V0cyA9IGxpbmVPZmZzZXRzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9saW5lT2Zmc2V0cztcbiAgICB9O1xuICAgIEZ1bGxUZXh0RG9jdW1lbnQucHJvdG90eXBlLnBvc2l0aW9uQXQgPSBmdW5jdGlvbiAob2Zmc2V0KSB7XG4gICAgICAgIG9mZnNldCA9IE1hdGgubWF4KE1hdGgubWluKG9mZnNldCwgdGhpcy5fY29udGVudC5sZW5ndGgpLCAwKTtcbiAgICAgICAgdmFyIGxpbmVPZmZzZXRzID0gdGhpcy5nZXRMaW5lT2Zmc2V0cygpO1xuICAgICAgICB2YXIgbG93ID0gMCwgaGlnaCA9IGxpbmVPZmZzZXRzLmxlbmd0aDtcbiAgICAgICAgaWYgKGhpZ2ggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBQb3NpdGlvbi5jcmVhdGUoMCwgb2Zmc2V0KTtcbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAobG93IDwgaGlnaCkge1xuICAgICAgICAgICAgdmFyIG1pZCA9IE1hdGguZmxvb3IoKGxvdyArIGhpZ2gpIC8gMik7XG4gICAgICAgICAgICBpZiAobGluZU9mZnNldHNbbWlkXSA+IG9mZnNldCkge1xuICAgICAgICAgICAgICAgIGhpZ2ggPSBtaWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBsb3cgPSBtaWQgKyAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGxvdyBpcyB0aGUgbGVhc3QgeCBmb3Igd2hpY2ggdGhlIGxpbmUgb2Zmc2V0IGlzIGxhcmdlciB0aGFuIHRoZSBjdXJyZW50IG9mZnNldFxuICAgICAgICAvLyBvciBhcnJheS5sZW5ndGggaWYgbm8gbGluZSBvZmZzZXQgaXMgbGFyZ2VyIHRoYW4gdGhlIGN1cnJlbnQgb2Zmc2V0XG4gICAgICAgIHZhciBsaW5lID0gbG93IC0gMTtcbiAgICAgICAgcmV0dXJuIFBvc2l0aW9uLmNyZWF0ZShsaW5lLCBvZmZzZXQgLSBsaW5lT2Zmc2V0c1tsaW5lXSk7XG4gICAgfTtcbiAgICBGdWxsVGV4dERvY3VtZW50LnByb3RvdHlwZS5vZmZzZXRBdCA9IGZ1bmN0aW9uIChwb3NpdGlvbikge1xuICAgICAgICB2YXIgbGluZU9mZnNldHMgPSB0aGlzLmdldExpbmVPZmZzZXRzKCk7XG4gICAgICAgIGlmIChwb3NpdGlvbi5saW5lID49IGxpbmVPZmZzZXRzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NvbnRlbnQubGVuZ3RoO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHBvc2l0aW9uLmxpbmUgPCAwKSB7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbGluZU9mZnNldCA9IGxpbmVPZmZzZXRzW3Bvc2l0aW9uLmxpbmVdO1xuICAgICAgICB2YXIgbmV4dExpbmVPZmZzZXQgPSAocG9zaXRpb24ubGluZSArIDEgPCBsaW5lT2Zmc2V0cy5sZW5ndGgpID8gbGluZU9mZnNldHNbcG9zaXRpb24ubGluZSArIDFdIDogdGhpcy5fY29udGVudC5sZW5ndGg7XG4gICAgICAgIHJldHVybiBNYXRoLm1heChNYXRoLm1pbihsaW5lT2Zmc2V0ICsgcG9zaXRpb24uY2hhcmFjdGVyLCBuZXh0TGluZU9mZnNldCksIGxpbmVPZmZzZXQpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEZ1bGxUZXh0RG9jdW1lbnQucHJvdG90eXBlLCBcImxpbmVDb3VudFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TGluZU9mZnNldHMoKS5sZW5ndGg7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBGdWxsVGV4dERvY3VtZW50O1xufSgpKTtcbnZhciBJcztcbihmdW5jdGlvbiAoSXMpIHtcbiAgICB2YXIgdG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuICAgIGZ1bmN0aW9uIGRlZmluZWQodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSAhPT0gJ3VuZGVmaW5lZCc7XG4gICAgfVxuICAgIElzLmRlZmluZWQgPSBkZWZpbmVkO1xuICAgIGZ1bmN0aW9uIHVuZGVmaW5lZCh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJztcbiAgICB9XG4gICAgSXMudW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuICAgIGZ1bmN0aW9uIGJvb2xlYW4odmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlID09PSB0cnVlIHx8IHZhbHVlID09PSBmYWxzZTtcbiAgICB9XG4gICAgSXMuYm9vbGVhbiA9IGJvb2xlYW47XG4gICAgZnVuY3Rpb24gc3RyaW5nKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gJ1tvYmplY3QgU3RyaW5nXSc7XG4gICAgfVxuICAgIElzLnN0cmluZyA9IHN0cmluZztcbiAgICBmdW5jdGlvbiBudW1iZXIodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsdWUpID09PSAnW29iamVjdCBOdW1iZXJdJztcbiAgICB9XG4gICAgSXMubnVtYmVyID0gbnVtYmVyO1xuICAgIGZ1bmN0aW9uIGZ1bmModmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsdWUpID09PSAnW29iamVjdCBGdW5jdGlvbl0nO1xuICAgIH1cbiAgICBJcy5mdW5jID0gZnVuYztcbiAgICBmdW5jdGlvbiB0eXBlZEFycmF5KHZhbHVlLCBjaGVjaykge1xuICAgICAgICByZXR1cm4gQXJyYXkuaXNBcnJheSh2YWx1ZSkgJiYgdmFsdWUuZXZlcnkoY2hlY2spO1xuICAgIH1cbiAgICBJcy50eXBlZEFycmF5ID0gdHlwZWRBcnJheTtcbn0pKElzIHx8IChJcyA9IHt9KSk7XG4iLCIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbid1c2Ugc3RyaWN0Jztcbi8qKlxuICogQ3JlYXRlcyBhIEpTT04gc2Nhbm5lciBvbiB0aGUgZ2l2ZW4gdGV4dC5cbiAqIElmIGlnbm9yZVRyaXZpYSBpcyBzZXQsIHdoaXRlc3BhY2VzIG9yIGNvbW1lbnRzIGFyZSBpZ25vcmVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU2Nhbm5lcih0ZXh0LCBpZ25vcmVUcml2aWEpIHtcbiAgICBpZiAoaWdub3JlVHJpdmlhID09PSB2b2lkIDApIHsgaWdub3JlVHJpdmlhID0gZmFsc2U7IH1cbiAgICB2YXIgcG9zID0gMCwgbGVuID0gdGV4dC5sZW5ndGgsIHZhbHVlID0gJycsIHRva2VuT2Zmc2V0ID0gMCwgdG9rZW4gPSAxNiAvKiBVbmtub3duICovLCBzY2FuRXJyb3IgPSAwIC8qIE5vbmUgKi87XG4gICAgZnVuY3Rpb24gc2NhbkhleERpZ2l0cyhjb3VudCwgZXhhY3QpIHtcbiAgICAgICAgdmFyIGRpZ2l0cyA9IDA7XG4gICAgICAgIHZhciB2YWx1ZSA9IDA7XG4gICAgICAgIHdoaWxlIChkaWdpdHMgPCBjb3VudCB8fCAhZXhhY3QpIHtcbiAgICAgICAgICAgIHZhciBjaCA9IHRleHQuY2hhckNvZGVBdChwb3MpO1xuICAgICAgICAgICAgaWYgKGNoID49IDQ4IC8qIF8wICovICYmIGNoIDw9IDU3IC8qIF85ICovKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZSAqIDE2ICsgY2ggLSA0OCAvKiBfMCAqLztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoID49IDY1IC8qIEEgKi8gJiYgY2ggPD0gNzAgLyogRiAqLykge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gdmFsdWUgKiAxNiArIGNoIC0gNjUgLyogQSAqLyArIDEwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2ggPj0gOTcgLyogYSAqLyAmJiBjaCA8PSAxMDIgLyogZiAqLykge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gdmFsdWUgKiAxNiArIGNoIC0gOTcgLyogYSAqLyArIDEwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwb3MrKztcbiAgICAgICAgICAgIGRpZ2l0cysrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkaWdpdHMgPCBjb3VudCkge1xuICAgICAgICAgICAgdmFsdWUgPSAtMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNldFBvc2l0aW9uKG5ld1Bvc2l0aW9uKSB7XG4gICAgICAgIHBvcyA9IG5ld1Bvc2l0aW9uO1xuICAgICAgICB2YWx1ZSA9ICcnO1xuICAgICAgICB0b2tlbk9mZnNldCA9IDA7XG4gICAgICAgIHRva2VuID0gMTYgLyogVW5rbm93biAqLztcbiAgICAgICAgc2NhbkVycm9yID0gMCAvKiBOb25lICovO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzY2FuTnVtYmVyKCkge1xuICAgICAgICB2YXIgc3RhcnQgPSBwb3M7XG4gICAgICAgIGlmICh0ZXh0LmNoYXJDb2RlQXQocG9zKSA9PT0gNDggLyogXzAgKi8pIHtcbiAgICAgICAgICAgIHBvcysrO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcG9zKys7XG4gICAgICAgICAgICB3aGlsZSAocG9zIDwgdGV4dC5sZW5ndGggJiYgaXNEaWdpdCh0ZXh0LmNoYXJDb2RlQXQocG9zKSkpIHtcbiAgICAgICAgICAgICAgICBwb3MrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAocG9zIDwgdGV4dC5sZW5ndGggJiYgdGV4dC5jaGFyQ29kZUF0KHBvcykgPT09IDQ2IC8qIGRvdCAqLykge1xuICAgICAgICAgICAgcG9zKys7XG4gICAgICAgICAgICBpZiAocG9zIDwgdGV4dC5sZW5ndGggJiYgaXNEaWdpdCh0ZXh0LmNoYXJDb2RlQXQocG9zKSkpIHtcbiAgICAgICAgICAgICAgICBwb3MrKztcbiAgICAgICAgICAgICAgICB3aGlsZSAocG9zIDwgdGV4dC5sZW5ndGggJiYgaXNEaWdpdCh0ZXh0LmNoYXJDb2RlQXQocG9zKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcG9zKys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgc2NhbkVycm9yID0gMyAvKiBVbmV4cGVjdGVkRW5kT2ZOdW1iZXIgKi87XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRleHQuc3Vic3RyaW5nKHN0YXJ0LCBwb3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBlbmQgPSBwb3M7XG4gICAgICAgIGlmIChwb3MgPCB0ZXh0Lmxlbmd0aCAmJiAodGV4dC5jaGFyQ29kZUF0KHBvcykgPT09IDY5IC8qIEUgKi8gfHwgdGV4dC5jaGFyQ29kZUF0KHBvcykgPT09IDEwMSAvKiBlICovKSkge1xuICAgICAgICAgICAgcG9zKys7XG4gICAgICAgICAgICBpZiAocG9zIDwgdGV4dC5sZW5ndGggJiYgdGV4dC5jaGFyQ29kZUF0KHBvcykgPT09IDQzIC8qIHBsdXMgKi8gfHwgdGV4dC5jaGFyQ29kZUF0KHBvcykgPT09IDQ1IC8qIG1pbnVzICovKSB7XG4gICAgICAgICAgICAgICAgcG9zKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocG9zIDwgdGV4dC5sZW5ndGggJiYgaXNEaWdpdCh0ZXh0LmNoYXJDb2RlQXQocG9zKSkpIHtcbiAgICAgICAgICAgICAgICBwb3MrKztcbiAgICAgICAgICAgICAgICB3aGlsZSAocG9zIDwgdGV4dC5sZW5ndGggJiYgaXNEaWdpdCh0ZXh0LmNoYXJDb2RlQXQocG9zKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcG9zKys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVuZCA9IHBvcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHNjYW5FcnJvciA9IDMgLyogVW5leHBlY3RlZEVuZE9mTnVtYmVyICovO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0ZXh0LnN1YnN0cmluZyhzdGFydCwgZW5kKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gc2NhblN0cmluZygpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9ICcnLCBzdGFydCA9IHBvcztcbiAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgIGlmIChwb3MgPj0gbGVuKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ICs9IHRleHQuc3Vic3RyaW5nKHN0YXJ0LCBwb3MpO1xuICAgICAgICAgICAgICAgIHNjYW5FcnJvciA9IDIgLyogVW5leHBlY3RlZEVuZE9mU3RyaW5nICovO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGNoID0gdGV4dC5jaGFyQ29kZUF0KHBvcyk7XG4gICAgICAgICAgICBpZiAoY2ggPT09IDM0IC8qIGRvdWJsZVF1b3RlICovKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ICs9IHRleHQuc3Vic3RyaW5nKHN0YXJ0LCBwb3MpO1xuICAgICAgICAgICAgICAgIHBvcysrO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNoID09PSA5MiAvKiBiYWNrc2xhc2ggKi8pIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgKz0gdGV4dC5zdWJzdHJpbmcoc3RhcnQsIHBvcyk7XG4gICAgICAgICAgICAgICAgcG9zKys7XG4gICAgICAgICAgICAgICAgaWYgKHBvcyA+PSBsZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgc2NhbkVycm9yID0gMiAvKiBVbmV4cGVjdGVkRW5kT2ZTdHJpbmcgKi87XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjaCA9IHRleHQuY2hhckNvZGVBdChwb3MrKyk7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChjaCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDM0IC8qIGRvdWJsZVF1b3RlICovOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9ICdcXFwiJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDkyIC8qIGJhY2tzbGFzaCAqLzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSAnXFxcXCc7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0NyAvKiBzbGFzaCAqLzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSAnLyc7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA5OCAvKiBiICovOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9ICdcXGInO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTAyIC8qIGYgKi86XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gJ1xcZic7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxMTAgLyogbiAqLzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSAnXFxuJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDExNCAvKiByICovOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9ICdcXHInO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTE2IC8qIHQgKi86XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gJ1xcdCc7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxMTcgLyogdSAqLzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjaF8xID0gc2NhbkhleERpZ2l0cyg0LCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaF8xID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShjaF8xKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjYW5FcnJvciA9IDQgLyogSW52YWxpZFVuaWNvZGUgKi87XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjYW5FcnJvciA9IDUgLyogSW52YWxpZEVzY2FwZUNoYXJhY3RlciAqLztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc3RhcnQgPSBwb3M7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY2ggPj0gMCAmJiBjaCA8PSAweDFmKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzTGluZUJyZWFrKGNoKSkge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gdGV4dC5zdWJzdHJpbmcoc3RhcnQsIHBvcyk7XG4gICAgICAgICAgICAgICAgICAgIHNjYW5FcnJvciA9IDIgLyogVW5leHBlY3RlZEVuZE9mU3RyaW5nICovO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNjYW5FcnJvciA9IDYgLyogSW52YWxpZENoYXJhY3RlciAqLztcbiAgICAgICAgICAgICAgICAgICAgLy8gbWFyayBhcyBlcnJvciBidXQgY29udGludWUgd2l0aCBzdHJpbmdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwb3MrKztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBmdW5jdGlvbiBzY2FuTmV4dCgpIHtcbiAgICAgICAgdmFsdWUgPSAnJztcbiAgICAgICAgc2NhbkVycm9yID0gMCAvKiBOb25lICovO1xuICAgICAgICB0b2tlbk9mZnNldCA9IHBvcztcbiAgICAgICAgaWYgKHBvcyA+PSBsZW4pIHtcbiAgICAgICAgICAgIC8vIGF0IHRoZSBlbmRcbiAgICAgICAgICAgIHRva2VuT2Zmc2V0ID0gbGVuO1xuICAgICAgICAgICAgcmV0dXJuIHRva2VuID0gMTcgLyogRU9GICovO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjb2RlID0gdGV4dC5jaGFyQ29kZUF0KHBvcyk7XG4gICAgICAgIC8vIHRyaXZpYTogd2hpdGVzcGFjZVxuICAgICAgICBpZiAoaXNXaGl0ZVNwYWNlKGNvZGUpKSB7XG4gICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgcG9zKys7XG4gICAgICAgICAgICAgICAgdmFsdWUgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShjb2RlKTtcbiAgICAgICAgICAgICAgICBjb2RlID0gdGV4dC5jaGFyQ29kZUF0KHBvcyk7XG4gICAgICAgICAgICB9IHdoaWxlIChpc1doaXRlU3BhY2UoY29kZSkpO1xuICAgICAgICAgICAgcmV0dXJuIHRva2VuID0gMTUgLyogVHJpdmlhICovO1xuICAgICAgICB9XG4gICAgICAgIC8vIHRyaXZpYTogbmV3bGluZXNcbiAgICAgICAgaWYgKGlzTGluZUJyZWFrKGNvZGUpKSB7XG4gICAgICAgICAgICBwb3MrKztcbiAgICAgICAgICAgIHZhbHVlICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoY29kZSk7XG4gICAgICAgICAgICBpZiAoY29kZSA9PT0gMTMgLyogY2FycmlhZ2VSZXR1cm4gKi8gJiYgdGV4dC5jaGFyQ29kZUF0KHBvcykgPT09IDEwIC8qIGxpbmVGZWVkICovKSB7XG4gICAgICAgICAgICAgICAgcG9zKys7XG4gICAgICAgICAgICAgICAgdmFsdWUgKz0gJ1xcbic7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdG9rZW4gPSAxNCAvKiBMaW5lQnJlYWtUcml2aWEgKi87XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoIChjb2RlKSB7XG4gICAgICAgICAgICAvLyB0b2tlbnM6IFtde306LFxuICAgICAgICAgICAgY2FzZSAxMjMgLyogb3BlbkJyYWNlICovOlxuICAgICAgICAgICAgICAgIHBvcysrO1xuICAgICAgICAgICAgICAgIHJldHVybiB0b2tlbiA9IDEgLyogT3BlbkJyYWNlVG9rZW4gKi87XG4gICAgICAgICAgICBjYXNlIDEyNSAvKiBjbG9zZUJyYWNlICovOlxuICAgICAgICAgICAgICAgIHBvcysrO1xuICAgICAgICAgICAgICAgIHJldHVybiB0b2tlbiA9IDIgLyogQ2xvc2VCcmFjZVRva2VuICovO1xuICAgICAgICAgICAgY2FzZSA5MSAvKiBvcGVuQnJhY2tldCAqLzpcbiAgICAgICAgICAgICAgICBwb3MrKztcbiAgICAgICAgICAgICAgICByZXR1cm4gdG9rZW4gPSAzIC8qIE9wZW5CcmFja2V0VG9rZW4gKi87XG4gICAgICAgICAgICBjYXNlIDkzIC8qIGNsb3NlQnJhY2tldCAqLzpcbiAgICAgICAgICAgICAgICBwb3MrKztcbiAgICAgICAgICAgICAgICByZXR1cm4gdG9rZW4gPSA0IC8qIENsb3NlQnJhY2tldFRva2VuICovO1xuICAgICAgICAgICAgY2FzZSA1OCAvKiBjb2xvbiAqLzpcbiAgICAgICAgICAgICAgICBwb3MrKztcbiAgICAgICAgICAgICAgICByZXR1cm4gdG9rZW4gPSA2IC8qIENvbG9uVG9rZW4gKi87XG4gICAgICAgICAgICBjYXNlIDQ0IC8qIGNvbW1hICovOlxuICAgICAgICAgICAgICAgIHBvcysrO1xuICAgICAgICAgICAgICAgIHJldHVybiB0b2tlbiA9IDUgLyogQ29tbWFUb2tlbiAqLztcbiAgICAgICAgICAgIC8vIHN0cmluZ3NcbiAgICAgICAgICAgIGNhc2UgMzQgLyogZG91YmxlUXVvdGUgKi86XG4gICAgICAgICAgICAgICAgcG9zKys7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSBzY2FuU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRva2VuID0gMTAgLyogU3RyaW5nTGl0ZXJhbCAqLztcbiAgICAgICAgICAgIC8vIGNvbW1lbnRzXG4gICAgICAgICAgICBjYXNlIDQ3IC8qIHNsYXNoICovOlxuICAgICAgICAgICAgICAgIHZhciBzdGFydCA9IHBvcyAtIDE7XG4gICAgICAgICAgICAgICAgLy8gU2luZ2xlLWxpbmUgY29tbWVudFxuICAgICAgICAgICAgICAgIGlmICh0ZXh0LmNoYXJDb2RlQXQocG9zICsgMSkgPT09IDQ3IC8qIHNsYXNoICovKSB7XG4gICAgICAgICAgICAgICAgICAgIHBvcyArPSAyO1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAocG9zIDwgbGVuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNMaW5lQnJlYWsodGV4dC5jaGFyQ29kZUF0KHBvcykpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBwb3MrKztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHRleHQuc3Vic3RyaW5nKHN0YXJ0LCBwb3MpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdG9rZW4gPSAxMiAvKiBMaW5lQ29tbWVudFRyaXZpYSAqLztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gTXVsdGktbGluZSBjb21tZW50XG4gICAgICAgICAgICAgICAgaWYgKHRleHQuY2hhckNvZGVBdChwb3MgKyAxKSA9PT0gNDIgLyogYXN0ZXJpc2sgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgcG9zICs9IDI7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjb21tZW50Q2xvc2VkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChwb3MgPCBsZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjaCA9IHRleHQuY2hhckNvZGVBdChwb3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoID09PSA0MiAvKiBhc3RlcmlzayAqLyAmJiAocG9zICsgMSA8IGxlbikgJiYgdGV4dC5jaGFyQ29kZUF0KHBvcyArIDEpID09PSA0NyAvKiBzbGFzaCAqLykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvcyArPSAyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1lbnRDbG9zZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zKys7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjb21tZW50Q2xvc2VkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwb3MrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjYW5FcnJvciA9IDEgLyogVW5leHBlY3RlZEVuZE9mQ29tbWVudCAqLztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHRleHQuc3Vic3RyaW5nKHN0YXJ0LCBwb3MpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdG9rZW4gPSAxMyAvKiBCbG9ja0NvbW1lbnRUcml2aWEgKi87XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGp1c3QgYSBzaW5nbGUgc2xhc2hcbiAgICAgICAgICAgICAgICB2YWx1ZSArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGNvZGUpO1xuICAgICAgICAgICAgICAgIHBvcysrO1xuICAgICAgICAgICAgICAgIHJldHVybiB0b2tlbiA9IDE2IC8qIFVua25vd24gKi87XG4gICAgICAgICAgICAvLyBudW1iZXJzXG4gICAgICAgICAgICBjYXNlIDQ1IC8qIG1pbnVzICovOlxuICAgICAgICAgICAgICAgIHZhbHVlICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoY29kZSk7XG4gICAgICAgICAgICAgICAgcG9zKys7XG4gICAgICAgICAgICAgICAgaWYgKHBvcyA9PT0gbGVuIHx8ICFpc0RpZ2l0KHRleHQuY2hhckNvZGVBdChwb3MpKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdG9rZW4gPSAxNiAvKiBVbmtub3duICovO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGZvdW5kIGEgbWludXMsIGZvbGxvd2VkIGJ5IGEgbnVtYmVyIHNvXG4gICAgICAgICAgICAvLyB3ZSBmYWxsIHRocm91Z2ggdG8gcHJvY2VlZCB3aXRoIHNjYW5uaW5nXG4gICAgICAgICAgICAvLyBudW1iZXJzXG4gICAgICAgICAgICBjYXNlIDQ4IC8qIF8wICovOlxuICAgICAgICAgICAgY2FzZSA0OSAvKiBfMSAqLzpcbiAgICAgICAgICAgIGNhc2UgNTAgLyogXzIgKi86XG4gICAgICAgICAgICBjYXNlIDUxIC8qIF8zICovOlxuICAgICAgICAgICAgY2FzZSA1MiAvKiBfNCAqLzpcbiAgICAgICAgICAgIGNhc2UgNTMgLyogXzUgKi86XG4gICAgICAgICAgICBjYXNlIDU0IC8qIF82ICovOlxuICAgICAgICAgICAgY2FzZSA1NSAvKiBfNyAqLzpcbiAgICAgICAgICAgIGNhc2UgNTYgLyogXzggKi86XG4gICAgICAgICAgICBjYXNlIDU3IC8qIF85ICovOlxuICAgICAgICAgICAgICAgIHZhbHVlICs9IHNjYW5OdW1iZXIoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdG9rZW4gPSAxMSAvKiBOdW1lcmljTGl0ZXJhbCAqLztcbiAgICAgICAgICAgIC8vIGxpdGVyYWxzIGFuZCB1bmtub3duIHN5bWJvbHNcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgLy8gaXMgYSBsaXRlcmFsPyBSZWFkIHRoZSBmdWxsIHdvcmQuXG4gICAgICAgICAgICAgICAgd2hpbGUgKHBvcyA8IGxlbiAmJiBpc1Vua25vd25Db250ZW50Q2hhcmFjdGVyKGNvZGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHBvcysrO1xuICAgICAgICAgICAgICAgICAgICBjb2RlID0gdGV4dC5jaGFyQ29kZUF0KHBvcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0b2tlbk9mZnNldCAhPT0gcG9zKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gdGV4dC5zdWJzdHJpbmcodG9rZW5PZmZzZXQsIHBvcyk7XG4gICAgICAgICAgICAgICAgICAgIC8vIGtleXdvcmRzOiB0cnVlLCBmYWxzZSwgbnVsbFxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICd0cnVlJzogcmV0dXJuIHRva2VuID0gOCAvKiBUcnVlS2V5d29yZCAqLztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2ZhbHNlJzogcmV0dXJuIHRva2VuID0gOSAvKiBGYWxzZUtleXdvcmQgKi87XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdudWxsJzogcmV0dXJuIHRva2VuID0gNyAvKiBOdWxsS2V5d29yZCAqLztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdG9rZW4gPSAxNiAvKiBVbmtub3duICovO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBzb21lXG4gICAgICAgICAgICAgICAgdmFsdWUgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShjb2RlKTtcbiAgICAgICAgICAgICAgICBwb3MrKztcbiAgICAgICAgICAgICAgICByZXR1cm4gdG9rZW4gPSAxNiAvKiBVbmtub3duICovO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGlzVW5rbm93bkNvbnRlbnRDaGFyYWN0ZXIoY29kZSkge1xuICAgICAgICBpZiAoaXNXaGl0ZVNwYWNlKGNvZGUpIHx8IGlzTGluZUJyZWFrKGNvZGUpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoIChjb2RlKSB7XG4gICAgICAgICAgICBjYXNlIDEyNSAvKiBjbG9zZUJyYWNlICovOlxuICAgICAgICAgICAgY2FzZSA5MyAvKiBjbG9zZUJyYWNrZXQgKi86XG4gICAgICAgICAgICBjYXNlIDEyMyAvKiBvcGVuQnJhY2UgKi86XG4gICAgICAgICAgICBjYXNlIDkxIC8qIG9wZW5CcmFja2V0ICovOlxuICAgICAgICAgICAgY2FzZSAzNCAvKiBkb3VibGVRdW90ZSAqLzpcbiAgICAgICAgICAgIGNhc2UgNTggLyogY29sb24gKi86XG4gICAgICAgICAgICBjYXNlIDQ0IC8qIGNvbW1hICovOlxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gc2Nhbk5leHROb25Ucml2aWEoKSB7XG4gICAgICAgIHZhciByZXN1bHQ7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHNjYW5OZXh0KCk7XG4gICAgICAgIH0gd2hpbGUgKHJlc3VsdCA+PSAxMiAvKiBMaW5lQ29tbWVudFRyaXZpYSAqLyAmJiByZXN1bHQgPD0gMTUgLyogVHJpdmlhICovKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc2V0UG9zaXRpb246IHNldFBvc2l0aW9uLFxuICAgICAgICBnZXRQb3NpdGlvbjogZnVuY3Rpb24gKCkgeyByZXR1cm4gcG9zOyB9LFxuICAgICAgICBzY2FuOiBpZ25vcmVUcml2aWEgPyBzY2FuTmV4dE5vblRyaXZpYSA6IHNjYW5OZXh0LFxuICAgICAgICBnZXRUb2tlbjogZnVuY3Rpb24gKCkgeyByZXR1cm4gdG9rZW47IH0sXG4gICAgICAgIGdldFRva2VuVmFsdWU6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHZhbHVlOyB9LFxuICAgICAgICBnZXRUb2tlbk9mZnNldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdG9rZW5PZmZzZXQ7IH0sXG4gICAgICAgIGdldFRva2VuTGVuZ3RoOiBmdW5jdGlvbiAoKSB7IHJldHVybiBwb3MgLSB0b2tlbk9mZnNldDsgfSxcbiAgICAgICAgZ2V0VG9rZW5FcnJvcjogZnVuY3Rpb24gKCkgeyByZXR1cm4gc2NhbkVycm9yOyB9XG4gICAgfTtcbn1cbmZ1bmN0aW9uIGlzV2hpdGVTcGFjZShjaCkge1xuICAgIHJldHVybiBjaCA9PT0gMzIgLyogc3BhY2UgKi8gfHwgY2ggPT09IDkgLyogdGFiICovIHx8IGNoID09PSAxMSAvKiB2ZXJ0aWNhbFRhYiAqLyB8fCBjaCA9PT0gMTIgLyogZm9ybUZlZWQgKi8gfHxcbiAgICAgICAgY2ggPT09IDE2MCAvKiBub25CcmVha2luZ1NwYWNlICovIHx8IGNoID09PSA1NzYwIC8qIG9naGFtICovIHx8IGNoID49IDgxOTIgLyogZW5RdWFkICovICYmIGNoIDw9IDgyMDMgLyogemVyb1dpZHRoU3BhY2UgKi8gfHxcbiAgICAgICAgY2ggPT09IDgyMzkgLyogbmFycm93Tm9CcmVha1NwYWNlICovIHx8IGNoID09PSA4Mjg3IC8qIG1hdGhlbWF0aWNhbFNwYWNlICovIHx8IGNoID09PSAxMjI4OCAvKiBpZGVvZ3JhcGhpY1NwYWNlICovIHx8IGNoID09PSA2NTI3OSAvKiBieXRlT3JkZXJNYXJrICovO1xufVxuZnVuY3Rpb24gaXNMaW5lQnJlYWsoY2gpIHtcbiAgICByZXR1cm4gY2ggPT09IDEwIC8qIGxpbmVGZWVkICovIHx8IGNoID09PSAxMyAvKiBjYXJyaWFnZVJldHVybiAqLyB8fCBjaCA9PT0gODIzMiAvKiBsaW5lU2VwYXJhdG9yICovIHx8IGNoID09PSA4MjMzIC8qIHBhcmFncmFwaFNlcGFyYXRvciAqLztcbn1cbmZ1bmN0aW9uIGlzRGlnaXQoY2gpIHtcbiAgICByZXR1cm4gY2ggPj0gNDggLyogXzAgKi8gJiYgY2ggPD0gNTcgLyogXzkgKi87XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zY2FubmVyLmpzLm1hcCIsIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuJ3VzZSBzdHJpY3QnO1xuaW1wb3J0IHsgY3JlYXRlU2Nhbm5lciB9IGZyb20gJy4vc2Nhbm5lci5qcyc7XG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0KGRvY3VtZW50VGV4dCwgcmFuZ2UsIG9wdGlvbnMpIHtcbiAgICB2YXIgaW5pdGlhbEluZGVudExldmVsO1xuICAgIHZhciBmb3JtYXRUZXh0O1xuICAgIHZhciBmb3JtYXRUZXh0U3RhcnQ7XG4gICAgdmFyIHJhbmdlU3RhcnQ7XG4gICAgdmFyIHJhbmdlRW5kO1xuICAgIGlmIChyYW5nZSkge1xuICAgICAgICByYW5nZVN0YXJ0ID0gcmFuZ2Uub2Zmc2V0O1xuICAgICAgICByYW5nZUVuZCA9IHJhbmdlU3RhcnQgKyByYW5nZS5sZW5ndGg7XG4gICAgICAgIGZvcm1hdFRleHRTdGFydCA9IHJhbmdlU3RhcnQ7XG4gICAgICAgIHdoaWxlIChmb3JtYXRUZXh0U3RhcnQgPiAwICYmICFpc0VPTChkb2N1bWVudFRleHQsIGZvcm1hdFRleHRTdGFydCAtIDEpKSB7XG4gICAgICAgICAgICBmb3JtYXRUZXh0U3RhcnQtLTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZW5kT2Zmc2V0ID0gcmFuZ2VFbmQ7XG4gICAgICAgIHdoaWxlIChlbmRPZmZzZXQgPCBkb2N1bWVudFRleHQubGVuZ3RoICYmICFpc0VPTChkb2N1bWVudFRleHQsIGVuZE9mZnNldCkpIHtcbiAgICAgICAgICAgIGVuZE9mZnNldCsrO1xuICAgICAgICB9XG4gICAgICAgIGZvcm1hdFRleHQgPSBkb2N1bWVudFRleHQuc3Vic3RyaW5nKGZvcm1hdFRleHRTdGFydCwgZW5kT2Zmc2V0KTtcbiAgICAgICAgaW5pdGlhbEluZGVudExldmVsID0gY29tcHV0ZUluZGVudExldmVsKGZvcm1hdFRleHQsIDAsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZm9ybWF0VGV4dCA9IGRvY3VtZW50VGV4dDtcbiAgICAgICAgaW5pdGlhbEluZGVudExldmVsID0gMDtcbiAgICAgICAgZm9ybWF0VGV4dFN0YXJ0ID0gMDtcbiAgICAgICAgcmFuZ2VTdGFydCA9IDA7XG4gICAgICAgIHJhbmdlRW5kID0gZG9jdW1lbnRUZXh0Lmxlbmd0aDtcbiAgICB9XG4gICAgdmFyIGVvbCA9IGdldEVPTChvcHRpb25zLCBkb2N1bWVudFRleHQpO1xuICAgIHZhciBsaW5lQnJlYWsgPSBmYWxzZTtcbiAgICB2YXIgaW5kZW50TGV2ZWwgPSAwO1xuICAgIHZhciBpbmRlbnRWYWx1ZTtcbiAgICBpZiAob3B0aW9ucy5pbnNlcnRTcGFjZXMpIHtcbiAgICAgICAgaW5kZW50VmFsdWUgPSByZXBlYXQoJyAnLCBvcHRpb25zLnRhYlNpemUgfHwgNCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpbmRlbnRWYWx1ZSA9ICdcXHQnO1xuICAgIH1cbiAgICB2YXIgc2Nhbm5lciA9IGNyZWF0ZVNjYW5uZXIoZm9ybWF0VGV4dCwgZmFsc2UpO1xuICAgIHZhciBoYXNFcnJvciA9IGZhbHNlO1xuICAgIGZ1bmN0aW9uIG5ld0xpbmVBbmRJbmRlbnQoKSB7XG4gICAgICAgIHJldHVybiBlb2wgKyByZXBlYXQoaW5kZW50VmFsdWUsIGluaXRpYWxJbmRlbnRMZXZlbCArIGluZGVudExldmVsKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gc2Nhbk5leHQoKSB7XG4gICAgICAgIHZhciB0b2tlbiA9IHNjYW5uZXIuc2NhbigpO1xuICAgICAgICBsaW5lQnJlYWsgPSBmYWxzZTtcbiAgICAgICAgd2hpbGUgKHRva2VuID09PSAxNSAvKiBUcml2aWEgKi8gfHwgdG9rZW4gPT09IDE0IC8qIExpbmVCcmVha1RyaXZpYSAqLykge1xuICAgICAgICAgICAgbGluZUJyZWFrID0gbGluZUJyZWFrIHx8ICh0b2tlbiA9PT0gMTQgLyogTGluZUJyZWFrVHJpdmlhICovKTtcbiAgICAgICAgICAgIHRva2VuID0gc2Nhbm5lci5zY2FuKCk7XG4gICAgICAgIH1cbiAgICAgICAgaGFzRXJyb3IgPSB0b2tlbiA9PT0gMTYgLyogVW5rbm93biAqLyB8fCBzY2FubmVyLmdldFRva2VuRXJyb3IoKSAhPT0gMCAvKiBOb25lICovO1xuICAgICAgICByZXR1cm4gdG9rZW47XG4gICAgfVxuICAgIHZhciBlZGl0T3BlcmF0aW9ucyA9IFtdO1xuICAgIGZ1bmN0aW9uIGFkZEVkaXQodGV4dCwgc3RhcnRPZmZzZXQsIGVuZE9mZnNldCkge1xuICAgICAgICBpZiAoIWhhc0Vycm9yICYmIHN0YXJ0T2Zmc2V0IDwgcmFuZ2VFbmQgJiYgZW5kT2Zmc2V0ID4gcmFuZ2VTdGFydCAmJiBkb2N1bWVudFRleHQuc3Vic3RyaW5nKHN0YXJ0T2Zmc2V0LCBlbmRPZmZzZXQpICE9PSB0ZXh0KSB7XG4gICAgICAgICAgICBlZGl0T3BlcmF0aW9ucy5wdXNoKHsgb2Zmc2V0OiBzdGFydE9mZnNldCwgbGVuZ3RoOiBlbmRPZmZzZXQgLSBzdGFydE9mZnNldCwgY29udGVudDogdGV4dCB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB2YXIgZmlyc3RUb2tlbiA9IHNjYW5OZXh0KCk7XG4gICAgaWYgKGZpcnN0VG9rZW4gIT09IDE3IC8qIEVPRiAqLykge1xuICAgICAgICB2YXIgZmlyc3RUb2tlblN0YXJ0ID0gc2Nhbm5lci5nZXRUb2tlbk9mZnNldCgpICsgZm9ybWF0VGV4dFN0YXJ0O1xuICAgICAgICB2YXIgaW5pdGlhbEluZGVudCA9IHJlcGVhdChpbmRlbnRWYWx1ZSwgaW5pdGlhbEluZGVudExldmVsKTtcbiAgICAgICAgYWRkRWRpdChpbml0aWFsSW5kZW50LCBmb3JtYXRUZXh0U3RhcnQsIGZpcnN0VG9rZW5TdGFydCk7XG4gICAgfVxuICAgIHdoaWxlIChmaXJzdFRva2VuICE9PSAxNyAvKiBFT0YgKi8pIHtcbiAgICAgICAgdmFyIGZpcnN0VG9rZW5FbmQgPSBzY2FubmVyLmdldFRva2VuT2Zmc2V0KCkgKyBzY2FubmVyLmdldFRva2VuTGVuZ3RoKCkgKyBmb3JtYXRUZXh0U3RhcnQ7XG4gICAgICAgIHZhciBzZWNvbmRUb2tlbiA9IHNjYW5OZXh0KCk7XG4gICAgICAgIHZhciByZXBsYWNlQ29udGVudCA9ICcnO1xuICAgICAgICB3aGlsZSAoIWxpbmVCcmVhayAmJiAoc2Vjb25kVG9rZW4gPT09IDEyIC8qIExpbmVDb21tZW50VHJpdmlhICovIHx8IHNlY29uZFRva2VuID09PSAxMyAvKiBCbG9ja0NvbW1lbnRUcml2aWEgKi8pKSB7XG4gICAgICAgICAgICAvLyBjb21tZW50cyBvbiB0aGUgc2FtZSBsaW5lOiBrZWVwIHRoZW0gb24gdGhlIHNhbWUgbGluZSwgYnV0IGlnbm9yZSB0aGVtIG90aGVyd2lzZVxuICAgICAgICAgICAgdmFyIGNvbW1lbnRUb2tlblN0YXJ0ID0gc2Nhbm5lci5nZXRUb2tlbk9mZnNldCgpICsgZm9ybWF0VGV4dFN0YXJ0O1xuICAgICAgICAgICAgYWRkRWRpdCgnICcsIGZpcnN0VG9rZW5FbmQsIGNvbW1lbnRUb2tlblN0YXJ0KTtcbiAgICAgICAgICAgIGZpcnN0VG9rZW5FbmQgPSBzY2FubmVyLmdldFRva2VuT2Zmc2V0KCkgKyBzY2FubmVyLmdldFRva2VuTGVuZ3RoKCkgKyBmb3JtYXRUZXh0U3RhcnQ7XG4gICAgICAgICAgICByZXBsYWNlQ29udGVudCA9IHNlY29uZFRva2VuID09PSAxMiAvKiBMaW5lQ29tbWVudFRyaXZpYSAqLyA/IG5ld0xpbmVBbmRJbmRlbnQoKSA6ICcnO1xuICAgICAgICAgICAgc2Vjb25kVG9rZW4gPSBzY2FuTmV4dCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzZWNvbmRUb2tlbiA9PT0gMiAvKiBDbG9zZUJyYWNlVG9rZW4gKi8pIHtcbiAgICAgICAgICAgIGlmIChmaXJzdFRva2VuICE9PSAxIC8qIE9wZW5CcmFjZVRva2VuICovKSB7XG4gICAgICAgICAgICAgICAgaW5kZW50TGV2ZWwtLTtcbiAgICAgICAgICAgICAgICByZXBsYWNlQ29udGVudCA9IG5ld0xpbmVBbmRJbmRlbnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzZWNvbmRUb2tlbiA9PT0gNCAvKiBDbG9zZUJyYWNrZXRUb2tlbiAqLykge1xuICAgICAgICAgICAgaWYgKGZpcnN0VG9rZW4gIT09IDMgLyogT3BlbkJyYWNrZXRUb2tlbiAqLykge1xuICAgICAgICAgICAgICAgIGluZGVudExldmVsLS07XG4gICAgICAgICAgICAgICAgcmVwbGFjZUNvbnRlbnQgPSBuZXdMaW5lQW5kSW5kZW50KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzd2l0Y2ggKGZpcnN0VG9rZW4pIHtcbiAgICAgICAgICAgICAgICBjYXNlIDMgLyogT3BlbkJyYWNrZXRUb2tlbiAqLzpcbiAgICAgICAgICAgICAgICBjYXNlIDEgLyogT3BlbkJyYWNlVG9rZW4gKi86XG4gICAgICAgICAgICAgICAgICAgIGluZGVudExldmVsKys7XG4gICAgICAgICAgICAgICAgICAgIHJlcGxhY2VDb250ZW50ID0gbmV3TGluZUFuZEluZGVudCgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDUgLyogQ29tbWFUb2tlbiAqLzpcbiAgICAgICAgICAgICAgICBjYXNlIDEyIC8qIExpbmVDb21tZW50VHJpdmlhICovOlxuICAgICAgICAgICAgICAgICAgICByZXBsYWNlQ29udGVudCA9IG5ld0xpbmVBbmRJbmRlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAxMyAvKiBCbG9ja0NvbW1lbnRUcml2aWEgKi86XG4gICAgICAgICAgICAgICAgICAgIGlmIChsaW5lQnJlYWspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcGxhY2VDb250ZW50ID0gbmV3TGluZUFuZEluZGVudCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc3ltYm9sIGZvbGxvd2luZyBjb21tZW50IG9uIHRoZSBzYW1lIGxpbmU6IGtlZXAgb24gc2FtZSBsaW5lLCBzZXBhcmF0ZSB3aXRoICcgJ1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVwbGFjZUNvbnRlbnQgPSAnICc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA2IC8qIENvbG9uVG9rZW4gKi86XG4gICAgICAgICAgICAgICAgICAgIHJlcGxhY2VDb250ZW50ID0gJyAnO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDEwIC8qIFN0cmluZ0xpdGVyYWwgKi86XG4gICAgICAgICAgICAgICAgICAgIGlmIChzZWNvbmRUb2tlbiA9PT0gNiAvKiBDb2xvblRva2VuICovKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXBsYWNlQ29udGVudCA9ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBmYWxsIHRocm91Z2hcbiAgICAgICAgICAgICAgICBjYXNlIDcgLyogTnVsbEtleXdvcmQgKi86XG4gICAgICAgICAgICAgICAgY2FzZSA4IC8qIFRydWVLZXl3b3JkICovOlxuICAgICAgICAgICAgICAgIGNhc2UgOSAvKiBGYWxzZUtleXdvcmQgKi86XG4gICAgICAgICAgICAgICAgY2FzZSAxMSAvKiBOdW1lcmljTGl0ZXJhbCAqLzpcbiAgICAgICAgICAgICAgICBjYXNlIDIgLyogQ2xvc2VCcmFjZVRva2VuICovOlxuICAgICAgICAgICAgICAgIGNhc2UgNCAvKiBDbG9zZUJyYWNrZXRUb2tlbiAqLzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlY29uZFRva2VuID09PSAxMiAvKiBMaW5lQ29tbWVudFRyaXZpYSAqLyB8fCBzZWNvbmRUb2tlbiA9PT0gMTMgLyogQmxvY2tDb21tZW50VHJpdmlhICovKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXBsYWNlQ29udGVudCA9ICcgJztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzZWNvbmRUb2tlbiAhPT0gNSAvKiBDb21tYVRva2VuICovICYmIHNlY29uZFRva2VuICE9PSAxNyAvKiBFT0YgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDE2IC8qIFVua25vd24gKi86XG4gICAgICAgICAgICAgICAgICAgIGhhc0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobGluZUJyZWFrICYmIChzZWNvbmRUb2tlbiA9PT0gMTIgLyogTGluZUNvbW1lbnRUcml2aWEgKi8gfHwgc2Vjb25kVG9rZW4gPT09IDEzIC8qIEJsb2NrQ29tbWVudFRyaXZpYSAqLykpIHtcbiAgICAgICAgICAgICAgICByZXBsYWNlQ29udGVudCA9IG5ld0xpbmVBbmRJbmRlbnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgc2Vjb25kVG9rZW5TdGFydCA9IHNjYW5uZXIuZ2V0VG9rZW5PZmZzZXQoKSArIGZvcm1hdFRleHRTdGFydDtcbiAgICAgICAgYWRkRWRpdChyZXBsYWNlQ29udGVudCwgZmlyc3RUb2tlbkVuZCwgc2Vjb25kVG9rZW5TdGFydCk7XG4gICAgICAgIGZpcnN0VG9rZW4gPSBzZWNvbmRUb2tlbjtcbiAgICB9XG4gICAgcmV0dXJuIGVkaXRPcGVyYXRpb25zO1xufVxuZnVuY3Rpb24gcmVwZWF0KHMsIGNvdW50KSB7XG4gICAgdmFyIHJlc3VsdCA9ICcnO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xuICAgICAgICByZXN1bHQgKz0gcztcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIGNvbXB1dGVJbmRlbnRMZXZlbChjb250ZW50LCBvZmZzZXQsIG9wdGlvbnMpIHtcbiAgICB2YXIgaSA9IDA7XG4gICAgdmFyIG5DaGFycyA9IDA7XG4gICAgdmFyIHRhYlNpemUgPSBvcHRpb25zLnRhYlNpemUgfHwgNDtcbiAgICB3aGlsZSAoaSA8IGNvbnRlbnQubGVuZ3RoKSB7XG4gICAgICAgIHZhciBjaCA9IGNvbnRlbnQuY2hhckF0KGkpO1xuICAgICAgICBpZiAoY2ggPT09ICcgJykge1xuICAgICAgICAgICAgbkNoYXJzKys7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY2ggPT09ICdcXHQnKSB7XG4gICAgICAgICAgICBuQ2hhcnMgKz0gdGFiU2l6ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGkrKztcbiAgICB9XG4gICAgcmV0dXJuIE1hdGguZmxvb3IobkNoYXJzIC8gdGFiU2l6ZSk7XG59XG5mdW5jdGlvbiBnZXRFT0wob3B0aW9ucywgdGV4dCkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGV4dC5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgY2ggPSB0ZXh0LmNoYXJBdChpKTtcbiAgICAgICAgaWYgKGNoID09PSAnXFxyJykge1xuICAgICAgICAgICAgaWYgKGkgKyAxIDwgdGV4dC5sZW5ndGggJiYgdGV4dC5jaGFyQXQoaSArIDEpID09PSAnXFxuJykge1xuICAgICAgICAgICAgICAgIHJldHVybiAnXFxyXFxuJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAnXFxyJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjaCA9PT0gJ1xcbicpIHtcbiAgICAgICAgICAgIHJldHVybiAnXFxuJztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gKG9wdGlvbnMgJiYgb3B0aW9ucy5lb2wpIHx8ICdcXG4nO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzRU9MKHRleHQsIG9mZnNldCkge1xuICAgIHJldHVybiAnXFxyXFxuJy5pbmRleE9mKHRleHQuY2hhckF0KG9mZnNldCkpICE9PSAtMTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZvcm1hdC5qcy5tYXAiLCIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbid1c2Ugc3RyaWN0JztcbmltcG9ydCB7IGNyZWF0ZVNjYW5uZXIgfSBmcm9tICcuL3NjYW5uZXIuanMnO1xuLyoqXG4gKiBGb3IgYSBnaXZlbiBvZmZzZXQsIGV2YWx1YXRlIHRoZSBsb2NhdGlvbiBpbiB0aGUgSlNPTiBkb2N1bWVudC4gRWFjaCBzZWdtZW50IGluIHRoZSBsb2NhdGlvbiBwYXRoIGlzIGVpdGhlciBhIHByb3BlcnR5IG5hbWUgb3IgYW4gYXJyYXkgaW5kZXguXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRMb2NhdGlvbih0ZXh0LCBwb3NpdGlvbikge1xuICAgIHZhciBzZWdtZW50cyA9IFtdOyAvLyBzdHJpbmdzIG9yIG51bWJlcnNcbiAgICB2YXIgZWFybHlSZXR1cm5FeGNlcHRpb24gPSBuZXcgT2JqZWN0KCk7XG4gICAgdmFyIHByZXZpb3VzTm9kZSA9IHZvaWQgMDtcbiAgICB2YXIgcHJldmlvdXNOb2RlSW5zdCA9IHtcbiAgICAgICAgdmFsdWU6IHt9LFxuICAgICAgICBvZmZzZXQ6IDAsXG4gICAgICAgIGxlbmd0aDogMCxcbiAgICAgICAgdHlwZTogJ29iamVjdCdcbiAgICB9O1xuICAgIHZhciBpc0F0UHJvcGVydHlLZXkgPSBmYWxzZTtcbiAgICBmdW5jdGlvbiBzZXRQcmV2aW91c05vZGUodmFsdWUsIG9mZnNldCwgbGVuZ3RoLCB0eXBlKSB7XG4gICAgICAgIHByZXZpb3VzTm9kZUluc3QudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgcHJldmlvdXNOb2RlSW5zdC5vZmZzZXQgPSBvZmZzZXQ7XG4gICAgICAgIHByZXZpb3VzTm9kZUluc3QubGVuZ3RoID0gbGVuZ3RoO1xuICAgICAgICBwcmV2aW91c05vZGVJbnN0LnR5cGUgPSB0eXBlO1xuICAgICAgICBwcmV2aW91c05vZGVJbnN0LmNvbHVtbk9mZnNldCA9IHZvaWQgMDtcbiAgICAgICAgcHJldmlvdXNOb2RlID0gcHJldmlvdXNOb2RlSW5zdDtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgdmlzaXQodGV4dCwge1xuICAgICAgICAgICAgb25PYmplY3RCZWdpbjogZnVuY3Rpb24gKG9mZnNldCwgbGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBvc2l0aW9uIDw9IG9mZnNldCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlYXJseVJldHVybkV4Y2VwdGlvbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcHJldmlvdXNOb2RlID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgIGlzQXRQcm9wZXJ0eUtleSA9IHBvc2l0aW9uID4gb2Zmc2V0O1xuICAgICAgICAgICAgICAgIHNlZ21lbnRzLnB1c2goJycpOyAvLyBwdXNoIGEgcGxhY2Vob2xkZXIgKHdpbGwgYmUgcmVwbGFjZWQpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25PYmplY3RQcm9wZXJ0eTogZnVuY3Rpb24gKG5hbWUsIG9mZnNldCwgbGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBvc2l0aW9uIDwgb2Zmc2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVhcmx5UmV0dXJuRXhjZXB0aW9uO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzZXRQcmV2aW91c05vZGUobmFtZSwgb2Zmc2V0LCBsZW5ndGgsICdwcm9wZXJ0eScpO1xuICAgICAgICAgICAgICAgIHNlZ21lbnRzW3NlZ21lbnRzLmxlbmd0aCAtIDFdID0gbmFtZTtcbiAgICAgICAgICAgICAgICBpZiAocG9zaXRpb24gPD0gb2Zmc2V0ICsgbGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVhcmx5UmV0dXJuRXhjZXB0aW9uO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbk9iamVjdEVuZDogZnVuY3Rpb24gKG9mZnNldCwgbGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBvc2l0aW9uIDw9IG9mZnNldCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlYXJseVJldHVybkV4Y2VwdGlvbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcHJldmlvdXNOb2RlID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgIHNlZ21lbnRzLnBvcCgpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uQXJyYXlCZWdpbjogZnVuY3Rpb24gKG9mZnNldCwgbGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBvc2l0aW9uIDw9IG9mZnNldCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlYXJseVJldHVybkV4Y2VwdGlvbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcHJldmlvdXNOb2RlID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgIHNlZ21lbnRzLnB1c2goMCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25BcnJheUVuZDogZnVuY3Rpb24gKG9mZnNldCwgbGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBvc2l0aW9uIDw9IG9mZnNldCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlYXJseVJldHVybkV4Y2VwdGlvbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcHJldmlvdXNOb2RlID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgIHNlZ21lbnRzLnBvcCgpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uTGl0ZXJhbFZhbHVlOiBmdW5jdGlvbiAodmFsdWUsIG9mZnNldCwgbGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBvc2l0aW9uIDwgb2Zmc2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVhcmx5UmV0dXJuRXhjZXB0aW9uO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzZXRQcmV2aW91c05vZGUodmFsdWUsIG9mZnNldCwgbGVuZ3RoLCBnZXRMaXRlcmFsTm9kZVR5cGUodmFsdWUpKTtcbiAgICAgICAgICAgICAgICBpZiAocG9zaXRpb24gPD0gb2Zmc2V0ICsgbGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVhcmx5UmV0dXJuRXhjZXB0aW9uO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvblNlcGFyYXRvcjogZnVuY3Rpb24gKHNlcCwgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBpZiAocG9zaXRpb24gPD0gb2Zmc2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVhcmx5UmV0dXJuRXhjZXB0aW9uO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoc2VwID09PSAnOicgJiYgcHJldmlvdXNOb2RlICYmIHByZXZpb3VzTm9kZS50eXBlID09PSAncHJvcGVydHknKSB7XG4gICAgICAgICAgICAgICAgICAgIHByZXZpb3VzTm9kZS5jb2x1bW5PZmZzZXQgPSBvZmZzZXQ7XG4gICAgICAgICAgICAgICAgICAgIGlzQXRQcm9wZXJ0eUtleSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBwcmV2aW91c05vZGUgPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNlcCA9PT0gJywnKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBsYXN0ID0gc2VnbWVudHNbc2VnbWVudHMubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbGFzdCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlZ21lbnRzW3NlZ21lbnRzLmxlbmd0aCAtIDFdID0gbGFzdCArIDE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpc0F0UHJvcGVydHlLZXkgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VnbWVudHNbc2VnbWVudHMubGVuZ3RoIC0gMV0gPSAnJztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBwcmV2aW91c05vZGUgPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgaWYgKGUgIT09IGVhcmx5UmV0dXJuRXhjZXB0aW9uKSB7XG4gICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHBhdGg6IHNlZ21lbnRzLFxuICAgICAgICBwcmV2aW91c05vZGU6IHByZXZpb3VzTm9kZSxcbiAgICAgICAgaXNBdFByb3BlcnR5S2V5OiBpc0F0UHJvcGVydHlLZXksXG4gICAgICAgIG1hdGNoZXM6IGZ1bmN0aW9uIChwYXR0ZXJuKSB7XG4gICAgICAgICAgICB2YXIgayA9IDA7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgayA8IHBhdHRlcm4ubGVuZ3RoICYmIGkgPCBzZWdtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChwYXR0ZXJuW2tdID09PSBzZWdtZW50c1tpXSB8fCBwYXR0ZXJuW2tdID09PSAnKicpIHtcbiAgICAgICAgICAgICAgICAgICAgaysrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChwYXR0ZXJuW2tdICE9PSAnKionKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gayA9PT0gcGF0dGVybi5sZW5ndGg7XG4gICAgICAgIH1cbiAgICB9O1xufVxuLyoqXG4gKiBQYXJzZXMgdGhlIGdpdmVuIHRleHQgYW5kIHJldHVybnMgdGhlIG9iamVjdCB0aGUgSlNPTiBjb250ZW50IHJlcHJlc2VudHMuIE9uIGludmFsaWQgaW5wdXQsIHRoZSBwYXJzZXIgdHJpZXMgdG8gYmUgYXMgZmF1bHQgdG9sZXJhbnQgYXMgcG9zc2libGUsIGJ1dCBzdGlsbCByZXR1cm4gYSByZXN1bHQuXG4gKiBUaGVyZWZvcmUgYWx3YXlzIGNoZWNrIHRoZSBlcnJvcnMgbGlzdCB0byBmaW5kIG91dCBpZiB0aGUgaW5wdXQgd2FzIHZhbGlkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcGFyc2UodGV4dCwgZXJyb3JzLCBvcHRpb25zKSB7XG4gICAgaWYgKGVycm9ycyA9PT0gdm9pZCAwKSB7IGVycm9ycyA9IFtdOyB9XG4gICAgdmFyIGN1cnJlbnRQcm9wZXJ0eSA9IG51bGw7XG4gICAgdmFyIGN1cnJlbnRQYXJlbnQgPSBbXTtcbiAgICB2YXIgcHJldmlvdXNQYXJlbnRzID0gW107XG4gICAgZnVuY3Rpb24gb25WYWx1ZSh2YWx1ZSkge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShjdXJyZW50UGFyZW50KSkge1xuICAgICAgICAgICAgY3VycmVudFBhcmVudC5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjdXJyZW50UHJvcGVydHkpIHtcbiAgICAgICAgICAgIGN1cnJlbnRQYXJlbnRbY3VycmVudFByb3BlcnR5XSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHZhciB2aXNpdG9yID0ge1xuICAgICAgICBvbk9iamVjdEJlZ2luOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgb2JqZWN0ID0ge307XG4gICAgICAgICAgICBvblZhbHVlKG9iamVjdCk7XG4gICAgICAgICAgICBwcmV2aW91c1BhcmVudHMucHVzaChjdXJyZW50UGFyZW50KTtcbiAgICAgICAgICAgIGN1cnJlbnRQYXJlbnQgPSBvYmplY3Q7XG4gICAgICAgICAgICBjdXJyZW50UHJvcGVydHkgPSBudWxsO1xuICAgICAgICB9LFxuICAgICAgICBvbk9iamVjdFByb3BlcnR5OiBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICAgICAgY3VycmVudFByb3BlcnR5ID0gbmFtZTtcbiAgICAgICAgfSxcbiAgICAgICAgb25PYmplY3RFbmQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGN1cnJlbnRQYXJlbnQgPSBwcmV2aW91c1BhcmVudHMucG9wKCk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uQXJyYXlCZWdpbjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGFycmF5ID0gW107XG4gICAgICAgICAgICBvblZhbHVlKGFycmF5KTtcbiAgICAgICAgICAgIHByZXZpb3VzUGFyZW50cy5wdXNoKGN1cnJlbnRQYXJlbnQpO1xuICAgICAgICAgICAgY3VycmVudFBhcmVudCA9IGFycmF5O1xuICAgICAgICAgICAgY3VycmVudFByb3BlcnR5ID0gbnVsbDtcbiAgICAgICAgfSxcbiAgICAgICAgb25BcnJheUVuZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY3VycmVudFBhcmVudCA9IHByZXZpb3VzUGFyZW50cy5wb3AoKTtcbiAgICAgICAgfSxcbiAgICAgICAgb25MaXRlcmFsVmFsdWU6IG9uVmFsdWUsXG4gICAgICAgIG9uRXJyb3I6IGZ1bmN0aW9uIChlcnJvciwgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgICAgICAgICAgIGVycm9ycy5wdXNoKHsgZXJyb3I6IGVycm9yLCBvZmZzZXQ6IG9mZnNldCwgbGVuZ3RoOiBsZW5ndGggfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHZpc2l0KHRleHQsIHZpc2l0b3IsIG9wdGlvbnMpO1xuICAgIHJldHVybiBjdXJyZW50UGFyZW50WzBdO1xufVxuLyoqXG4gKiBQYXJzZXMgdGhlIGdpdmVuIHRleHQgYW5kIHJldHVybnMgYSB0cmVlIHJlcHJlc2VudGF0aW9uIHRoZSBKU09OIGNvbnRlbnQuIE9uIGludmFsaWQgaW5wdXQsIHRoZSBwYXJzZXIgdHJpZXMgdG8gYmUgYXMgZmF1bHQgdG9sZXJhbnQgYXMgcG9zc2libGUsIGJ1dCBzdGlsbCByZXR1cm4gYSByZXN1bHQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVRyZWUodGV4dCwgZXJyb3JzLCBvcHRpb25zKSB7XG4gICAgaWYgKGVycm9ycyA9PT0gdm9pZCAwKSB7IGVycm9ycyA9IFtdOyB9XG4gICAgdmFyIGN1cnJlbnRQYXJlbnQgPSB7IHR5cGU6ICdhcnJheScsIG9mZnNldDogLTEsIGxlbmd0aDogLTEsIGNoaWxkcmVuOiBbXSB9OyAvLyBhcnRpZmljaWFsIHJvb3RcbiAgICBmdW5jdGlvbiBlbnN1cmVQcm9wZXJ0eUNvbXBsZXRlKGVuZE9mZnNldCkge1xuICAgICAgICBpZiAoY3VycmVudFBhcmVudC50eXBlID09PSAncHJvcGVydHknKSB7XG4gICAgICAgICAgICBjdXJyZW50UGFyZW50Lmxlbmd0aCA9IGVuZE9mZnNldCAtIGN1cnJlbnRQYXJlbnQub2Zmc2V0O1xuICAgICAgICAgICAgY3VycmVudFBhcmVudCA9IGN1cnJlbnRQYXJlbnQucGFyZW50O1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIG9uVmFsdWUodmFsdWVOb2RlKSB7XG4gICAgICAgIGN1cnJlbnRQYXJlbnQuY2hpbGRyZW4ucHVzaCh2YWx1ZU5vZGUpO1xuICAgICAgICByZXR1cm4gdmFsdWVOb2RlO1xuICAgIH1cbiAgICB2YXIgdmlzaXRvciA9IHtcbiAgICAgICAgb25PYmplY3RCZWdpbjogZnVuY3Rpb24gKG9mZnNldCkge1xuICAgICAgICAgICAgY3VycmVudFBhcmVudCA9IG9uVmFsdWUoeyB0eXBlOiAnb2JqZWN0Jywgb2Zmc2V0OiBvZmZzZXQsIGxlbmd0aDogLTEsIHBhcmVudDogY3VycmVudFBhcmVudCwgY2hpbGRyZW46IFtdIH0pO1xuICAgICAgICB9LFxuICAgICAgICBvbk9iamVjdFByb3BlcnR5OiBmdW5jdGlvbiAobmFtZSwgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgICAgICAgICAgIGN1cnJlbnRQYXJlbnQgPSBvblZhbHVlKHsgdHlwZTogJ3Byb3BlcnR5Jywgb2Zmc2V0OiBvZmZzZXQsIGxlbmd0aDogLTEsIHBhcmVudDogY3VycmVudFBhcmVudCwgY2hpbGRyZW46IFtdIH0pO1xuICAgICAgICAgICAgY3VycmVudFBhcmVudC5jaGlsZHJlbi5wdXNoKHsgdHlwZTogJ3N0cmluZycsIHZhbHVlOiBuYW1lLCBvZmZzZXQ6IG9mZnNldCwgbGVuZ3RoOiBsZW5ndGgsIHBhcmVudDogY3VycmVudFBhcmVudCB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgb25PYmplY3RFbmQ6IGZ1bmN0aW9uIChvZmZzZXQsIGxlbmd0aCkge1xuICAgICAgICAgICAgY3VycmVudFBhcmVudC5sZW5ndGggPSBvZmZzZXQgKyBsZW5ndGggLSBjdXJyZW50UGFyZW50Lm9mZnNldDtcbiAgICAgICAgICAgIGN1cnJlbnRQYXJlbnQgPSBjdXJyZW50UGFyZW50LnBhcmVudDtcbiAgICAgICAgICAgIGVuc3VyZVByb3BlcnR5Q29tcGxldGUob2Zmc2V0ICsgbGVuZ3RoKTtcbiAgICAgICAgfSxcbiAgICAgICAgb25BcnJheUJlZ2luOiBmdW5jdGlvbiAob2Zmc2V0LCBsZW5ndGgpIHtcbiAgICAgICAgICAgIGN1cnJlbnRQYXJlbnQgPSBvblZhbHVlKHsgdHlwZTogJ2FycmF5Jywgb2Zmc2V0OiBvZmZzZXQsIGxlbmd0aDogLTEsIHBhcmVudDogY3VycmVudFBhcmVudCwgY2hpbGRyZW46IFtdIH0pO1xuICAgICAgICB9LFxuICAgICAgICBvbkFycmF5RW5kOiBmdW5jdGlvbiAob2Zmc2V0LCBsZW5ndGgpIHtcbiAgICAgICAgICAgIGN1cnJlbnRQYXJlbnQubGVuZ3RoID0gb2Zmc2V0ICsgbGVuZ3RoIC0gY3VycmVudFBhcmVudC5vZmZzZXQ7XG4gICAgICAgICAgICBjdXJyZW50UGFyZW50ID0gY3VycmVudFBhcmVudC5wYXJlbnQ7XG4gICAgICAgICAgICBlbnN1cmVQcm9wZXJ0eUNvbXBsZXRlKG9mZnNldCArIGxlbmd0aCk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uTGl0ZXJhbFZhbHVlOiBmdW5jdGlvbiAodmFsdWUsIG9mZnNldCwgbGVuZ3RoKSB7XG4gICAgICAgICAgICBvblZhbHVlKHsgdHlwZTogZ2V0TGl0ZXJhbE5vZGVUeXBlKHZhbHVlKSwgb2Zmc2V0OiBvZmZzZXQsIGxlbmd0aDogbGVuZ3RoLCBwYXJlbnQ6IGN1cnJlbnRQYXJlbnQsIHZhbHVlOiB2YWx1ZSB9KTtcbiAgICAgICAgICAgIGVuc3VyZVByb3BlcnR5Q29tcGxldGUob2Zmc2V0ICsgbGVuZ3RoKTtcbiAgICAgICAgfSxcbiAgICAgICAgb25TZXBhcmF0b3I6IGZ1bmN0aW9uIChzZXAsIG9mZnNldCwgbGVuZ3RoKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudFBhcmVudC50eXBlID09PSAncHJvcGVydHknKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNlcCA9PT0gJzonKSB7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQYXJlbnQuY29sdW1uT2Zmc2V0ID0gb2Zmc2V0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChzZXAgPT09ICcsJykge1xuICAgICAgICAgICAgICAgICAgICBlbnN1cmVQcm9wZXJ0eUNvbXBsZXRlKG9mZnNldCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBvbkVycm9yOiBmdW5jdGlvbiAoZXJyb3IsIG9mZnNldCwgbGVuZ3RoKSB7XG4gICAgICAgICAgICBlcnJvcnMucHVzaCh7IGVycm9yOiBlcnJvciwgb2Zmc2V0OiBvZmZzZXQsIGxlbmd0aDogbGVuZ3RoIH0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB2aXNpdCh0ZXh0LCB2aXNpdG9yLCBvcHRpb25zKTtcbiAgICB2YXIgcmVzdWx0ID0gY3VycmVudFBhcmVudC5jaGlsZHJlblswXTtcbiAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgIGRlbGV0ZSByZXN1bHQucGFyZW50O1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuLyoqXG4gKiBGaW5kcyB0aGUgbm9kZSBhdCB0aGUgZ2l2ZW4gcGF0aCBpbiBhIEpTT04gRE9NLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZmluZE5vZGVBdExvY2F0aW9uKHJvb3QsIHBhdGgpIHtcbiAgICBpZiAoIXJvb3QpIHtcbiAgICAgICAgcmV0dXJuIHZvaWQgMDtcbiAgICB9XG4gICAgdmFyIG5vZGUgPSByb290O1xuICAgIGZvciAodmFyIF9pID0gMCwgcGF0aF8xID0gcGF0aDsgX2kgPCBwYXRoXzEubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIHZhciBzZWdtZW50ID0gcGF0aF8xW19pXTtcbiAgICAgICAgaWYgKHR5cGVvZiBzZWdtZW50ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgaWYgKG5vZGUudHlwZSAhPT0gJ29iamVjdCcgfHwgIUFycmF5LmlzQXJyYXkobm9kZS5jaGlsZHJlbikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdm9pZCAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGZvdW5kID0gZmFsc2U7XG4gICAgICAgICAgICBmb3IgKHZhciBfYSA9IDAsIF9iID0gbm9kZS5jaGlsZHJlbjsgX2EgPCBfYi5sZW5ndGg7IF9hKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgcHJvcGVydHlOb2RlID0gX2JbX2FdO1xuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHByb3BlcnR5Tm9kZS5jaGlsZHJlbikgJiYgcHJvcGVydHlOb2RlLmNoaWxkcmVuWzBdLnZhbHVlID09PSBzZWdtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIG5vZGUgPSBwcm9wZXJ0eU5vZGUuY2hpbGRyZW5bMV07XG4gICAgICAgICAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFmb3VuZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSBzZWdtZW50O1xuICAgICAgICAgICAgaWYgKG5vZGUudHlwZSAhPT0gJ2FycmF5JyB8fCBpbmRleCA8IDAgfHwgIUFycmF5LmlzQXJyYXkobm9kZS5jaGlsZHJlbikgfHwgaW5kZXggPj0gbm9kZS5jaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdm9pZCAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbm9kZSA9IG5vZGUuY2hpbGRyZW5baW5kZXhdO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBub2RlO1xufVxuLyoqXG4gKiBFdmFsdWF0ZXMgdGhlIEphdmFTY3JpcHQgb2JqZWN0IG9mIHRoZSBnaXZlbiBKU09OIERPTSBub2RlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXROb2RlVmFsdWUobm9kZSkge1xuICAgIGlmIChub2RlLnR5cGUgPT09ICdhcnJheScpIHtcbiAgICAgICAgcmV0dXJuIG5vZGUuY2hpbGRyZW4ubWFwKGdldE5vZGVWYWx1ZSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKG5vZGUudHlwZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgdmFyIG9iaiA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSBub2RlLmNoaWxkcmVuOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgdmFyIHByb3AgPSBfYVtfaV07XG4gICAgICAgICAgICBvYmpbcHJvcC5jaGlsZHJlblswXS52YWx1ZV0gPSBnZXROb2RlVmFsdWUocHJvcC5jaGlsZHJlblsxXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9XG4gICAgcmV0dXJuIG5vZGUudmFsdWU7XG59XG4vKipcbiAqIFBhcnNlcyB0aGUgZ2l2ZW4gdGV4dCBhbmQgaW52b2tlcyB0aGUgdmlzaXRvciBmdW5jdGlvbnMgZm9yIGVhY2ggb2JqZWN0LCBhcnJheSBhbmQgbGl0ZXJhbCByZWFjaGVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdmlzaXQodGV4dCwgdmlzaXRvciwgb3B0aW9ucykge1xuICAgIHZhciBfc2Nhbm5lciA9IGNyZWF0ZVNjYW5uZXIodGV4dCwgZmFsc2UpO1xuICAgIGZ1bmN0aW9uIHRvTm9BcmdWaXNpdCh2aXNpdEZ1bmN0aW9uKSB7XG4gICAgICAgIHJldHVybiB2aXNpdEZ1bmN0aW9uID8gZnVuY3Rpb24gKCkgeyByZXR1cm4gdmlzaXRGdW5jdGlvbihfc2Nhbm5lci5nZXRUb2tlbk9mZnNldCgpLCBfc2Nhbm5lci5nZXRUb2tlbkxlbmd0aCgpKTsgfSA6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRydWU7IH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRvT25lQXJnVmlzaXQodmlzaXRGdW5jdGlvbikge1xuICAgICAgICByZXR1cm4gdmlzaXRGdW5jdGlvbiA/IGZ1bmN0aW9uIChhcmcpIHsgcmV0dXJuIHZpc2l0RnVuY3Rpb24oYXJnLCBfc2Nhbm5lci5nZXRUb2tlbk9mZnNldCgpLCBfc2Nhbm5lci5nZXRUb2tlbkxlbmd0aCgpKTsgfSA6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRydWU7IH07XG4gICAgfVxuICAgIHZhciBvbk9iamVjdEJlZ2luID0gdG9Ob0FyZ1Zpc2l0KHZpc2l0b3Iub25PYmplY3RCZWdpbiksIG9uT2JqZWN0UHJvcGVydHkgPSB0b09uZUFyZ1Zpc2l0KHZpc2l0b3Iub25PYmplY3RQcm9wZXJ0eSksIG9uT2JqZWN0RW5kID0gdG9Ob0FyZ1Zpc2l0KHZpc2l0b3Iub25PYmplY3RFbmQpLCBvbkFycmF5QmVnaW4gPSB0b05vQXJnVmlzaXQodmlzaXRvci5vbkFycmF5QmVnaW4pLCBvbkFycmF5RW5kID0gdG9Ob0FyZ1Zpc2l0KHZpc2l0b3Iub25BcnJheUVuZCksIG9uTGl0ZXJhbFZhbHVlID0gdG9PbmVBcmdWaXNpdCh2aXNpdG9yLm9uTGl0ZXJhbFZhbHVlKSwgb25TZXBhcmF0b3IgPSB0b09uZUFyZ1Zpc2l0KHZpc2l0b3Iub25TZXBhcmF0b3IpLCBvbkNvbW1lbnQgPSB0b05vQXJnVmlzaXQodmlzaXRvci5vbkNvbW1lbnQpLCBvbkVycm9yID0gdG9PbmVBcmdWaXNpdCh2aXNpdG9yLm9uRXJyb3IpO1xuICAgIHZhciBkaXNhbGxvd0NvbW1lbnRzID0gb3B0aW9ucyAmJiBvcHRpb25zLmRpc2FsbG93Q29tbWVudHM7XG4gICAgdmFyIGFsbG93VHJhaWxpbmdDb21tYSA9IG9wdGlvbnMgJiYgb3B0aW9ucy5hbGxvd1RyYWlsaW5nQ29tbWE7XG4gICAgZnVuY3Rpb24gc2Nhbk5leHQoKSB7XG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICB2YXIgdG9rZW4gPSBfc2Nhbm5lci5zY2FuKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKF9zY2FubmVyLmdldFRva2VuRXJyb3IoKSkge1xuICAgICAgICAgICAgICAgIGNhc2UgNCAvKiBJbnZhbGlkVW5pY29kZSAqLzpcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlRXJyb3IoMTQgLyogSW52YWxpZFVuaWNvZGUgKi8pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDUgLyogSW52YWxpZEVzY2FwZUNoYXJhY3RlciAqLzpcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlRXJyb3IoMTUgLyogSW52YWxpZEVzY2FwZUNoYXJhY3RlciAqLyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMyAvKiBVbmV4cGVjdGVkRW5kT2ZOdW1iZXIgKi86XG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZUVycm9yKDEzIC8qIFVuZXhwZWN0ZWRFbmRPZk51bWJlciAqLyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMSAvKiBVbmV4cGVjdGVkRW5kT2ZDb21tZW50ICovOlxuICAgICAgICAgICAgICAgICAgICBpZiAoIWRpc2FsbG93Q29tbWVudHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZUVycm9yKDExIC8qIFVuZXhwZWN0ZWRFbmRPZkNvbW1lbnQgKi8pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMiAvKiBVbmV4cGVjdGVkRW5kT2ZTdHJpbmcgKi86XG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZUVycm9yKDEyIC8qIFVuZXhwZWN0ZWRFbmRPZlN0cmluZyAqLyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNiAvKiBJbnZhbGlkQ2hhcmFjdGVyICovOlxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVFcnJvcigxNiAvKiBJbnZhbGlkQ2hhcmFjdGVyICovKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzd2l0Y2ggKHRva2VuKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxMiAvKiBMaW5lQ29tbWVudFRyaXZpYSAqLzpcbiAgICAgICAgICAgICAgICBjYXNlIDEzIC8qIEJsb2NrQ29tbWVudFRyaXZpYSAqLzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRpc2FsbG93Q29tbWVudHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZUVycm9yKDEwIC8qIEludmFsaWRDb21tZW50VG9rZW4gKi8pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgb25Db21tZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAxNiAvKiBVbmtub3duICovOlxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVFcnJvcigxIC8qIEludmFsaWRTeW1ib2wgKi8pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDE1IC8qIFRyaXZpYSAqLzpcbiAgICAgICAgICAgICAgICBjYXNlIDE0IC8qIExpbmVCcmVha1RyaXZpYSAqLzpcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRva2VuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGhhbmRsZUVycm9yKGVycm9yLCBza2lwVW50aWxBZnRlciwgc2tpcFVudGlsKSB7XG4gICAgICAgIGlmIChza2lwVW50aWxBZnRlciA9PT0gdm9pZCAwKSB7IHNraXBVbnRpbEFmdGVyID0gW107IH1cbiAgICAgICAgaWYgKHNraXBVbnRpbCA9PT0gdm9pZCAwKSB7IHNraXBVbnRpbCA9IFtdOyB9XG4gICAgICAgIG9uRXJyb3IoZXJyb3IpO1xuICAgICAgICBpZiAoc2tpcFVudGlsQWZ0ZXIubGVuZ3RoICsgc2tpcFVudGlsLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHZhciB0b2tlbiA9IF9zY2FubmVyLmdldFRva2VuKCk7XG4gICAgICAgICAgICB3aGlsZSAodG9rZW4gIT09IDE3IC8qIEVPRiAqLykge1xuICAgICAgICAgICAgICAgIGlmIChza2lwVW50aWxBZnRlci5pbmRleE9mKHRva2VuKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgc2Nhbk5leHQoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNraXBVbnRpbC5pbmRleE9mKHRva2VuKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRva2VuID0gc2Nhbk5leHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBwYXJzZVN0cmluZyhpc1ZhbHVlKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IF9zY2FubmVyLmdldFRva2VuVmFsdWUoKTtcbiAgICAgICAgaWYgKGlzVmFsdWUpIHtcbiAgICAgICAgICAgIG9uTGl0ZXJhbFZhbHVlKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG9uT2JqZWN0UHJvcGVydHkodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHNjYW5OZXh0KCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwYXJzZUxpdGVyYWwoKSB7XG4gICAgICAgIHN3aXRjaCAoX3NjYW5uZXIuZ2V0VG9rZW4oKSkge1xuICAgICAgICAgICAgY2FzZSAxMSAvKiBOdW1lcmljTGl0ZXJhbCAqLzpcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSAwO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gSlNPTi5wYXJzZShfc2Nhbm5lci5nZXRUb2tlblZhbHVlKCkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlRXJyb3IoMiAvKiBJbnZhbGlkTnVtYmVyRm9ybWF0ICovKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICBoYW5kbGVFcnJvcigyIC8qIEludmFsaWROdW1iZXJGb3JtYXQgKi8pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvbkxpdGVyYWxWYWx1ZSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDcgLyogTnVsbEtleXdvcmQgKi86XG4gICAgICAgICAgICAgICAgb25MaXRlcmFsVmFsdWUobnVsbCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDggLyogVHJ1ZUtleXdvcmQgKi86XG4gICAgICAgICAgICAgICAgb25MaXRlcmFsVmFsdWUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDkgLyogRmFsc2VLZXl3b3JkICovOlxuICAgICAgICAgICAgICAgIG9uTGl0ZXJhbFZhbHVlKGZhbHNlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHNjYW5OZXh0KCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwYXJzZVByb3BlcnR5KCkge1xuICAgICAgICBpZiAoX3NjYW5uZXIuZ2V0VG9rZW4oKSAhPT0gMTAgLyogU3RyaW5nTGl0ZXJhbCAqLykge1xuICAgICAgICAgICAgaGFuZGxlRXJyb3IoMyAvKiBQcm9wZXJ0eU5hbWVFeHBlY3RlZCAqLywgW10sIFsyIC8qIENsb3NlQnJhY2VUb2tlbiAqLywgNSAvKiBDb21tYVRva2VuICovXSk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcGFyc2VTdHJpbmcoZmFsc2UpO1xuICAgICAgICBpZiAoX3NjYW5uZXIuZ2V0VG9rZW4oKSA9PT0gNiAvKiBDb2xvblRva2VuICovKSB7XG4gICAgICAgICAgICBvblNlcGFyYXRvcignOicpO1xuICAgICAgICAgICAgc2Nhbk5leHQoKTsgLy8gY29uc3VtZSBjb2xvblxuICAgICAgICAgICAgaWYgKCFwYXJzZVZhbHVlKCkpIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVFcnJvcig0IC8qIFZhbHVlRXhwZWN0ZWQgKi8sIFtdLCBbMiAvKiBDbG9zZUJyYWNlVG9rZW4gKi8sIDUgLyogQ29tbWFUb2tlbiAqL10pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaGFuZGxlRXJyb3IoNSAvKiBDb2xvbkV4cGVjdGVkICovLCBbXSwgWzIgLyogQ2xvc2VCcmFjZVRva2VuICovLCA1IC8qIENvbW1hVG9rZW4gKi9dKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcGFyc2VPYmplY3QoKSB7XG4gICAgICAgIG9uT2JqZWN0QmVnaW4oKTtcbiAgICAgICAgc2Nhbk5leHQoKTsgLy8gY29uc3VtZSBvcGVuIGJyYWNlXG4gICAgICAgIHZhciBuZWVkc0NvbW1hID0gZmFsc2U7XG4gICAgICAgIHdoaWxlIChfc2Nhbm5lci5nZXRUb2tlbigpICE9PSAyIC8qIENsb3NlQnJhY2VUb2tlbiAqLyAmJiBfc2Nhbm5lci5nZXRUb2tlbigpICE9PSAxNyAvKiBFT0YgKi8pIHtcbiAgICAgICAgICAgIGlmIChfc2Nhbm5lci5nZXRUb2tlbigpID09PSA1IC8qIENvbW1hVG9rZW4gKi8pIHtcbiAgICAgICAgICAgICAgICBpZiAoIW5lZWRzQ29tbWEpIHtcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlRXJyb3IoNCAvKiBWYWx1ZUV4cGVjdGVkICovLCBbXSwgW10pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvblNlcGFyYXRvcignLCcpO1xuICAgICAgICAgICAgICAgIHNjYW5OZXh0KCk7IC8vIGNvbnN1bWUgY29tbWFcbiAgICAgICAgICAgICAgICBpZiAoX3NjYW5uZXIuZ2V0VG9rZW4oKSA9PT0gMiAvKiBDbG9zZUJyYWNlVG9rZW4gKi8gJiYgYWxsb3dUcmFpbGluZ0NvbW1hKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG5lZWRzQ29tbWEpIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVFcnJvcig2IC8qIENvbW1hRXhwZWN0ZWQgKi8sIFtdLCBbXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXBhcnNlUHJvcGVydHkoKSkge1xuICAgICAgICAgICAgICAgIGhhbmRsZUVycm9yKDQgLyogVmFsdWVFeHBlY3RlZCAqLywgW10sIFsyIC8qIENsb3NlQnJhY2VUb2tlbiAqLywgNSAvKiBDb21tYVRva2VuICovXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuZWVkc0NvbW1hID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBvbk9iamVjdEVuZCgpO1xuICAgICAgICBpZiAoX3NjYW5uZXIuZ2V0VG9rZW4oKSAhPT0gMiAvKiBDbG9zZUJyYWNlVG9rZW4gKi8pIHtcbiAgICAgICAgICAgIGhhbmRsZUVycm9yKDcgLyogQ2xvc2VCcmFjZUV4cGVjdGVkICovLCBbMiAvKiBDbG9zZUJyYWNlVG9rZW4gKi9dLCBbXSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzY2FuTmV4dCgpOyAvLyBjb25zdW1lIGNsb3NlIGJyYWNlXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBhcnNlQXJyYXkoKSB7XG4gICAgICAgIG9uQXJyYXlCZWdpbigpO1xuICAgICAgICBzY2FuTmV4dCgpOyAvLyBjb25zdW1lIG9wZW4gYnJhY2tldFxuICAgICAgICB2YXIgbmVlZHNDb21tYSA9IGZhbHNlO1xuICAgICAgICB3aGlsZSAoX3NjYW5uZXIuZ2V0VG9rZW4oKSAhPT0gNCAvKiBDbG9zZUJyYWNrZXRUb2tlbiAqLyAmJiBfc2Nhbm5lci5nZXRUb2tlbigpICE9PSAxNyAvKiBFT0YgKi8pIHtcbiAgICAgICAgICAgIGlmIChfc2Nhbm5lci5nZXRUb2tlbigpID09PSA1IC8qIENvbW1hVG9rZW4gKi8pIHtcbiAgICAgICAgICAgICAgICBpZiAoIW5lZWRzQ29tbWEpIHtcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlRXJyb3IoNCAvKiBWYWx1ZUV4cGVjdGVkICovLCBbXSwgW10pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvblNlcGFyYXRvcignLCcpO1xuICAgICAgICAgICAgICAgIHNjYW5OZXh0KCk7IC8vIGNvbnN1bWUgY29tbWFcbiAgICAgICAgICAgICAgICBpZiAoX3NjYW5uZXIuZ2V0VG9rZW4oKSA9PT0gNCAvKiBDbG9zZUJyYWNrZXRUb2tlbiAqLyAmJiBhbGxvd1RyYWlsaW5nQ29tbWEpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobmVlZHNDb21tYSkge1xuICAgICAgICAgICAgICAgIGhhbmRsZUVycm9yKDYgLyogQ29tbWFFeHBlY3RlZCAqLywgW10sIFtdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghcGFyc2VWYWx1ZSgpKSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlRXJyb3IoNCAvKiBWYWx1ZUV4cGVjdGVkICovLCBbXSwgWzQgLyogQ2xvc2VCcmFja2V0VG9rZW4gKi8sIDUgLyogQ29tbWFUb2tlbiAqL10pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmVlZHNDb21tYSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgb25BcnJheUVuZCgpO1xuICAgICAgICBpZiAoX3NjYW5uZXIuZ2V0VG9rZW4oKSAhPT0gNCAvKiBDbG9zZUJyYWNrZXRUb2tlbiAqLykge1xuICAgICAgICAgICAgaGFuZGxlRXJyb3IoOCAvKiBDbG9zZUJyYWNrZXRFeHBlY3RlZCAqLywgWzQgLyogQ2xvc2VCcmFja2V0VG9rZW4gKi9dLCBbXSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzY2FuTmV4dCgpOyAvLyBjb25zdW1lIGNsb3NlIGJyYWNrZXRcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcGFyc2VWYWx1ZSgpIHtcbiAgICAgICAgc3dpdGNoIChfc2Nhbm5lci5nZXRUb2tlbigpKSB7XG4gICAgICAgICAgICBjYXNlIDMgLyogT3BlbkJyYWNrZXRUb2tlbiAqLzpcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VBcnJheSgpO1xuICAgICAgICAgICAgY2FzZSAxIC8qIE9wZW5CcmFjZVRva2VuICovOlxuICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZU9iamVjdCgpO1xuICAgICAgICAgICAgY2FzZSAxMCAvKiBTdHJpbmdMaXRlcmFsICovOlxuICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZVN0cmluZyh0cnVlKTtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlTGl0ZXJhbCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHNjYW5OZXh0KCk7XG4gICAgaWYgKF9zY2FubmVyLmdldFRva2VuKCkgPT09IDE3IC8qIEVPRiAqLykge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKCFwYXJzZVZhbHVlKCkpIHtcbiAgICAgICAgaGFuZGxlRXJyb3IoNCAvKiBWYWx1ZUV4cGVjdGVkICovLCBbXSwgW10pO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChfc2Nhbm5lci5nZXRUb2tlbigpICE9PSAxNyAvKiBFT0YgKi8pIHtcbiAgICAgICAgaGFuZGxlRXJyb3IoOSAvKiBFbmRPZkZpbGVFeHBlY3RlZCAqLywgW10sIFtdKTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG4vKipcbiAqIFRha2VzIEpTT04gd2l0aCBKYXZhU2NyaXB0LXN0eWxlIGNvbW1lbnRzIGFuZCByZW1vdmVcbiAqIHRoZW0uIE9wdGlvbmFsbHkgcmVwbGFjZXMgZXZlcnkgbm9uZS1uZXdsaW5lIGNoYXJhY3RlclxuICogb2YgY29tbWVudHMgd2l0aCBhIHJlcGxhY2VDaGFyYWN0ZXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0cmlwQ29tbWVudHModGV4dCwgcmVwbGFjZUNoKSB7XG4gICAgdmFyIF9zY2FubmVyID0gY3JlYXRlU2Nhbm5lcih0ZXh0KSwgcGFydHMgPSBbXSwga2luZCwgb2Zmc2V0ID0gMCwgcG9zO1xuICAgIGRvIHtcbiAgICAgICAgcG9zID0gX3NjYW5uZXIuZ2V0UG9zaXRpb24oKTtcbiAgICAgICAga2luZCA9IF9zY2FubmVyLnNjYW4oKTtcbiAgICAgICAgc3dpdGNoIChraW5kKSB7XG4gICAgICAgICAgICBjYXNlIDEyIC8qIExpbmVDb21tZW50VHJpdmlhICovOlxuICAgICAgICAgICAgY2FzZSAxMyAvKiBCbG9ja0NvbW1lbnRUcml2aWEgKi86XG4gICAgICAgICAgICBjYXNlIDE3IC8qIEVPRiAqLzpcbiAgICAgICAgICAgICAgICBpZiAob2Zmc2V0ICE9PSBwb3MpIHtcbiAgICAgICAgICAgICAgICAgICAgcGFydHMucHVzaCh0ZXh0LnN1YnN0cmluZyhvZmZzZXQsIHBvcykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocmVwbGFjZUNoICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICAgICAgcGFydHMucHVzaChfc2Nhbm5lci5nZXRUb2tlblZhbHVlKCkucmVwbGFjZSgvW15cXHJcXG5dL2csIHJlcGxhY2VDaCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvZmZzZXQgPSBfc2Nhbm5lci5nZXRQb3NpdGlvbigpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfSB3aGlsZSAoa2luZCAhPT0gMTcgLyogRU9GICovKTtcbiAgICByZXR1cm4gcGFydHMuam9pbignJyk7XG59XG5mdW5jdGlvbiBnZXRMaXRlcmFsTm9kZVR5cGUodmFsdWUpIHtcbiAgICBzd2l0Y2ggKHR5cGVvZiB2YWx1ZSkge1xuICAgICAgICBjYXNlICdib29sZWFuJzogcmV0dXJuICdib29sZWFuJztcbiAgICAgICAgY2FzZSAnbnVtYmVyJzogcmV0dXJuICdudW1iZXInO1xuICAgICAgICBjYXNlICdzdHJpbmcnOiByZXR1cm4gJ3N0cmluZyc7XG4gICAgICAgIGRlZmF1bHQ6IHJldHVybiAnbnVsbCc7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFyc2VyLmpzLm1hcCIsIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuJ3VzZSBzdHJpY3QnO1xuaW1wb3J0ICogYXMgZm9ybWF0dGVyIGZyb20gJy4vaW1wbC9mb3JtYXQuanMnO1xuaW1wb3J0ICogYXMgZWRpdCBmcm9tICcuL2ltcGwvZWRpdC5qcyc7XG5pbXBvcnQgKiBhcyBzY2FubmVyIGZyb20gJy4vaW1wbC9zY2FubmVyLmpzJztcbmltcG9ydCAqIGFzIHBhcnNlciBmcm9tICcuL2ltcGwvcGFyc2VyLmpzJztcbi8qKlxuICogQ3JlYXRlcyBhIEpTT04gc2Nhbm5lciBvbiB0aGUgZ2l2ZW4gdGV4dC5cbiAqIElmIGlnbm9yZVRyaXZpYSBpcyBzZXQsIHdoaXRlc3BhY2VzIG9yIGNvbW1lbnRzIGFyZSBpZ25vcmVkLlxuICovXG5leHBvcnQgdmFyIGNyZWF0ZVNjYW5uZXIgPSBzY2FubmVyLmNyZWF0ZVNjYW5uZXI7XG4vKipcbiAqIEZvciBhIGdpdmVuIG9mZnNldCwgZXZhbHVhdGUgdGhlIGxvY2F0aW9uIGluIHRoZSBKU09OIGRvY3VtZW50LiBFYWNoIHNlZ21lbnQgaW4gdGhlIGxvY2F0aW9uIHBhdGggaXMgZWl0aGVyIGEgcHJvcGVydHkgbmFtZSBvciBhbiBhcnJheSBpbmRleC5cbiAqL1xuZXhwb3J0IHZhciBnZXRMb2NhdGlvbiA9IHBhcnNlci5nZXRMb2NhdGlvbjtcbi8qKlxuICogUGFyc2VzIHRoZSBnaXZlbiB0ZXh0IGFuZCByZXR1cm5zIHRoZSBvYmplY3QgdGhlIEpTT04gY29udGVudCByZXByZXNlbnRzLiBPbiBpbnZhbGlkIGlucHV0LCB0aGUgcGFyc2VyIHRyaWVzIHRvIGJlIGFzIGZhdWx0IHRvbGVyYW50IGFzIHBvc3NpYmxlLCBidXQgc3RpbGwgcmV0dXJuIGEgcmVzdWx0LlxuICogVGhlcmVmb3JlIGFsd2F5cyBjaGVjayB0aGUgZXJyb3JzIGxpc3QgdG8gZmluZCBvdXQgaWYgdGhlIGlucHV0IHdhcyB2YWxpZC5cbiAqL1xuZXhwb3J0IHZhciBwYXJzZSA9IHBhcnNlci5wYXJzZTtcbi8qKlxuICogUGFyc2VzIHRoZSBnaXZlbiB0ZXh0IGFuZCByZXR1cm5zIGEgdHJlZSByZXByZXNlbnRhdGlvbiB0aGUgSlNPTiBjb250ZW50LiBPbiBpbnZhbGlkIGlucHV0LCB0aGUgcGFyc2VyIHRyaWVzIHRvIGJlIGFzIGZhdWx0IHRvbGVyYW50IGFzIHBvc3NpYmxlLCBidXQgc3RpbGwgcmV0dXJuIGEgcmVzdWx0LlxuICovXG5leHBvcnQgdmFyIHBhcnNlVHJlZSA9IHBhcnNlci5wYXJzZVRyZWU7XG4vKipcbiAqIEZpbmRzIHRoZSBub2RlIGF0IHRoZSBnaXZlbiBwYXRoIGluIGEgSlNPTiBET00uXG4gKi9cbmV4cG9ydCB2YXIgZmluZE5vZGVBdExvY2F0aW9uID0gcGFyc2VyLmZpbmROb2RlQXRMb2NhdGlvbjtcbi8qKlxuICogRXZhbHVhdGVzIHRoZSBKYXZhU2NyaXB0IG9iamVjdCBvZiB0aGUgZ2l2ZW4gSlNPTiBET00gbm9kZVxuICovXG5leHBvcnQgdmFyIGdldE5vZGVWYWx1ZSA9IHBhcnNlci5nZXROb2RlVmFsdWU7XG4vKipcbiAqIFBhcnNlcyB0aGUgZ2l2ZW4gdGV4dCBhbmQgaW52b2tlcyB0aGUgdmlzaXRvciBmdW5jdGlvbnMgZm9yIGVhY2ggb2JqZWN0LCBhcnJheSBhbmQgbGl0ZXJhbCByZWFjaGVkLlxuICovXG5leHBvcnQgdmFyIHZpc2l0ID0gcGFyc2VyLnZpc2l0O1xuLyoqXG4gKiBUYWtlcyBKU09OIHdpdGggSmF2YVNjcmlwdC1zdHlsZSBjb21tZW50cyBhbmQgcmVtb3ZlXG4gKiB0aGVtLiBPcHRpb25hbGx5IHJlcGxhY2VzIGV2ZXJ5IG5vbmUtbmV3bGluZSBjaGFyYWN0ZXJcbiAqIG9mIGNvbW1lbnRzIHdpdGggYSByZXBsYWNlQ2hhcmFjdGVyXG4gKi9cbmV4cG9ydCB2YXIgc3RyaXBDb21tZW50cyA9IHBhcnNlci5zdHJpcENvbW1lbnRzO1xuLyoqXG4gKiBDb21wdXRlcyB0aGUgZWRpdHMgbmVlZGVkIHRvIGZvcm1hdCBhIEpTT04gZG9jdW1lbnQuXG4gKlxuICogQHBhcmFtIGRvY3VtZW50VGV4dCBUaGUgaW5wdXQgdGV4dFxuICogQHBhcmFtIHJhbmdlIFRoZSByYW5nZSB0byBmb3JtYXQgb3IgYHVuZGVmaW5lZGAgdG8gZm9ybWF0IHRoZSBmdWxsIGNvbnRlbnRcbiAqIEBwYXJhbSBvcHRpb25zIFRoZSBmb3JtYXR0aW5nIG9wdGlvbnNcbiAqIEByZXR1cm5zIEEgbGlzdCBvZiBlZGl0IG9wZXJhdGlvbnMgZGVzY3JpYmluZyB0aGUgZm9ybWF0dGluZyBjaGFuZ2VzIHRvIHRoZSBvcmlnaW5hbCBkb2N1bWVudC4gRWRpdHMgY2FuIGJlIGVpdGhlciBpbnNlcnRzLCByZXBsYWNlbWVudHMgb3JcbiAqIHJlbW92YWxzIG9mIHRleHQgc2VnbWVudHMuIEFsbCBvZmZzZXRzIHJlZmVyIHRvIHRoZSBvcmlnaW5hbCBzdGF0ZSBvZiB0aGUgZG9jdW1lbnQuIE5vIHR3byBlZGl0cyBtdXN0IGNoYW5nZSBvciByZW1vdmUgdGhlIHNhbWUgcmFuZ2Ugb2ZcbiAqIHRleHQgaW4gdGhlIG9yaWdpbmFsIGRvY3VtZW50LiBIb3dldmVyLCBtdWx0aXBsZSBlZGl0cyBjYW4gaGF2ZVxuICogdGhlIHNhbWUgb2Zmc2V0LCBmb3IgZXhhbXBsZSBtdWx0aXBsZSBpbnNlcnRzLCBvciBhbiBpbnNlcnQgZm9sbG93ZWQgYnkgYSByZW1vdmUgb3IgcmVwbGFjZS4gVGhlIG9yZGVyIGluIHRoZSBhcnJheSBkZWZpbmVzIHdoaWNoIGVkaXQgaXMgYXBwbGllZCBmaXJzdC5cbiAqIFRvIGFwcGx5IGVkaXRzIHRvIGFuIGlucHV0LCB5b3UgY2FuIHVzZSBgYXBwbHlFZGl0c2BcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdChkb2N1bWVudFRleHQsIHJhbmdlLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIGZvcm1hdHRlci5mb3JtYXQoZG9jdW1lbnRUZXh0LCByYW5nZSwgb3B0aW9ucyk7XG59XG4vKipcbiAqIENvbXB1dGVzIHRoZSBlZGl0cyBuZWVkZWQgdG8gbW9kaWZ5IGEgdmFsdWUgaW4gdGhlIEpTT04gZG9jdW1lbnQuXG4gKlxuICogQHBhcmFtIGRvY3VtZW50VGV4dCBUaGUgaW5wdXQgdGV4dFxuICogQHBhcmFtIHBhdGggVGhlIHBhdGggb2YgdGhlIHZhbHVlIHRvIGNoYW5nZS4gVGhlIHBhdGggcmVwcmVzZW50cyBlaXRoZXIgdG8gdGhlIGRvY3VtZW50IHJvb3QsIGEgcHJvcGVydHkgb3IgYW4gYXJyYXkgaXRlbS5cbiAqIElmIHRoZSBwYXRoIHBvaW50cyB0byBhbiBub24tZXhpc3RpbmcgcHJvcGVydHkgb3IgaXRlbSwgaXQgd2lsbCBiZSBjcmVhdGVkLlxuICogQHBhcmFtIHZhbHVlIFRoZSBuZXcgdmFsdWUgZm9yIHRoZSBzcGVjaWZpZWQgcHJvcGVydHkgb3IgaXRlbS4gSWYgdGhlIHZhbHVlIGlzIHVuZGVmaW5lZCxcbiAqIHRoZSBwcm9wZXJ0eSBvciBpdGVtIHdpbGwgYmUgcmVtb3ZlZC5cbiAqIEBwYXJhbSBvcHRpb25zIE9wdGlvbnNcbiAqIEByZXR1cm5zIEEgbGlzdCBvZiBlZGl0IG9wZXJhdGlvbnMgZGVzY3JpYmluZyB0aGUgZm9ybWF0dGluZyBjaGFuZ2VzIHRvIHRoZSBvcmlnaW5hbCBkb2N1bWVudC4gRWRpdHMgY2FuIGJlIGVpdGhlciBpbnNlcnRzLCByZXBsYWNlbWVudHMgb3JcbiAqIHJlbW92YWxzIG9mIHRleHQgc2VnbWVudHMuIEFsbCBvZmZzZXRzIHJlZmVyIHRvIHRoZSBvcmlnaW5hbCBzdGF0ZSBvZiB0aGUgZG9jdW1lbnQuIE5vIHR3byBlZGl0cyBtdXN0IGNoYW5nZSBvciByZW1vdmUgdGhlIHNhbWUgcmFuZ2Ugb2ZcbiAqIHRleHQgaW4gdGhlIG9yaWdpbmFsIGRvY3VtZW50LiBIb3dldmVyLCBtdWx0aXBsZSBlZGl0cyBjYW4gaGF2ZVxuICogdGhlIHNhbWUgb2Zmc2V0LCBmb3IgZXhhbXBsZSBtdWx0aXBsZSBpbnNlcnRzLCBvciBhbiBpbnNlcnQgZm9sbG93ZWQgYnkgYSByZW1vdmUgb3IgcmVwbGFjZS4gVGhlIG9yZGVyIGluIHRoZSBhcnJheSBkZWZpbmVzIHdoaWNoIGVkaXQgaXMgYXBwbGllZCBmaXJzdC5cbiAqIFRvIGFwcGx5IGVkaXRzIHRvIGFuIGlucHV0LCB5b3UgY2FuIHVzZSBgYXBwbHlFZGl0c2BcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1vZGlmeSh0ZXh0LCBwYXRoLCB2YWx1ZSwgb3B0aW9ucykge1xuICAgIHJldHVybiBlZGl0LnNldFByb3BlcnR5KHRleHQsIHBhdGgsIHZhbHVlLCBvcHRpb25zLmZvcm1hdHRpbmdPcHRpb25zLCBvcHRpb25zLmdldEluc2VydGlvbkluZGV4KTtcbn1cbi8qKlxuICogQXBwbGllcyBlZGl0cyB0byBhIGlucHV0IHN0cmluZy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFwcGx5RWRpdHModGV4dCwgZWRpdHMpIHtcbiAgICBmb3IgKHZhciBpID0gZWRpdHMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgdGV4dCA9IGVkaXQuYXBwbHlFZGl0KHRleHQsIGVkaXRzW2ldKTtcbiAgICB9XG4gICAgcmV0dXJuIHRleHQ7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYWluLmpzLm1hcCIsIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuJ3VzZSBzdHJpY3QnO1xuZXhwb3J0IGZ1bmN0aW9uIGVxdWFscyhvbmUsIG90aGVyKSB7XG4gICAgaWYgKG9uZSA9PT0gb3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChvbmUgPT09IG51bGwgfHwgb25lID09PSB1bmRlZmluZWQgfHwgb3RoZXIgPT09IG51bGwgfHwgb3RoZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygb25lICE9PSB0eXBlb2Ygb3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIG9uZSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoKEFycmF5LmlzQXJyYXkob25lKSkgIT09IChBcnJheS5pc0FycmF5KG90aGVyKSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB2YXIgaSwga2V5O1xuICAgIGlmIChBcnJheS5pc0FycmF5KG9uZSkpIHtcbiAgICAgICAgaWYgKG9uZS5sZW5ndGggIT09IG90aGVyLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBvbmUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmICghZXF1YWxzKG9uZVtpXSwgb3RoZXJbaV0pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB2YXIgb25lS2V5cyA9IFtdO1xuICAgICAgICBmb3IgKGtleSBpbiBvbmUpIHtcbiAgICAgICAgICAgIG9uZUtleXMucHVzaChrZXkpO1xuICAgICAgICB9XG4gICAgICAgIG9uZUtleXMuc29ydCgpO1xuICAgICAgICB2YXIgb3RoZXJLZXlzID0gW107XG4gICAgICAgIGZvciAoa2V5IGluIG90aGVyKSB7XG4gICAgICAgICAgICBvdGhlcktleXMucHVzaChrZXkpO1xuICAgICAgICB9XG4gICAgICAgIG90aGVyS2V5cy5zb3J0KCk7XG4gICAgICAgIGlmICghZXF1YWxzKG9uZUtleXMsIG90aGVyS2V5cykpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgb25lS2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKCFlcXVhbHMob25lW29uZUtleXNbaV1dLCBvdGhlcltvbmVLZXlzW2ldXSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1vYmplY3RzLmpzLm1hcCIsIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuZnVuY3Rpb24gZm9ybWF0KG1lc3NhZ2UsIGFyZ3MpIHtcbiAgICB2YXIgcmVzdWx0O1xuICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXN1bHQgPSBtZXNzYWdlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmVzdWx0ID0gbWVzc2FnZS5yZXBsYWNlKC9cXHsoXFxkKylcXH0vZywgZnVuY3Rpb24gKG1hdGNoLCByZXN0KSB7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSByZXN0WzBdO1xuICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiBhcmdzW2luZGV4XSAhPT0gJ3VuZGVmaW5lZCcgPyBhcmdzW2luZGV4XSA6IG1hdGNoO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIGxvY2FsaXplKGtleSwgbWVzc2FnZSkge1xuICAgIHZhciBhcmdzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAyOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgYXJnc1tfaSAtIDJdID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgcmV0dXJuIGZvcm1hdChtZXNzYWdlLCBhcmdzKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBsb2FkTWVzc2FnZUJ1bmRsZShmaWxlKSB7XG4gICAgcmV0dXJuIGxvY2FsaXplO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNvbmZpZyhvcHQpIHtcbiAgICByZXR1cm4gbG9hZE1lc3NhZ2VCdW5kbGU7XG59XG4iLCIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbid1c2Ugc3RyaWN0JztcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuaW1wb3J0ICogYXMgSnNvbiBmcm9tICcuLi8uLi9qc29uYy1wYXJzZXIvbWFpbi5qcyc7XG5pbXBvcnQgKiBhcyBvYmplY3RzIGZyb20gJy4uL3V0aWxzL29iamVjdHMuanMnO1xuaW1wb3J0ICogYXMgbmxzIGZyb20gJy4uLy4uLy4uL2ZpbGxlcnMvdnNjb2RlLW5scy5qcyc7XG5pbXBvcnQgVXJpIGZyb20gJy4uLy4uL3ZzY29kZS11cmkvaW5kZXguanMnO1xuaW1wb3J0IHsgRGlhZ25vc3RpY1NldmVyaXR5IH0gZnJvbSAnLi4vLi4vdnNjb2RlLWxhbmd1YWdlc2VydmVyLXR5cGVzL21haW4uanMnO1xudmFyIGxvY2FsaXplID0gbmxzLmxvYWRNZXNzYWdlQnVuZGxlKCk7XG5leHBvcnQgdmFyIEVycm9yQ29kZTtcbihmdW5jdGlvbiAoRXJyb3JDb2RlKSB7XG4gICAgRXJyb3JDb2RlW0Vycm9yQ29kZVtcIlVuZGVmaW5lZFwiXSA9IDBdID0gXCJVbmRlZmluZWRcIjtcbiAgICBFcnJvckNvZGVbRXJyb3JDb2RlW1wiRW51bVZhbHVlTWlzbWF0Y2hcIl0gPSAxXSA9IFwiRW51bVZhbHVlTWlzbWF0Y2hcIjtcbiAgICBFcnJvckNvZGVbRXJyb3JDb2RlW1wiVW5leHBlY3RlZEVuZE9mQ29tbWVudFwiXSA9IDI1N10gPSBcIlVuZXhwZWN0ZWRFbmRPZkNvbW1lbnRcIjtcbiAgICBFcnJvckNvZGVbRXJyb3JDb2RlW1wiVW5leHBlY3RlZEVuZE9mU3RyaW5nXCJdID0gMjU4XSA9IFwiVW5leHBlY3RlZEVuZE9mU3RyaW5nXCI7XG4gICAgRXJyb3JDb2RlW0Vycm9yQ29kZVtcIlVuZXhwZWN0ZWRFbmRPZk51bWJlclwiXSA9IDI1OV0gPSBcIlVuZXhwZWN0ZWRFbmRPZk51bWJlclwiO1xuICAgIEVycm9yQ29kZVtFcnJvckNvZGVbXCJJbnZhbGlkVW5pY29kZVwiXSA9IDI2MF0gPSBcIkludmFsaWRVbmljb2RlXCI7XG4gICAgRXJyb3JDb2RlW0Vycm9yQ29kZVtcIkludmFsaWRFc2NhcGVDaGFyYWN0ZXJcIl0gPSAyNjFdID0gXCJJbnZhbGlkRXNjYXBlQ2hhcmFjdGVyXCI7XG4gICAgRXJyb3JDb2RlW0Vycm9yQ29kZVtcIkludmFsaWRDaGFyYWN0ZXJcIl0gPSAyNjJdID0gXCJJbnZhbGlkQ2hhcmFjdGVyXCI7XG4gICAgRXJyb3JDb2RlW0Vycm9yQ29kZVtcIlByb3BlcnR5RXhwZWN0ZWRcIl0gPSA1MTNdID0gXCJQcm9wZXJ0eUV4cGVjdGVkXCI7XG4gICAgRXJyb3JDb2RlW0Vycm9yQ29kZVtcIkNvbW1hRXhwZWN0ZWRcIl0gPSA1MTRdID0gXCJDb21tYUV4cGVjdGVkXCI7XG4gICAgRXJyb3JDb2RlW0Vycm9yQ29kZVtcIkNvbG9uRXhwZWN0ZWRcIl0gPSA1MTVdID0gXCJDb2xvbkV4cGVjdGVkXCI7XG4gICAgRXJyb3JDb2RlW0Vycm9yQ29kZVtcIlZhbHVlRXhwZWN0ZWRcIl0gPSA1MTZdID0gXCJWYWx1ZUV4cGVjdGVkXCI7XG4gICAgRXJyb3JDb2RlW0Vycm9yQ29kZVtcIkNvbW1hT3JDbG9zZUJhY2tldEV4cGVjdGVkXCJdID0gNTE3XSA9IFwiQ29tbWFPckNsb3NlQmFja2V0RXhwZWN0ZWRcIjtcbiAgICBFcnJvckNvZGVbRXJyb3JDb2RlW1wiQ29tbWFPckNsb3NlQnJhY2VFeHBlY3RlZFwiXSA9IDUxOF0gPSBcIkNvbW1hT3JDbG9zZUJyYWNlRXhwZWN0ZWRcIjtcbiAgICBFcnJvckNvZGVbRXJyb3JDb2RlW1wiVHJhaWxpbmdDb21tYVwiXSA9IDUxOV0gPSBcIlRyYWlsaW5nQ29tbWFcIjtcbn0pKEVycm9yQ29kZSB8fCAoRXJyb3JDb2RlID0ge30pKTtcbnZhciBjb2xvckhleFBhdHRlcm4gPSAvXiMoWzAtOUEtRmEtZl17Myw0fXwoWzAtOUEtRmEtZl17Mn0pezMsNH0pJC87XG52YXIgZW1haWxQYXR0ZXJuID0gL14oKFtePD4oKVxcW1xcXVxcXFwuLDs6XFxzQFwiXSsoXFwuW148PigpXFxbXFxdXFxcXC4sOzpcXHNAXCJdKykqKXwoXCIuK1wiKSlAKChcXFtbMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsxLDN9XSl8KChbYS16QS1aXFwtMC05XStcXC4pK1thLXpBLVpdezIsfSkpJC87XG5leHBvcnQgdmFyIFByb2JsZW1TZXZlcml0eTtcbihmdW5jdGlvbiAoUHJvYmxlbVNldmVyaXR5KSB7XG4gICAgUHJvYmxlbVNldmVyaXR5W1wiSWdub3JlXCJdID0gXCJpZ25vcmVcIjtcbiAgICBQcm9ibGVtU2V2ZXJpdHlbXCJFcnJvclwiXSA9IFwiZXJyb3JcIjtcbiAgICBQcm9ibGVtU2V2ZXJpdHlbXCJXYXJuaW5nXCJdID0gXCJ3YXJuaW5nXCI7XG59KShQcm9ibGVtU2V2ZXJpdHkgfHwgKFByb2JsZW1TZXZlcml0eSA9IHt9KSk7XG52YXIgQVNUTm9kZUltcGwgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQVNUTm9kZUltcGwocGFyZW50LCBvZmZzZXQsIGxlbmd0aCkge1xuICAgICAgICB0aGlzLm9mZnNldCA9IG9mZnNldDtcbiAgICAgICAgdGhpcy5sZW5ndGggPSBsZW5ndGg7XG4gICAgICAgIHRoaXMucGFyZW50ID0gcGFyZW50O1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQVNUTm9kZUltcGwucHJvdG90eXBlLCBcImNoaWxkcmVuXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIEFTVE5vZGVJbXBsLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICd0eXBlOiAnICsgdGhpcy50eXBlICsgJyAoJyArIHRoaXMub2Zmc2V0ICsgJy8nICsgdGhpcy5sZW5ndGggKyAnKScgKyAodGhpcy5wYXJlbnQgPyAnIHBhcmVudDogeycgKyB0aGlzLnBhcmVudC50b1N0cmluZygpICsgJ30nIDogJycpO1xuICAgIH07XG4gICAgcmV0dXJuIEFTVE5vZGVJbXBsO1xufSgpKTtcbmV4cG9ydCB7IEFTVE5vZGVJbXBsIH07XG52YXIgTnVsbEFTVE5vZGVJbXBsID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhOdWxsQVNUTm9kZUltcGwsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gTnVsbEFTVE5vZGVJbXBsKHBhcmVudCwgb2Zmc2V0KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHBhcmVudCwgb2Zmc2V0KSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy50eXBlID0gJ251bGwnO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIHJldHVybiBOdWxsQVNUTm9kZUltcGw7XG59KEFTVE5vZGVJbXBsKSk7XG5leHBvcnQgeyBOdWxsQVNUTm9kZUltcGwgfTtcbnZhciBCb29sZWFuQVNUTm9kZUltcGwgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEJvb2xlYW5BU1ROb2RlSW1wbCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBCb29sZWFuQVNUTm9kZUltcGwocGFyZW50LCBib29sVmFsdWUsIG9mZnNldCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBwYXJlbnQsIG9mZnNldCkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMudHlwZSA9ICdib29sZWFuJztcbiAgICAgICAgX3RoaXMudmFsdWUgPSBib29sVmFsdWU7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIEJvb2xlYW5BU1ROb2RlSW1wbDtcbn0oQVNUTm9kZUltcGwpKTtcbmV4cG9ydCB7IEJvb2xlYW5BU1ROb2RlSW1wbCB9O1xudmFyIEFycmF5QVNUTm9kZUltcGwgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEFycmF5QVNUTm9kZUltcGwsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQXJyYXlBU1ROb2RlSW1wbChwYXJlbnQsIG9mZnNldCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBwYXJlbnQsIG9mZnNldCkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMudHlwZSA9ICdhcnJheSc7XG4gICAgICAgIF90aGlzLml0ZW1zID0gW107XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFycmF5QVNUTm9kZUltcGwucHJvdG90eXBlLCBcImNoaWxkcmVuXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pdGVtcztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIEFycmF5QVNUTm9kZUltcGw7XG59KEFTVE5vZGVJbXBsKSk7XG5leHBvcnQgeyBBcnJheUFTVE5vZGVJbXBsIH07XG52YXIgTnVtYmVyQVNUTm9kZUltcGwgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE51bWJlckFTVE5vZGVJbXBsLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIE51bWJlckFTVE5vZGVJbXBsKHBhcmVudCwgb2Zmc2V0KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHBhcmVudCwgb2Zmc2V0KSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy50eXBlID0gJ251bWJlcic7XG4gICAgICAgIF90aGlzLmlzSW50ZWdlciA9IHRydWU7XG4gICAgICAgIF90aGlzLnZhbHVlID0gTnVtYmVyLk5hTjtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICByZXR1cm4gTnVtYmVyQVNUTm9kZUltcGw7XG59KEFTVE5vZGVJbXBsKSk7XG5leHBvcnQgeyBOdW1iZXJBU1ROb2RlSW1wbCB9O1xudmFyIFN0cmluZ0FTVE5vZGVJbXBsID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhTdHJpbmdBU1ROb2RlSW1wbCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTdHJpbmdBU1ROb2RlSW1wbChwYXJlbnQsIG9mZnNldCwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHBhcmVudCwgb2Zmc2V0LCBsZW5ndGgpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnR5cGUgPSAnc3RyaW5nJztcbiAgICAgICAgX3RoaXMudmFsdWUgPSAnJztcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICByZXR1cm4gU3RyaW5nQVNUTm9kZUltcGw7XG59KEFTVE5vZGVJbXBsKSk7XG5leHBvcnQgeyBTdHJpbmdBU1ROb2RlSW1wbCB9O1xudmFyIFByb3BlcnR5QVNUTm9kZUltcGwgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFByb3BlcnR5QVNUTm9kZUltcGwsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gUHJvcGVydHlBU1ROb2RlSW1wbChwYXJlbnQsIG9mZnNldCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBwYXJlbnQsIG9mZnNldCkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMudHlwZSA9ICdwcm9wZXJ0eSc7XG4gICAgICAgIF90aGlzLmNvbG9uT2Zmc2V0ID0gLTE7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFByb3BlcnR5QVNUTm9kZUltcGwucHJvdG90eXBlLCBcImNoaWxkcmVuXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52YWx1ZU5vZGUgPyBbdGhpcy5rZXlOb2RlLCB0aGlzLnZhbHVlTm9kZV0gOiBbdGhpcy5rZXlOb2RlXTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIFByb3BlcnR5QVNUTm9kZUltcGw7XG59KEFTVE5vZGVJbXBsKSk7XG5leHBvcnQgeyBQcm9wZXJ0eUFTVE5vZGVJbXBsIH07XG52YXIgT2JqZWN0QVNUTm9kZUltcGwgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE9iamVjdEFTVE5vZGVJbXBsLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIE9iamVjdEFTVE5vZGVJbXBsKHBhcmVudCwgb2Zmc2V0KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHBhcmVudCwgb2Zmc2V0KSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy50eXBlID0gJ29iamVjdCc7XG4gICAgICAgIF90aGlzLnByb3BlcnRpZXMgPSBbXTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoT2JqZWN0QVNUTm9kZUltcGwucHJvdG90eXBlLCBcImNoaWxkcmVuXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wcm9wZXJ0aWVzO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gT2JqZWN0QVNUTm9kZUltcGw7XG59KEFTVE5vZGVJbXBsKSk7XG5leHBvcnQgeyBPYmplY3RBU1ROb2RlSW1wbCB9O1xuZXhwb3J0IGZ1bmN0aW9uIGFzU2NoZW1hKHNjaGVtYSkge1xuICAgIGlmICh0eXBlb2Ygc2NoZW1hID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgcmV0dXJuIHNjaGVtYSA/IHt9IDogeyBcIm5vdFwiOiB7fSB9O1xuICAgIH1cbiAgICByZXR1cm4gc2NoZW1hO1xufVxuZXhwb3J0IHZhciBFbnVtTWF0Y2g7XG4oZnVuY3Rpb24gKEVudW1NYXRjaCkge1xuICAgIEVudW1NYXRjaFtFbnVtTWF0Y2hbXCJLZXlcIl0gPSAwXSA9IFwiS2V5XCI7XG4gICAgRW51bU1hdGNoW0VudW1NYXRjaFtcIkVudW1cIl0gPSAxXSA9IFwiRW51bVwiO1xufSkoRW51bU1hdGNoIHx8IChFbnVtTWF0Y2ggPSB7fSkpO1xudmFyIFNjaGVtYUNvbGxlY3RvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTY2hlbWFDb2xsZWN0b3IoZm9jdXNPZmZzZXQsIGV4Y2x1ZGUpIHtcbiAgICAgICAgaWYgKGZvY3VzT2Zmc2V0ID09PSB2b2lkIDApIHsgZm9jdXNPZmZzZXQgPSAtMTsgfVxuICAgICAgICBpZiAoZXhjbHVkZSA9PT0gdm9pZCAwKSB7IGV4Y2x1ZGUgPSBudWxsOyB9XG4gICAgICAgIHRoaXMuZm9jdXNPZmZzZXQgPSBmb2N1c09mZnNldDtcbiAgICAgICAgdGhpcy5leGNsdWRlID0gZXhjbHVkZTtcbiAgICAgICAgdGhpcy5zY2hlbWFzID0gW107XG4gICAgfVxuICAgIFNjaGVtYUNvbGxlY3Rvci5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKHNjaGVtYSkge1xuICAgICAgICB0aGlzLnNjaGVtYXMucHVzaChzY2hlbWEpO1xuICAgIH07XG4gICAgU2NoZW1hQ29sbGVjdG9yLnByb3RvdHlwZS5tZXJnZSA9IGZ1bmN0aW9uIChvdGhlcikge1xuICAgICAgICAoX2EgPSB0aGlzLnNjaGVtYXMpLnB1c2guYXBwbHkoX2EsIG90aGVyLnNjaGVtYXMpO1xuICAgICAgICB2YXIgX2E7XG4gICAgfTtcbiAgICBTY2hlbWFDb2xsZWN0b3IucHJvdG90eXBlLmluY2x1ZGUgPSBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICByZXR1cm4gKHRoaXMuZm9jdXNPZmZzZXQgPT09IC0xIHx8IGNvbnRhaW5zKG5vZGUsIHRoaXMuZm9jdXNPZmZzZXQpKSAmJiAobm9kZSAhPT0gdGhpcy5leGNsdWRlKTtcbiAgICB9O1xuICAgIFNjaGVtYUNvbGxlY3Rvci5wcm90b3R5cGUubmV3U3ViID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbmV3IFNjaGVtYUNvbGxlY3RvcigtMSwgdGhpcy5leGNsdWRlKTtcbiAgICB9O1xuICAgIHJldHVybiBTY2hlbWFDb2xsZWN0b3I7XG59KCkpO1xudmFyIE5vT3BTY2hlbWFDb2xsZWN0b3IgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTm9PcFNjaGVtYUNvbGxlY3RvcigpIHtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5vT3BTY2hlbWFDb2xsZWN0b3IucHJvdG90eXBlLCBcInNjaGVtYXNcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFtdOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBOb09wU2NoZW1hQ29sbGVjdG9yLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAoc2NoZW1hKSB7IH07XG4gICAgTm9PcFNjaGVtYUNvbGxlY3Rvci5wcm90b3R5cGUubWVyZ2UgPSBmdW5jdGlvbiAob3RoZXIpIHsgfTtcbiAgICBOb09wU2NoZW1hQ29sbGVjdG9yLnByb3RvdHlwZS5pbmNsdWRlID0gZnVuY3Rpb24gKG5vZGUpIHsgcmV0dXJuIHRydWU7IH07XG4gICAgTm9PcFNjaGVtYUNvbGxlY3Rvci5wcm90b3R5cGUubmV3U3ViID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfTtcbiAgICBOb09wU2NoZW1hQ29sbGVjdG9yLmluc3RhbmNlID0gbmV3IE5vT3BTY2hlbWFDb2xsZWN0b3IoKTtcbiAgICByZXR1cm4gTm9PcFNjaGVtYUNvbGxlY3Rvcjtcbn0oKSk7XG52YXIgVmFsaWRhdGlvblJlc3VsdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBWYWxpZGF0aW9uUmVzdWx0KCkge1xuICAgICAgICB0aGlzLnByb2JsZW1zID0gW107XG4gICAgICAgIHRoaXMucHJvcGVydGllc01hdGNoZXMgPSAwO1xuICAgICAgICB0aGlzLnByb3BlcnRpZXNWYWx1ZU1hdGNoZXMgPSAwO1xuICAgICAgICB0aGlzLnByaW1hcnlWYWx1ZU1hdGNoZXMgPSAwO1xuICAgICAgICB0aGlzLmVudW1WYWx1ZU1hdGNoID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZW51bVZhbHVlcyA9IG51bGw7XG4gICAgfVxuICAgIFZhbGlkYXRpb25SZXN1bHQucHJvdG90eXBlLmhhc1Byb2JsZW1zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLnByb2JsZW1zLmxlbmd0aDtcbiAgICB9O1xuICAgIFZhbGlkYXRpb25SZXN1bHQucHJvdG90eXBlLm1lcmdlQWxsID0gZnVuY3Rpb24gKHZhbGlkYXRpb25SZXN1bHRzKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhbGlkYXRpb25SZXN1bHRzLmZvckVhY2goZnVuY3Rpb24gKHZhbGlkYXRpb25SZXN1bHQpIHtcbiAgICAgICAgICAgIF90aGlzLm1lcmdlKHZhbGlkYXRpb25SZXN1bHQpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFZhbGlkYXRpb25SZXN1bHQucHJvdG90eXBlLm1lcmdlID0gZnVuY3Rpb24gKHZhbGlkYXRpb25SZXN1bHQpIHtcbiAgICAgICAgdGhpcy5wcm9ibGVtcyA9IHRoaXMucHJvYmxlbXMuY29uY2F0KHZhbGlkYXRpb25SZXN1bHQucHJvYmxlbXMpO1xuICAgIH07XG4gICAgVmFsaWRhdGlvblJlc3VsdC5wcm90b3R5cGUubWVyZ2VFbnVtVmFsdWVzID0gZnVuY3Rpb24gKHZhbGlkYXRpb25SZXN1bHQpIHtcbiAgICAgICAgaWYgKCF0aGlzLmVudW1WYWx1ZU1hdGNoICYmICF2YWxpZGF0aW9uUmVzdWx0LmVudW1WYWx1ZU1hdGNoICYmIHRoaXMuZW51bVZhbHVlcyAmJiB2YWxpZGF0aW9uUmVzdWx0LmVudW1WYWx1ZXMpIHtcbiAgICAgICAgICAgIHRoaXMuZW51bVZhbHVlcyA9IHRoaXMuZW51bVZhbHVlcy5jb25jYXQodmFsaWRhdGlvblJlc3VsdC5lbnVtVmFsdWVzKTtcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSB0aGlzLnByb2JsZW1zOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgIHZhciBlcnJvciA9IF9hW19pXTtcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3IuY29kZSA9PT0gRXJyb3JDb2RlLkVudW1WYWx1ZU1pc21hdGNoKSB7XG4gICAgICAgICAgICAgICAgICAgIGVycm9yLm1lc3NhZ2UgPSBsb2NhbGl6ZSgnZW51bVdhcm5pbmcnLCAnVmFsdWUgaXMgbm90IGFjY2VwdGVkLiBWYWxpZCB2YWx1ZXM6IHswfS4nLCB0aGlzLmVudW1WYWx1ZXMubWFwKGZ1bmN0aW9uICh2KSB7IHJldHVybiBKU09OLnN0cmluZ2lmeSh2KTsgfSkuam9pbignLCAnKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBWYWxpZGF0aW9uUmVzdWx0LnByb3RvdHlwZS5tZXJnZVByb3BlcnR5TWF0Y2ggPSBmdW5jdGlvbiAocHJvcGVydHlWYWxpZGF0aW9uUmVzdWx0KSB7XG4gICAgICAgIHRoaXMubWVyZ2UocHJvcGVydHlWYWxpZGF0aW9uUmVzdWx0KTtcbiAgICAgICAgdGhpcy5wcm9wZXJ0aWVzTWF0Y2hlcysrO1xuICAgICAgICBpZiAocHJvcGVydHlWYWxpZGF0aW9uUmVzdWx0LmVudW1WYWx1ZU1hdGNoIHx8ICFwcm9wZXJ0eVZhbGlkYXRpb25SZXN1bHQuaGFzUHJvYmxlbXMoKSAmJiBwcm9wZXJ0eVZhbGlkYXRpb25SZXN1bHQucHJvcGVydGllc01hdGNoZXMpIHtcbiAgICAgICAgICAgIHRoaXMucHJvcGVydGllc1ZhbHVlTWF0Y2hlcysrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcm9wZXJ0eVZhbGlkYXRpb25SZXN1bHQuZW51bVZhbHVlTWF0Y2ggJiYgcHJvcGVydHlWYWxpZGF0aW9uUmVzdWx0LmVudW1WYWx1ZXMgJiYgcHJvcGVydHlWYWxpZGF0aW9uUmVzdWx0LmVudW1WYWx1ZXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICB0aGlzLnByaW1hcnlWYWx1ZU1hdGNoZXMrKztcbiAgICAgICAgfVxuICAgIH07XG4gICAgVmFsaWRhdGlvblJlc3VsdC5wcm90b3R5cGUuY29tcGFyZSA9IGZ1bmN0aW9uIChvdGhlcikge1xuICAgICAgICB2YXIgaGFzUHJvYmxlbXMgPSB0aGlzLmhhc1Byb2JsZW1zKCk7XG4gICAgICAgIGlmIChoYXNQcm9ibGVtcyAhPT0gb3RoZXIuaGFzUHJvYmxlbXMoKSkge1xuICAgICAgICAgICAgcmV0dXJuIGhhc1Byb2JsZW1zID8gLTEgOiAxO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmVudW1WYWx1ZU1hdGNoICE9PSBvdGhlci5lbnVtVmFsdWVNYXRjaCkge1xuICAgICAgICAgICAgcmV0dXJuIG90aGVyLmVudW1WYWx1ZU1hdGNoID8gLTEgOiAxO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnByaW1hcnlWYWx1ZU1hdGNoZXMgIT09IG90aGVyLnByaW1hcnlWYWx1ZU1hdGNoZXMpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnByaW1hcnlWYWx1ZU1hdGNoZXMgLSBvdGhlci5wcmltYXJ5VmFsdWVNYXRjaGVzO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnByb3BlcnRpZXNWYWx1ZU1hdGNoZXMgIT09IG90aGVyLnByb3BlcnRpZXNWYWx1ZU1hdGNoZXMpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnByb3BlcnRpZXNWYWx1ZU1hdGNoZXMgLSBvdGhlci5wcm9wZXJ0aWVzVmFsdWVNYXRjaGVzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnByb3BlcnRpZXNNYXRjaGVzIC0gb3RoZXIucHJvcGVydGllc01hdGNoZXM7XG4gICAgfTtcbiAgICByZXR1cm4gVmFsaWRhdGlvblJlc3VsdDtcbn0oKSk7XG5leHBvcnQgeyBWYWxpZGF0aW9uUmVzdWx0IH07XG5mdW5jdGlvbiB0b1Byb2JsZW1TZXZlcml0eShkaWFnbm9zdGljc1NldmVyaXR5KSB7XG4gICAgc3dpdGNoIChkaWFnbm9zdGljc1NldmVyaXR5KSB7XG4gICAgICAgIGNhc2UgRGlhZ25vc3RpY1NldmVyaXR5LkVycm9yOiByZXR1cm4gUHJvYmxlbVNldmVyaXR5LkVycm9yO1xuICAgICAgICBjYXNlIERpYWdub3N0aWNTZXZlcml0eS5XYXJuaW5nOiByZXR1cm4gUHJvYmxlbVNldmVyaXR5Lldhcm5pbmc7XG4gICAgICAgIGNhc2UgRGlhZ25vc3RpY1NldmVyaXR5LkluZm9ybWF0aW9uOiByZXR1cm4gUHJvYmxlbVNldmVyaXR5Lldhcm5pbmc7XG4gICAgfVxuICAgIHJldHVybiBQcm9ibGVtU2V2ZXJpdHkuSWdub3JlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG5ld0pTT05Eb2N1bWVudChyb290LCBkaWFnbm9zdGljcykge1xuICAgIGlmIChkaWFnbm9zdGljcyA9PT0gdm9pZCAwKSB7IGRpYWdub3N0aWNzID0gW107IH1cbiAgICByZXR1cm4gbmV3IEpTT05Eb2N1bWVudChyb290LCBbXSwgW10sIGRpYWdub3N0aWNzKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXROb2RlVmFsdWUobm9kZSkge1xuICAgIHN3aXRjaCAobm9kZS50eXBlKSB7XG4gICAgICAgIGNhc2UgJ2FycmF5JzpcbiAgICAgICAgICAgIHJldHVybiBub2RlLml0ZW1zLm1hcChnZXROb2RlVmFsdWUpO1xuICAgICAgICBjYXNlICdvYmplY3QnOlxuICAgICAgICAgICAgdmFyIG9iaiA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gbm9kZS5wcm9wZXJ0aWVzOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgIHZhciBwcm9wID0gX2FbX2ldO1xuICAgICAgICAgICAgICAgIG9ialtwcm9wLmtleU5vZGUudmFsdWVdID0gZ2V0Tm9kZVZhbHVlKHByb3AudmFsdWVOb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAgIGNhc2UgJ251bWJlcic6XG4gICAgICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgICAgICAgcmV0dXJuIG5vZGUudmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldE5vZGVQYXRoKG5vZGUpIHtcbiAgICBpZiAoIW5vZGUucGFyZW50KSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgdmFyIHBhdGggPSBnZXROb2RlUGF0aChub2RlLnBhcmVudCk7XG4gICAgaWYgKG5vZGUucGFyZW50LnR5cGUgPT09ICdwcm9wZXJ0eScpIHtcbiAgICAgICAgdmFyIGtleSA9IG5vZGUucGFyZW50LmtleU5vZGUudmFsdWU7XG4gICAgICAgIHBhdGgucHVzaChrZXkpO1xuICAgIH1cbiAgICBlbHNlIGlmIChub2RlLnBhcmVudC50eXBlID09PSAnYXJyYXknKSB7XG4gICAgICAgIHZhciBpbmRleCA9IG5vZGUucGFyZW50Lml0ZW1zLmluZGV4T2Yobm9kZSk7XG4gICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgIHBhdGgucHVzaChpbmRleCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHBhdGg7XG59XG5leHBvcnQgZnVuY3Rpb24gY29udGFpbnMobm9kZSwgb2Zmc2V0LCBpbmNsdWRlUmlnaHRCb3VuZCkge1xuICAgIGlmIChpbmNsdWRlUmlnaHRCb3VuZCA9PT0gdm9pZCAwKSB7IGluY2x1ZGVSaWdodEJvdW5kID0gZmFsc2U7IH1cbiAgICByZXR1cm4gb2Zmc2V0ID49IG5vZGUub2Zmc2V0ICYmIG9mZnNldCA8IChub2RlLm9mZnNldCArIG5vZGUubGVuZ3RoKSB8fCBpbmNsdWRlUmlnaHRCb3VuZCAmJiBvZmZzZXQgPT09IChub2RlLm9mZnNldCArIG5vZGUubGVuZ3RoKTtcbn1cbnZhciBKU09ORG9jdW1lbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gSlNPTkRvY3VtZW50KHJvb3QsIHN5bnRheEVycm9ycywgY29tbWVudHMsIGV4dGVybmFsRGlhZ25vc3RpYykge1xuICAgICAgICBpZiAoc3ludGF4RXJyb3JzID09PSB2b2lkIDApIHsgc3ludGF4RXJyb3JzID0gW107IH1cbiAgICAgICAgaWYgKGNvbW1lbnRzID09PSB2b2lkIDApIHsgY29tbWVudHMgPSBbXTsgfVxuICAgICAgICBpZiAoZXh0ZXJuYWxEaWFnbm9zdGljID09PSB2b2lkIDApIHsgZXh0ZXJuYWxEaWFnbm9zdGljID0gW107IH1cbiAgICAgICAgdGhpcy5yb290ID0gcm9vdDtcbiAgICAgICAgdGhpcy5zeW50YXhFcnJvcnMgPSBzeW50YXhFcnJvcnM7XG4gICAgICAgIHRoaXMuY29tbWVudHMgPSBjb21tZW50cztcbiAgICAgICAgdGhpcy5leHRlcm5hbERpYWdub3N0aWMgPSBleHRlcm5hbERpYWdub3N0aWM7XG4gICAgfVxuICAgIEpTT05Eb2N1bWVudC5wcm90b3R5cGUuZ2V0Tm9kZUZyb21PZmZzZXQgPSBmdW5jdGlvbiAob2Zmc2V0KSB7XG4gICAgICAgIHZhciBmaW5kTm9kZSA9IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgICAgICBpZiAob2Zmc2V0ID49IG5vZGUub2Zmc2V0ICYmIG9mZnNldCA8IChub2RlLm9mZnNldCArIG5vZGUubGVuZ3RoKSkge1xuICAgICAgICAgICAgICAgIHZhciBjaGlsZHJlbiA9IG5vZGUuY2hpbGRyZW47XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGggJiYgY2hpbGRyZW5baV0ub2Zmc2V0IDw9IG9mZnNldDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpdGVtID0gZmluZE5vZGUoY2hpbGRyZW5baV0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRoaXMucm9vdCAmJiBmaW5kTm9kZSh0aGlzLnJvb3QpO1xuICAgIH07XG4gICAgSlNPTkRvY3VtZW50LnByb3RvdHlwZS5nZXROb2RlRnJvbU9mZnNldEVuZEluY2x1c2l2ZSA9IGZ1bmN0aW9uIChvZmZzZXQpIHtcbiAgICAgICAgdmFyIGZpbmROb2RlID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgICAgIGlmIChvZmZzZXQgPj0gbm9kZS5vZmZzZXQgJiYgb2Zmc2V0IDw9IChub2RlLm9mZnNldCArIG5vZGUubGVuZ3RoKSkge1xuICAgICAgICAgICAgICAgIHZhciBjaGlsZHJlbiA9IG5vZGUuY2hpbGRyZW47XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGggJiYgY2hpbGRyZW5baV0ub2Zmc2V0IDw9IG9mZnNldDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpdGVtID0gZmluZE5vZGUoY2hpbGRyZW5baV0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRoaXMucm9vdCAmJiBmaW5kTm9kZSh0aGlzLnJvb3QpO1xuICAgIH07XG4gICAgSlNPTkRvY3VtZW50LnByb3RvdHlwZS52aXNpdCA9IGZ1bmN0aW9uICh2aXNpdG9yKSB7XG4gICAgICAgIGlmICh0aGlzLnJvb3QpIHtcbiAgICAgICAgICAgIHZhciBkb1Zpc2l0XzEgPSBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICAgICAgICAgIHZhciBjdG4gPSB2aXNpdG9yKG5vZGUpO1xuICAgICAgICAgICAgICAgIHZhciBjaGlsZHJlbiA9IG5vZGUuY2hpbGRyZW47XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGggJiYgY3RuOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY3RuID0gZG9WaXNpdF8xKGNoaWxkcmVuW2ldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGN0bjtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBkb1Zpc2l0XzEodGhpcy5yb290KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgSlNPTkRvY3VtZW50LnByb3RvdHlwZS52YWxpZGF0ZSA9IGZ1bmN0aW9uIChzY2hlbWEpIHtcbiAgICAgICAgaWYgKHRoaXMucm9vdCAmJiBzY2hlbWEpIHtcbiAgICAgICAgICAgIHZhciB2YWxpZGF0aW9uUmVzdWx0ID0gbmV3IFZhbGlkYXRpb25SZXN1bHQoKTtcbiAgICAgICAgICAgIHZhbGlkYXRlKHRoaXMucm9vdCwgc2NoZW1hLCB2YWxpZGF0aW9uUmVzdWx0LCBOb09wU2NoZW1hQ29sbGVjdG9yLmluc3RhbmNlKTtcbiAgICAgICAgICAgIHJldHVybiB2YWxpZGF0aW9uUmVzdWx0LnByb2JsZW1zO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgSlNPTkRvY3VtZW50LnByb3RvdHlwZS5nZXRNYXRjaGluZ1NjaGVtYXMgPSBmdW5jdGlvbiAoc2NoZW1hLCBmb2N1c09mZnNldCwgZXhjbHVkZSkge1xuICAgICAgICBpZiAoZm9jdXNPZmZzZXQgPT09IHZvaWQgMCkgeyBmb2N1c09mZnNldCA9IC0xOyB9XG4gICAgICAgIGlmIChleGNsdWRlID09PSB2b2lkIDApIHsgZXhjbHVkZSA9IG51bGw7IH1cbiAgICAgICAgdmFyIG1hdGNoaW5nU2NoZW1hcyA9IG5ldyBTY2hlbWFDb2xsZWN0b3IoZm9jdXNPZmZzZXQsIGV4Y2x1ZGUpO1xuICAgICAgICBpZiAodGhpcy5yb290ICYmIHNjaGVtYSkge1xuICAgICAgICAgICAgdmFsaWRhdGUodGhpcy5yb290LCBzY2hlbWEsIG5ldyBWYWxpZGF0aW9uUmVzdWx0KCksIG1hdGNoaW5nU2NoZW1hcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1hdGNoaW5nU2NoZW1hcy5zY2hlbWFzO1xuICAgIH07XG4gICAgcmV0dXJuIEpTT05Eb2N1bWVudDtcbn0oKSk7XG5leHBvcnQgeyBKU09ORG9jdW1lbnQgfTtcbmZ1bmN0aW9uIHZhbGlkYXRlKG5vZGUsIHNjaGVtYSwgdmFsaWRhdGlvblJlc3VsdCwgbWF0Y2hpbmdTY2hlbWFzKSB7XG4gICAgaWYgKCFub2RlIHx8ICFtYXRjaGluZ1NjaGVtYXMuaW5jbHVkZShub2RlKSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHN3aXRjaCAobm9kZS50eXBlKSB7XG4gICAgICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICAgICAgICBfdmFsaWRhdGVPYmplY3ROb2RlKG5vZGUsIHNjaGVtYSwgdmFsaWRhdGlvblJlc3VsdCwgbWF0Y2hpbmdTY2hlbWFzKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdhcnJheSc6XG4gICAgICAgICAgICBfdmFsaWRhdGVBcnJheU5vZGUobm9kZSwgc2NoZW1hLCB2YWxpZGF0aW9uUmVzdWx0LCBtYXRjaGluZ1NjaGVtYXMpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAgICAgICBfdmFsaWRhdGVTdHJpbmdOb2RlKG5vZGUsIHNjaGVtYSwgdmFsaWRhdGlvblJlc3VsdCwgbWF0Y2hpbmdTY2hlbWFzKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdudW1iZXInOlxuICAgICAgICAgICAgX3ZhbGlkYXRlTnVtYmVyTm9kZShub2RlLCBzY2hlbWEsIHZhbGlkYXRpb25SZXN1bHQsIG1hdGNoaW5nU2NoZW1hcyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAncHJvcGVydHknOlxuICAgICAgICAgICAgcmV0dXJuIHZhbGlkYXRlKG5vZGUudmFsdWVOb2RlLCBzY2hlbWEsIHZhbGlkYXRpb25SZXN1bHQsIG1hdGNoaW5nU2NoZW1hcyk7XG4gICAgfVxuICAgIF92YWxpZGF0ZU5vZGUoKTtcbiAgICBtYXRjaGluZ1NjaGVtYXMuYWRkKHsgbm9kZTogbm9kZSwgc2NoZW1hOiBzY2hlbWEgfSk7XG4gICAgZnVuY3Rpb24gX3ZhbGlkYXRlTm9kZSgpIHtcbiAgICAgICAgZnVuY3Rpb24gbWF0Y2hlc1R5cGUodHlwZSkge1xuICAgICAgICAgICAgcmV0dXJuIG5vZGUudHlwZSA9PT0gdHlwZSB8fCAodHlwZSA9PT0gJ2ludGVnZXInICYmIG5vZGUudHlwZSA9PT0gJ251bWJlcicgJiYgbm9kZS5pc0ludGVnZXIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHNjaGVtYS50eXBlKSkge1xuICAgICAgICAgICAgaWYgKCFzY2hlbWEudHlwZS5zb21lKG1hdGNoZXNUeXBlKSkge1xuICAgICAgICAgICAgICAgIHZhbGlkYXRpb25SZXN1bHQucHJvYmxlbXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uOiB7IG9mZnNldDogbm9kZS5vZmZzZXQsIGxlbmd0aDogbm9kZS5sZW5ndGggfSxcbiAgICAgICAgICAgICAgICAgICAgc2V2ZXJpdHk6IFByb2JsZW1TZXZlcml0eS5XYXJuaW5nLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBzY2hlbWEuZXJyb3JNZXNzYWdlIHx8IGxvY2FsaXplKCd0eXBlQXJyYXlNaXNtYXRjaFdhcm5pbmcnLCAnSW5jb3JyZWN0IHR5cGUuIEV4cGVjdGVkIG9uZSBvZiB7MH0uJywgc2NoZW1hLnR5cGUuam9pbignLCAnKSlcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzY2hlbWEudHlwZSkge1xuICAgICAgICAgICAgaWYgKCFtYXRjaGVzVHlwZShzY2hlbWEudHlwZSkpIHtcbiAgICAgICAgICAgICAgICB2YWxpZGF0aW9uUmVzdWx0LnByb2JsZW1zLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbjogeyBvZmZzZXQ6IG5vZGUub2Zmc2V0LCBsZW5ndGg6IG5vZGUubGVuZ3RoIH0sXG4gICAgICAgICAgICAgICAgICAgIHNldmVyaXR5OiBQcm9ibGVtU2V2ZXJpdHkuV2FybmluZyxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogc2NoZW1hLmVycm9yTWVzc2FnZSB8fCBsb2NhbGl6ZSgndHlwZU1pc21hdGNoV2FybmluZycsICdJbmNvcnJlY3QgdHlwZS4gRXhwZWN0ZWQgXCJ7MH1cIi4nLCBzY2hlbWEudHlwZSlcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShzY2hlbWEuYWxsT2YpKSB7XG4gICAgICAgICAgICBzY2hlbWEuYWxsT2YuZm9yRWFjaChmdW5jdGlvbiAoc3ViU2NoZW1hUmVmKSB7XG4gICAgICAgICAgICAgICAgdmFsaWRhdGUobm9kZSwgYXNTY2hlbWEoc3ViU2NoZW1hUmVmKSwgdmFsaWRhdGlvblJlc3VsdCwgbWF0Y2hpbmdTY2hlbWFzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHZhciBub3RTY2hlbWEgPSBhc1NjaGVtYShzY2hlbWEubm90KTtcbiAgICAgICAgaWYgKG5vdFNjaGVtYSkge1xuICAgICAgICAgICAgdmFyIHN1YlZhbGlkYXRpb25SZXN1bHQgPSBuZXcgVmFsaWRhdGlvblJlc3VsdCgpO1xuICAgICAgICAgICAgdmFyIHN1Yk1hdGNoaW5nU2NoZW1hcyA9IG1hdGNoaW5nU2NoZW1hcy5uZXdTdWIoKTtcbiAgICAgICAgICAgIHZhbGlkYXRlKG5vZGUsIG5vdFNjaGVtYSwgc3ViVmFsaWRhdGlvblJlc3VsdCwgc3ViTWF0Y2hpbmdTY2hlbWFzKTtcbiAgICAgICAgICAgIGlmICghc3ViVmFsaWRhdGlvblJlc3VsdC5oYXNQcm9ibGVtcygpKSB7XG4gICAgICAgICAgICAgICAgdmFsaWRhdGlvblJlc3VsdC5wcm9ibGVtcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb246IHsgb2Zmc2V0OiBub2RlLm9mZnNldCwgbGVuZ3RoOiBub2RlLmxlbmd0aCB9LFxuICAgICAgICAgICAgICAgICAgICBzZXZlcml0eTogUHJvYmxlbVNldmVyaXR5Lldhcm5pbmcsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGxvY2FsaXplKCdub3RTY2hlbWFXYXJuaW5nJywgXCJNYXRjaGVzIGEgc2NoZW1hIHRoYXQgaXMgbm90IGFsbG93ZWQuXCIpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdWJNYXRjaGluZ1NjaGVtYXMuc2NoZW1hcy5mb3JFYWNoKGZ1bmN0aW9uIChtcykge1xuICAgICAgICAgICAgICAgIG1zLmludmVydGVkID0gIW1zLmludmVydGVkO1xuICAgICAgICAgICAgICAgIG1hdGNoaW5nU2NoZW1hcy5hZGQobXMpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRlc3RBbHRlcm5hdGl2ZXMgPSBmdW5jdGlvbiAoYWx0ZXJuYXRpdmVzLCBtYXhPbmVNYXRjaCkge1xuICAgICAgICAgICAgdmFyIG1hdGNoZXMgPSBbXTtcbiAgICAgICAgICAgIC8vIHJlbWVtYmVyIHRoZSBiZXN0IG1hdGNoIHRoYXQgaXMgdXNlZCBmb3IgZXJyb3IgbWVzc2FnZXNcbiAgICAgICAgICAgIHZhciBiZXN0TWF0Y2ggPSBudWxsO1xuICAgICAgICAgICAgYWx0ZXJuYXRpdmVzLmZvckVhY2goZnVuY3Rpb24gKHN1YlNjaGVtYVJlZikge1xuICAgICAgICAgICAgICAgIHZhciBzdWJTY2hlbWEgPSBhc1NjaGVtYShzdWJTY2hlbWFSZWYpO1xuICAgICAgICAgICAgICAgIHZhciBzdWJWYWxpZGF0aW9uUmVzdWx0ID0gbmV3IFZhbGlkYXRpb25SZXN1bHQoKTtcbiAgICAgICAgICAgICAgICB2YXIgc3ViTWF0Y2hpbmdTY2hlbWFzID0gbWF0Y2hpbmdTY2hlbWFzLm5ld1N1YigpO1xuICAgICAgICAgICAgICAgIHZhbGlkYXRlKG5vZGUsIHN1YlNjaGVtYSwgc3ViVmFsaWRhdGlvblJlc3VsdCwgc3ViTWF0Y2hpbmdTY2hlbWFzKTtcbiAgICAgICAgICAgICAgICBpZiAoIXN1YlZhbGlkYXRpb25SZXN1bHQuaGFzUHJvYmxlbXMoKSkge1xuICAgICAgICAgICAgICAgICAgICBtYXRjaGVzLnB1c2goc3ViU2NoZW1hKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFiZXN0TWF0Y2gpIHtcbiAgICAgICAgICAgICAgICAgICAgYmVzdE1hdGNoID0geyBzY2hlbWE6IHN1YlNjaGVtYSwgdmFsaWRhdGlvblJlc3VsdDogc3ViVmFsaWRhdGlvblJlc3VsdCwgbWF0Y2hpbmdTY2hlbWFzOiBzdWJNYXRjaGluZ1NjaGVtYXMgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghbWF4T25lTWF0Y2ggJiYgIXN1YlZhbGlkYXRpb25SZXN1bHQuaGFzUHJvYmxlbXMoKSAmJiAhYmVzdE1hdGNoLnZhbGlkYXRpb25SZXN1bHQuaGFzUHJvYmxlbXMoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbm8gZXJyb3JzLCBib3RoIGFyZSBlcXVhbGx5IGdvb2QgbWF0Y2hlc1xuICAgICAgICAgICAgICAgICAgICAgICAgYmVzdE1hdGNoLm1hdGNoaW5nU2NoZW1hcy5tZXJnZShzdWJNYXRjaGluZ1NjaGVtYXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYmVzdE1hdGNoLnZhbGlkYXRpb25SZXN1bHQucHJvcGVydGllc01hdGNoZXMgKz0gc3ViVmFsaWRhdGlvblJlc3VsdC5wcm9wZXJ0aWVzTWF0Y2hlcztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJlc3RNYXRjaC52YWxpZGF0aW9uUmVzdWx0LnByb3BlcnRpZXNWYWx1ZU1hdGNoZXMgKz0gc3ViVmFsaWRhdGlvblJlc3VsdC5wcm9wZXJ0aWVzVmFsdWVNYXRjaGVzO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbXBhcmVSZXN1bHQgPSBzdWJWYWxpZGF0aW9uUmVzdWx0LmNvbXBhcmUoYmVzdE1hdGNoLnZhbGlkYXRpb25SZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbXBhcmVSZXN1bHQgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gb3VyIG5vZGUgaXMgdGhlIGJlc3QgbWF0Y2hpbmcgc28gZmFyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmVzdE1hdGNoID0geyBzY2hlbWE6IHN1YlNjaGVtYSwgdmFsaWRhdGlvblJlc3VsdDogc3ViVmFsaWRhdGlvblJlc3VsdCwgbWF0Y2hpbmdTY2hlbWFzOiBzdWJNYXRjaGluZ1NjaGVtYXMgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNvbXBhcmVSZXN1bHQgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGVyZSdzIGFscmVhZHkgYSBiZXN0IG1hdGNoaW5nIGJ1dCB3ZSBhcmUgYXMgZ29vZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJlc3RNYXRjaC5tYXRjaGluZ1NjaGVtYXMubWVyZ2Uoc3ViTWF0Y2hpbmdTY2hlbWFzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZXN0TWF0Y2gudmFsaWRhdGlvblJlc3VsdC5tZXJnZUVudW1WYWx1ZXMoc3ViVmFsaWRhdGlvblJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChtYXRjaGVzLmxlbmd0aCA+IDEgJiYgbWF4T25lTWF0Y2gpIHtcbiAgICAgICAgICAgICAgICB2YWxpZGF0aW9uUmVzdWx0LnByb2JsZW1zLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbjogeyBvZmZzZXQ6IG5vZGUub2Zmc2V0LCBsZW5ndGg6IDEgfSxcbiAgICAgICAgICAgICAgICAgICAgc2V2ZXJpdHk6IFByb2JsZW1TZXZlcml0eS5XYXJuaW5nLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBsb2NhbGl6ZSgnb25lT2ZXYXJuaW5nJywgXCJNYXRjaGVzIG11bHRpcGxlIHNjaGVtYXMgd2hlbiBvbmx5IG9uZSBtdXN0IHZhbGlkYXRlLlwiKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGJlc3RNYXRjaCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHZhbGlkYXRpb25SZXN1bHQubWVyZ2UoYmVzdE1hdGNoLnZhbGlkYXRpb25SZXN1bHQpO1xuICAgICAgICAgICAgICAgIHZhbGlkYXRpb25SZXN1bHQucHJvcGVydGllc01hdGNoZXMgKz0gYmVzdE1hdGNoLnZhbGlkYXRpb25SZXN1bHQucHJvcGVydGllc01hdGNoZXM7XG4gICAgICAgICAgICAgICAgdmFsaWRhdGlvblJlc3VsdC5wcm9wZXJ0aWVzVmFsdWVNYXRjaGVzICs9IGJlc3RNYXRjaC52YWxpZGF0aW9uUmVzdWx0LnByb3BlcnRpZXNWYWx1ZU1hdGNoZXM7XG4gICAgICAgICAgICAgICAgbWF0Y2hpbmdTY2hlbWFzLm1lcmdlKGJlc3RNYXRjaC5tYXRjaGluZ1NjaGVtYXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG1hdGNoZXMubGVuZ3RoO1xuICAgICAgICB9O1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShzY2hlbWEuYW55T2YpKSB7XG4gICAgICAgICAgICB0ZXN0QWx0ZXJuYXRpdmVzKHNjaGVtYS5hbnlPZiwgZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHNjaGVtYS5vbmVPZikpIHtcbiAgICAgICAgICAgIHRlc3RBbHRlcm5hdGl2ZXMoc2NoZW1hLm9uZU9mLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShzY2hlbWEuZW51bSkpIHtcbiAgICAgICAgICAgIHZhciB2YWwgPSBnZXROb2RlVmFsdWUobm9kZSk7XG4gICAgICAgICAgICB2YXIgZW51bVZhbHVlTWF0Y2ggPSBmYWxzZTtcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSBzY2hlbWEuZW51bTsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgZSA9IF9hW19pXTtcbiAgICAgICAgICAgICAgICBpZiAob2JqZWN0cy5lcXVhbHModmFsLCBlKSkge1xuICAgICAgICAgICAgICAgICAgICBlbnVtVmFsdWVNYXRjaCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhbGlkYXRpb25SZXN1bHQuZW51bVZhbHVlcyA9IHNjaGVtYS5lbnVtO1xuICAgICAgICAgICAgdmFsaWRhdGlvblJlc3VsdC5lbnVtVmFsdWVNYXRjaCA9IGVudW1WYWx1ZU1hdGNoO1xuICAgICAgICAgICAgaWYgKCFlbnVtVmFsdWVNYXRjaCkge1xuICAgICAgICAgICAgICAgIHZhbGlkYXRpb25SZXN1bHQucHJvYmxlbXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uOiB7IG9mZnNldDogbm9kZS5vZmZzZXQsIGxlbmd0aDogbm9kZS5sZW5ndGggfSxcbiAgICAgICAgICAgICAgICAgICAgc2V2ZXJpdHk6IFByb2JsZW1TZXZlcml0eS5XYXJuaW5nLFxuICAgICAgICAgICAgICAgICAgICBjb2RlOiBFcnJvckNvZGUuRW51bVZhbHVlTWlzbWF0Y2gsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHNjaGVtYS5lcnJvck1lc3NhZ2UgfHwgbG9jYWxpemUoJ2VudW1XYXJuaW5nJywgJ1ZhbHVlIGlzIG5vdCBhY2NlcHRlZC4gVmFsaWQgdmFsdWVzOiB7MH0uJywgc2NoZW1hLmVudW0ubWFwKGZ1bmN0aW9uICh2KSB7IHJldHVybiBKU09OLnN0cmluZ2lmeSh2KTsgfSkuam9pbignLCAnKSlcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoc2NoZW1hLmNvbnN0KSB7XG4gICAgICAgICAgICB2YXIgdmFsID0gZ2V0Tm9kZVZhbHVlKG5vZGUpO1xuICAgICAgICAgICAgaWYgKCFvYmplY3RzLmVxdWFscyh2YWwsIHNjaGVtYS5jb25zdCkpIHtcbiAgICAgICAgICAgICAgICB2YWxpZGF0aW9uUmVzdWx0LnByb2JsZW1zLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbjogeyBvZmZzZXQ6IG5vZGUub2Zmc2V0LCBsZW5ndGg6IG5vZGUubGVuZ3RoIH0sXG4gICAgICAgICAgICAgICAgICAgIHNldmVyaXR5OiBQcm9ibGVtU2V2ZXJpdHkuV2FybmluZyxcbiAgICAgICAgICAgICAgICAgICAgY29kZTogRXJyb3JDb2RlLkVudW1WYWx1ZU1pc21hdGNoLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBzY2hlbWEuZXJyb3JNZXNzYWdlIHx8IGxvY2FsaXplKCdjb25zdFdhcm5pbmcnLCAnVmFsdWUgbXVzdCBiZSB7MH0uJywgSlNPTi5zdHJpbmdpZnkoc2NoZW1hLmNvbnN0KSlcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB2YWxpZGF0aW9uUmVzdWx0LmVudW1WYWx1ZU1hdGNoID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YWxpZGF0aW9uUmVzdWx0LmVudW1WYWx1ZU1hdGNoID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhbGlkYXRpb25SZXN1bHQuZW51bVZhbHVlcyA9IFtzY2hlbWEuY29uc3RdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzY2hlbWEuZGVwcmVjYXRpb25NZXNzYWdlICYmIG5vZGUucGFyZW50KSB7XG4gICAgICAgICAgICB2YWxpZGF0aW9uUmVzdWx0LnByb2JsZW1zLnB1c2goe1xuICAgICAgICAgICAgICAgIGxvY2F0aW9uOiB7IG9mZnNldDogbm9kZS5wYXJlbnQub2Zmc2V0LCBsZW5ndGg6IG5vZGUucGFyZW50Lmxlbmd0aCB9LFxuICAgICAgICAgICAgICAgIHNldmVyaXR5OiBQcm9ibGVtU2V2ZXJpdHkuV2FybmluZyxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBzY2hlbWEuZGVwcmVjYXRpb25NZXNzYWdlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBfdmFsaWRhdGVOdW1iZXJOb2RlKG5vZGUsIHNjaGVtYSwgdmFsaWRhdGlvblJlc3VsdCwgbWF0Y2hpbmdTY2hlbWFzKSB7XG4gICAgICAgIHZhciB2YWwgPSBub2RlLnZhbHVlO1xuICAgICAgICBpZiAodHlwZW9mIHNjaGVtYS5tdWx0aXBsZU9mID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgaWYgKHZhbCAlIHNjaGVtYS5tdWx0aXBsZU9mICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgdmFsaWRhdGlvblJlc3VsdC5wcm9ibGVtcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb246IHsgb2Zmc2V0OiBub2RlLm9mZnNldCwgbGVuZ3RoOiBub2RlLmxlbmd0aCB9LFxuICAgICAgICAgICAgICAgICAgICBzZXZlcml0eTogUHJvYmxlbVNldmVyaXR5Lldhcm5pbmcsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGxvY2FsaXplKCdtdWx0aXBsZU9mV2FybmluZycsICdWYWx1ZSBpcyBub3QgZGl2aXNpYmxlIGJ5IHswfS4nLCBzY2hlbWEubXVsdGlwbGVPZilcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBnZXRFeGNsdXNpdmVMaW1pdChsaW1pdCwgZXhjbHVzaXZlKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGV4Y2x1c2l2ZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZXhjbHVzaXZlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBleGNsdXNpdmUgPT09ICdib29sZWFuJyAmJiBleGNsdXNpdmUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbGltaXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdm9pZCAwO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGdldExpbWl0KGxpbWl0LCBleGNsdXNpdmUpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZXhjbHVzaXZlICE9PSAnYm9vbGVhbicgfHwgIWV4Y2x1c2l2ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBsaW1pdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGV4Y2x1c2l2ZU1pbmltdW0gPSBnZXRFeGNsdXNpdmVMaW1pdChzY2hlbWEubWluaW11bSwgc2NoZW1hLmV4Y2x1c2l2ZU1pbmltdW0pO1xuICAgICAgICBpZiAodHlwZW9mIGV4Y2x1c2l2ZU1pbmltdW0gPT09ICdudW1iZXInICYmIHZhbCA8PSBleGNsdXNpdmVNaW5pbXVtKSB7XG4gICAgICAgICAgICB2YWxpZGF0aW9uUmVzdWx0LnByb2JsZW1zLnB1c2goe1xuICAgICAgICAgICAgICAgIGxvY2F0aW9uOiB7IG9mZnNldDogbm9kZS5vZmZzZXQsIGxlbmd0aDogbm9kZS5sZW5ndGggfSxcbiAgICAgICAgICAgICAgICBzZXZlcml0eTogUHJvYmxlbVNldmVyaXR5Lldhcm5pbmcsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogbG9jYWxpemUoJ2V4Y2x1c2l2ZU1pbmltdW1XYXJuaW5nJywgJ1ZhbHVlIGlzIGJlbG93IHRoZSBleGNsdXNpdmUgbWluaW11bSBvZiB7MH0uJywgZXhjbHVzaXZlTWluaW11bSlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHZhciBleGNsdXNpdmVNYXhpbXVtID0gZ2V0RXhjbHVzaXZlTGltaXQoc2NoZW1hLm1heGltdW0sIHNjaGVtYS5leGNsdXNpdmVNYXhpbXVtKTtcbiAgICAgICAgaWYgKHR5cGVvZiBleGNsdXNpdmVNYXhpbXVtID09PSAnbnVtYmVyJyAmJiB2YWwgPj0gZXhjbHVzaXZlTWF4aW11bSkge1xuICAgICAgICAgICAgdmFsaWRhdGlvblJlc3VsdC5wcm9ibGVtcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBsb2NhdGlvbjogeyBvZmZzZXQ6IG5vZGUub2Zmc2V0LCBsZW5ndGg6IG5vZGUubGVuZ3RoIH0sXG4gICAgICAgICAgICAgICAgc2V2ZXJpdHk6IFByb2JsZW1TZXZlcml0eS5XYXJuaW5nLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGxvY2FsaXplKCdleGNsdXNpdmVNYXhpbXVtV2FybmluZycsICdWYWx1ZSBpcyBhYm92ZSB0aGUgZXhjbHVzaXZlIG1heGltdW0gb2YgezB9LicsIGV4Y2x1c2l2ZU1heGltdW0pXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbWluaW11bSA9IGdldExpbWl0KHNjaGVtYS5taW5pbXVtLCBzY2hlbWEuZXhjbHVzaXZlTWluaW11bSk7XG4gICAgICAgIGlmICh0eXBlb2YgbWluaW11bSA9PT0gJ251bWJlcicgJiYgdmFsIDwgbWluaW11bSkge1xuICAgICAgICAgICAgdmFsaWRhdGlvblJlc3VsdC5wcm9ibGVtcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBsb2NhdGlvbjogeyBvZmZzZXQ6IG5vZGUub2Zmc2V0LCBsZW5ndGg6IG5vZGUubGVuZ3RoIH0sXG4gICAgICAgICAgICAgICAgc2V2ZXJpdHk6IFByb2JsZW1TZXZlcml0eS5XYXJuaW5nLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGxvY2FsaXplKCdtaW5pbXVtV2FybmluZycsICdWYWx1ZSBpcyBiZWxvdyB0aGUgbWluaW11bSBvZiB7MH0uJywgbWluaW11bSlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHZhciBtYXhpbXVtID0gZ2V0TGltaXQoc2NoZW1hLm1heGltdW0sIHNjaGVtYS5leGNsdXNpdmVNYXhpbXVtKTtcbiAgICAgICAgaWYgKHR5cGVvZiBtYXhpbXVtID09PSAnbnVtYmVyJyAmJiB2YWwgPiBtYXhpbXVtKSB7XG4gICAgICAgICAgICB2YWxpZGF0aW9uUmVzdWx0LnByb2JsZW1zLnB1c2goe1xuICAgICAgICAgICAgICAgIGxvY2F0aW9uOiB7IG9mZnNldDogbm9kZS5vZmZzZXQsIGxlbmd0aDogbm9kZS5sZW5ndGggfSxcbiAgICAgICAgICAgICAgICBzZXZlcml0eTogUHJvYmxlbVNldmVyaXR5Lldhcm5pbmcsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogbG9jYWxpemUoJ21heGltdW1XYXJuaW5nJywgJ1ZhbHVlIGlzIGFib3ZlIHRoZSBtYXhpbXVtIG9mIHswfS4nLCBtYXhpbXVtKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gX3ZhbGlkYXRlU3RyaW5nTm9kZShub2RlLCBzY2hlbWEsIHZhbGlkYXRpb25SZXN1bHQsIG1hdGNoaW5nU2NoZW1hcykge1xuICAgICAgICBpZiAoc2NoZW1hLm1pbkxlbmd0aCAmJiBub2RlLnZhbHVlLmxlbmd0aCA8IHNjaGVtYS5taW5MZW5ndGgpIHtcbiAgICAgICAgICAgIHZhbGlkYXRpb25SZXN1bHQucHJvYmxlbXMucHVzaCh7XG4gICAgICAgICAgICAgICAgbG9jYXRpb246IHsgb2Zmc2V0OiBub2RlLm9mZnNldCwgbGVuZ3RoOiBub2RlLmxlbmd0aCB9LFxuICAgICAgICAgICAgICAgIHNldmVyaXR5OiBQcm9ibGVtU2V2ZXJpdHkuV2FybmluZyxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBsb2NhbGl6ZSgnbWluTGVuZ3RoV2FybmluZycsICdTdHJpbmcgaXMgc2hvcnRlciB0aGFuIHRoZSBtaW5pbXVtIGxlbmd0aCBvZiB7MH0uJywgc2NoZW1hLm1pbkxlbmd0aClcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzY2hlbWEubWF4TGVuZ3RoICYmIG5vZGUudmFsdWUubGVuZ3RoID4gc2NoZW1hLm1heExlbmd0aCkge1xuICAgICAgICAgICAgdmFsaWRhdGlvblJlc3VsdC5wcm9ibGVtcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBsb2NhdGlvbjogeyBvZmZzZXQ6IG5vZGUub2Zmc2V0LCBsZW5ndGg6IG5vZGUubGVuZ3RoIH0sXG4gICAgICAgICAgICAgICAgc2V2ZXJpdHk6IFByb2JsZW1TZXZlcml0eS5XYXJuaW5nLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGxvY2FsaXplKCdtYXhMZW5ndGhXYXJuaW5nJywgJ1N0cmluZyBpcyBsb25nZXIgdGhhbiB0aGUgbWF4aW11bSBsZW5ndGggb2YgezB9LicsIHNjaGVtYS5tYXhMZW5ndGgpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2NoZW1hLnBhdHRlcm4pIHtcbiAgICAgICAgICAgIHZhciByZWdleCA9IG5ldyBSZWdFeHAoc2NoZW1hLnBhdHRlcm4pO1xuICAgICAgICAgICAgaWYgKCFyZWdleC50ZXN0KG5vZGUudmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgdmFsaWRhdGlvblJlc3VsdC5wcm9ibGVtcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb246IHsgb2Zmc2V0OiBub2RlLm9mZnNldCwgbGVuZ3RoOiBub2RlLmxlbmd0aCB9LFxuICAgICAgICAgICAgICAgICAgICBzZXZlcml0eTogUHJvYmxlbVNldmVyaXR5Lldhcm5pbmcsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHNjaGVtYS5wYXR0ZXJuRXJyb3JNZXNzYWdlIHx8IHNjaGVtYS5lcnJvck1lc3NhZ2UgfHwgbG9jYWxpemUoJ3BhdHRlcm5XYXJuaW5nJywgJ1N0cmluZyBkb2VzIG5vdCBtYXRjaCB0aGUgcGF0dGVybiBvZiBcInswfVwiLicsIHNjaGVtYS5wYXR0ZXJuKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzY2hlbWEuZm9ybWF0KSB7XG4gICAgICAgICAgICBzd2l0Y2ggKHNjaGVtYS5mb3JtYXQpIHtcbiAgICAgICAgICAgICAgICBjYXNlICd1cmknOlxuICAgICAgICAgICAgICAgIGNhc2UgJ3VyaS1yZWZlcmVuY2UnOlxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXJyb3JNZXNzYWdlID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFub2RlLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlID0gbG9jYWxpemUoJ3VyaUVtcHR5JywgJ1VSSSBleHBlY3RlZC4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1cmkgPSBVcmkucGFyc2Uobm9kZS52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdXJpLnNjaGVtZSAmJiBzY2hlbWEuZm9ybWF0ID09PSAndXJpJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlID0gbG9jYWxpemUoJ3VyaVNjaGVtZU1pc3NpbmcnLCAnVVJJIHdpdGggYSBzY2hlbWUgaXMgZXhwZWN0ZWQuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlID0gZS5tZXNzYWdlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvck1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uUmVzdWx0LnByb2JsZW1zLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbjogeyBvZmZzZXQ6IG5vZGUub2Zmc2V0LCBsZW5ndGg6IG5vZGUubGVuZ3RoIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldmVyaXR5OiBQcm9ibGVtU2V2ZXJpdHkuV2FybmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogc2NoZW1hLnBhdHRlcm5FcnJvck1lc3NhZ2UgfHwgc2NoZW1hLmVycm9yTWVzc2FnZSB8fCBsb2NhbGl6ZSgndXJpRm9ybWF0V2FybmluZycsICdTdHJpbmcgaXMgbm90IGEgVVJJOiB7MH0nLCBlcnJvck1lc3NhZ2UpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnZW1haWwnOlxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW5vZGUudmFsdWUubWF0Y2goZW1haWxQYXR0ZXJuKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb25SZXN1bHQucHJvYmxlbXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uOiB7IG9mZnNldDogbm9kZS5vZmZzZXQsIGxlbmd0aDogbm9kZS5sZW5ndGggfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V2ZXJpdHk6IFByb2JsZW1TZXZlcml0eS5XYXJuaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBzY2hlbWEucGF0dGVybkVycm9yTWVzc2FnZSB8fCBzY2hlbWEuZXJyb3JNZXNzYWdlIHx8IGxvY2FsaXplKCdlbWFpbEZvcm1hdFdhcm5pbmcnLCAnU3RyaW5nIGlzIG5vdCBhbiBlLW1haWwgYWRkcmVzcy4nKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2NvbG9yLWhleCc6XG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbm9kZS52YWx1ZS5tYXRjaChjb2xvckhleFBhdHRlcm4pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvblJlc3VsdC5wcm9ibGVtcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYXRpb246IHsgb2Zmc2V0OiBub2RlLm9mZnNldCwgbGVuZ3RoOiBub2RlLmxlbmd0aCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXZlcml0eTogUHJvYmxlbVNldmVyaXR5Lldhcm5pbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHNjaGVtYS5wYXR0ZXJuRXJyb3JNZXNzYWdlIHx8IHNjaGVtYS5lcnJvck1lc3NhZ2UgfHwgbG9jYWxpemUoJ2NvbG9ySGV4Rm9ybWF0V2FybmluZycsICdJbnZhbGlkIGNvbG9yIGZvcm1hdC4gVXNlICNSR0IsICNSR0JBLCAjUlJHR0JCIG9yICNSUkdHQkJBQS4nKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gX3ZhbGlkYXRlQXJyYXlOb2RlKG5vZGUsIHNjaGVtYSwgdmFsaWRhdGlvblJlc3VsdCwgbWF0Y2hpbmdTY2hlbWFzKSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHNjaGVtYS5pdGVtcykpIHtcbiAgICAgICAgICAgIHZhciBzdWJTY2hlbWFzXzEgPSBzY2hlbWEuaXRlbXM7XG4gICAgICAgICAgICBzdWJTY2hlbWFzXzEuZm9yRWFjaChmdW5jdGlvbiAoc3ViU2NoZW1hUmVmLCBpbmRleCkge1xuICAgICAgICAgICAgICAgIHZhciBzdWJTY2hlbWEgPSBhc1NjaGVtYShzdWJTY2hlbWFSZWYpO1xuICAgICAgICAgICAgICAgIHZhciBpdGVtVmFsaWRhdGlvblJlc3VsdCA9IG5ldyBWYWxpZGF0aW9uUmVzdWx0KCk7XG4gICAgICAgICAgICAgICAgdmFyIGl0ZW0gPSBub2RlLml0ZW1zW2luZGV4XTtcbiAgICAgICAgICAgICAgICBpZiAoaXRlbSkge1xuICAgICAgICAgICAgICAgICAgICB2YWxpZGF0ZShpdGVtLCBzdWJTY2hlbWEsIGl0ZW1WYWxpZGF0aW9uUmVzdWx0LCBtYXRjaGluZ1NjaGVtYXMpO1xuICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uUmVzdWx0Lm1lcmdlUHJvcGVydHlNYXRjaChpdGVtVmFsaWRhdGlvblJlc3VsdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5vZGUuaXRlbXMubGVuZ3RoID49IHN1YlNjaGVtYXNfMS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvblJlc3VsdC5wcm9wZXJ0aWVzVmFsdWVNYXRjaGVzKys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAobm9kZS5pdGVtcy5sZW5ndGggPiBzdWJTY2hlbWFzXzEubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzY2hlbWEuYWRkaXRpb25hbEl0ZW1zID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gc3ViU2NoZW1hc18xLmxlbmd0aDsgaSA8IG5vZGUuaXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpdGVtVmFsaWRhdGlvblJlc3VsdCA9IG5ldyBWYWxpZGF0aW9uUmVzdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0ZShub2RlLml0ZW1zW2ldLCBzY2hlbWEuYWRkaXRpb25hbEl0ZW1zLCBpdGVtVmFsaWRhdGlvblJlc3VsdCwgbWF0Y2hpbmdTY2hlbWFzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb25SZXN1bHQubWVyZ2VQcm9wZXJ0eU1hdGNoKGl0ZW1WYWxpZGF0aW9uUmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChzY2hlbWEuYWRkaXRpb25hbEl0ZW1zID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uUmVzdWx0LnByb2JsZW1zLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9jYXRpb246IHsgb2Zmc2V0OiBub2RlLm9mZnNldCwgbGVuZ3RoOiBub2RlLmxlbmd0aCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgc2V2ZXJpdHk6IFByb2JsZW1TZXZlcml0eS5XYXJuaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogbG9jYWxpemUoJ2FkZGl0aW9uYWxJdGVtc1dhcm5pbmcnLCAnQXJyYXkgaGFzIHRvbyBtYW55IGl0ZW1zIGFjY29yZGluZyB0byBzY2hlbWEuIEV4cGVjdGVkIHswfSBvciBmZXdlci4nLCBzdWJTY2hlbWFzXzEubGVuZ3RoKVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgaXRlbVNjaGVtYV8xID0gYXNTY2hlbWEoc2NoZW1hLml0ZW1zKTtcbiAgICAgICAgICAgIGlmIChpdGVtU2NoZW1hXzEpIHtcbiAgICAgICAgICAgICAgICBub2RlLml0ZW1zLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGl0ZW1WYWxpZGF0aW9uUmVzdWx0ID0gbmV3IFZhbGlkYXRpb25SZXN1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGUoaXRlbSwgaXRlbVNjaGVtYV8xLCBpdGVtVmFsaWRhdGlvblJlc3VsdCwgbWF0Y2hpbmdTY2hlbWFzKTtcbiAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvblJlc3VsdC5tZXJnZVByb3BlcnR5TWF0Y2goaXRlbVZhbGlkYXRpb25SZXN1bHQpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBjb250YWluc1NjaGVtYSA9IGFzU2NoZW1hKHNjaGVtYS5jb250YWlucyk7XG4gICAgICAgIGlmIChjb250YWluc1NjaGVtYSkge1xuICAgICAgICAgICAgdmFyIGRvZXNDb250YWluID0gbm9kZS5pdGVtcy5zb21lKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgICAgICAgdmFyIGl0ZW1WYWxpZGF0aW9uUmVzdWx0ID0gbmV3IFZhbGlkYXRpb25SZXN1bHQoKTtcbiAgICAgICAgICAgICAgICB2YWxpZGF0ZShpdGVtLCBjb250YWluc1NjaGVtYSwgaXRlbVZhbGlkYXRpb25SZXN1bHQsIE5vT3BTY2hlbWFDb2xsZWN0b3IuaW5zdGFuY2UpO1xuICAgICAgICAgICAgICAgIHJldHVybiAhaXRlbVZhbGlkYXRpb25SZXN1bHQuaGFzUHJvYmxlbXMoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKCFkb2VzQ29udGFpbikge1xuICAgICAgICAgICAgICAgIHZhbGlkYXRpb25SZXN1bHQucHJvYmxlbXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uOiB7IG9mZnNldDogbm9kZS5vZmZzZXQsIGxlbmd0aDogbm9kZS5sZW5ndGggfSxcbiAgICAgICAgICAgICAgICAgICAgc2V2ZXJpdHk6IFByb2JsZW1TZXZlcml0eS5XYXJuaW5nLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBzY2hlbWEuZXJyb3JNZXNzYWdlIHx8IGxvY2FsaXplKCdyZXF1aXJlZEl0ZW1NaXNzaW5nV2FybmluZycsICdBcnJheSBkb2VzIG5vdCBjb250YWluIHJlcXVpcmVkIGl0ZW0uJywgc2NoZW1hLm1pbkl0ZW1zKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzY2hlbWEubWluSXRlbXMgJiYgbm9kZS5pdGVtcy5sZW5ndGggPCBzY2hlbWEubWluSXRlbXMpIHtcbiAgICAgICAgICAgIHZhbGlkYXRpb25SZXN1bHQucHJvYmxlbXMucHVzaCh7XG4gICAgICAgICAgICAgICAgbG9jYXRpb246IHsgb2Zmc2V0OiBub2RlLm9mZnNldCwgbGVuZ3RoOiBub2RlLmxlbmd0aCB9LFxuICAgICAgICAgICAgICAgIHNldmVyaXR5OiBQcm9ibGVtU2V2ZXJpdHkuV2FybmluZyxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBsb2NhbGl6ZSgnbWluSXRlbXNXYXJuaW5nJywgJ0FycmF5IGhhcyB0b28gZmV3IGl0ZW1zLiBFeHBlY3RlZCB7MH0gb3IgbW9yZS4nLCBzY2hlbWEubWluSXRlbXMpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2NoZW1hLm1heEl0ZW1zICYmIG5vZGUuaXRlbXMubGVuZ3RoID4gc2NoZW1hLm1heEl0ZW1zKSB7XG4gICAgICAgICAgICB2YWxpZGF0aW9uUmVzdWx0LnByb2JsZW1zLnB1c2goe1xuICAgICAgICAgICAgICAgIGxvY2F0aW9uOiB7IG9mZnNldDogbm9kZS5vZmZzZXQsIGxlbmd0aDogbm9kZS5sZW5ndGggfSxcbiAgICAgICAgICAgICAgICBzZXZlcml0eTogUHJvYmxlbVNldmVyaXR5Lldhcm5pbmcsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogbG9jYWxpemUoJ21heEl0ZW1zV2FybmluZycsICdBcnJheSBoYXMgdG9vIG1hbnkgaXRlbXMuIEV4cGVjdGVkIHswfSBvciBmZXdlci4nLCBzY2hlbWEubWluSXRlbXMpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2NoZW1hLnVuaXF1ZUl0ZW1zID09PSB0cnVlKSB7XG4gICAgICAgICAgICB2YXIgdmFsdWVzXzEgPSBnZXROb2RlVmFsdWUobm9kZSk7XG4gICAgICAgICAgICB2YXIgZHVwbGljYXRlcyA9IHZhbHVlc18xLnNvbWUoZnVuY3Rpb24gKHZhbHVlLCBpbmRleCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpbmRleCAhPT0gdmFsdWVzXzEubGFzdEluZGV4T2YodmFsdWUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoZHVwbGljYXRlcykge1xuICAgICAgICAgICAgICAgIHZhbGlkYXRpb25SZXN1bHQucHJvYmxlbXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uOiB7IG9mZnNldDogbm9kZS5vZmZzZXQsIGxlbmd0aDogbm9kZS5sZW5ndGggfSxcbiAgICAgICAgICAgICAgICAgICAgc2V2ZXJpdHk6IFByb2JsZW1TZXZlcml0eS5XYXJuaW5nLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBsb2NhbGl6ZSgndW5pcXVlSXRlbXNXYXJuaW5nJywgJ0FycmF5IGhhcyBkdXBsaWNhdGUgaXRlbXMuJylcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBfdmFsaWRhdGVPYmplY3ROb2RlKG5vZGUsIHNjaGVtYSwgdmFsaWRhdGlvblJlc3VsdCwgbWF0Y2hpbmdTY2hlbWFzKSB7XG4gICAgICAgIHZhciBzZWVuS2V5cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIHZhciB1bnByb2Nlc3NlZFByb3BlcnRpZXMgPSBbXTtcbiAgICAgICAgbm9kZS5wcm9wZXJ0aWVzLmZvckVhY2goZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgICAgIHZhciBrZXkgPSBub2RlLmtleU5vZGUudmFsdWU7XG4gICAgICAgICAgICBzZWVuS2V5c1trZXldID0gbm9kZS52YWx1ZU5vZGU7XG4gICAgICAgICAgICB1bnByb2Nlc3NlZFByb3BlcnRpZXMucHVzaChrZXkpO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoc2NoZW1hLnJlcXVpcmVkKSkge1xuICAgICAgICAgICAgc2NoZW1hLnJlcXVpcmVkLmZvckVhY2goZnVuY3Rpb24gKHByb3BlcnR5TmFtZSkge1xuICAgICAgICAgICAgICAgIGlmICghc2VlbktleXNbcHJvcGVydHlOYW1lXSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIga2V5Tm9kZSA9IG5vZGUucGFyZW50ICYmIG5vZGUucGFyZW50LnR5cGUgPT09ICdwcm9wZXJ0eScgJiYgbm9kZS5wYXJlbnQua2V5Tm9kZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxvY2F0aW9uID0ga2V5Tm9kZSA/IHsgb2Zmc2V0OiBrZXlOb2RlLm9mZnNldCwgbGVuZ3RoOiBrZXlOb2RlLmxlbmd0aCB9IDogeyBvZmZzZXQ6IG5vZGUub2Zmc2V0LCBsZW5ndGg6IDEgfTtcbiAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvblJlc3VsdC5wcm9ibGVtcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uOiBsb2NhdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldmVyaXR5OiBQcm9ibGVtU2V2ZXJpdHkuV2FybmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGxvY2FsaXplKCdNaXNzaW5nUmVxdWlyZWRQcm9wV2FybmluZycsICdNaXNzaW5nIHByb3BlcnR5IFwiezB9XCIuJywgcHJvcGVydHlOYW1lKVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcHJvcGVydHlQcm9jZXNzZWQgPSBmdW5jdGlvbiAocHJvcCkge1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gdW5wcm9jZXNzZWRQcm9wZXJ0aWVzLmluZGV4T2YocHJvcCk7XG4gICAgICAgICAgICB3aGlsZSAoaW5kZXggPj0gMCkge1xuICAgICAgICAgICAgICAgIHVucHJvY2Vzc2VkUHJvcGVydGllcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgIGluZGV4ID0gdW5wcm9jZXNzZWRQcm9wZXJ0aWVzLmluZGV4T2YocHJvcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGlmIChzY2hlbWEucHJvcGVydGllcykge1xuICAgICAgICAgICAgT2JqZWN0LmtleXMoc2NoZW1hLnByb3BlcnRpZXMpLmZvckVhY2goZnVuY3Rpb24gKHByb3BlcnR5TmFtZSkge1xuICAgICAgICAgICAgICAgIHByb3BlcnR5UHJvY2Vzc2VkKHByb3BlcnR5TmFtZSk7XG4gICAgICAgICAgICAgICAgdmFyIHByb3BlcnR5U2NoZW1hID0gc2NoZW1hLnByb3BlcnRpZXNbcHJvcGVydHlOYW1lXTtcbiAgICAgICAgICAgICAgICB2YXIgY2hpbGQgPSBzZWVuS2V5c1twcm9wZXJ0eU5hbWVdO1xuICAgICAgICAgICAgICAgIGlmIChjaGlsZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHByb3BlcnR5U2NoZW1hID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcHJvcGVydHlTY2hlbWEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcHJvcGVydHlOb2RlID0gY2hpbGQucGFyZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb25SZXN1bHQucHJvYmxlbXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uOiB7IG9mZnNldDogcHJvcGVydHlOb2RlLmtleU5vZGUub2Zmc2V0LCBsZW5ndGg6IHByb3BlcnR5Tm9kZS5rZXlOb2RlLmxlbmd0aCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXZlcml0eTogUHJvYmxlbVNldmVyaXR5Lldhcm5pbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHNjaGVtYS5lcnJvck1lc3NhZ2UgfHwgbG9jYWxpemUoJ0Rpc2FsbG93ZWRFeHRyYVByb3BXYXJuaW5nJywgJ1Byb3BlcnR5IHswfSBpcyBub3QgYWxsb3dlZC4nLCBwcm9wZXJ0eU5hbWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uUmVzdWx0LnByb3BlcnRpZXNNYXRjaGVzKys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvblJlc3VsdC5wcm9wZXJ0aWVzVmFsdWVNYXRjaGVzKys7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcHJvcGVydHlWYWxpZGF0aW9uUmVzdWx0ID0gbmV3IFZhbGlkYXRpb25SZXN1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRlKGNoaWxkLCBwcm9wZXJ0eVNjaGVtYSwgcHJvcGVydHlWYWxpZGF0aW9uUmVzdWx0LCBtYXRjaGluZ1NjaGVtYXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvblJlc3VsdC5tZXJnZVByb3BlcnR5TWF0Y2gocHJvcGVydHlWYWxpZGF0aW9uUmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzY2hlbWEucGF0dGVyblByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKHNjaGVtYS5wYXR0ZXJuUHJvcGVydGllcykuZm9yRWFjaChmdW5jdGlvbiAocHJvcGVydHlQYXR0ZXJuKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlZ2V4ID0gbmV3IFJlZ0V4cChwcm9wZXJ0eVBhdHRlcm4pO1xuICAgICAgICAgICAgICAgIHVucHJvY2Vzc2VkUHJvcGVydGllcy5zbGljZSgwKS5mb3JFYWNoKGZ1bmN0aW9uIChwcm9wZXJ0eU5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlZ2V4LnRlc3QocHJvcGVydHlOYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydHlQcm9jZXNzZWQocHJvcGVydHlOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjaGlsZCA9IHNlZW5LZXlzW3Byb3BlcnR5TmFtZV07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hpbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcHJvcGVydHlTY2hlbWEgPSBzY2hlbWEucGF0dGVyblByb3BlcnRpZXNbcHJvcGVydHlQYXR0ZXJuXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHByb3BlcnR5U2NoZW1hID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFwcm9wZXJ0eVNjaGVtYSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByb3BlcnR5Tm9kZSA9IGNoaWxkLnBhcmVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb25SZXN1bHQucHJvYmxlbXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYXRpb246IHsgb2Zmc2V0OiBwcm9wZXJ0eU5vZGUua2V5Tm9kZS5vZmZzZXQsIGxlbmd0aDogcHJvcGVydHlOb2RlLmtleU5vZGUubGVuZ3RoIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V2ZXJpdHk6IFByb2JsZW1TZXZlcml0eS5XYXJuaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHNjaGVtYS5lcnJvck1lc3NhZ2UgfHwgbG9jYWxpemUoJ0Rpc2FsbG93ZWRFeHRyYVByb3BXYXJuaW5nJywgJ1Byb3BlcnR5IHswfSBpcyBub3QgYWxsb3dlZC4nLCBwcm9wZXJ0eU5hbWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb25SZXN1bHQucHJvcGVydGllc01hdGNoZXMrKztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb25SZXN1bHQucHJvcGVydGllc1ZhbHVlTWF0Y2hlcysrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcHJvcGVydHlWYWxpZGF0aW9uUmVzdWx0ID0gbmV3IFZhbGlkYXRpb25SZXN1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGUoY2hpbGQsIHByb3BlcnR5U2NoZW1hLCBwcm9wZXJ0eVZhbGlkYXRpb25SZXN1bHQsIG1hdGNoaW5nU2NoZW1hcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb25SZXN1bHQubWVyZ2VQcm9wZXJ0eU1hdGNoKHByb3BlcnR5VmFsaWRhdGlvblJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIHNjaGVtYS5hZGRpdGlvbmFsUHJvcGVydGllcyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIHVucHJvY2Vzc2VkUHJvcGVydGllcy5mb3JFYWNoKGZ1bmN0aW9uIChwcm9wZXJ0eU5hbWUpIHtcbiAgICAgICAgICAgICAgICB2YXIgY2hpbGQgPSBzZWVuS2V5c1twcm9wZXJ0eU5hbWVdO1xuICAgICAgICAgICAgICAgIGlmIChjaGlsZCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcHJvcGVydHlWYWxpZGF0aW9uUmVzdWx0ID0gbmV3IFZhbGlkYXRpb25SZXN1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGUoY2hpbGQsIHNjaGVtYS5hZGRpdGlvbmFsUHJvcGVydGllcywgcHJvcGVydHlWYWxpZGF0aW9uUmVzdWx0LCBtYXRjaGluZ1NjaGVtYXMpO1xuICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uUmVzdWx0Lm1lcmdlUHJvcGVydHlNYXRjaChwcm9wZXJ0eVZhbGlkYXRpb25SZXN1bHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHNjaGVtYS5hZGRpdGlvbmFsUHJvcGVydGllcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGlmICh1bnByb2Nlc3NlZFByb3BlcnRpZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHVucHJvY2Vzc2VkUHJvcGVydGllcy5mb3JFYWNoKGZ1bmN0aW9uIChwcm9wZXJ0eU5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNoaWxkID0gc2VlbktleXNbcHJvcGVydHlOYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoaWxkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcHJvcGVydHlOb2RlID0gY2hpbGQucGFyZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvblJlc3VsdC5wcm9ibGVtcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbjogeyBvZmZzZXQ6IHByb3BlcnR5Tm9kZS5rZXlOb2RlLm9mZnNldCwgbGVuZ3RoOiBwcm9wZXJ0eU5vZGUua2V5Tm9kZS5sZW5ndGggfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXZlcml0eTogUHJvYmxlbVNldmVyaXR5Lldhcm5pbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogc2NoZW1hLmVycm9yTWVzc2FnZSB8fCBsb2NhbGl6ZSgnRGlzYWxsb3dlZEV4dHJhUHJvcFdhcm5pbmcnLCAnUHJvcGVydHkgezB9IGlzIG5vdCBhbGxvd2VkLicsIHByb3BlcnR5TmFtZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNjaGVtYS5tYXhQcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICBpZiAobm9kZS5wcm9wZXJ0aWVzLmxlbmd0aCA+IHNjaGVtYS5tYXhQcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgICAgdmFsaWRhdGlvblJlc3VsdC5wcm9ibGVtcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb246IHsgb2Zmc2V0OiBub2RlLm9mZnNldCwgbGVuZ3RoOiBub2RlLmxlbmd0aCB9LFxuICAgICAgICAgICAgICAgICAgICBzZXZlcml0eTogUHJvYmxlbVNldmVyaXR5Lldhcm5pbmcsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGxvY2FsaXplKCdNYXhQcm9wV2FybmluZycsICdPYmplY3QgaGFzIG1vcmUgcHJvcGVydGllcyB0aGFuIGxpbWl0IG9mIHswfS4nLCBzY2hlbWEubWF4UHJvcGVydGllcylcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoc2NoZW1hLm1pblByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgIGlmIChub2RlLnByb3BlcnRpZXMubGVuZ3RoIDwgc2NoZW1hLm1pblByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgICB2YWxpZGF0aW9uUmVzdWx0LnByb2JsZW1zLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbjogeyBvZmZzZXQ6IG5vZGUub2Zmc2V0LCBsZW5ndGg6IG5vZGUubGVuZ3RoIH0sXG4gICAgICAgICAgICAgICAgICAgIHNldmVyaXR5OiBQcm9ibGVtU2V2ZXJpdHkuV2FybmluZyxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogbG9jYWxpemUoJ01pblByb3BXYXJuaW5nJywgJ09iamVjdCBoYXMgZmV3ZXIgcHJvcGVydGllcyB0aGFuIHRoZSByZXF1aXJlZCBudW1iZXIgb2YgezB9Jywgc2NoZW1hLm1pblByb3BlcnRpZXMpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNjaGVtYS5kZXBlbmRlbmNpZXMpIHtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKHNjaGVtYS5kZXBlbmRlbmNpZXMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgICAgIHZhciBwcm9wID0gc2VlbktleXNba2V5XTtcbiAgICAgICAgICAgICAgICBpZiAocHJvcCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcHJvcGVydHlEZXAgPSBzY2hlbWEuZGVwZW5kZW5jaWVzW2tleV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHByb3BlcnR5RGVwKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydHlEZXAuZm9yRWFjaChmdW5jdGlvbiAocmVxdWlyZWRQcm9wKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzZWVuS2V5c1tyZXF1aXJlZFByb3BdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb25SZXN1bHQucHJvYmxlbXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbjogeyBvZmZzZXQ6IG5vZGUub2Zmc2V0LCBsZW5ndGg6IG5vZGUubGVuZ3RoIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXZlcml0eTogUHJvYmxlbVNldmVyaXR5Lldhcm5pbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBsb2NhbGl6ZSgnUmVxdWlyZWREZXBlbmRlbnRQcm9wV2FybmluZycsICdPYmplY3QgaXMgbWlzc2luZyBwcm9wZXJ0eSB7MH0gcmVxdWlyZWQgYnkgcHJvcGVydHkgezF9LicsIHJlcXVpcmVkUHJvcCwga2V5KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb25SZXN1bHQucHJvcGVydGllc1ZhbHVlTWF0Y2hlcysrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByb3BlcnR5U2NoZW1hID0gYXNTY2hlbWEocHJvcGVydHlEZXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb3BlcnR5U2NoZW1hKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByb3BlcnR5VmFsaWRhdGlvblJlc3VsdCA9IG5ldyBWYWxpZGF0aW9uUmVzdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGUobm9kZSwgcHJvcGVydHlTY2hlbWEsIHByb3BlcnR5VmFsaWRhdGlvblJlc3VsdCwgbWF0Y2hpbmdTY2hlbWFzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uUmVzdWx0Lm1lcmdlUHJvcGVydHlNYXRjaChwcm9wZXJ0eVZhbGlkYXRpb25SZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHByb3BlcnR5TmFtZXMgPSBhc1NjaGVtYShzY2hlbWEucHJvcGVydHlOYW1lcyk7XG4gICAgICAgIGlmIChwcm9wZXJ0eU5hbWVzKSB7XG4gICAgICAgICAgICBub2RlLnByb3BlcnRpZXMuZm9yRWFjaChmdW5jdGlvbiAoZikge1xuICAgICAgICAgICAgICAgIHZhciBrZXkgPSBmLmtleU5vZGU7XG4gICAgICAgICAgICAgICAgaWYgKGtleSkge1xuICAgICAgICAgICAgICAgICAgICB2YWxpZGF0ZShrZXksIHByb3BlcnR5TmFtZXMsIHZhbGlkYXRpb25SZXN1bHQsIE5vT3BTY2hlbWFDb2xsZWN0b3IuaW5zdGFuY2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlKHRleHREb2N1bWVudCwgY29uZmlnKSB7XG4gICAgdmFyIHByb2JsZW1zID0gW107XG4gICAgdmFyIHRleHQgPSB0ZXh0RG9jdW1lbnQuZ2V0VGV4dCgpO1xuICAgIHZhciBzY2FubmVyID0gSnNvbi5jcmVhdGVTY2FubmVyKHRleHQsIGZhbHNlKTtcbiAgICB2YXIgY29tbWVudHMgPSBjb25maWcgJiYgY29uZmlnLmNvbGxlY3RDb21tZW50cyA/IFtdIDogdm9pZCAwO1xuICAgIGZ1bmN0aW9uIF9zY2FuTmV4dCgpIHtcbiAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgIHZhciB0b2tlbl8xID0gc2Nhbm5lci5zY2FuKCk7XG4gICAgICAgICAgICBfY2hlY2tTY2FuRXJyb3IoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodG9rZW5fMSkge1xuICAgICAgICAgICAgICAgIGNhc2UgMTIgLyogTGluZUNvbW1lbnRUcml2aWEgKi86XG4gICAgICAgICAgICAgICAgY2FzZSAxMyAvKiBCbG9ja0NvbW1lbnRUcml2aWEgKi86XG4gICAgICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGNvbW1lbnRzKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29tbWVudHMucHVzaCh7IG9mZnNldDogc2Nhbm5lci5nZXRUb2tlbk9mZnNldCgpLCBsZW5ndGg6IHNjYW5uZXIuZ2V0VG9rZW5MZW5ndGgoKSB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDE1IC8qIFRyaXZpYSAqLzpcbiAgICAgICAgICAgICAgICBjYXNlIDE0IC8qIExpbmVCcmVha1RyaXZpYSAqLzpcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRva2VuXzE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gX2FjY2VwdCh0b2tlbikge1xuICAgICAgICBpZiAoc2Nhbm5lci5nZXRUb2tlbigpID09PSB0b2tlbikge1xuICAgICAgICAgICAgX3NjYW5OZXh0KCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGZ1bmN0aW9uIF9lcnJvckF0UmFuZ2UobWVzc2FnZSwgY29kZSwgbG9jYXRpb24pIHtcbiAgICAgICAgaWYgKHByb2JsZW1zLmxlbmd0aCA9PT0gMCB8fCBwcm9ibGVtc1twcm9ibGVtcy5sZW5ndGggLSAxXS5sb2NhdGlvbi5vZmZzZXQgIT09IGxvY2F0aW9uLm9mZnNldCkge1xuICAgICAgICAgICAgcHJvYmxlbXMucHVzaCh7IG1lc3NhZ2U6IG1lc3NhZ2UsIGxvY2F0aW9uOiBsb2NhdGlvbiwgY29kZTogY29kZSwgc2V2ZXJpdHk6IFByb2JsZW1TZXZlcml0eS5FcnJvciB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBfZXJyb3IobWVzc2FnZSwgY29kZSwgbm9kZSwgc2tpcFVudGlsQWZ0ZXIsIHNraXBVbnRpbCkge1xuICAgICAgICBpZiAobm9kZSA9PT0gdm9pZCAwKSB7IG5vZGUgPSBudWxsOyB9XG4gICAgICAgIGlmIChza2lwVW50aWxBZnRlciA9PT0gdm9pZCAwKSB7IHNraXBVbnRpbEFmdGVyID0gW107IH1cbiAgICAgICAgaWYgKHNraXBVbnRpbCA9PT0gdm9pZCAwKSB7IHNraXBVbnRpbCA9IFtdOyB9XG4gICAgICAgIHZhciBzdGFydCA9IHNjYW5uZXIuZ2V0VG9rZW5PZmZzZXQoKTtcbiAgICAgICAgdmFyIGVuZCA9IHNjYW5uZXIuZ2V0VG9rZW5PZmZzZXQoKSArIHNjYW5uZXIuZ2V0VG9rZW5MZW5ndGgoKTtcbiAgICAgICAgaWYgKHN0YXJ0ID09PSBlbmQgJiYgc3RhcnQgPiAwKSB7XG4gICAgICAgICAgICBzdGFydC0tO1xuICAgICAgICAgICAgd2hpbGUgKHN0YXJ0ID4gMCAmJiAvXFxzLy50ZXN0KHRleHQuY2hhckF0KHN0YXJ0KSkpIHtcbiAgICAgICAgICAgICAgICBzdGFydC0tO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZW5kID0gc3RhcnQgKyAxO1xuICAgICAgICB9XG4gICAgICAgIF9lcnJvckF0UmFuZ2UobWVzc2FnZSwgY29kZSwgeyBvZmZzZXQ6IHN0YXJ0LCBsZW5ndGg6IGVuZCAtIHN0YXJ0IH0pO1xuICAgICAgICBpZiAobm9kZSkge1xuICAgICAgICAgICAgX2ZpbmFsaXplKG5vZGUsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2tpcFVudGlsQWZ0ZXIubGVuZ3RoICsgc2tpcFVudGlsLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHZhciB0b2tlbl8yID0gc2Nhbm5lci5nZXRUb2tlbigpO1xuICAgICAgICAgICAgd2hpbGUgKHRva2VuXzIgIT09IDE3IC8qIEVPRiAqLykge1xuICAgICAgICAgICAgICAgIGlmIChza2lwVW50aWxBZnRlci5pbmRleE9mKHRva2VuXzIpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICBfc2Nhbk5leHQoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNraXBVbnRpbC5pbmRleE9mKHRva2VuXzIpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdG9rZW5fMiA9IF9zY2FuTmV4dCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBub2RlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBfY2hlY2tTY2FuRXJyb3IoKSB7XG4gICAgICAgIHN3aXRjaCAoc2Nhbm5lci5nZXRUb2tlbkVycm9yKCkpIHtcbiAgICAgICAgICAgIGNhc2UgNCAvKiBJbnZhbGlkVW5pY29kZSAqLzpcbiAgICAgICAgICAgICAgICBfZXJyb3IobG9jYWxpemUoJ0ludmFsaWRVbmljb2RlJywgJ0ludmFsaWQgdW5pY29kZSBzZXF1ZW5jZSBpbiBzdHJpbmcuJyksIEVycm9yQ29kZS5JbnZhbGlkVW5pY29kZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICBjYXNlIDUgLyogSW52YWxpZEVzY2FwZUNoYXJhY3RlciAqLzpcbiAgICAgICAgICAgICAgICBfZXJyb3IobG9jYWxpemUoJ0ludmFsaWRFc2NhcGVDaGFyYWN0ZXInLCAnSW52YWxpZCBlc2NhcGUgY2hhcmFjdGVyIGluIHN0cmluZy4nKSwgRXJyb3JDb2RlLkludmFsaWRFc2NhcGVDaGFyYWN0ZXIpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgY2FzZSAzIC8qIFVuZXhwZWN0ZWRFbmRPZk51bWJlciAqLzpcbiAgICAgICAgICAgICAgICBfZXJyb3IobG9jYWxpemUoJ1VuZXhwZWN0ZWRFbmRPZk51bWJlcicsICdVbmV4cGVjdGVkIGVuZCBvZiBudW1iZXIuJyksIEVycm9yQ29kZS5VbmV4cGVjdGVkRW5kT2ZOdW1iZXIpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgY2FzZSAxIC8qIFVuZXhwZWN0ZWRFbmRPZkNvbW1lbnQgKi86XG4gICAgICAgICAgICAgICAgX2Vycm9yKGxvY2FsaXplKCdVbmV4cGVjdGVkRW5kT2ZDb21tZW50JywgJ1VuZXhwZWN0ZWQgZW5kIG9mIGNvbW1lbnQuJyksIEVycm9yQ29kZS5VbmV4cGVjdGVkRW5kT2ZDb21tZW50KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIGNhc2UgMiAvKiBVbmV4cGVjdGVkRW5kT2ZTdHJpbmcgKi86XG4gICAgICAgICAgICAgICAgX2Vycm9yKGxvY2FsaXplKCdVbmV4cGVjdGVkRW5kT2ZTdHJpbmcnLCAnVW5leHBlY3RlZCBlbmQgb2Ygc3RyaW5nLicpLCBFcnJvckNvZGUuVW5leHBlY3RlZEVuZE9mU3RyaW5nKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIGNhc2UgNiAvKiBJbnZhbGlkQ2hhcmFjdGVyICovOlxuICAgICAgICAgICAgICAgIF9lcnJvcihsb2NhbGl6ZSgnSW52YWxpZENoYXJhY3RlcicsICdJbnZhbGlkIGNoYXJhY3RlcnMgaW4gc3RyaW5nLiBDb250cm9sIGNoYXJhY3RlcnMgbXVzdCBiZSBlc2NhcGVkLicpLCBFcnJvckNvZGUuSW52YWxpZENoYXJhY3Rlcik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBfZmluYWxpemUobm9kZSwgc2Nhbk5leHQpIHtcbiAgICAgICAgbm9kZS5sZW5ndGggPSBzY2FubmVyLmdldFRva2VuT2Zmc2V0KCkgKyBzY2FubmVyLmdldFRva2VuTGVuZ3RoKCkgLSBub2RlLm9mZnNldDtcbiAgICAgICAgaWYgKHNjYW5OZXh0KSB7XG4gICAgICAgICAgICBfc2Nhbk5leHQoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbm9kZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gX3BhcnNlQXJyYXkocGFyZW50KSB7XG4gICAgICAgIGlmIChzY2FubmVyLmdldFRva2VuKCkgIT09IDMgLyogT3BlbkJyYWNrZXRUb2tlbiAqLykge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG5vZGUgPSBuZXcgQXJyYXlBU1ROb2RlSW1wbChwYXJlbnQsIHNjYW5uZXIuZ2V0VG9rZW5PZmZzZXQoKSk7XG4gICAgICAgIF9zY2FuTmV4dCgpOyAvLyBjb25zdW1lIE9wZW5CcmFja2V0VG9rZW5cbiAgICAgICAgdmFyIGNvdW50ID0gMDtcbiAgICAgICAgdmFyIG5lZWRzQ29tbWEgPSBmYWxzZTtcbiAgICAgICAgd2hpbGUgKHNjYW5uZXIuZ2V0VG9rZW4oKSAhPT0gNCAvKiBDbG9zZUJyYWNrZXRUb2tlbiAqLyAmJiBzY2FubmVyLmdldFRva2VuKCkgIT09IDE3IC8qIEVPRiAqLykge1xuICAgICAgICAgICAgaWYgKHNjYW5uZXIuZ2V0VG9rZW4oKSA9PT0gNSAvKiBDb21tYVRva2VuICovKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFuZWVkc0NvbW1hKSB7XG4gICAgICAgICAgICAgICAgICAgIF9lcnJvcihsb2NhbGl6ZSgnVmFsdWVFeHBlY3RlZCcsICdWYWx1ZSBleHBlY3RlZCcpLCBFcnJvckNvZGUuVmFsdWVFeHBlY3RlZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBjb21tYU9mZnNldCA9IHNjYW5uZXIuZ2V0VG9rZW5PZmZzZXQoKTtcbiAgICAgICAgICAgICAgICBfc2Nhbk5leHQoKTsgLy8gY29uc3VtZSBjb21tYVxuICAgICAgICAgICAgICAgIGlmIChzY2FubmVyLmdldFRva2VuKCkgPT09IDQgLyogQ2xvc2VCcmFja2V0VG9rZW4gKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5lZWRzQ29tbWEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9lcnJvckF0UmFuZ2UobG9jYWxpemUoJ1RyYWlsaW5nQ29tbWEnLCAnVHJhaWxpbmcgY29tbWEnKSwgRXJyb3JDb2RlLlRyYWlsaW5nQ29tbWEsIHsgb2Zmc2V0OiBjb21tYU9mZnNldCwgbGVuZ3RoOiAxIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG5lZWRzQ29tbWEpIHtcbiAgICAgICAgICAgICAgICBfZXJyb3IobG9jYWxpemUoJ0V4cGVjdGVkQ29tbWEnLCAnRXhwZWN0ZWQgY29tbWEnKSwgRXJyb3JDb2RlLkNvbW1hRXhwZWN0ZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGl0ZW0gPSBfcGFyc2VWYWx1ZShub2RlLCBjb3VudCsrKTtcbiAgICAgICAgICAgIGlmICghaXRlbSkge1xuICAgICAgICAgICAgICAgIF9lcnJvcihsb2NhbGl6ZSgnUHJvcGVydHlFeHBlY3RlZCcsICdWYWx1ZSBleHBlY3RlZCcpLCBFcnJvckNvZGUuVmFsdWVFeHBlY3RlZCwgbnVsbCwgW10sIFs0IC8qIENsb3NlQnJhY2tldFRva2VuICovLCA1IC8qIENvbW1hVG9rZW4gKi9dKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG5vZGUuaXRlbXMucHVzaChpdGVtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5lZWRzQ29tbWEgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzY2FubmVyLmdldFRva2VuKCkgIT09IDQgLyogQ2xvc2VCcmFja2V0VG9rZW4gKi8pIHtcbiAgICAgICAgICAgIHJldHVybiBfZXJyb3IobG9jYWxpemUoJ0V4cGVjdGVkQ2xvc2VCcmFja2V0JywgJ0V4cGVjdGVkIGNvbW1hIG9yIGNsb3NpbmcgYnJhY2tldCcpLCBFcnJvckNvZGUuQ29tbWFPckNsb3NlQmFja2V0RXhwZWN0ZWQsIG5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfZmluYWxpemUobm9kZSwgdHJ1ZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIF9wYXJzZVByb3BlcnR5KHBhcmVudCwga2V5c1NlZW4pIHtcbiAgICAgICAgdmFyIG5vZGUgPSBuZXcgUHJvcGVydHlBU1ROb2RlSW1wbChwYXJlbnQsIHNjYW5uZXIuZ2V0VG9rZW5PZmZzZXQoKSk7XG4gICAgICAgIHZhciBrZXkgPSBfcGFyc2VTdHJpbmcobm9kZSk7XG4gICAgICAgIGlmICgha2V5KSB7XG4gICAgICAgICAgICBpZiAoc2Nhbm5lci5nZXRUb2tlbigpID09PSAxNiAvKiBVbmtub3duICovKSB7XG4gICAgICAgICAgICAgICAgLy8gZ2l2ZSBhIG1vcmUgaGVscGZ1bCBlcnJvciBtZXNzYWdlXG4gICAgICAgICAgICAgICAgX2Vycm9yKGxvY2FsaXplKCdEb3VibGVRdW90ZXNFeHBlY3RlZCcsICdQcm9wZXJ0eSBrZXlzIG11c3QgYmUgZG91YmxlcXVvdGVkJyksIEVycm9yQ29kZS5VbmRlZmluZWQpO1xuICAgICAgICAgICAgICAgIHZhciBrZXlOb2RlID0gbmV3IFN0cmluZ0FTVE5vZGVJbXBsKG5vZGUsIHNjYW5uZXIuZ2V0VG9rZW5PZmZzZXQoKSwgc2Nhbm5lci5nZXRUb2tlbkxlbmd0aCgpKTtcbiAgICAgICAgICAgICAgICBrZXlOb2RlLnZhbHVlID0gc2Nhbm5lci5nZXRUb2tlblZhbHVlKCk7XG4gICAgICAgICAgICAgICAga2V5ID0ga2V5Tm9kZTtcbiAgICAgICAgICAgICAgICBfc2Nhbk5leHQoKTsgLy8gY29uc3VtZSBVbmtub3duXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBub2RlLmtleU5vZGUgPSBrZXk7XG4gICAgICAgIHZhciBzZWVuID0ga2V5c1NlZW5ba2V5LnZhbHVlXTtcbiAgICAgICAgaWYgKHNlZW4pIHtcbiAgICAgICAgICAgIHByb2JsZW1zLnB1c2goeyBsb2NhdGlvbjogeyBvZmZzZXQ6IG5vZGUua2V5Tm9kZS5vZmZzZXQsIGxlbmd0aDogbm9kZS5rZXlOb2RlLmxlbmd0aCB9LCBtZXNzYWdlOiBsb2NhbGl6ZSgnRHVwbGljYXRlS2V5V2FybmluZycsIFwiRHVwbGljYXRlIG9iamVjdCBrZXlcIiksIGNvZGU6IEVycm9yQ29kZS5VbmRlZmluZWQsIHNldmVyaXR5OiBQcm9ibGVtU2V2ZXJpdHkuV2FybmluZyB9KTtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygc2VlbiA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICBwcm9ibGVtcy5wdXNoKHsgbG9jYXRpb246IHsgb2Zmc2V0OiBzZWVuLmtleU5vZGUub2Zmc2V0LCBsZW5ndGg6IHNlZW4ua2V5Tm9kZS5sZW5ndGggfSwgbWVzc2FnZTogbG9jYWxpemUoJ0R1cGxpY2F0ZUtleVdhcm5pbmcnLCBcIkR1cGxpY2F0ZSBvYmplY3Qga2V5XCIpLCBjb2RlOiBFcnJvckNvZGUuVW5kZWZpbmVkLCBzZXZlcml0eTogUHJvYmxlbVNldmVyaXR5Lldhcm5pbmcgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBrZXlzU2VlbltrZXkudmFsdWVdID0gdHJ1ZTsgLy8gaWYgdGhlIHNhbWUga2V5IGlzIGR1cGxpY2F0ZSBhZ2FpbiwgYXZvaWQgZHVwbGljYXRlIGVycm9yIHJlcG9ydGluZ1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAga2V5c1NlZW5ba2V5LnZhbHVlXSA9IG5vZGU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNjYW5uZXIuZ2V0VG9rZW4oKSA9PT0gNiAvKiBDb2xvblRva2VuICovKSB7XG4gICAgICAgICAgICBub2RlLmNvbG9uT2Zmc2V0ID0gc2Nhbm5lci5nZXRUb2tlbk9mZnNldCgpO1xuICAgICAgICAgICAgX3NjYW5OZXh0KCk7IC8vIGNvbnN1bWUgQ29sb25Ub2tlblxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgX2Vycm9yKGxvY2FsaXplKCdDb2xvbkV4cGVjdGVkJywgJ0NvbG9uIGV4cGVjdGVkJyksIEVycm9yQ29kZS5Db2xvbkV4cGVjdGVkKTtcbiAgICAgICAgICAgIGlmIChzY2FubmVyLmdldFRva2VuKCkgPT09IDEwIC8qIFN0cmluZ0xpdGVyYWwgKi8gJiYgdGV4dERvY3VtZW50LnBvc2l0aW9uQXQoa2V5Lm9mZnNldCArIGtleS5sZW5ndGgpLmxpbmUgPCB0ZXh0RG9jdW1lbnQucG9zaXRpb25BdChzY2FubmVyLmdldFRva2VuT2Zmc2V0KCkpLmxpbmUpIHtcbiAgICAgICAgICAgICAgICBub2RlLmxlbmd0aCA9IGtleS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHZhbHVlID0gX3BhcnNlVmFsdWUobm9kZSwga2V5LnZhbHVlKTtcbiAgICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIF9lcnJvcihsb2NhbGl6ZSgnVmFsdWVFeHBlY3RlZCcsICdWYWx1ZSBleHBlY3RlZCcpLCBFcnJvckNvZGUuVmFsdWVFeHBlY3RlZCwgbm9kZSwgW10sIFsyIC8qIENsb3NlQnJhY2VUb2tlbiAqLywgNSAvKiBDb21tYVRva2VuICovXSk7XG4gICAgICAgIH1cbiAgICAgICAgbm9kZS52YWx1ZU5vZGUgPSB2YWx1ZTtcbiAgICAgICAgbm9kZS5sZW5ndGggPSB2YWx1ZS5vZmZzZXQgKyB2YWx1ZS5sZW5ndGggLSBub2RlLm9mZnNldDtcbiAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIF9wYXJzZU9iamVjdChwYXJlbnQpIHtcbiAgICAgICAgaWYgKHNjYW5uZXIuZ2V0VG9rZW4oKSAhPT0gMSAvKiBPcGVuQnJhY2VUb2tlbiAqLykge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG5vZGUgPSBuZXcgT2JqZWN0QVNUTm9kZUltcGwocGFyZW50LCBzY2FubmVyLmdldFRva2VuT2Zmc2V0KCkpO1xuICAgICAgICB2YXIga2V5c1NlZW4gPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICBfc2Nhbk5leHQoKTsgLy8gY29uc3VtZSBPcGVuQnJhY2VUb2tlblxuICAgICAgICB2YXIgbmVlZHNDb21tYSA9IGZhbHNlO1xuICAgICAgICB3aGlsZSAoc2Nhbm5lci5nZXRUb2tlbigpICE9PSAyIC8qIENsb3NlQnJhY2VUb2tlbiAqLyAmJiBzY2FubmVyLmdldFRva2VuKCkgIT09IDE3IC8qIEVPRiAqLykge1xuICAgICAgICAgICAgaWYgKHNjYW5uZXIuZ2V0VG9rZW4oKSA9PT0gNSAvKiBDb21tYVRva2VuICovKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFuZWVkc0NvbW1hKSB7XG4gICAgICAgICAgICAgICAgICAgIF9lcnJvcihsb2NhbGl6ZSgnUHJvcGVydHlFeHBlY3RlZCcsICdQcm9wZXJ0eSBleHBlY3RlZCcpLCBFcnJvckNvZGUuUHJvcGVydHlFeHBlY3RlZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBjb21tYU9mZnNldCA9IHNjYW5uZXIuZ2V0VG9rZW5PZmZzZXQoKTtcbiAgICAgICAgICAgICAgICBfc2Nhbk5leHQoKTsgLy8gY29uc3VtZSBjb21tYVxuICAgICAgICAgICAgICAgIGlmIChzY2FubmVyLmdldFRva2VuKCkgPT09IDIgLyogQ2xvc2VCcmFjZVRva2VuICovKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZWVkc0NvbW1hKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfZXJyb3JBdFJhbmdlKGxvY2FsaXplKCdUcmFpbGluZ0NvbW1hJywgJ1RyYWlsaW5nIGNvbW1hJyksIEVycm9yQ29kZS5UcmFpbGluZ0NvbW1hLCB7IG9mZnNldDogY29tbWFPZmZzZXQsIGxlbmd0aDogMSB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChuZWVkc0NvbW1hKSB7XG4gICAgICAgICAgICAgICAgX2Vycm9yKGxvY2FsaXplKCdFeHBlY3RlZENvbW1hJywgJ0V4cGVjdGVkIGNvbW1hJyksIEVycm9yQ29kZS5Db21tYUV4cGVjdGVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBwcm9wZXJ0eSA9IF9wYXJzZVByb3BlcnR5KG5vZGUsIGtleXNTZWVuKTtcbiAgICAgICAgICAgIGlmICghcHJvcGVydHkpIHtcbiAgICAgICAgICAgICAgICBfZXJyb3IobG9jYWxpemUoJ1Byb3BlcnR5RXhwZWN0ZWQnLCAnUHJvcGVydHkgZXhwZWN0ZWQnKSwgRXJyb3JDb2RlLlByb3BlcnR5RXhwZWN0ZWQsIG51bGwsIFtdLCBbMiAvKiBDbG9zZUJyYWNlVG9rZW4gKi8sIDUgLyogQ29tbWFUb2tlbiAqL10pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbm9kZS5wcm9wZXJ0aWVzLnB1c2gocHJvcGVydHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmVlZHNDb21tYSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNjYW5uZXIuZ2V0VG9rZW4oKSAhPT0gMiAvKiBDbG9zZUJyYWNlVG9rZW4gKi8pIHtcbiAgICAgICAgICAgIHJldHVybiBfZXJyb3IobG9jYWxpemUoJ0V4cGVjdGVkQ2xvc2VCcmFjZScsICdFeHBlY3RlZCBjb21tYSBvciBjbG9zaW5nIGJyYWNlJyksIEVycm9yQ29kZS5Db21tYU9yQ2xvc2VCcmFjZUV4cGVjdGVkLCBub2RlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX2ZpbmFsaXplKG5vZGUsIHRydWUpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBfcGFyc2VTdHJpbmcocGFyZW50KSB7XG4gICAgICAgIGlmIChzY2FubmVyLmdldFRva2VuKCkgIT09IDEwIC8qIFN0cmluZ0xpdGVyYWwgKi8pIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHZhciBub2RlID0gbmV3IFN0cmluZ0FTVE5vZGVJbXBsKHBhcmVudCwgc2Nhbm5lci5nZXRUb2tlbk9mZnNldCgpKTtcbiAgICAgICAgbm9kZS52YWx1ZSA9IHNjYW5uZXIuZ2V0VG9rZW5WYWx1ZSgpO1xuICAgICAgICByZXR1cm4gX2ZpbmFsaXplKG5vZGUsIHRydWUpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBfcGFyc2VOdW1iZXIocGFyZW50KSB7XG4gICAgICAgIGlmIChzY2FubmVyLmdldFRva2VuKCkgIT09IDExIC8qIE51bWVyaWNMaXRlcmFsICovKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbm9kZSA9IG5ldyBOdW1iZXJBU1ROb2RlSW1wbChwYXJlbnQsIHNjYW5uZXIuZ2V0VG9rZW5PZmZzZXQoKSk7XG4gICAgICAgIGlmIChzY2FubmVyLmdldFRva2VuRXJyb3IoKSA9PT0gMCAvKiBOb25lICovKSB7XG4gICAgICAgICAgICB2YXIgdG9rZW5WYWx1ZSA9IHNjYW5uZXIuZ2V0VG9rZW5WYWx1ZSgpO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB2YXIgbnVtYmVyVmFsdWUgPSBKU09OLnBhcnNlKHRva2VuVmFsdWUpO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbnVtYmVyVmFsdWUgIT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfZXJyb3IobG9jYWxpemUoJ0ludmFsaWROdW1iZXJGb3JtYXQnLCAnSW52YWxpZCBudW1iZXIgZm9ybWF0LicpLCBFcnJvckNvZGUuVW5kZWZpbmVkLCBub2RlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbm9kZS52YWx1ZSA9IG51bWJlclZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2Vycm9yKGxvY2FsaXplKCdJbnZhbGlkTnVtYmVyRm9ybWF0JywgJ0ludmFsaWQgbnVtYmVyIGZvcm1hdC4nKSwgRXJyb3JDb2RlLlVuZGVmaW5lZCwgbm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBub2RlLmlzSW50ZWdlciA9IHRva2VuVmFsdWUuaW5kZXhPZignLicpID09PSAtMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX2ZpbmFsaXplKG5vZGUsIHRydWUpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBfcGFyc2VMaXRlcmFsKHBhcmVudCkge1xuICAgICAgICB2YXIgbm9kZTtcbiAgICAgICAgc3dpdGNoIChzY2FubmVyLmdldFRva2VuKCkpIHtcbiAgICAgICAgICAgIGNhc2UgNyAvKiBOdWxsS2V5d29yZCAqLzpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2ZpbmFsaXplKG5ldyBOdWxsQVNUTm9kZUltcGwocGFyZW50LCBzY2FubmVyLmdldFRva2VuT2Zmc2V0KCkpLCB0cnVlKTtcbiAgICAgICAgICAgIGNhc2UgOCAvKiBUcnVlS2V5d29yZCAqLzpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2ZpbmFsaXplKG5ldyBCb29sZWFuQVNUTm9kZUltcGwocGFyZW50LCB0cnVlLCBzY2FubmVyLmdldFRva2VuT2Zmc2V0KCkpLCB0cnVlKTtcbiAgICAgICAgICAgIGNhc2UgOSAvKiBGYWxzZUtleXdvcmQgKi86XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9maW5hbGl6ZShuZXcgQm9vbGVhbkFTVE5vZGVJbXBsKHBhcmVudCwgZmFsc2UsIHNjYW5uZXIuZ2V0VG9rZW5PZmZzZXQoKSksIHRydWUpO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBfcGFyc2VWYWx1ZShwYXJlbnQsIG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIF9wYXJzZUFycmF5KHBhcmVudCkgfHwgX3BhcnNlT2JqZWN0KHBhcmVudCkgfHwgX3BhcnNlU3RyaW5nKHBhcmVudCkgfHwgX3BhcnNlTnVtYmVyKHBhcmVudCkgfHwgX3BhcnNlTGl0ZXJhbChwYXJlbnQpO1xuICAgIH1cbiAgICB2YXIgX3Jvb3QgPSBudWxsO1xuICAgIHZhciB0b2tlbiA9IF9zY2FuTmV4dCgpO1xuICAgIGlmICh0b2tlbiAhPT0gMTcgLyogRU9GICovKSB7XG4gICAgICAgIF9yb290ID0gX3BhcnNlVmFsdWUobnVsbCwgbnVsbCk7XG4gICAgICAgIGlmICghX3Jvb3QpIHtcbiAgICAgICAgICAgIF9lcnJvcihsb2NhbGl6ZSgnSW52YWxpZCBzeW1ib2wnLCAnRXhwZWN0ZWQgYSBKU09OIG9iamVjdCwgYXJyYXkgb3IgbGl0ZXJhbC4nKSwgRXJyb3JDb2RlLlVuZGVmaW5lZCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc2Nhbm5lci5nZXRUb2tlbigpICE9PSAxNyAvKiBFT0YgKi8pIHtcbiAgICAgICAgICAgIF9lcnJvcihsb2NhbGl6ZSgnRW5kIG9mIGZpbGUgZXhwZWN0ZWQnLCAnRW5kIG9mIGZpbGUgZXhwZWN0ZWQuJyksIEVycm9yQ29kZS5VbmRlZmluZWQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBuZXcgSlNPTkRvY3VtZW50KF9yb290LCBwcm9ibGVtcywgY29tbWVudHMpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9anNvblBhcnNlci5qcy5tYXAiLCIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbid1c2Ugc3RyaWN0JztcbmV4cG9ydCBmdW5jdGlvbiBzdGFydHNXaXRoKGhheXN0YWNrLCBuZWVkbGUpIHtcbiAgICBpZiAoaGF5c3RhY2subGVuZ3RoIDwgbmVlZGxlLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmVlZGxlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChoYXlzdGFja1tpXSAhPT0gbmVlZGxlW2ldKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG4vKipcbiAqIERldGVybWluZXMgaWYgaGF5c3RhY2sgZW5kcyB3aXRoIG5lZWRsZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVuZHNXaXRoKGhheXN0YWNrLCBuZWVkbGUpIHtcbiAgICB2YXIgZGlmZiA9IGhheXN0YWNrLmxlbmd0aCAtIG5lZWRsZS5sZW5ndGg7XG4gICAgaWYgKGRpZmYgPiAwKSB7XG4gICAgICAgIHJldHVybiBoYXlzdGFjay5sYXN0SW5kZXhPZihuZWVkbGUpID09PSBkaWZmO1xuICAgIH1cbiAgICBlbHNlIGlmIChkaWZmID09PSAwKSB7XG4gICAgICAgIHJldHVybiBoYXlzdGFjayA9PT0gbmVlZGxlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBjb252ZXJ0U2ltcGxlMlJlZ0V4cFBhdHRlcm4ocGF0dGVybikge1xuICAgIHJldHVybiBwYXR0ZXJuLnJlcGxhY2UoL1tcXC1cXFxcXFx7XFx9XFwrXFw/XFx8XFxeXFwkXFwuXFwsXFxbXFxdXFwoXFwpXFwjXFxzXS9nLCAnXFxcXCQmJykucmVwbGFjZSgvW1xcKl0vZywgJy4qJyk7XG59XG5leHBvcnQgZnVuY3Rpb24gcmVwZWF0KHZhbHVlLCBjb3VudCkge1xuICAgIHZhciBzID0gJyc7XG4gICAgd2hpbGUgKGNvdW50ID4gMCkge1xuICAgICAgICBpZiAoKGNvdW50ICYgMSkgPT09IDEpIHtcbiAgICAgICAgICAgIHMgKz0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFsdWUgKz0gdmFsdWU7XG4gICAgICAgIGNvdW50ID0gY291bnQgPj4+IDE7XG4gICAgfVxuICAgIHJldHVybiBzO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3RyaW5ncy5qcy5tYXAiLCIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbid1c2Ugc3RyaWN0JztcbmltcG9ydCAqIGFzIFBhcnNlciBmcm9tICcuLi9wYXJzZXIvanNvblBhcnNlci5qcyc7XG5pbXBvcnQgKiBhcyBKc29uIGZyb20gJy4uLy4uL2pzb25jLXBhcnNlci9tYWluLmpzJztcbmltcG9ydCB7IHN0cmluZ2lmeU9iamVjdCB9IGZyb20gJy4uL3V0aWxzL2pzb24uanMnO1xuaW1wb3J0IHsgZW5kc1dpdGggfSBmcm9tICcuLi91dGlscy9zdHJpbmdzLmpzJztcbmltcG9ydCB7IENvbXBsZXRpb25JdGVtLCBDb21wbGV0aW9uSXRlbUtpbmQsIFJhbmdlLCBUZXh0RWRpdCwgSW5zZXJ0VGV4dEZvcm1hdCB9IGZyb20gJy4uLy4uL3ZzY29kZS1sYW5ndWFnZXNlcnZlci10eXBlcy9tYWluLmpzJztcbmltcG9ydCAqIGFzIG5scyBmcm9tICcuLi8uLi8uLi9maWxsZXJzL3ZzY29kZS1ubHMuanMnO1xudmFyIGxvY2FsaXplID0gbmxzLmxvYWRNZXNzYWdlQnVuZGxlKCk7XG52YXIgSlNPTkNvbXBsZXRpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gSlNPTkNvbXBsZXRpb24oc2NoZW1hU2VydmljZSwgY29udHJpYnV0aW9ucywgcHJvbWlzZUNvbnN0cnVjdG9yKSB7XG4gICAgICAgIGlmIChjb250cmlidXRpb25zID09PSB2b2lkIDApIHsgY29udHJpYnV0aW9ucyA9IFtdOyB9XG4gICAgICAgIHRoaXMudGVtcGxhdGVWYXJJZENvdW50ZXIgPSAwO1xuICAgICAgICB0aGlzLnNjaGVtYVNlcnZpY2UgPSBzY2hlbWFTZXJ2aWNlO1xuICAgICAgICB0aGlzLmNvbnRyaWJ1dGlvbnMgPSBjb250cmlidXRpb25zO1xuICAgICAgICB0aGlzLnByb21pc2UgPSBwcm9taXNlQ29uc3RydWN0b3IgfHwgUHJvbWlzZTtcbiAgICB9XG4gICAgSlNPTkNvbXBsZXRpb24ucHJvdG90eXBlLmRvUmVzb2x2ZSA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSB0aGlzLmNvbnRyaWJ1dGlvbnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbnRyaWJ1dGlvbnNbaV0ucmVzb2x2ZUNvbXBsZXRpb24pIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVzb2x2ZXIgPSB0aGlzLmNvbnRyaWJ1dGlvbnNbaV0ucmVzb2x2ZUNvbXBsZXRpb24oaXRlbSk7XG4gICAgICAgICAgICAgICAgaWYgKHJlc29sdmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMucHJvbWlzZS5yZXNvbHZlKGl0ZW0pO1xuICAgIH07XG4gICAgSlNPTkNvbXBsZXRpb24ucHJvdG90eXBlLmRvQ29tcGxldGUgPSBmdW5jdGlvbiAoZG9jdW1lbnQsIHBvc2l0aW9uLCBkb2MpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIHJlc3VsdCA9IHtcbiAgICAgICAgICAgIGl0ZW1zOiBbXSxcbiAgICAgICAgICAgIGlzSW5jb21wbGV0ZTogZmFsc2VcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIG9mZnNldCA9IGRvY3VtZW50Lm9mZnNldEF0KHBvc2l0aW9uKTtcbiAgICAgICAgdmFyIG5vZGUgPSBkb2MuZ2V0Tm9kZUZyb21PZmZzZXRFbmRJbmNsdXNpdmUob2Zmc2V0KTtcbiAgICAgICAgaWYgKHRoaXMuaXNJbkNvbW1lbnQoZG9jdW1lbnQsIG5vZGUgPyBub2RlLm9mZnNldCA6IDAsIG9mZnNldCkpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY3VycmVudFdvcmQgPSB0aGlzLmdldEN1cnJlbnRXb3JkKGRvY3VtZW50LCBvZmZzZXQpO1xuICAgICAgICB2YXIgb3ZlcndyaXRlUmFuZ2UgPSBudWxsO1xuICAgICAgICBpZiAobm9kZSAmJiAobm9kZS50eXBlID09PSAnc3RyaW5nJyB8fCBub2RlLnR5cGUgPT09ICdudW1iZXInIHx8IG5vZGUudHlwZSA9PT0gJ2Jvb2xlYW4nIHx8IG5vZGUudHlwZSA9PT0gJ251bGwnKSkge1xuICAgICAgICAgICAgb3ZlcndyaXRlUmFuZ2UgPSBSYW5nZS5jcmVhdGUoZG9jdW1lbnQucG9zaXRpb25BdChub2RlLm9mZnNldCksIGRvY3VtZW50LnBvc2l0aW9uQXQobm9kZS5vZmZzZXQgKyBub2RlLmxlbmd0aCkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIG92ZXJ3cml0ZVN0YXJ0ID0gb2Zmc2V0IC0gY3VycmVudFdvcmQubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKG92ZXJ3cml0ZVN0YXJ0ID4gMCAmJiBkb2N1bWVudC5nZXRUZXh0KClbb3ZlcndyaXRlU3RhcnQgLSAxXSA9PT0gJ1wiJykge1xuICAgICAgICAgICAgICAgIG92ZXJ3cml0ZVN0YXJ0LS07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvdmVyd3JpdGVSYW5nZSA9IFJhbmdlLmNyZWF0ZShkb2N1bWVudC5wb3NpdGlvbkF0KG92ZXJ3cml0ZVN0YXJ0KSwgcG9zaXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwcm9wb3NlZCA9IHt9O1xuICAgICAgICB2YXIgY29sbGVjdG9yID0ge1xuICAgICAgICAgICAgYWRkOiBmdW5jdGlvbiAoc3VnZ2VzdGlvbikge1xuICAgICAgICAgICAgICAgIHZhciBleGlzdGluZyA9IHByb3Bvc2VkW3N1Z2dlc3Rpb24ubGFiZWxdO1xuICAgICAgICAgICAgICAgIGlmICghZXhpc3RpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvcG9zZWRbc3VnZ2VzdGlvbi5sYWJlbF0gPSBzdWdnZXN0aW9uO1xuICAgICAgICAgICAgICAgICAgICBpZiAob3ZlcndyaXRlUmFuZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Z2dlc3Rpb24udGV4dEVkaXQgPSBUZXh0RWRpdC5yZXBsYWNlKG92ZXJ3cml0ZVJhbmdlLCBzdWdnZXN0aW9uLmluc2VydFRleHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5pdGVtcy5wdXNoKHN1Z2dlc3Rpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICghZXhpc3RpbmcuZG9jdW1lbnRhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBleGlzdGluZy5kb2N1bWVudGF0aW9uID0gc3VnZ2VzdGlvbi5kb2N1bWVudGF0aW9uO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXRBc0luY29tcGxldGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQuaXNJbmNvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKG1lc3NhZ2UpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGxvZzogZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhtZXNzYWdlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXROdW1iZXJPZlByb3Bvc2FsczogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQuaXRlbXMubGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdGhpcy5zY2hlbWFTZXJ2aWNlLmdldFNjaGVtYUZvclJlc291cmNlKGRvY3VtZW50LnVyaSwgZG9jKS50aGVuKGZ1bmN0aW9uIChzY2hlbWEpIHtcbiAgICAgICAgICAgIHZhciBjb2xsZWN0aW9uUHJvbWlzZXMgPSBbXTtcbiAgICAgICAgICAgIHZhciBhZGRWYWx1ZSA9IHRydWU7XG4gICAgICAgICAgICB2YXIgY3VycmVudEtleSA9ICcnO1xuICAgICAgICAgICAgdmFyIGN1cnJlbnRQcm9wZXJ0eSA9IG51bGw7XG4gICAgICAgICAgICBpZiAobm9kZSkge1xuICAgICAgICAgICAgICAgIGlmIChub2RlLnR5cGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwYXJlbnQgPSBub2RlLnBhcmVudDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhcmVudCAmJiBwYXJlbnQudHlwZSA9PT0gJ3Byb3BlcnR5JyAmJiBwYXJlbnQua2V5Tm9kZSA9PT0gbm9kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVmFsdWUgPSAhcGFyZW50LnZhbHVlTm9kZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQcm9wZXJ0eSA9IHBhcmVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRLZXkgPSBkb2N1bWVudC5nZXRUZXh0KCkuc3Vic3RyKG5vZGUub2Zmc2V0ICsgMSwgbm9kZS5sZW5ndGggLSAyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlID0gcGFyZW50LnBhcmVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHByb3Bvc2FscyBmb3IgcHJvcGVydGllc1xuICAgICAgICAgICAgaWYgKG5vZGUgJiYgbm9kZS50eXBlID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgIC8vIGRvbid0IHN1Z2dlc3Qga2V5cyB3aGVuIHRoZSBjdXJzb3IgaXMganVzdCBiZWZvcmUgdGhlIG9wZW5pbmcgY3VybHkgYnJhY2VcbiAgICAgICAgICAgICAgICBpZiAobm9kZS5vZmZzZXQgPT09IG9mZnNldCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBkb24ndCBzdWdnZXN0IHByb3BlcnRpZXMgdGhhdCBhcmUgYWxyZWFkeSBwcmVzZW50XG4gICAgICAgICAgICAgICAgdmFyIHByb3BlcnRpZXMgPSBub2RlLnByb3BlcnRpZXM7XG4gICAgICAgICAgICAgICAgcHJvcGVydGllcy5mb3JFYWNoKGZ1bmN0aW9uIChwKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghY3VycmVudFByb3BlcnR5IHx8IGN1cnJlbnRQcm9wZXJ0eSAhPT0gcCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcG9zZWRbcC5rZXlOb2RlLnZhbHVlXSA9IENvbXBsZXRpb25JdGVtLmNyZWF0ZSgnX18nKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHZhciBzZXBhcmF0b3JBZnRlcl8xID0gJyc7XG4gICAgICAgICAgICAgICAgaWYgKGFkZFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlcGFyYXRvckFmdGVyXzEgPSBfdGhpcy5ldmFsdWF0ZVNlcGFyYXRvckFmdGVyKGRvY3VtZW50LCBkb2N1bWVudC5vZmZzZXRBdChvdmVyd3JpdGVSYW5nZS5lbmQpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHNjaGVtYSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBwcm9wZXJ0eSBwcm9wb3NhbHMgd2l0aCBzY2hlbWFcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZ2V0UHJvcGVydHlDb21wbGV0aW9ucyhzY2hlbWEsIGRvYywgbm9kZSwgYWRkVmFsdWUsIHNlcGFyYXRvckFmdGVyXzEsIGNvbGxlY3Rvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBwcm9wZXJ0eSBwcm9wb3NhbHMgd2l0aG91dCBzY2hlbWFcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZ2V0U2NoZW1hTGVzc1Byb3BlcnR5Q29tcGxldGlvbnMoZG9jLCBub2RlLCBjdXJyZW50S2V5LCBjb2xsZWN0b3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgbG9jYXRpb25fMSA9IFBhcnNlci5nZXROb2RlUGF0aChub2RlKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5jb250cmlidXRpb25zLmZvckVhY2goZnVuY3Rpb24gKGNvbnRyaWJ1dGlvbikge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY29sbGVjdFByb21pc2UgPSBjb250cmlidXRpb24uY29sbGVjdFByb3BlcnR5Q29tcGxldGlvbnMoZG9jdW1lbnQudXJpLCBsb2NhdGlvbl8xLCBjdXJyZW50V29yZCwgYWRkVmFsdWUsIHNlcGFyYXRvckFmdGVyXzEgPT09ICcnLCBjb2xsZWN0b3IpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29sbGVjdFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbGxlY3Rpb25Qcm9taXNlcy5wdXNoKGNvbGxlY3RQcm9taXNlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmICgoIXNjaGVtYSAmJiBjdXJyZW50V29yZC5sZW5ndGggPiAwICYmIGRvY3VtZW50LmdldFRleHQoKS5jaGFyQXQob2Zmc2V0IC0gY3VycmVudFdvcmQubGVuZ3RoIC0gMSkgIT09ICdcIicpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbGxlY3Rvci5hZGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAga2luZDogQ29tcGxldGlvbkl0ZW1LaW5kLlByb3BlcnR5LFxuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IF90aGlzLmdldExhYmVsRm9yVmFsdWUoY3VycmVudFdvcmQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5zZXJ0VGV4dDogX3RoaXMuZ2V0SW5zZXJ0VGV4dEZvclByb3BlcnR5KGN1cnJlbnRXb3JkLCBudWxsLCBmYWxzZSwgc2VwYXJhdG9yQWZ0ZXJfMSksXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnNlcnRUZXh0Rm9ybWF0OiBJbnNlcnRUZXh0Rm9ybWF0LlNuaXBwZXQsIGRvY3VtZW50YXRpb246ICcnXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHByb3Bvc2FscyBmb3IgdmFsdWVzXG4gICAgICAgICAgICB2YXIgdHlwZXMgPSB7fTtcbiAgICAgICAgICAgIGlmIChzY2hlbWEpIHtcbiAgICAgICAgICAgICAgICAvLyB2YWx1ZSBwcm9wb3NhbHMgd2l0aCBzY2hlbWFcbiAgICAgICAgICAgICAgICBfdGhpcy5nZXRWYWx1ZUNvbXBsZXRpb25zKHNjaGVtYSwgZG9jLCBub2RlLCBvZmZzZXQsIGRvY3VtZW50LCBjb2xsZWN0b3IsIHR5cGVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIHZhbHVlIHByb3Bvc2FscyB3aXRob3V0IHNjaGVtYVxuICAgICAgICAgICAgICAgIF90aGlzLmdldFNjaGVtYUxlc3NWYWx1ZUNvbXBsZXRpb25zKGRvYywgbm9kZSwgb2Zmc2V0LCBkb2N1bWVudCwgY29sbGVjdG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChfdGhpcy5jb250cmlidXRpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5nZXRDb250cmlidXRlZFZhbHVlQ29tcGxldGlvbnMoZG9jLCBub2RlLCBvZmZzZXQsIGRvY3VtZW50LCBjb2xsZWN0b3IsIGNvbGxlY3Rpb25Qcm9taXNlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMucHJvbWlzZS5hbGwoY29sbGVjdGlvblByb21pc2VzKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAoY29sbGVjdG9yLmdldE51bWJlck9mUHJvcG9zYWxzKCkgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9mZnNldEZvclNlcGFyYXRvciA9IG9mZnNldDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUgJiYgKG5vZGUudHlwZSA9PT0gJ3N0cmluZycgfHwgbm9kZS50eXBlID09PSAnbnVtYmVyJyB8fCBub2RlLnR5cGUgPT09ICdib29sZWFuJyB8fCBub2RlLnR5cGUgPT09ICdudWxsJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldEZvclNlcGFyYXRvciA9IG5vZGUub2Zmc2V0ICsgbm9kZS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdmFyIHNlcGFyYXRvckFmdGVyID0gX3RoaXMuZXZhbHVhdGVTZXBhcmF0b3JBZnRlcihkb2N1bWVudCwgb2Zmc2V0Rm9yU2VwYXJhdG9yKTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuYWRkRmlsbGVyVmFsdWVDb21wbGV0aW9ucyh0eXBlcywgc2VwYXJhdG9yQWZ0ZXIsIGNvbGxlY3Rvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBKU09OQ29tcGxldGlvbi5wcm90b3R5cGUuZ2V0UHJvcGVydHlDb21wbGV0aW9ucyA9IGZ1bmN0aW9uIChzY2hlbWEsIGRvYywgbm9kZSwgYWRkVmFsdWUsIHNlcGFyYXRvckFmdGVyLCBjb2xsZWN0b3IpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIG1hdGNoaW5nU2NoZW1hcyA9IGRvYy5nZXRNYXRjaGluZ1NjaGVtYXMoc2NoZW1hLnNjaGVtYSwgbm9kZS5vZmZzZXQpO1xuICAgICAgICBtYXRjaGluZ1NjaGVtYXMuZm9yRWFjaChmdW5jdGlvbiAocykge1xuICAgICAgICAgICAgaWYgKHMubm9kZSA9PT0gbm9kZSAmJiAhcy5pbnZlcnRlZCkge1xuICAgICAgICAgICAgICAgIHZhciBzY2hlbWFQcm9wZXJ0aWVzXzEgPSBzLnNjaGVtYS5wcm9wZXJ0aWVzO1xuICAgICAgICAgICAgICAgIGlmIChzY2hlbWFQcm9wZXJ0aWVzXzEpIHtcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmtleXMoc2NoZW1hUHJvcGVydGllc18xKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwcm9wZXJ0eVNjaGVtYSA9IHNjaGVtYVByb3BlcnRpZXNfMVtrZXldO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBwcm9wZXJ0eVNjaGVtYSA9PT0gJ29iamVjdCcgJiYgIXByb3BlcnR5U2NoZW1hLmRlcHJlY2F0aW9uTWVzc2FnZSAmJiAhcHJvcGVydHlTY2hlbWEuZG9Ob3RTdWdnZXN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByb3Bvc2FsID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBraW5kOiBDb21wbGV0aW9uSXRlbUtpbmQuUHJvcGVydHksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBrZXksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc2VydFRleHQ6IF90aGlzLmdldEluc2VydFRleHRGb3JQcm9wZXJ0eShrZXksIHByb3BlcnR5U2NoZW1hLCBhZGRWYWx1ZSwgc2VwYXJhdG9yQWZ0ZXIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnNlcnRUZXh0Rm9ybWF0OiBJbnNlcnRUZXh0Rm9ybWF0LlNuaXBwZXQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlclRleHQ6IF90aGlzLmdldEZpbHRlclRleHRGb3JWYWx1ZShrZXkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudGF0aW9uOiBwcm9wZXJ0eVNjaGVtYS5kZXNjcmlwdGlvbiB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbmRzV2l0aChwcm9wb3NhbC5pbnNlcnRUZXh0LCBcIiQxXCIgKyBzZXBhcmF0b3JBZnRlcikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcG9zYWwuY29tbWFuZCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnU3VnZ2VzdCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21tYW5kOiAnZWRpdG9yLmFjdGlvbi50cmlnZ2VyU3VnZ2VzdCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sbGVjdG9yLmFkZChwcm9wb3NhbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBKU09OQ29tcGxldGlvbi5wcm90b3R5cGUuZ2V0U2NoZW1hTGVzc1Byb3BlcnR5Q29tcGxldGlvbnMgPSBmdW5jdGlvbiAoZG9jLCBub2RlLCBjdXJyZW50S2V5LCBjb2xsZWN0b3IpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGNvbGxlY3RDb21wbGV0aW9uc0ZvclNpbWlsYXJPYmplY3QgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgICAgICBvYmoucHJvcGVydGllcy5mb3JFYWNoKGZ1bmN0aW9uIChwKSB7XG4gICAgICAgICAgICAgICAgdmFyIGtleSA9IHAua2V5Tm9kZS52YWx1ZTtcbiAgICAgICAgICAgICAgICBjb2xsZWN0b3IuYWRkKHtcbiAgICAgICAgICAgICAgICAgICAga2luZDogQ29tcGxldGlvbkl0ZW1LaW5kLlByb3BlcnR5LFxuICAgICAgICAgICAgICAgICAgICBsYWJlbDoga2V5LFxuICAgICAgICAgICAgICAgICAgICBpbnNlcnRUZXh0OiBfdGhpcy5nZXRJbnNlcnRUZXh0Rm9yVmFsdWUoa2V5LCAnJyksXG4gICAgICAgICAgICAgICAgICAgIGluc2VydFRleHRGb3JtYXQ6IEluc2VydFRleHRGb3JtYXQuU25pcHBldCxcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyVGV4dDogX3RoaXMuZ2V0RmlsdGVyVGV4dEZvclZhbHVlKGtleSksXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50YXRpb246ICcnXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKG5vZGUucGFyZW50KSB7XG4gICAgICAgICAgICBpZiAobm9kZS5wYXJlbnQudHlwZSA9PT0gJ3Byb3BlcnR5Jykge1xuICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBvYmplY3QgaXMgYSBwcm9wZXJ0eSB2YWx1ZSwgY2hlY2sgdGhlIHRyZWUgZm9yIG90aGVyIG9iamVjdHMgdGhhdCBoYW5nIHVuZGVyIGEgcHJvcGVydHkgb2YgdGhlIHNhbWUgbmFtZVxuICAgICAgICAgICAgICAgIHZhciBwYXJlbnRLZXlfMSA9IG5vZGUucGFyZW50LmtleU5vZGUudmFsdWU7XG4gICAgICAgICAgICAgICAgZG9jLnZpc2l0KGZ1bmN0aW9uIChuKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChuLnR5cGUgPT09ICdwcm9wZXJ0eScgJiYgbiAhPT0gbm9kZS5wYXJlbnQgJiYgbi5rZXlOb2RlLnZhbHVlID09PSBwYXJlbnRLZXlfMSAmJiBuLnZhbHVlTm9kZSAmJiBuLnZhbHVlTm9kZS50eXBlID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29sbGVjdENvbXBsZXRpb25zRm9yU2ltaWxhck9iamVjdChuLnZhbHVlTm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChub2RlLnBhcmVudC50eXBlID09PSAnYXJyYXknKSB7XG4gICAgICAgICAgICAgICAgLy8gaWYgdGhlIG9iamVjdCBpcyBpbiBhbiBhcnJheSwgdXNlIGFsbCBvdGhlciBhcnJheSBlbGVtZW50cyBhcyBzaW1pbGFyIG9iamVjdHNcbiAgICAgICAgICAgICAgICBub2RlLnBhcmVudC5pdGVtcy5mb3JFYWNoKGZ1bmN0aW9uIChuKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChuLnR5cGUgPT09ICdvYmplY3QnICYmIG4gIT09IG5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbGxlY3RDb21wbGV0aW9uc0ZvclNpbWlsYXJPYmplY3Qobik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChub2RlLnR5cGUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBjb2xsZWN0b3IuYWRkKHtcbiAgICAgICAgICAgICAgICBraW5kOiBDb21wbGV0aW9uSXRlbUtpbmQuUHJvcGVydHksXG4gICAgICAgICAgICAgICAgbGFiZWw6ICckc2NoZW1hJyxcbiAgICAgICAgICAgICAgICBpbnNlcnRUZXh0OiB0aGlzLmdldEluc2VydFRleHRGb3JQcm9wZXJ0eSgnJHNjaGVtYScsIG51bGwsIHRydWUsICcnKSxcbiAgICAgICAgICAgICAgICBpbnNlcnRUZXh0Rm9ybWF0OiBJbnNlcnRUZXh0Rm9ybWF0LlNuaXBwZXQsIGRvY3VtZW50YXRpb246ICcnLFxuICAgICAgICAgICAgICAgIGZpbHRlclRleHQ6IHRoaXMuZ2V0RmlsdGVyVGV4dEZvclZhbHVlKFwiJHNjaGVtYVwiKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEpTT05Db21wbGV0aW9uLnByb3RvdHlwZS5nZXRTY2hlbWFMZXNzVmFsdWVDb21wbGV0aW9ucyA9IGZ1bmN0aW9uIChkb2MsIG5vZGUsIG9mZnNldCwgZG9jdW1lbnQsIGNvbGxlY3Rvcikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgb2Zmc2V0Rm9yU2VwYXJhdG9yID0gb2Zmc2V0O1xuICAgICAgICBpZiAobm9kZSAmJiAobm9kZS50eXBlID09PSAnc3RyaW5nJyB8fCBub2RlLnR5cGUgPT09ICdudW1iZXInIHx8IG5vZGUudHlwZSA9PT0gJ2Jvb2xlYW4nIHx8IG5vZGUudHlwZSA9PT0gJ251bGwnKSkge1xuICAgICAgICAgICAgb2Zmc2V0Rm9yU2VwYXJhdG9yID0gbm9kZS5vZmZzZXQgKyBub2RlLmxlbmd0aDtcbiAgICAgICAgICAgIG5vZGUgPSBub2RlLnBhcmVudDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW5vZGUpIHtcbiAgICAgICAgICAgIGNvbGxlY3Rvci5hZGQoe1xuICAgICAgICAgICAgICAgIGtpbmQ6IHRoaXMuZ2V0U3VnZ2VzdGlvbktpbmQoJ29iamVjdCcpLFxuICAgICAgICAgICAgICAgIGxhYmVsOiAnRW1wdHkgb2JqZWN0JyxcbiAgICAgICAgICAgICAgICBpbnNlcnRUZXh0OiB0aGlzLmdldEluc2VydFRleHRGb3JWYWx1ZSh7fSwgJycpLFxuICAgICAgICAgICAgICAgIGluc2VydFRleHRGb3JtYXQ6IEluc2VydFRleHRGb3JtYXQuU25pcHBldCxcbiAgICAgICAgICAgICAgICBkb2N1bWVudGF0aW9uOiAnJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb2xsZWN0b3IuYWRkKHtcbiAgICAgICAgICAgICAgICBraW5kOiB0aGlzLmdldFN1Z2dlc3Rpb25LaW5kKCdhcnJheScpLFxuICAgICAgICAgICAgICAgIGxhYmVsOiAnRW1wdHkgYXJyYXknLFxuICAgICAgICAgICAgICAgIGluc2VydFRleHQ6IHRoaXMuZ2V0SW5zZXJ0VGV4dEZvclZhbHVlKFtdLCAnJyksXG4gICAgICAgICAgICAgICAgaW5zZXJ0VGV4dEZvcm1hdDogSW5zZXJ0VGV4dEZvcm1hdC5TbmlwcGV0LFxuICAgICAgICAgICAgICAgIGRvY3VtZW50YXRpb246ICcnXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc2VwYXJhdG9yQWZ0ZXIgPSB0aGlzLmV2YWx1YXRlU2VwYXJhdG9yQWZ0ZXIoZG9jdW1lbnQsIG9mZnNldEZvclNlcGFyYXRvcik7XG4gICAgICAgIHZhciBjb2xsZWN0U3VnZ2VzdGlvbnNGb3JWYWx1ZXMgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICghUGFyc2VyLmNvbnRhaW5zKHZhbHVlLnBhcmVudCwgb2Zmc2V0LCB0cnVlKSkge1xuICAgICAgICAgICAgICAgIGNvbGxlY3Rvci5hZGQoe1xuICAgICAgICAgICAgICAgICAgICBraW5kOiBfdGhpcy5nZXRTdWdnZXN0aW9uS2luZCh2YWx1ZS50eXBlKSxcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IF90aGlzLmdldExhYmVsVGV4dEZvck1hdGNoaW5nTm9kZSh2YWx1ZSwgZG9jdW1lbnQpLFxuICAgICAgICAgICAgICAgICAgICBpbnNlcnRUZXh0OiBfdGhpcy5nZXRJbnNlcnRUZXh0Rm9yTWF0Y2hpbmdOb2RlKHZhbHVlLCBkb2N1bWVudCwgc2VwYXJhdG9yQWZ0ZXIpLFxuICAgICAgICAgICAgICAgICAgICBpbnNlcnRUZXh0Rm9ybWF0OiBJbnNlcnRUZXh0Rm9ybWF0LlNuaXBwZXQsIGRvY3VtZW50YXRpb246ICcnXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodmFsdWUudHlwZSA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuYWRkQm9vbGVhblZhbHVlQ29tcGxldGlvbighdmFsdWUudmFsdWUsIHNlcGFyYXRvckFmdGVyLCBjb2xsZWN0b3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBpZiAobm9kZS50eXBlID09PSAncHJvcGVydHknKSB7XG4gICAgICAgICAgICBpZiAob2Zmc2V0ID4gbm9kZS5jb2xvbk9mZnNldCkge1xuICAgICAgICAgICAgICAgIHZhciB2YWx1ZU5vZGUgPSBub2RlLnZhbHVlTm9kZTtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWVOb2RlICYmIChvZmZzZXQgPiAodmFsdWVOb2RlLm9mZnNldCArIHZhbHVlTm9kZS5sZW5ndGgpIHx8IHZhbHVlTm9kZS50eXBlID09PSAnb2JqZWN0JyB8fCB2YWx1ZU5vZGUudHlwZSA9PT0gJ2FycmF5JykpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBzdWdnZXN0IHZhbHVlcyBhdCB0aGUgc2FtZSBrZXlcbiAgICAgICAgICAgICAgICB2YXIgcGFyZW50S2V5XzIgPSBub2RlLmtleU5vZGUudmFsdWU7XG4gICAgICAgICAgICAgICAgZG9jLnZpc2l0KGZ1bmN0aW9uIChuKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChuLnR5cGUgPT09ICdwcm9wZXJ0eScgJiYgbi5rZXlOb2RlLnZhbHVlID09PSBwYXJlbnRLZXlfMiAmJiBuLnZhbHVlTm9kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29sbGVjdFN1Z2dlc3Rpb25zRm9yVmFsdWVzKG4udmFsdWVOb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAocGFyZW50S2V5XzIgPT09ICckc2NoZW1hJyAmJiBub2RlLnBhcmVudCAmJiAhbm9kZS5wYXJlbnQucGFyZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkRG9sbGFyU2NoZW1hQ29tcGxldGlvbnMoc2VwYXJhdG9yQWZ0ZXIsIGNvbGxlY3Rvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChub2RlLnR5cGUgPT09ICdhcnJheScpIHtcbiAgICAgICAgICAgIGlmIChub2RlLnBhcmVudCAmJiBub2RlLnBhcmVudC50eXBlID09PSAncHJvcGVydHknKSB7XG4gICAgICAgICAgICAgICAgLy8gc3VnZ2VzdCBpdGVtcyBvZiBhbiBhcnJheSBhdCB0aGUgc2FtZSBrZXlcbiAgICAgICAgICAgICAgICB2YXIgcGFyZW50S2V5XzMgPSBub2RlLnBhcmVudC5rZXlOb2RlLnZhbHVlO1xuICAgICAgICAgICAgICAgIGRvYy52aXNpdChmdW5jdGlvbiAobikge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcCA9IG47XG4gICAgICAgICAgICAgICAgICAgIGlmIChuLnR5cGUgPT09ICdwcm9wZXJ0eScgJiYgcC5rZXlOb2RlLnZhbHVlID09PSBwYXJlbnRLZXlfMyAmJiBwLnZhbHVlTm9kZSAmJiBwLnZhbHVlTm9kZS50eXBlID09PSAnYXJyYXknKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwLnZhbHVlTm9kZS5pdGVtcy5mb3JFYWNoKGNvbGxlY3RTdWdnZXN0aW9uc0ZvclZhbHVlcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBzdWdnZXN0IGl0ZW1zIGluIHRoZSBzYW1lIGFycmF5XG4gICAgICAgICAgICAgICAgbm9kZS5pdGVtcy5mb3JFYWNoKGNvbGxlY3RTdWdnZXN0aW9uc0ZvclZhbHVlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEpTT05Db21wbGV0aW9uLnByb3RvdHlwZS5nZXRWYWx1ZUNvbXBsZXRpb25zID0gZnVuY3Rpb24gKHNjaGVtYSwgZG9jLCBub2RlLCBvZmZzZXQsIGRvY3VtZW50LCBjb2xsZWN0b3IsIHR5cGVzKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBvZmZzZXRGb3JTZXBhcmF0b3IgPSBvZmZzZXQ7XG4gICAgICAgIHZhciBwYXJlbnRLZXkgPSBudWxsO1xuICAgICAgICB2YXIgdmFsdWVOb2RlID0gbnVsbDtcbiAgICAgICAgaWYgKG5vZGUgJiYgKG5vZGUudHlwZSA9PT0gJ3N0cmluZycgfHwgbm9kZS50eXBlID09PSAnbnVtYmVyJyB8fCBub2RlLnR5cGUgPT09ICdib29sZWFuJyB8fCBub2RlLnR5cGUgPT09ICdudWxsJykpIHtcbiAgICAgICAgICAgIG9mZnNldEZvclNlcGFyYXRvciA9IG5vZGUub2Zmc2V0ICsgbm9kZS5sZW5ndGg7XG4gICAgICAgICAgICB2YWx1ZU5vZGUgPSBub2RlO1xuICAgICAgICAgICAgbm9kZSA9IG5vZGUucGFyZW50O1xuICAgICAgICB9XG4gICAgICAgIGlmICghbm9kZSkge1xuICAgICAgICAgICAgdGhpcy5hZGRTY2hlbWFWYWx1ZUNvbXBsZXRpb25zKHNjaGVtYS5zY2hlbWEsICcnLCBjb2xsZWN0b3IsIHR5cGVzKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKG5vZGUudHlwZSA9PT0gJ3Byb3BlcnR5JykgJiYgb2Zmc2V0ID4gbm9kZS5jb2xvbk9mZnNldCkge1xuICAgICAgICAgICAgdmFyIHZhbHVlTm9kZV8xID0gbm9kZS52YWx1ZU5vZGU7XG4gICAgICAgICAgICBpZiAodmFsdWVOb2RlXzEgJiYgb2Zmc2V0ID4gKHZhbHVlTm9kZV8xLm9mZnNldCArIHZhbHVlTm9kZV8xLmxlbmd0aCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47IC8vIHdlIGFyZSBwYXN0IHRoZSB2YWx1ZSBub2RlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYXJlbnRLZXkgPSBub2RlLmtleU5vZGUudmFsdWU7XG4gICAgICAgICAgICBub2RlID0gbm9kZS5wYXJlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5vZGUgJiYgKHBhcmVudEtleSAhPT0gbnVsbCB8fCBub2RlLnR5cGUgPT09ICdhcnJheScpKSB7XG4gICAgICAgICAgICB2YXIgc2VwYXJhdG9yQWZ0ZXJfMiA9IHRoaXMuZXZhbHVhdGVTZXBhcmF0b3JBZnRlcihkb2N1bWVudCwgb2Zmc2V0Rm9yU2VwYXJhdG9yKTtcbiAgICAgICAgICAgIHZhciBtYXRjaGluZ1NjaGVtYXMgPSBkb2MuZ2V0TWF0Y2hpbmdTY2hlbWFzKHNjaGVtYS5zY2hlbWEsIG5vZGUub2Zmc2V0LCB2YWx1ZU5vZGUpO1xuICAgICAgICAgICAgbWF0Y2hpbmdTY2hlbWFzLmZvckVhY2goZnVuY3Rpb24gKHMpIHtcbiAgICAgICAgICAgICAgICBpZiAocy5ub2RlID09PSBub2RlICYmICFzLmludmVydGVkICYmIHMuc2NoZW1hKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChub2RlLnR5cGUgPT09ICdhcnJheScgJiYgcy5zY2hlbWEuaXRlbXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHMuc2NoZW1hLml0ZW1zKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IF90aGlzLmZpbmRJdGVtQXRPZmZzZXQobm9kZSwgZG9jdW1lbnQsIG9mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4IDwgcy5zY2hlbWEuaXRlbXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmFkZFNjaGVtYVZhbHVlQ29tcGxldGlvbnMocy5zY2hlbWEuaXRlbXNbaW5kZXhdLCBzZXBhcmF0b3JBZnRlcl8yLCBjb2xsZWN0b3IsIHR5cGVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5hZGRTY2hlbWFWYWx1ZUNvbXBsZXRpb25zKHMuc2NoZW1hLml0ZW1zLCBzZXBhcmF0b3JBZnRlcl8yLCBjb2xsZWN0b3IsIHR5cGVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAocy5zY2hlbWEucHJvcGVydGllcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByb3BlcnR5U2NoZW1hID0gcy5zY2hlbWEucHJvcGVydGllc1twYXJlbnRLZXldO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb3BlcnR5U2NoZW1hKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuYWRkU2NoZW1hVmFsdWVDb21wbGV0aW9ucyhwcm9wZXJ0eVNjaGVtYSwgc2VwYXJhdG9yQWZ0ZXJfMiwgY29sbGVjdG9yLCB0eXBlcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChwYXJlbnRLZXkgPT09ICckc2NoZW1hJyAmJiAhbm9kZS5wYXJlbnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZERvbGxhclNjaGVtYUNvbXBsZXRpb25zKHNlcGFyYXRvckFmdGVyXzIsIGNvbGxlY3Rvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZXNbJ2Jvb2xlYW4nXSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkQm9vbGVhblZhbHVlQ29tcGxldGlvbih0cnVlLCBzZXBhcmF0b3JBZnRlcl8yLCBjb2xsZWN0b3IpO1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkQm9vbGVhblZhbHVlQ29tcGxldGlvbihmYWxzZSwgc2VwYXJhdG9yQWZ0ZXJfMiwgY29sbGVjdG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlc1snbnVsbCddKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGROdWxsVmFsdWVDb21wbGV0aW9uKHNlcGFyYXRvckFmdGVyXzIsIGNvbGxlY3Rvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEpTT05Db21wbGV0aW9uLnByb3RvdHlwZS5nZXRDb250cmlidXRlZFZhbHVlQ29tcGxldGlvbnMgPSBmdW5jdGlvbiAoZG9jLCBub2RlLCBvZmZzZXQsIGRvY3VtZW50LCBjb2xsZWN0b3IsIGNvbGxlY3Rpb25Qcm9taXNlcykge1xuICAgICAgICBpZiAoIW5vZGUpIHtcbiAgICAgICAgICAgIHRoaXMuY29udHJpYnV0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChjb250cmlidXRpb24pIHtcbiAgICAgICAgICAgICAgICB2YXIgY29sbGVjdFByb21pc2UgPSBjb250cmlidXRpb24uY29sbGVjdERlZmF1bHRDb21wbGV0aW9ucyhkb2N1bWVudC51cmksIGNvbGxlY3Rvcik7XG4gICAgICAgICAgICAgICAgaWYgKGNvbGxlY3RQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbGxlY3Rpb25Qcm9taXNlcy5wdXNoKGNvbGxlY3RQcm9taXNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChub2RlLnR5cGUgPT09ICdzdHJpbmcnIHx8IG5vZGUudHlwZSA9PT0gJ251bWJlcicgfHwgbm9kZS50eXBlID09PSAnYm9vbGVhbicgfHwgbm9kZS50eXBlID09PSAnbnVsbCcpIHtcbiAgICAgICAgICAgICAgICBub2RlID0gbm9kZS5wYXJlbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKG5vZGUudHlwZSA9PT0gJ3Byb3BlcnR5JykgJiYgb2Zmc2V0ID4gbm9kZS5jb2xvbk9mZnNldCkge1xuICAgICAgICAgICAgICAgIHZhciBwYXJlbnRLZXlfNCA9IG5vZGUua2V5Tm9kZS52YWx1ZTtcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWVOb2RlID0gbm9kZS52YWx1ZU5vZGU7XG4gICAgICAgICAgICAgICAgaWYgKCF2YWx1ZU5vZGUgfHwgb2Zmc2V0IDw9ICh2YWx1ZU5vZGUub2Zmc2V0ICsgdmFsdWVOb2RlLmxlbmd0aCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxvY2F0aW9uXzIgPSBQYXJzZXIuZ2V0Tm9kZVBhdGgobm9kZS5wYXJlbnQpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRyaWJ1dGlvbnMuZm9yRWFjaChmdW5jdGlvbiAoY29udHJpYnV0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29sbGVjdFByb21pc2UgPSBjb250cmlidXRpb24uY29sbGVjdFZhbHVlQ29tcGxldGlvbnMoZG9jdW1lbnQudXJpLCBsb2NhdGlvbl8yLCBwYXJlbnRLZXlfNCwgY29sbGVjdG9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb2xsZWN0UHJvbWlzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbGxlY3Rpb25Qcm9taXNlcy5wdXNoKGNvbGxlY3RQcm9taXNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBKU09OQ29tcGxldGlvbi5wcm90b3R5cGUuYWRkU2NoZW1hVmFsdWVDb21wbGV0aW9ucyA9IGZ1bmN0aW9uIChzY2hlbWEsIHNlcGFyYXRvckFmdGVyLCBjb2xsZWN0b3IsIHR5cGVzKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh0eXBlb2Ygc2NoZW1hID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgdGhpcy5hZGRFbnVtVmFsdWVDb21wbGV0aW9ucyhzY2hlbWEsIHNlcGFyYXRvckFmdGVyLCBjb2xsZWN0b3IpO1xuICAgICAgICAgICAgdGhpcy5hZGREZWZhdWx0VmFsdWVDb21wbGV0aW9ucyhzY2hlbWEsIHNlcGFyYXRvckFmdGVyLCBjb2xsZWN0b3IpO1xuICAgICAgICAgICAgdGhpcy5jb2xsZWN0VHlwZXMoc2NoZW1hLCB0eXBlcyk7XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShzY2hlbWEuYWxsT2YpKSB7XG4gICAgICAgICAgICAgICAgc2NoZW1hLmFsbE9mLmZvckVhY2goZnVuY3Rpb24gKHMpIHsgcmV0dXJuIF90aGlzLmFkZFNjaGVtYVZhbHVlQ29tcGxldGlvbnMocywgc2VwYXJhdG9yQWZ0ZXIsIGNvbGxlY3RvciwgdHlwZXMpOyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHNjaGVtYS5hbnlPZikpIHtcbiAgICAgICAgICAgICAgICBzY2hlbWEuYW55T2YuZm9yRWFjaChmdW5jdGlvbiAocykgeyByZXR1cm4gX3RoaXMuYWRkU2NoZW1hVmFsdWVDb21wbGV0aW9ucyhzLCBzZXBhcmF0b3JBZnRlciwgY29sbGVjdG9yLCB0eXBlcyk7IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoc2NoZW1hLm9uZU9mKSkge1xuICAgICAgICAgICAgICAgIHNjaGVtYS5vbmVPZi5mb3JFYWNoKGZ1bmN0aW9uIChzKSB7IHJldHVybiBfdGhpcy5hZGRTY2hlbWFWYWx1ZUNvbXBsZXRpb25zKHMsIHNlcGFyYXRvckFmdGVyLCBjb2xsZWN0b3IsIHR5cGVzKTsgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEpTT05Db21wbGV0aW9uLnByb3RvdHlwZS5hZGREZWZhdWx0VmFsdWVDb21wbGV0aW9ucyA9IGZ1bmN0aW9uIChzY2hlbWEsIHNlcGFyYXRvckFmdGVyLCBjb2xsZWN0b3IsIGFycmF5RGVwdGgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKGFycmF5RGVwdGggPT09IHZvaWQgMCkgeyBhcnJheURlcHRoID0gMDsgfVxuICAgICAgICB2YXIgaGFzUHJvcG9zYWxzID0gZmFsc2U7XG4gICAgICAgIGlmIChzY2hlbWEuZGVmYXVsdCkge1xuICAgICAgICAgICAgdmFyIHR5cGUgPSBzY2hlbWEudHlwZTtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHNjaGVtYS5kZWZhdWx0O1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IGFycmF5RGVwdGg7IGkgPiAwOyBpLS0pIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IFt2YWx1ZV07XG4gICAgICAgICAgICAgICAgdHlwZSA9ICdhcnJheSc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb2xsZWN0b3IuYWRkKHtcbiAgICAgICAgICAgICAgICBraW5kOiB0aGlzLmdldFN1Z2dlc3Rpb25LaW5kKHR5cGUpLFxuICAgICAgICAgICAgICAgIGxhYmVsOiB0aGlzLmdldExhYmVsRm9yVmFsdWUodmFsdWUpLFxuICAgICAgICAgICAgICAgIGluc2VydFRleHQ6IHRoaXMuZ2V0SW5zZXJ0VGV4dEZvclZhbHVlKHZhbHVlLCBzZXBhcmF0b3JBZnRlciksXG4gICAgICAgICAgICAgICAgaW5zZXJ0VGV4dEZvcm1hdDogSW5zZXJ0VGV4dEZvcm1hdC5TbmlwcGV0LFxuICAgICAgICAgICAgICAgIGRldGFpbDogbG9jYWxpemUoJ2pzb24uc3VnZ2VzdC5kZWZhdWx0JywgJ0RlZmF1bHQgdmFsdWUnKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaGFzUHJvcG9zYWxzID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShzY2hlbWEuZGVmYXVsdFNuaXBwZXRzKSkge1xuICAgICAgICAgICAgc2NoZW1hLmRlZmF1bHRTbmlwcGV0cy5mb3JFYWNoKGZ1bmN0aW9uIChzKSB7XG4gICAgICAgICAgICAgICAgdmFyIHR5cGUgPSBzY2hlbWEudHlwZTtcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBzLmJvZHk7XG4gICAgICAgICAgICAgICAgdmFyIGxhYmVsID0gcy5sYWJlbDtcbiAgICAgICAgICAgICAgICB2YXIgaW5zZXJ0VGV4dDtcbiAgICAgICAgICAgICAgICB2YXIgZmlsdGVyVGV4dDtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdHlwZV8xID0gc2NoZW1hLnR5cGU7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSBhcnJheURlcHRoOyBpID4gMDsgaS0tKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IFt2YWx1ZV07XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlXzEgPSAnYXJyYXknO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGluc2VydFRleHQgPSBfdGhpcy5nZXRJbnNlcnRUZXh0Rm9yU25pcHBldFZhbHVlKHZhbHVlLCBzZXBhcmF0b3JBZnRlcik7XG4gICAgICAgICAgICAgICAgICAgIGZpbHRlclRleHQgPSBfdGhpcy5nZXRGaWx0ZXJUZXh0Rm9yU25pcHBldFZhbHVlKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgbGFiZWwgPSBsYWJlbCB8fCBfdGhpcy5nZXRMYWJlbEZvclNuaXBwZXRWYWx1ZSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBzLmJvZHlUZXh0ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcHJlZml4ID0gJycsIHN1ZmZpeCA9ICcnLCBpbmRlbnQgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IGFycmF5RGVwdGg7IGkgPiAwOyBpLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZWZpeCA9IHByZWZpeCArIGluZGVudCArICdbXFxuJztcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1ZmZpeCA9IHN1ZmZpeCArICdcXG4nICsgaW5kZW50ICsgJ10nO1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZW50ICs9ICdcXHQnO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZSA9ICdhcnJheSc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0VGV4dCA9IHByZWZpeCArIGluZGVudCArIHMuYm9keVRleHQuc3BsaXQoJ1xcbicpLmpvaW4oJ1xcbicgKyBpbmRlbnQpICsgc3VmZml4ICsgc2VwYXJhdG9yQWZ0ZXI7XG4gICAgICAgICAgICAgICAgICAgIGxhYmVsID0gbGFiZWwgfHwgaW5zZXJ0VGV4dDtcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyVGV4dCA9IGluc2VydFRleHQucmVwbGFjZSgvW1xcbl0vZywgJycpOyAvLyByZW1vdmUgbmV3IGxpbmVzXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbGxlY3Rvci5hZGQoe1xuICAgICAgICAgICAgICAgICAgICBraW5kOiBfdGhpcy5nZXRTdWdnZXN0aW9uS2luZCh0eXBlKSxcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IGxhYmVsLFxuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudGF0aW9uOiBzLmRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgICAgICAgICBpbnNlcnRUZXh0OiBpbnNlcnRUZXh0LFxuICAgICAgICAgICAgICAgICAgICBpbnNlcnRUZXh0Rm9ybWF0OiBJbnNlcnRUZXh0Rm9ybWF0LlNuaXBwZXQsXG4gICAgICAgICAgICAgICAgICAgIGZpbHRlclRleHQ6IGZpbHRlclRleHRcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBoYXNQcm9wb3NhbHMgPSB0cnVlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFoYXNQcm9wb3NhbHMgJiYgdHlwZW9mIHNjaGVtYS5pdGVtcyA9PT0gJ29iamVjdCcgJiYgIUFycmF5LmlzQXJyYXkoc2NoZW1hLml0ZW1zKSkge1xuICAgICAgICAgICAgdGhpcy5hZGREZWZhdWx0VmFsdWVDb21wbGV0aW9ucyhzY2hlbWEuaXRlbXMsIHNlcGFyYXRvckFmdGVyLCBjb2xsZWN0b3IsIGFycmF5RGVwdGggKyAxKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgSlNPTkNvbXBsZXRpb24ucHJvdG90eXBlLmFkZEVudW1WYWx1ZUNvbXBsZXRpb25zID0gZnVuY3Rpb24gKHNjaGVtYSwgc2VwYXJhdG9yQWZ0ZXIsIGNvbGxlY3Rvcikge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShzY2hlbWEuZW51bSkpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBzY2hlbWEuZW51bS5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBlbm0gPSBzY2hlbWEuZW51bVtpXTtcbiAgICAgICAgICAgICAgICB2YXIgZG9jdW1lbnRhdGlvbiA9IHNjaGVtYS5kZXNjcmlwdGlvbjtcbiAgICAgICAgICAgICAgICBpZiAoc2NoZW1hLmVudW1EZXNjcmlwdGlvbnMgJiYgaSA8IHNjaGVtYS5lbnVtRGVzY3JpcHRpb25zLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudGF0aW9uID0gc2NoZW1hLmVudW1EZXNjcmlwdGlvbnNbaV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbGxlY3Rvci5hZGQoe1xuICAgICAgICAgICAgICAgICAgICBraW5kOiB0aGlzLmdldFN1Z2dlc3Rpb25LaW5kKHNjaGVtYS50eXBlKSxcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHRoaXMuZ2V0TGFiZWxGb3JWYWx1ZShlbm0pLFxuICAgICAgICAgICAgICAgICAgICBpbnNlcnRUZXh0OiB0aGlzLmdldEluc2VydFRleHRGb3JWYWx1ZShlbm0sIHNlcGFyYXRvckFmdGVyKSxcbiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0VGV4dEZvcm1hdDogSW5zZXJ0VGV4dEZvcm1hdC5TbmlwcGV0LFxuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudGF0aW9uOiBkb2N1bWVudGF0aW9uXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEpTT05Db21wbGV0aW9uLnByb3RvdHlwZS5jb2xsZWN0VHlwZXMgPSBmdW5jdGlvbiAoc2NoZW1hLCB0eXBlcykge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShzY2hlbWEuZW51bSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdHlwZSA9IHNjaGVtYS50eXBlO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh0eXBlKSkge1xuICAgICAgICAgICAgdHlwZS5mb3JFYWNoKGZ1bmN0aW9uICh0KSB7IHJldHVybiB0eXBlc1t0XSA9IHRydWU7IH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdHlwZXNbdHlwZV0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBKU09OQ29tcGxldGlvbi5wcm90b3R5cGUuYWRkRmlsbGVyVmFsdWVDb21wbGV0aW9ucyA9IGZ1bmN0aW9uICh0eXBlcywgc2VwYXJhdG9yQWZ0ZXIsIGNvbGxlY3Rvcikge1xuICAgICAgICBpZiAodHlwZXNbJ29iamVjdCddKSB7XG4gICAgICAgICAgICBjb2xsZWN0b3IuYWRkKHtcbiAgICAgICAgICAgICAgICBraW5kOiB0aGlzLmdldFN1Z2dlc3Rpb25LaW5kKCdvYmplY3QnKSxcbiAgICAgICAgICAgICAgICBsYWJlbDogJ3t9JyxcbiAgICAgICAgICAgICAgICBpbnNlcnRUZXh0OiB0aGlzLmdldEluc2VydFRleHRGb3JHdWVzc2VkVmFsdWUoe30sIHNlcGFyYXRvckFmdGVyKSxcbiAgICAgICAgICAgICAgICBpbnNlcnRUZXh0Rm9ybWF0OiBJbnNlcnRUZXh0Rm9ybWF0LlNuaXBwZXQsXG4gICAgICAgICAgICAgICAgZGV0YWlsOiBsb2NhbGl6ZSgnZGVmYXVsdHMub2JqZWN0JywgJ05ldyBvYmplY3QnKSxcbiAgICAgICAgICAgICAgICBkb2N1bWVudGF0aW9uOiAnJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVzWydhcnJheSddKSB7XG4gICAgICAgICAgICBjb2xsZWN0b3IuYWRkKHtcbiAgICAgICAgICAgICAgICBraW5kOiB0aGlzLmdldFN1Z2dlc3Rpb25LaW5kKCdhcnJheScpLFxuICAgICAgICAgICAgICAgIGxhYmVsOiAnW10nLFxuICAgICAgICAgICAgICAgIGluc2VydFRleHQ6IHRoaXMuZ2V0SW5zZXJ0VGV4dEZvckd1ZXNzZWRWYWx1ZShbXSwgc2VwYXJhdG9yQWZ0ZXIpLFxuICAgICAgICAgICAgICAgIGluc2VydFRleHRGb3JtYXQ6IEluc2VydFRleHRGb3JtYXQuU25pcHBldCxcbiAgICAgICAgICAgICAgICBkZXRhaWw6IGxvY2FsaXplKCdkZWZhdWx0cy5hcnJheScsICdOZXcgYXJyYXknKSxcbiAgICAgICAgICAgICAgICBkb2N1bWVudGF0aW9uOiAnJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEpTT05Db21wbGV0aW9uLnByb3RvdHlwZS5hZGRCb29sZWFuVmFsdWVDb21wbGV0aW9uID0gZnVuY3Rpb24gKHZhbHVlLCBzZXBhcmF0b3JBZnRlciwgY29sbGVjdG9yKSB7XG4gICAgICAgIGNvbGxlY3Rvci5hZGQoe1xuICAgICAgICAgICAga2luZDogdGhpcy5nZXRTdWdnZXN0aW9uS2luZCgnYm9vbGVhbicpLFxuICAgICAgICAgICAgbGFiZWw6IHZhbHVlID8gJ3RydWUnIDogJ2ZhbHNlJyxcbiAgICAgICAgICAgIGluc2VydFRleHQ6IHRoaXMuZ2V0SW5zZXJ0VGV4dEZvclZhbHVlKHZhbHVlLCBzZXBhcmF0b3JBZnRlciksXG4gICAgICAgICAgICBpbnNlcnRUZXh0Rm9ybWF0OiBJbnNlcnRUZXh0Rm9ybWF0LlNuaXBwZXQsXG4gICAgICAgICAgICBkb2N1bWVudGF0aW9uOiAnJ1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIEpTT05Db21wbGV0aW9uLnByb3RvdHlwZS5hZGROdWxsVmFsdWVDb21wbGV0aW9uID0gZnVuY3Rpb24gKHNlcGFyYXRvckFmdGVyLCBjb2xsZWN0b3IpIHtcbiAgICAgICAgY29sbGVjdG9yLmFkZCh7XG4gICAgICAgICAgICBraW5kOiB0aGlzLmdldFN1Z2dlc3Rpb25LaW5kKCdudWxsJyksXG4gICAgICAgICAgICBsYWJlbDogJ251bGwnLFxuICAgICAgICAgICAgaW5zZXJ0VGV4dDogJ251bGwnICsgc2VwYXJhdG9yQWZ0ZXIsXG4gICAgICAgICAgICBpbnNlcnRUZXh0Rm9ybWF0OiBJbnNlcnRUZXh0Rm9ybWF0LlNuaXBwZXQsXG4gICAgICAgICAgICBkb2N1bWVudGF0aW9uOiAnJ1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIEpTT05Db21wbGV0aW9uLnByb3RvdHlwZS5hZGREb2xsYXJTY2hlbWFDb21wbGV0aW9ucyA9IGZ1bmN0aW9uIChzZXBhcmF0b3JBZnRlciwgY29sbGVjdG9yKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBzY2hlbWFJZHMgPSB0aGlzLnNjaGVtYVNlcnZpY2UuZ2V0UmVnaXN0ZXJlZFNjaGVtYUlkcyhmdW5jdGlvbiAoc2NoZW1hKSB7IHJldHVybiBzY2hlbWEgPT09ICdodHRwJyB8fCBzY2hlbWEgPT09ICdodHRwcyc7IH0pO1xuICAgICAgICBzY2hlbWFJZHMuZm9yRWFjaChmdW5jdGlvbiAoc2NoZW1hSWQpIHsgcmV0dXJuIGNvbGxlY3Rvci5hZGQoe1xuICAgICAgICAgICAga2luZDogQ29tcGxldGlvbkl0ZW1LaW5kLk1vZHVsZSxcbiAgICAgICAgICAgIGxhYmVsOiBfdGhpcy5nZXRMYWJlbEZvclZhbHVlKHNjaGVtYUlkKSxcbiAgICAgICAgICAgIGZpbHRlclRleHQ6IF90aGlzLmdldEZpbHRlclRleHRGb3JWYWx1ZShzY2hlbWFJZCksXG4gICAgICAgICAgICBpbnNlcnRUZXh0OiBfdGhpcy5nZXRJbnNlcnRUZXh0Rm9yVmFsdWUoc2NoZW1hSWQsIHNlcGFyYXRvckFmdGVyKSxcbiAgICAgICAgICAgIGluc2VydFRleHRGb3JtYXQ6IEluc2VydFRleHRGb3JtYXQuU25pcHBldCwgZG9jdW1lbnRhdGlvbjogJydcbiAgICAgICAgfSk7IH0pO1xuICAgIH07XG4gICAgSlNPTkNvbXBsZXRpb24ucHJvdG90eXBlLmdldExhYmVsRm9yVmFsdWUgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdmFyIGxhYmVsID0gSlNPTi5zdHJpbmdpZnkodmFsdWUpO1xuICAgICAgICBpZiAobGFiZWwubGVuZ3RoID4gNTcpIHtcbiAgICAgICAgICAgIHJldHVybiBsYWJlbC5zdWJzdHIoMCwgNTcpLnRyaW0oKSArICcuLi4nO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsYWJlbDtcbiAgICB9O1xuICAgIEpTT05Db21wbGV0aW9uLnByb3RvdHlwZS5nZXRGaWx0ZXJUZXh0Rm9yVmFsdWUgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHZhbHVlKTtcbiAgICB9O1xuICAgIEpTT05Db21wbGV0aW9uLnByb3RvdHlwZS5nZXRGaWx0ZXJUZXh0Rm9yU25pcHBldFZhbHVlID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh2YWx1ZSkucmVwbGFjZSgvXFwkXFx7XFxkKzooW159XSspXFx9fFxcJFxcZCsvZywgJyQxJyk7XG4gICAgfTtcbiAgICBKU09OQ29tcGxldGlvbi5wcm90b3R5cGUuZ2V0TGFiZWxGb3JTbmlwcGV0VmFsdWUgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdmFyIGxhYmVsID0gSlNPTi5zdHJpbmdpZnkodmFsdWUpO1xuICAgICAgICBsYWJlbCA9IGxhYmVsLnJlcGxhY2UoL1xcJFxce1xcZCs6KFtefV0rKVxcfXxcXCRcXGQrL2csICckMScpO1xuICAgICAgICBpZiAobGFiZWwubGVuZ3RoID4gNTcpIHtcbiAgICAgICAgICAgIHJldHVybiBsYWJlbC5zdWJzdHIoMCwgNTcpLnRyaW0oKSArICcuLi4nO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsYWJlbDtcbiAgICB9O1xuICAgIEpTT05Db21wbGV0aW9uLnByb3RvdHlwZS5nZXRJbnNlcnRUZXh0Rm9yUGxhaW5UZXh0ID0gZnVuY3Rpb24gKHRleHQpIHtcbiAgICAgICAgcmV0dXJuIHRleHQucmVwbGFjZSgvW1xcXFxcXCRcXH1dL2csICdcXFxcJCYnKTsgLy8gZXNjYXBlICQsIFxcIGFuZCB9IFxuICAgIH07XG4gICAgSlNPTkNvbXBsZXRpb24ucHJvdG90eXBlLmdldEluc2VydFRleHRGb3JWYWx1ZSA9IGZ1bmN0aW9uICh2YWx1ZSwgc2VwYXJhdG9yQWZ0ZXIpIHtcbiAgICAgICAgdmFyIHRleHQgPSBKU09OLnN0cmluZ2lmeSh2YWx1ZSwgbnVsbCwgJ1xcdCcpO1xuICAgICAgICBpZiAodGV4dCA9PT0gJ3t9Jykge1xuICAgICAgICAgICAgcmV0dXJuICd7XFxuXFx0JDFcXG59JyArIHNlcGFyYXRvckFmdGVyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRleHQgPT09ICdbXScpIHtcbiAgICAgICAgICAgIHJldHVybiAnW1xcblxcdCQxXFxuXScgKyBzZXBhcmF0b3JBZnRlcjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5nZXRJbnNlcnRUZXh0Rm9yUGxhaW5UZXh0KHRleHQgKyBzZXBhcmF0b3JBZnRlcik7XG4gICAgfTtcbiAgICBKU09OQ29tcGxldGlvbi5wcm90b3R5cGUuZ2V0SW5zZXJ0VGV4dEZvclNuaXBwZXRWYWx1ZSA9IGZ1bmN0aW9uICh2YWx1ZSwgc2VwYXJhdG9yQWZ0ZXIpIHtcbiAgICAgICAgdmFyIHJlcGxhY2VyID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZVswXSA9PT0gJ14nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZS5zdWJzdHIoMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHZhbHVlKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHN0cmluZ2lmeU9iamVjdCh2YWx1ZSwgJycsIHJlcGxhY2VyKSArIHNlcGFyYXRvckFmdGVyO1xuICAgIH07XG4gICAgSlNPTkNvbXBsZXRpb24ucHJvdG90eXBlLmdldEluc2VydFRleHRGb3JHdWVzc2VkVmFsdWUgPSBmdW5jdGlvbiAodmFsdWUsIHNlcGFyYXRvckFmdGVyKSB7XG4gICAgICAgIHN3aXRjaCAodHlwZW9mIHZhbHVlKSB7XG4gICAgICAgICAgICBjYXNlICdvYmplY3QnOlxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJyR7MTpudWxsfScgKyBzZXBhcmF0b3JBZnRlcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0SW5zZXJ0VGV4dEZvclZhbHVlKHZhbHVlLCBzZXBhcmF0b3JBZnRlcik7XG4gICAgICAgICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgICAgICAgICAgIHZhciBzbmlwcGV0VmFsdWUgPSBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgc25pcHBldFZhbHVlID0gc25pcHBldFZhbHVlLnN1YnN0cigxLCBzbmlwcGV0VmFsdWUubGVuZ3RoIC0gMik7IC8vIHJlbW92ZSBxdW90ZXNcbiAgICAgICAgICAgICAgICBzbmlwcGV0VmFsdWUgPSB0aGlzLmdldEluc2VydFRleHRGb3JQbGFpblRleHQoc25pcHBldFZhbHVlKTsgLy8gZXNjYXBlIFxcIGFuZCB9XG4gICAgICAgICAgICAgICAgcmV0dXJuICdcIiR7MTonICsgc25pcHBldFZhbHVlICsgJ31cIicgKyBzZXBhcmF0b3JBZnRlcjtcbiAgICAgICAgICAgIGNhc2UgJ251bWJlcic6XG4gICAgICAgICAgICBjYXNlICdib29sZWFuJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gJyR7MTonICsgSlNPTi5zdHJpbmdpZnkodmFsdWUpICsgJ30nICsgc2VwYXJhdG9yQWZ0ZXI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0SW5zZXJ0VGV4dEZvclZhbHVlKHZhbHVlLCBzZXBhcmF0b3JBZnRlcik7XG4gICAgfTtcbiAgICBKU09OQ29tcGxldGlvbi5wcm90b3R5cGUuZ2V0U3VnZ2VzdGlvbktpbmQgPSBmdW5jdGlvbiAodHlwZSkge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh0eXBlKSkge1xuICAgICAgICAgICAgdmFyIGFycmF5ID0gdHlwZTtcbiAgICAgICAgICAgIHR5cGUgPSBhcnJheS5sZW5ndGggPiAwID8gYXJyYXlbMF0gOiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdHlwZSkge1xuICAgICAgICAgICAgcmV0dXJuIENvbXBsZXRpb25JdGVtS2luZC5WYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ3N0cmluZyc6IHJldHVybiBDb21wbGV0aW9uSXRlbUtpbmQuVmFsdWU7XG4gICAgICAgICAgICBjYXNlICdvYmplY3QnOiByZXR1cm4gQ29tcGxldGlvbkl0ZW1LaW5kLk1vZHVsZTtcbiAgICAgICAgICAgIGNhc2UgJ3Byb3BlcnR5JzogcmV0dXJuIENvbXBsZXRpb25JdGVtS2luZC5Qcm9wZXJ0eTtcbiAgICAgICAgICAgIGRlZmF1bHQ6IHJldHVybiBDb21wbGV0aW9uSXRlbUtpbmQuVmFsdWU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEpTT05Db21wbGV0aW9uLnByb3RvdHlwZS5nZXRMYWJlbFRleHRGb3JNYXRjaGluZ05vZGUgPSBmdW5jdGlvbiAobm9kZSwgZG9jdW1lbnQpIHtcbiAgICAgICAgc3dpdGNoIChub2RlLnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ2FycmF5JzpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ1tdJztcbiAgICAgICAgICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuICd7fSc7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHZhciBjb250ZW50ID0gZG9jdW1lbnQuZ2V0VGV4dCgpLnN1YnN0cihub2RlLm9mZnNldCwgbm9kZS5sZW5ndGgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb250ZW50O1xuICAgICAgICB9XG4gICAgfTtcbiAgICBKU09OQ29tcGxldGlvbi5wcm90b3R5cGUuZ2V0SW5zZXJ0VGV4dEZvck1hdGNoaW5nTm9kZSA9IGZ1bmN0aW9uIChub2RlLCBkb2N1bWVudCwgc2VwYXJhdG9yQWZ0ZXIpIHtcbiAgICAgICAgc3dpdGNoIChub2RlLnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ2FycmF5JzpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRJbnNlcnRUZXh0Rm9yVmFsdWUoW10sIHNlcGFyYXRvckFmdGVyKTtcbiAgICAgICAgICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0SW5zZXJ0VGV4dEZvclZhbHVlKHt9LCBzZXBhcmF0b3JBZnRlcik7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHZhciBjb250ZW50ID0gZG9jdW1lbnQuZ2V0VGV4dCgpLnN1YnN0cihub2RlLm9mZnNldCwgbm9kZS5sZW5ndGgpICsgc2VwYXJhdG9yQWZ0ZXI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0SW5zZXJ0VGV4dEZvclBsYWluVGV4dChjb250ZW50KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgSlNPTkNvbXBsZXRpb24ucHJvdG90eXBlLmdldEluc2VydFRleHRGb3JQcm9wZXJ0eSA9IGZ1bmN0aW9uIChrZXksIHByb3BlcnR5U2NoZW1hLCBhZGRWYWx1ZSwgc2VwYXJhdG9yQWZ0ZXIpIHtcbiAgICAgICAgdmFyIHByb3BlcnR5VGV4dCA9IHRoaXMuZ2V0SW5zZXJ0VGV4dEZvclZhbHVlKGtleSwgJycpO1xuICAgICAgICBpZiAoIWFkZFZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm4gcHJvcGVydHlUZXh0O1xuICAgICAgICB9XG4gICAgICAgIHZhciByZXN1bHRUZXh0ID0gcHJvcGVydHlUZXh0ICsgJzogJztcbiAgICAgICAgdmFyIHZhbHVlO1xuICAgICAgICB2YXIgblZhbHVlUHJvcG9zYWxzID0gMDtcbiAgICAgICAgaWYgKHByb3BlcnR5U2NoZW1hKSB7XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShwcm9wZXJ0eVNjaGVtYS5kZWZhdWx0U25pcHBldHMpKSB7XG4gICAgICAgICAgICAgICAgaWYgKHByb3BlcnR5U2NoZW1hLmRlZmF1bHRTbmlwcGV0cy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGJvZHkgPSBwcm9wZXJ0eVNjaGVtYS5kZWZhdWx0U25pcHBldHNbMF0uYm9keTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBib2R5ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB0aGlzLmdldEluc2VydFRleHRGb3JTbmlwcGV0VmFsdWUoYm9keSwgJycpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG5WYWx1ZVByb3Bvc2FscyArPSBwcm9wZXJ0eVNjaGVtYS5kZWZhdWx0U25pcHBldHMubGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHByb3BlcnR5U2NoZW1hLmVudW0pIHtcbiAgICAgICAgICAgICAgICBpZiAoIXZhbHVlICYmIHByb3BlcnR5U2NoZW1hLmVudW0ubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gdGhpcy5nZXRJbnNlcnRUZXh0Rm9yR3Vlc3NlZFZhbHVlKHByb3BlcnR5U2NoZW1hLmVudW1bMF0sICcnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgblZhbHVlUHJvcG9zYWxzICs9IHByb3BlcnR5U2NoZW1hLmVudW0ubGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBwcm9wZXJ0eVNjaGVtYS5kZWZhdWx0ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB0aGlzLmdldEluc2VydFRleHRGb3JHdWVzc2VkVmFsdWUocHJvcGVydHlTY2hlbWEuZGVmYXVsdCwgJycpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBuVmFsdWVQcm9wb3NhbHMrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChuVmFsdWVQcm9wb3NhbHMgPT09IDApIHtcbiAgICAgICAgICAgICAgICB2YXIgdHlwZSA9IEFycmF5LmlzQXJyYXkocHJvcGVydHlTY2hlbWEudHlwZSkgPyBwcm9wZXJ0eVNjaGVtYS50eXBlWzBdIDogcHJvcGVydHlTY2hlbWEudHlwZTtcbiAgICAgICAgICAgICAgICBpZiAoIXR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByb3BlcnR5U2NoZW1hLnByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGUgPSAnb2JqZWN0JztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChwcm9wZXJ0eVNjaGVtYS5pdGVtcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZSA9ICdhcnJheSc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSAnJDEnO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9ICdcIiQxXCInO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9ICd7XFxuXFx0JDFcXG59JztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdhcnJheSc6XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9ICdbXFxuXFx0JDFcXG5dJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdudW1iZXInOlxuICAgICAgICAgICAgICAgICAgICBjYXNlICdpbnRlZ2VyJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gJyR7MTowfSc7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnbnVsbCc6XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9ICckezE6bnVsbH0nO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJvcGVydHlUZXh0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIXZhbHVlIHx8IG5WYWx1ZVByb3Bvc2FscyA+IDEpIHtcbiAgICAgICAgICAgIHZhbHVlID0gJyQxJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0VGV4dCArIHZhbHVlICsgc2VwYXJhdG9yQWZ0ZXI7XG4gICAgfTtcbiAgICBKU09OQ29tcGxldGlvbi5wcm90b3R5cGUuZ2V0Q3VycmVudFdvcmQgPSBmdW5jdGlvbiAoZG9jdW1lbnQsIG9mZnNldCkge1xuICAgICAgICB2YXIgaSA9IG9mZnNldCAtIDE7XG4gICAgICAgIHZhciB0ZXh0ID0gZG9jdW1lbnQuZ2V0VGV4dCgpO1xuICAgICAgICB3aGlsZSAoaSA+PSAwICYmICcgXFx0XFxuXFxyXFx2XCI6e1ssXX0nLmluZGV4T2YodGV4dC5jaGFyQXQoaSkpID09PSAtMSkge1xuICAgICAgICAgICAgaS0tO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0ZXh0LnN1YnN0cmluZyhpICsgMSwgb2Zmc2V0KTtcbiAgICB9O1xuICAgIEpTT05Db21wbGV0aW9uLnByb3RvdHlwZS5ldmFsdWF0ZVNlcGFyYXRvckFmdGVyID0gZnVuY3Rpb24gKGRvY3VtZW50LCBvZmZzZXQpIHtcbiAgICAgICAgdmFyIHNjYW5uZXIgPSBKc29uLmNyZWF0ZVNjYW5uZXIoZG9jdW1lbnQuZ2V0VGV4dCgpLCB0cnVlKTtcbiAgICAgICAgc2Nhbm5lci5zZXRQb3NpdGlvbihvZmZzZXQpO1xuICAgICAgICB2YXIgdG9rZW4gPSBzY2FubmVyLnNjYW4oKTtcbiAgICAgICAgc3dpdGNoICh0b2tlbikge1xuICAgICAgICAgICAgY2FzZSA1IC8qIENvbW1hVG9rZW4gKi86XG4gICAgICAgICAgICBjYXNlIDIgLyogQ2xvc2VCcmFjZVRva2VuICovOlxuICAgICAgICAgICAgY2FzZSA0IC8qIENsb3NlQnJhY2tldFRva2VuICovOlxuICAgICAgICAgICAgY2FzZSAxNyAvKiBFT0YgKi86XG4gICAgICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gJywnO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBKU09OQ29tcGxldGlvbi5wcm90b3R5cGUuZmluZEl0ZW1BdE9mZnNldCA9IGZ1bmN0aW9uIChub2RlLCBkb2N1bWVudCwgb2Zmc2V0KSB7XG4gICAgICAgIHZhciBzY2FubmVyID0gSnNvbi5jcmVhdGVTY2FubmVyKGRvY3VtZW50LmdldFRleHQoKSwgdHJ1ZSk7XG4gICAgICAgIHZhciBjaGlsZHJlbiA9IG5vZGUuaXRlbXM7XG4gICAgICAgIGZvciAodmFyIGkgPSBjaGlsZHJlbi5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgdmFyIGNoaWxkID0gY2hpbGRyZW5baV07XG4gICAgICAgICAgICBpZiAob2Zmc2V0ID4gY2hpbGQub2Zmc2V0ICsgY2hpbGQubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgc2Nhbm5lci5zZXRQb3NpdGlvbihjaGlsZC5vZmZzZXQgKyBjaGlsZC5sZW5ndGgpO1xuICAgICAgICAgICAgICAgIHZhciB0b2tlbiA9IHNjYW5uZXIuc2NhbigpO1xuICAgICAgICAgICAgICAgIGlmICh0b2tlbiA9PT0gNSAvKiBDb21tYVRva2VuICovICYmIG9mZnNldCA+PSBzY2FubmVyLmdldFRva2VuT2Zmc2V0KCkgKyBzY2FubmVyLmdldFRva2VuTGVuZ3RoKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGkgKyAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG9mZnNldCA+PSBjaGlsZC5vZmZzZXQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gMDtcbiAgICB9O1xuICAgIEpTT05Db21wbGV0aW9uLnByb3RvdHlwZS5pc0luQ29tbWVudCA9IGZ1bmN0aW9uIChkb2N1bWVudCwgc3RhcnQsIG9mZnNldCkge1xuICAgICAgICB2YXIgc2Nhbm5lciA9IEpzb24uY3JlYXRlU2Nhbm5lcihkb2N1bWVudC5nZXRUZXh0KCksIGZhbHNlKTtcbiAgICAgICAgc2Nhbm5lci5zZXRQb3NpdGlvbihzdGFydCk7XG4gICAgICAgIHZhciB0b2tlbiA9IHNjYW5uZXIuc2NhbigpO1xuICAgICAgICB3aGlsZSAodG9rZW4gIT09IDE3IC8qIEVPRiAqLyAmJiAoc2Nhbm5lci5nZXRUb2tlbk9mZnNldCgpICsgc2Nhbm5lci5nZXRUb2tlbkxlbmd0aCgpIDwgb2Zmc2V0KSkge1xuICAgICAgICAgICAgdG9rZW4gPSBzY2FubmVyLnNjYW4oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKHRva2VuID09PSAxMiAvKiBMaW5lQ29tbWVudFRyaXZpYSAqLyB8fCB0b2tlbiA9PT0gMTMgLyogQmxvY2tDb21tZW50VHJpdmlhICovKSAmJiBzY2FubmVyLmdldFRva2VuT2Zmc2V0KCkgPD0gb2Zmc2V0O1xuICAgIH07XG4gICAgcmV0dXJuIEpTT05Db21wbGV0aW9uO1xufSgpKTtcbmV4cG9ydCB7IEpTT05Db21wbGV0aW9uIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1qc29uQ29tcGxldGlvbi5qcy5tYXAiLCIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbid1c2Ugc3RyaWN0JztcbmV4cG9ydCBmdW5jdGlvbiBzdHJpbmdpZnlPYmplY3Qob2JqLCBpbmRlbnQsIHN0cmluZ2lmeUxpdGVyYWwpIHtcbiAgICBpZiAob2JqICE9PSBudWxsICYmIHR5cGVvZiBvYmogPT09ICdvYmplY3QnKSB7XG4gICAgICAgIHZhciBuZXdJbmRlbnQgPSBpbmRlbnQgKyAnXFx0JztcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkob2JqKSkge1xuICAgICAgICAgICAgaWYgKG9iai5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJ1tdJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciByZXN1bHQgPSAnW1xcbic7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9iai5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHJlc3VsdCArPSBuZXdJbmRlbnQgKyBzdHJpbmdpZnlPYmplY3Qob2JqW2ldLCBuZXdJbmRlbnQsIHN0cmluZ2lmeUxpdGVyYWwpO1xuICAgICAgICAgICAgICAgIGlmIChpIDwgb2JqLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9ICcsJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVzdWx0ICs9ICdcXG4nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzdWx0ICs9IGluZGVudCArICddJztcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iaik7XG4gICAgICAgICAgICBpZiAoa2V5cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3t9JztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciByZXN1bHQgPSAne1xcbic7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIga2V5ID0ga2V5c1tpXTtcbiAgICAgICAgICAgICAgICByZXN1bHQgKz0gbmV3SW5kZW50ICsgSlNPTi5zdHJpbmdpZnkoa2V5KSArICc6ICcgKyBzdHJpbmdpZnlPYmplY3Qob2JqW2tleV0sIG5ld0luZGVudCwgc3RyaW5naWZ5TGl0ZXJhbCk7XG4gICAgICAgICAgICAgICAgaWYgKGkgPCBrZXlzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9ICcsJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVzdWx0ICs9ICdcXG4nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzdWx0ICs9IGluZGVudCArICd9JztcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHN0cmluZ2lmeUxpdGVyYWwob2JqKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWpzb24uanMubWFwIiwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG4ndXNlIHN0cmljdCc7XG5pbXBvcnQgKiBhcyBQYXJzZXIgZnJvbSAnLi4vcGFyc2VyL2pzb25QYXJzZXIuanMnO1xuaW1wb3J0IHsgUmFuZ2UgfSBmcm9tICcuLi8uLi92c2NvZGUtbGFuZ3VhZ2VzZXJ2ZXItdHlwZXMvbWFpbi5qcyc7XG52YXIgSlNPTkhvdmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEpTT05Ib3ZlcihzY2hlbWFTZXJ2aWNlLCBjb250cmlidXRpb25zLCBwcm9taXNlQ29uc3RydWN0b3IpIHtcbiAgICAgICAgaWYgKGNvbnRyaWJ1dGlvbnMgPT09IHZvaWQgMCkgeyBjb250cmlidXRpb25zID0gW107IH1cbiAgICAgICAgdGhpcy5zY2hlbWFTZXJ2aWNlID0gc2NoZW1hU2VydmljZTtcbiAgICAgICAgdGhpcy5jb250cmlidXRpb25zID0gY29udHJpYnV0aW9ucztcbiAgICAgICAgdGhpcy5wcm9taXNlID0gcHJvbWlzZUNvbnN0cnVjdG9yIHx8IFByb21pc2U7XG4gICAgfVxuICAgIEpTT05Ib3Zlci5wcm90b3R5cGUuZG9Ib3ZlciA9IGZ1bmN0aW9uIChkb2N1bWVudCwgcG9zaXRpb24sIGRvYykge1xuICAgICAgICB2YXIgb2Zmc2V0ID0gZG9jdW1lbnQub2Zmc2V0QXQocG9zaXRpb24pO1xuICAgICAgICB2YXIgbm9kZSA9IGRvYy5nZXROb2RlRnJvbU9mZnNldChvZmZzZXQpO1xuICAgICAgICBpZiAoIW5vZGUgfHwgKG5vZGUudHlwZSA9PT0gJ29iamVjdCcgfHwgbm9kZS50eXBlID09PSAnYXJyYXknKSAmJiBvZmZzZXQgPiBub2RlLm9mZnNldCArIDEgJiYgb2Zmc2V0IDwgbm9kZS5vZmZzZXQgKyBub2RlLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnByb21pc2UucmVzb2x2ZShudWxsKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaG92ZXJSYW5nZU5vZGUgPSBub2RlO1xuICAgICAgICAvLyB1c2UgdGhlIHByb3BlcnR5IGRlc2NyaXB0aW9uIHdoZW4gaG92ZXJpbmcgb3ZlciBhbiBvYmplY3Qga2V5XG4gICAgICAgIGlmIChub2RlLnR5cGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB2YXIgcGFyZW50ID0gbm9kZS5wYXJlbnQ7XG4gICAgICAgICAgICBpZiAocGFyZW50LnR5cGUgPT09ICdwcm9wZXJ0eScgJiYgcGFyZW50LmtleU5vZGUgPT09IG5vZGUpIHtcbiAgICAgICAgICAgICAgICBub2RlID0gcGFyZW50LnZhbHVlTm9kZTtcbiAgICAgICAgICAgICAgICBpZiAoIW5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJvbWlzZS5yZXNvbHZlKG51bGwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgaG92ZXJSYW5nZSA9IFJhbmdlLmNyZWF0ZShkb2N1bWVudC5wb3NpdGlvbkF0KGhvdmVyUmFuZ2VOb2RlLm9mZnNldCksIGRvY3VtZW50LnBvc2l0aW9uQXQoaG92ZXJSYW5nZU5vZGUub2Zmc2V0ICsgaG92ZXJSYW5nZU5vZGUubGVuZ3RoKSk7XG4gICAgICAgIHZhciBjcmVhdGVIb3ZlciA9IGZ1bmN0aW9uIChjb250ZW50cykge1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHtcbiAgICAgICAgICAgICAgICBjb250ZW50czogY29udGVudHMsXG4gICAgICAgICAgICAgICAgcmFuZ2U6IGhvdmVyUmFuZ2VcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9O1xuICAgICAgICB2YXIgbG9jYXRpb24gPSBQYXJzZXIuZ2V0Tm9kZVBhdGgobm9kZSk7XG4gICAgICAgIGZvciAodmFyIGkgPSB0aGlzLmNvbnRyaWJ1dGlvbnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIHZhciBjb250cmlidXRpb24gPSB0aGlzLmNvbnRyaWJ1dGlvbnNbaV07XG4gICAgICAgICAgICB2YXIgcHJvbWlzZSA9IGNvbnRyaWJ1dGlvbi5nZXRJbmZvQ29udHJpYnV0aW9uKGRvY3VtZW50LnVyaSwgbG9jYXRpb24pO1xuICAgICAgICAgICAgaWYgKHByb21pc2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChodG1sQ29udGVudCkgeyByZXR1cm4gY3JlYXRlSG92ZXIoaHRtbENvbnRlbnQpOyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5zY2hlbWFTZXJ2aWNlLmdldFNjaGVtYUZvclJlc291cmNlKGRvY3VtZW50LnVyaSwgZG9jKS50aGVuKGZ1bmN0aW9uIChzY2hlbWEpIHtcbiAgICAgICAgICAgIGlmIChzY2hlbWEpIHtcbiAgICAgICAgICAgICAgICB2YXIgbWF0Y2hpbmdTY2hlbWFzID0gZG9jLmdldE1hdGNoaW5nU2NoZW1hcyhzY2hlbWEuc2NoZW1hLCBub2RlLm9mZnNldCk7XG4gICAgICAgICAgICAgICAgdmFyIHRpdGxlXzEgPSBudWxsO1xuICAgICAgICAgICAgICAgIHZhciBtYXJrZG93bkRlc2NyaXB0aW9uXzEgPSBudWxsO1xuICAgICAgICAgICAgICAgIHZhciBtYXJrZG93bkVudW1WYWx1ZURlc2NyaXB0aW9uXzEgPSBudWxsLCBlbnVtVmFsdWVfMSA9IG51bGw7XG4gICAgICAgICAgICAgICAgbWF0Y2hpbmdTY2hlbWFzLmV2ZXJ5KGZ1bmN0aW9uIChzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzLm5vZGUgPT09IG5vZGUgJiYgIXMuaW52ZXJ0ZWQgJiYgcy5zY2hlbWEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlXzEgPSB0aXRsZV8xIHx8IHMuc2NoZW1hLnRpdGxlO1xuICAgICAgICAgICAgICAgICAgICAgICAgbWFya2Rvd25EZXNjcmlwdGlvbl8xID0gbWFya2Rvd25EZXNjcmlwdGlvbl8xIHx8IHMuc2NoZW1hLm1hcmtkb3duRGVzY3JpcHRpb24gfHwgdG9NYXJrZG93bihzLnNjaGVtYS5kZXNjcmlwdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocy5zY2hlbWEuZW51bSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpZHggPSBzLnNjaGVtYS5lbnVtLmluZGV4T2YoUGFyc2VyLmdldE5vZGVWYWx1ZShub2RlKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMuc2NoZW1hLm1hcmtkb3duRW51bURlc2NyaXB0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJrZG93bkVudW1WYWx1ZURlc2NyaXB0aW9uXzEgPSBzLnNjaGVtYS5tYXJrZG93bkVudW1EZXNjcmlwdGlvbnNbaWR4XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAocy5zY2hlbWEuZW51bURlc2NyaXB0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJrZG93bkVudW1WYWx1ZURlc2NyaXB0aW9uXzEgPSB0b01hcmtkb3duKHMuc2NoZW1hLmVudW1EZXNjcmlwdGlvbnNbaWR4XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXJrZG93bkVudW1WYWx1ZURlc2NyaXB0aW9uXzEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW51bVZhbHVlXzEgPSBzLnNjaGVtYS5lbnVtW2lkeF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZW51bVZhbHVlXzEgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnVtVmFsdWVfMSA9IEpTT04uc3RyaW5naWZ5KGVudW1WYWx1ZV8xKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gJyc7XG4gICAgICAgICAgICAgICAgaWYgKHRpdGxlXzEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gdG9NYXJrZG93bih0aXRsZV8xKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG1hcmtkb3duRGVzY3JpcHRpb25fMSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSBcIlxcblxcblwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSBtYXJrZG93bkRlc2NyaXB0aW9uXzE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChtYXJrZG93bkVudW1WYWx1ZURlc2NyaXB0aW9uXzEpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gXCJcXG5cXG5cIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gXCJgXCIgKyB0b01hcmtkb3duKGVudW1WYWx1ZV8xKSArIFwiYDogXCIgKyBtYXJrZG93bkVudW1WYWx1ZURlc2NyaXB0aW9uXzE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVIb3ZlcihbcmVzdWx0XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gSlNPTkhvdmVyO1xufSgpKTtcbmV4cG9ydCB7IEpTT05Ib3ZlciB9O1xuZnVuY3Rpb24gdG9NYXJrZG93bihwbGFpbikge1xuICAgIGlmIChwbGFpbikge1xuICAgICAgICB2YXIgcmVzID0gcGxhaW4ucmVwbGFjZSgvKFteXFxuXFxyXSkoXFxyP1xcbikoW15cXG5cXHJdKS9nbSwgJyQxXFxuXFxuJDMnKTsgLy8gc2luZ2xlIG5ldyBsaW5lcyB0byBcXG5cXG4gKE1hcmtkb3duIHBhcmFncmFwaClcbiAgICAgICAgcmV0dXJuIHJlcy5yZXBsYWNlKC9bXFxcXGAqX3t9W1xcXSgpIytcXC0uIV0vZywgXCJcXFxcJCZcIik7IC8vIGVzY2FwZSBtYXJrZG93biBzeW50YXggdG9rZW5zOiBodHRwOi8vZGFyaW5nZmlyZWJhbGwubmV0L3Byb2plY3RzL21hcmtkb3duL3N5bnRheCNiYWNrc2xhc2hcbiAgICB9XG4gICAgcmV0dXJuIHZvaWQgMDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWpzb25Ib3Zlci5qcy5tYXAiLCIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbid1c2Ugc3RyaWN0JztcbmltcG9ydCB7IFByb2JsZW1TZXZlcml0eSwgRXJyb3JDb2RlIH0gZnJvbSAnLi4vcGFyc2VyL2pzb25QYXJzZXIuanMnO1xuaW1wb3J0IHsgRGlhZ25vc3RpY1NldmVyaXR5IH0gZnJvbSAnLi4vLi4vdnNjb2RlLWxhbmd1YWdlc2VydmVyLXR5cGVzL21haW4uanMnO1xuaW1wb3J0ICogYXMgbmxzIGZyb20gJy4uLy4uLy4uL2ZpbGxlcnMvdnNjb2RlLW5scy5qcyc7XG52YXIgbG9jYWxpemUgPSBubHMubG9hZE1lc3NhZ2VCdW5kbGUoKTtcbnZhciBKU09OVmFsaWRhdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBKU09OVmFsaWRhdGlvbihqc29uU2NoZW1hU2VydmljZSwgcHJvbWlzZUNvbnN0cnVjdG9yKSB7XG4gICAgICAgIHRoaXMuanNvblNjaGVtYVNlcnZpY2UgPSBqc29uU2NoZW1hU2VydmljZTtcbiAgICAgICAgdGhpcy5wcm9taXNlID0gcHJvbWlzZUNvbnN0cnVjdG9yO1xuICAgICAgICB0aGlzLnZhbGlkYXRpb25FbmFibGVkID0gdHJ1ZTtcbiAgICB9XG4gICAgSlNPTlZhbGlkYXRpb24ucHJvdG90eXBlLmNvbmZpZ3VyZSA9IGZ1bmN0aW9uIChyYXcpIHtcbiAgICAgICAgaWYgKHJhdykge1xuICAgICAgICAgICAgdGhpcy52YWxpZGF0aW9uRW5hYmxlZCA9IHJhdy52YWxpZGF0ZTtcbiAgICAgICAgICAgIHRoaXMuY29tbWVudFNldmVyaXR5ID0gcmF3LmFsbG93Q29tbWVudHMgPyBQcm9ibGVtU2V2ZXJpdHkuSWdub3JlIDogUHJvYmxlbVNldmVyaXR5LkVycm9yO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBKU09OVmFsaWRhdGlvbi5wcm90b3R5cGUuZG9WYWxpZGF0aW9uID0gZnVuY3Rpb24gKHRleHREb2N1bWVudCwganNvbkRvY3VtZW50LCBkb2N1bWVudFNldHRpbmdzKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICghdGhpcy52YWxpZGF0aW9uRW5hYmxlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJvbWlzZS5yZXNvbHZlKFtdKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZGlhZ25vc3RpY3MgPSBbXTtcbiAgICAgICAgdmFyIGFkZGVkID0ge307XG4gICAgICAgIHZhciBhZGRQcm9ibGVtID0gZnVuY3Rpb24gKHByb2JsZW0pIHtcbiAgICAgICAgICAgIGlmIChwcm9ibGVtLnNldmVyaXR5ID09PSBQcm9ibGVtU2V2ZXJpdHkuSWdub3JlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gcmVtb3ZlIGR1cGxpY2F0ZWQgbWVzc2FnZXNcbiAgICAgICAgICAgIHZhciBzaWduYXR1cmUgPSBwcm9ibGVtLmxvY2F0aW9uLm9mZnNldCArICcgJyArIHByb2JsZW0ubG9jYXRpb24ubGVuZ3RoICsgJyAnICsgcHJvYmxlbS5tZXNzYWdlO1xuICAgICAgICAgICAgaWYgKCFhZGRlZFtzaWduYXR1cmVdKSB7XG4gICAgICAgICAgICAgICAgYWRkZWRbc2lnbmF0dXJlXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgdmFyIHJhbmdlID0ge1xuICAgICAgICAgICAgICAgICAgICBzdGFydDogdGV4dERvY3VtZW50LnBvc2l0aW9uQXQocHJvYmxlbS5sb2NhdGlvbi5vZmZzZXQpLFxuICAgICAgICAgICAgICAgICAgICBlbmQ6IHRleHREb2N1bWVudC5wb3NpdGlvbkF0KHByb2JsZW0ubG9jYXRpb24ub2Zmc2V0ICsgcHJvYmxlbS5sb2NhdGlvbi5sZW5ndGgpXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB2YXIgc2V2ZXJpdHkgPSBwcm9ibGVtLnNldmVyaXR5ID09PSBQcm9ibGVtU2V2ZXJpdHkuRXJyb3IgPyBEaWFnbm9zdGljU2V2ZXJpdHkuRXJyb3IgOiBEaWFnbm9zdGljU2V2ZXJpdHkuV2FybmluZztcbiAgICAgICAgICAgICAgICBkaWFnbm9zdGljcy5wdXNoKHsgc2V2ZXJpdHk6IHNldmVyaXR5LCByYW5nZTogcmFuZ2UsIG1lc3NhZ2U6IHByb2JsZW0ubWVzc2FnZSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRoaXMuanNvblNjaGVtYVNlcnZpY2UuZ2V0U2NoZW1hRm9yUmVzb3VyY2UodGV4dERvY3VtZW50LnVyaSwganNvbkRvY3VtZW50KS50aGVuKGZ1bmN0aW9uIChzY2hlbWEpIHtcbiAgICAgICAgICAgIHZhciB0cmFpbGluZ0NvbW1hU2V2ZXJpdHkgPSBkb2N1bWVudFNldHRpbmdzID8gZG9jdW1lbnRTZXR0aW5ncy50cmFpbGluZ0NvbW1hcyA6IFByb2JsZW1TZXZlcml0eS5FcnJvcjtcbiAgICAgICAgICAgIHZhciBjb21tZW50U2V2ZXJpdHkgPSBkb2N1bWVudFNldHRpbmdzID8gZG9jdW1lbnRTZXR0aW5ncy5jb21tZW50cyA6IF90aGlzLmNvbW1lbnRTZXZlcml0eTtcbiAgICAgICAgICAgIGlmIChzY2hlbWEpIHtcbiAgICAgICAgICAgICAgICBpZiAoc2NoZW1hLmVycm9ycy5sZW5ndGggJiYganNvbkRvY3VtZW50LnJvb3QpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFzdFJvb3QgPSBqc29uRG9jdW1lbnQucm9vdDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHByb3BlcnR5ID0gYXN0Um9vdC50eXBlID09PSAnb2JqZWN0JyA/IGFzdFJvb3QucHJvcGVydGllc1swXSA6IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0eSAmJiBwcm9wZXJ0eS5rZXlOb2RlLnZhbHVlID09PSAnJHNjaGVtYScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBub2RlID0gcHJvcGVydHkudmFsdWVOb2RlIHx8IHByb3BlcnR5O1xuICAgICAgICAgICAgICAgICAgICAgICAgYWRkUHJvYmxlbSh7IGxvY2F0aW9uOiB7IG9mZnNldDogbm9kZS5vZmZzZXQsIGxlbmd0aDogbm9kZS5sZW5ndGggfSwgbWVzc2FnZTogc2NoZW1hLmVycm9yc1swXSwgc2V2ZXJpdHk6IFByb2JsZW1TZXZlcml0eS5XYXJuaW5nIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWRkUHJvYmxlbSh7IGxvY2F0aW9uOiB7IG9mZnNldDogYXN0Um9vdC5vZmZzZXQsIGxlbmd0aDogMSB9LCBtZXNzYWdlOiBzY2hlbWEuZXJyb3JzWzBdLCBzZXZlcml0eTogUHJvYmxlbVNldmVyaXR5Lldhcm5pbmcgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzZW1hbnRpY0Vycm9ycyA9IGpzb25Eb2N1bWVudC52YWxpZGF0ZShzY2hlbWEuc2NoZW1hKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlbWFudGljRXJyb3JzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZW1hbnRpY0Vycm9ycy5mb3JFYWNoKGFkZFByb2JsZW0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzY2hlbWFBbGxvd3NDb21tZW50cyhzY2hlbWEuc2NoZW1hKSkge1xuICAgICAgICAgICAgICAgICAgICB0cmFpbGluZ0NvbW1hU2V2ZXJpdHkgPSBjb21tZW50U2V2ZXJpdHkgPSBQcm9ibGVtU2V2ZXJpdHkuSWdub3JlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGpzb25Eb2N1bWVudC5zeW50YXhFcnJvcnMuZm9yRWFjaChmdW5jdGlvbiAocCkge1xuICAgICAgICAgICAgICAgIGlmIChwLmNvZGUgPT09IEVycm9yQ29kZS5UcmFpbGluZ0NvbW1hKSB7XG4gICAgICAgICAgICAgICAgICAgIHAuc2V2ZXJpdHkgPSB0cmFpbGluZ0NvbW1hU2V2ZXJpdHk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGFkZFByb2JsZW0ocCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGRpYWdub3N0aWNzLnB1c2guYXBwbHkoZGlhZ25vc3RpY3MsIGpzb25Eb2N1bWVudC5leHRlcm5hbERpYWdub3N0aWMpO1xuICAgICAgICAgICAgaWYgKGNvbW1lbnRTZXZlcml0eSAhPT0gUHJvYmxlbVNldmVyaXR5Lklnbm9yZSkge1xuICAgICAgICAgICAgICAgIHZhciBtZXNzYWdlXzEgPSBsb2NhbGl6ZSgnSW52YWxpZENvbW1lbnRUb2tlbicsICdDb21tZW50cyBhcmUgbm90IHBlcm1pdHRlZCBpbiBKU09OLicpO1xuICAgICAgICAgICAgICAgIGpzb25Eb2N1bWVudC5jb21tZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChjKSB7XG4gICAgICAgICAgICAgICAgICAgIGFkZFByb2JsZW0oeyBsb2NhdGlvbjogYywgc2V2ZXJpdHk6IGNvbW1lbnRTZXZlcml0eSwgbWVzc2FnZTogbWVzc2FnZV8xIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGRpYWdub3N0aWNzO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHJldHVybiBKU09OVmFsaWRhdGlvbjtcbn0oKSk7XG5leHBvcnQgeyBKU09OVmFsaWRhdGlvbiB9O1xuZnVuY3Rpb24gc2NoZW1hQWxsb3dzQ29tbWVudHMoc2NoZW1hUmVmKSB7XG4gICAgaWYgKHNjaGVtYVJlZiAmJiB0eXBlb2Ygc2NoZW1hUmVmID09PSAnb2JqZWN0Jykge1xuICAgICAgICBpZiAoc2NoZW1hUmVmLmFsbG93Q29tbWVudHMpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzY2hlbWFSZWYuYWxsT2YpIHtcbiAgICAgICAgICAgIHJldHVybiBzY2hlbWFSZWYuYWxsT2Yuc29tZShzY2hlbWFBbGxvd3NDb21tZW50cyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9anNvblZhbGlkYXRpb24uanMubWFwIiwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG4ndXNlIHN0cmljdCc7XG52YXIgRGlnaXQwID0gNDg7XG52YXIgRGlnaXQ5ID0gNTc7XG52YXIgQSA9IDY1O1xudmFyIEYgPSA3MDtcbnZhciBhID0gOTc7XG52YXIgZiA9IDEwMjtcbmV4cG9ydCBmdW5jdGlvbiBoZXhEaWdpdChjaGFyQ29kZSkge1xuICAgIGlmIChjaGFyQ29kZSA8IERpZ2l0MCkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgaWYgKGNoYXJDb2RlIDw9IERpZ2l0OSkge1xuICAgICAgICByZXR1cm4gY2hhckNvZGUgLSBEaWdpdDA7XG4gICAgfVxuICAgIGlmIChjaGFyQ29kZSA8IGEpIHtcbiAgICAgICAgY2hhckNvZGUgKz0gKGEgLSBBKTtcbiAgICB9XG4gICAgaWYgKGNoYXJDb2RlID49IGEgJiYgY2hhckNvZGUgPD0gZikge1xuICAgICAgICByZXR1cm4gY2hhckNvZGUgLSBhICsgMTA7XG4gICAgfVxuICAgIHJldHVybiAwO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNvbG9yRnJvbUhleCh0ZXh0KSB7XG4gICAgaWYgKHRleHRbMF0gIT09ICcjJykge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgc3dpdGNoICh0ZXh0Lmxlbmd0aCkge1xuICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHJlZDogKGhleERpZ2l0KHRleHQuY2hhckNvZGVBdCgxKSkgKiAweDExKSAvIDI1NS4wLFxuICAgICAgICAgICAgICAgIGdyZWVuOiAoaGV4RGlnaXQodGV4dC5jaGFyQ29kZUF0KDIpKSAqIDB4MTEpIC8gMjU1LjAsXG4gICAgICAgICAgICAgICAgYmx1ZTogKGhleERpZ2l0KHRleHQuY2hhckNvZGVBdCgzKSkgKiAweDExKSAvIDI1NS4wLFxuICAgICAgICAgICAgICAgIGFscGhhOiAxXG4gICAgICAgICAgICB9O1xuICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHJlZDogKGhleERpZ2l0KHRleHQuY2hhckNvZGVBdCgxKSkgKiAweDExKSAvIDI1NS4wLFxuICAgICAgICAgICAgICAgIGdyZWVuOiAoaGV4RGlnaXQodGV4dC5jaGFyQ29kZUF0KDIpKSAqIDB4MTEpIC8gMjU1LjAsXG4gICAgICAgICAgICAgICAgYmx1ZTogKGhleERpZ2l0KHRleHQuY2hhckNvZGVBdCgzKSkgKiAweDExKSAvIDI1NS4wLFxuICAgICAgICAgICAgICAgIGFscGhhOiAoaGV4RGlnaXQodGV4dC5jaGFyQ29kZUF0KDQpKSAqIDB4MTEpIC8gMjU1LjAsXG4gICAgICAgICAgICB9O1xuICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHJlZDogKGhleERpZ2l0KHRleHQuY2hhckNvZGVBdCgxKSkgKiAweDEwICsgaGV4RGlnaXQodGV4dC5jaGFyQ29kZUF0KDIpKSkgLyAyNTUuMCxcbiAgICAgICAgICAgICAgICBncmVlbjogKGhleERpZ2l0KHRleHQuY2hhckNvZGVBdCgzKSkgKiAweDEwICsgaGV4RGlnaXQodGV4dC5jaGFyQ29kZUF0KDQpKSkgLyAyNTUuMCxcbiAgICAgICAgICAgICAgICBibHVlOiAoaGV4RGlnaXQodGV4dC5jaGFyQ29kZUF0KDUpKSAqIDB4MTAgKyBoZXhEaWdpdCh0ZXh0LmNoYXJDb2RlQXQoNikpKSAvIDI1NS4wLFxuICAgICAgICAgICAgICAgIGFscGhhOiAxXG4gICAgICAgICAgICB9O1xuICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHJlZDogKGhleERpZ2l0KHRleHQuY2hhckNvZGVBdCgxKSkgKiAweDEwICsgaGV4RGlnaXQodGV4dC5jaGFyQ29kZUF0KDIpKSkgLyAyNTUuMCxcbiAgICAgICAgICAgICAgICBncmVlbjogKGhleERpZ2l0KHRleHQuY2hhckNvZGVBdCgzKSkgKiAweDEwICsgaGV4RGlnaXQodGV4dC5jaGFyQ29kZUF0KDQpKSkgLyAyNTUuMCxcbiAgICAgICAgICAgICAgICBibHVlOiAoaGV4RGlnaXQodGV4dC5jaGFyQ29kZUF0KDUpKSAqIDB4MTAgKyBoZXhEaWdpdCh0ZXh0LmNoYXJDb2RlQXQoNikpKSAvIDI1NS4wLFxuICAgICAgICAgICAgICAgIGFscGhhOiAoaGV4RGlnaXQodGV4dC5jaGFyQ29kZUF0KDcpKSAqIDB4MTAgKyBoZXhEaWdpdCh0ZXh0LmNoYXJDb2RlQXQoOCkpKSAvIDI1NS4wXG4gICAgICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjb2xvckZyb20yNTZSR0IocmVkLCBncmVlbiwgYmx1ZSwgYWxwaGEpIHtcbiAgICBpZiAoYWxwaGEgPT09IHZvaWQgMCkgeyBhbHBoYSA9IDEuMDsgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHJlZDogcmVkIC8gMjU1LjAsXG4gICAgICAgIGdyZWVuOiBncmVlbiAvIDI1NS4wLFxuICAgICAgICBibHVlOiBibHVlIC8gMjU1LjAsXG4gICAgICAgIGFscGhhOiBhbHBoYVxuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb2xvcnMuanMubWFwIiwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG4ndXNlIHN0cmljdCc7XG5pbXBvcnQgKiBhcyBQYXJzZXIgZnJvbSAnLi4vcGFyc2VyL2pzb25QYXJzZXIuanMnO1xuaW1wb3J0ICogYXMgU3RyaW5ncyBmcm9tICcuLi91dGlscy9zdHJpbmdzLmpzJztcbmltcG9ydCB7IGNvbG9yRnJvbUhleCB9IGZyb20gJy4uL3V0aWxzL2NvbG9ycy5qcyc7XG5pbXBvcnQgeyBTeW1ib2xLaW5kLCBSYW5nZSwgTG9jYXRpb24sIFRleHRFZGl0IH0gZnJvbSAnLi4vLi4vdnNjb2RlLWxhbmd1YWdlc2VydmVyLXR5cGVzL21haW4uanMnO1xudmFyIEpTT05Eb2N1bWVudFN5bWJvbHMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gSlNPTkRvY3VtZW50U3ltYm9scyhzY2hlbWFTZXJ2aWNlKSB7XG4gICAgICAgIHRoaXMuc2NoZW1hU2VydmljZSA9IHNjaGVtYVNlcnZpY2U7XG4gICAgfVxuICAgIEpTT05Eb2N1bWVudFN5bWJvbHMucHJvdG90eXBlLmZpbmREb2N1bWVudFN5bWJvbHMgPSBmdW5jdGlvbiAoZG9jdW1lbnQsIGRvYykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgcm9vdCA9IGRvYy5yb290O1xuICAgICAgICBpZiAoIXJvb3QpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIC8vIHNwZWNpYWwgaGFuZGxpbmcgZm9yIGtleSBiaW5kaW5nc1xuICAgICAgICB2YXIgcmVzb3VyY2VTdHJpbmcgPSBkb2N1bWVudC51cmk7XG4gICAgICAgIGlmICgocmVzb3VyY2VTdHJpbmcgPT09ICd2c2NvZGU6Ly9kZWZhdWx0c2V0dGluZ3Mva2V5YmluZGluZ3MuanNvbicpIHx8IFN0cmluZ3MuZW5kc1dpdGgocmVzb3VyY2VTdHJpbmcudG9Mb3dlckNhc2UoKSwgJy91c2VyL2tleWJpbmRpbmdzLmpzb24nKSkge1xuICAgICAgICAgICAgaWYgKHJvb3QudHlwZSA9PT0gJ2FycmF5Jykge1xuICAgICAgICAgICAgICAgIHZhciByZXN1bHRfMSA9IFtdO1xuICAgICAgICAgICAgICAgIHJvb3QuaXRlbXMuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS50eXBlID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IGl0ZW0ucHJvcGVydGllczsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcHJvcGVydHkgPSBfYVtfaV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb3BlcnR5LmtleU5vZGUudmFsdWUgPT09ICdrZXknKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0eS52YWx1ZU5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsb2NhdGlvbiA9IExvY2F0aW9uLmNyZWF0ZShkb2N1bWVudC51cmksIFJhbmdlLmNyZWF0ZShkb2N1bWVudC5wb3NpdGlvbkF0KGl0ZW0ub2Zmc2V0KSwgZG9jdW1lbnQucG9zaXRpb25BdChpdGVtLm9mZnNldCArIGl0ZW0ubGVuZ3RoKSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0XzEucHVzaCh7IG5hbWU6IFBhcnNlci5nZXROb2RlVmFsdWUocHJvcGVydHkudmFsdWVOb2RlKSwga2luZDogU3ltYm9sS2luZC5GdW5jdGlvbiwgbG9jYXRpb246IGxvY2F0aW9uIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0XzE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNvbGxlY3RPdXRsaW5lRW50cmllcyA9IGZ1bmN0aW9uIChyZXN1bHQsIG5vZGUsIGNvbnRhaW5lck5hbWUpIHtcbiAgICAgICAgICAgIGlmIChub2RlLnR5cGUgPT09ICdhcnJheScpIHtcbiAgICAgICAgICAgICAgICBub2RlLml0ZW1zLmZvckVhY2goZnVuY3Rpb24gKG5vZGUpIHsgcmV0dXJuIGNvbGxlY3RPdXRsaW5lRW50cmllcyhyZXN1bHQsIG5vZGUsIGNvbnRhaW5lck5hbWUpOyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG5vZGUudHlwZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICBub2RlLnByb3BlcnRpZXMuZm9yRWFjaChmdW5jdGlvbiAocHJvcGVydHkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxvY2F0aW9uID0gTG9jYXRpb24uY3JlYXRlKGRvY3VtZW50LnVyaSwgUmFuZ2UuY3JlYXRlKGRvY3VtZW50LnBvc2l0aW9uQXQocHJvcGVydHkub2Zmc2V0KSwgZG9jdW1lbnQucG9zaXRpb25BdChwcm9wZXJ0eS5vZmZzZXQgKyBwcm9wZXJ0eS5sZW5ndGgpKSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZU5vZGUgPSBwcm9wZXJ0eS52YWx1ZU5vZGU7XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZU5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjaGlsZENvbnRhaW5lck5hbWUgPSBjb250YWluZXJOYW1lID8gY29udGFpbmVyTmFtZSArICcuJyArIHByb3BlcnR5LmtleU5vZGUudmFsdWUgOiBwcm9wZXJ0eS5rZXlOb2RlLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goeyBuYW1lOiBwcm9wZXJ0eS5rZXlOb2RlLnZhbHVlLCBraW5kOiBfdGhpcy5nZXRTeW1ib2xLaW5kKHZhbHVlTm9kZS50eXBlKSwgbG9jYXRpb246IGxvY2F0aW9uLCBjb250YWluZXJOYW1lOiBjb250YWluZXJOYW1lIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29sbGVjdE91dGxpbmVFbnRyaWVzKHJlc3VsdCwgdmFsdWVOb2RlLCBjaGlsZENvbnRhaW5lck5hbWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9O1xuICAgICAgICB2YXIgcmVzdWx0ID0gY29sbGVjdE91dGxpbmVFbnRyaWVzKFtdLCByb290LCB2b2lkIDApO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgSlNPTkRvY3VtZW50U3ltYm9scy5wcm90b3R5cGUuZ2V0U3ltYm9sS2luZCA9IGZ1bmN0aW9uIChub2RlVHlwZSkge1xuICAgICAgICBzd2l0Y2ggKG5vZGVUeXBlKSB7XG4gICAgICAgICAgICBjYXNlICdvYmplY3QnOlxuICAgICAgICAgICAgICAgIHJldHVybiBTeW1ib2xLaW5kLk1vZHVsZTtcbiAgICAgICAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFN5bWJvbEtpbmQuU3RyaW5nO1xuICAgICAgICAgICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gU3ltYm9sS2luZC5OdW1iZXI7XG4gICAgICAgICAgICBjYXNlICdhcnJheSc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFN5bWJvbEtpbmQuQXJyYXk7XG4gICAgICAgICAgICBjYXNlICdib29sZWFuJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gU3ltYm9sS2luZC5Cb29sZWFuO1xuICAgICAgICAgICAgZGVmYXVsdDovLyAnbnVsbCdcbiAgICAgICAgICAgICAgICByZXR1cm4gU3ltYm9sS2luZC5WYXJpYWJsZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgSlNPTkRvY3VtZW50U3ltYm9scy5wcm90b3R5cGUuZmluZERvY3VtZW50Q29sb3JzID0gZnVuY3Rpb24gKGRvY3VtZW50LCBkb2MpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NoZW1hU2VydmljZS5nZXRTY2hlbWFGb3JSZXNvdXJjZShkb2N1bWVudC51cmksIGRvYykudGhlbihmdW5jdGlvbiAoc2NoZW1hKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICAgICAgICBpZiAoc2NoZW1hKSB7XG4gICAgICAgICAgICAgICAgdmFyIG1hdGNoaW5nU2NoZW1hcyA9IGRvYy5nZXRNYXRjaGluZ1NjaGVtYXMoc2NoZW1hLnNjaGVtYSk7XG4gICAgICAgICAgICAgICAgdmFyIHZpc2l0ZWROb2RlID0ge307XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBtYXRjaGluZ1NjaGVtYXNfMSA9IG1hdGNoaW5nU2NoZW1hczsgX2kgPCBtYXRjaGluZ1NjaGVtYXNfMS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHMgPSBtYXRjaGluZ1NjaGVtYXNfMVtfaV07XG4gICAgICAgICAgICAgICAgICAgIGlmICghcy5pbnZlcnRlZCAmJiBzLnNjaGVtYSAmJiAocy5zY2hlbWEuZm9ybWF0ID09PSAnY29sb3InIHx8IHMuc2NoZW1hLmZvcm1hdCA9PT0gJ2NvbG9yLWhleCcpICYmIHMubm9kZSAmJiBzLm5vZGUudHlwZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBub2RlSWQgPSBTdHJpbmcocy5ub2RlLm9mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXZpc2l0ZWROb2RlW25vZGVJZF0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29sb3IgPSBjb2xvckZyb21IZXgoUGFyc2VyLmdldE5vZGVWYWx1ZShzLm5vZGUpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29sb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJhbmdlID0gUmFuZ2UuY3JlYXRlKGRvY3VtZW50LnBvc2l0aW9uQXQocy5ub2RlLm9mZnNldCksIGRvY3VtZW50LnBvc2l0aW9uQXQocy5ub2RlLm9mZnNldCArIHMubm9kZS5sZW5ndGgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goeyBjb2xvcjogY29sb3IsIHJhbmdlOiByYW5nZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlzaXRlZE5vZGVbbm9kZUlkXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIEpTT05Eb2N1bWVudFN5bWJvbHMucHJvdG90eXBlLmdldENvbG9yUHJlc2VudGF0aW9ucyA9IGZ1bmN0aW9uIChkb2N1bWVudCwgZG9jLCBjb2xvciwgcmFuZ2UpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgICB2YXIgcmVkMjU2ID0gTWF0aC5yb3VuZChjb2xvci5yZWQgKiAyNTUpLCBncmVlbjI1NiA9IE1hdGgucm91bmQoY29sb3IuZ3JlZW4gKiAyNTUpLCBibHVlMjU2ID0gTWF0aC5yb3VuZChjb2xvci5ibHVlICogMjU1KTtcbiAgICAgICAgZnVuY3Rpb24gdG9Ud29EaWdpdEhleChuKSB7XG4gICAgICAgICAgICB2YXIgciA9IG4udG9TdHJpbmcoMTYpO1xuICAgICAgICAgICAgcmV0dXJuIHIubGVuZ3RoICE9PSAyID8gJzAnICsgciA6IHI7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGxhYmVsO1xuICAgICAgICBpZiAoY29sb3IuYWxwaGEgPT09IDEpIHtcbiAgICAgICAgICAgIGxhYmVsID0gXCIjXCIgKyB0b1R3b0RpZ2l0SGV4KHJlZDI1NikgKyB0b1R3b0RpZ2l0SGV4KGdyZWVuMjU2KSArIHRvVHdvRGlnaXRIZXgoYmx1ZTI1Nik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsYWJlbCA9IFwiI1wiICsgdG9Ud29EaWdpdEhleChyZWQyNTYpICsgdG9Ud29EaWdpdEhleChncmVlbjI1NikgKyB0b1R3b0RpZ2l0SGV4KGJsdWUyNTYpICsgdG9Ud29EaWdpdEhleChNYXRoLnJvdW5kKGNvbG9yLmFscGhhICogMjU1KSk7XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0LnB1c2goeyBsYWJlbDogbGFiZWwsIHRleHRFZGl0OiBUZXh0RWRpdC5yZXBsYWNlKHJhbmdlLCBKU09OLnN0cmluZ2lmeShsYWJlbCkpIH0pO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgcmV0dXJuIEpTT05Eb2N1bWVudFN5bWJvbHM7XG59KCkpO1xuZXhwb3J0IHsgSlNPTkRvY3VtZW50U3ltYm9scyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9anNvbkRvY3VtZW50U3ltYm9scy5qcy5tYXAiLCIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbid1c2Ugc3RyaWN0JztcbmltcG9ydCAqIGFzIG5scyBmcm9tICcuLi8uLi8uLi9maWxsZXJzL3ZzY29kZS1ubHMuanMnO1xudmFyIGxvY2FsaXplID0gbmxzLmxvYWRNZXNzYWdlQnVuZGxlKCk7XG5leHBvcnQgdmFyIHNjaGVtYUNvbnRyaWJ1dGlvbnMgPSB7XG4gICAgc2NoZW1hQXNzb2NpYXRpb25zOiB7fSxcbiAgICBzY2hlbWFzOiB7XG4gICAgICAgIC8vIGJ1bmRsZSB0aGUgc2NoZW1hLXNjaGVtYSB0byBpbmNsdWRlIChsb2NhbGl6ZWQpIGRlc2NyaXB0aW9uc1xuICAgICAgICAnaHR0cDovL2pzb24tc2NoZW1hLm9yZy9kcmFmdC0wNC9zY2hlbWEjJzoge1xuICAgICAgICAgICAgJ3RpdGxlJzogbG9jYWxpemUoJ3NjaGVtYS5qc29uJywgJ0Rlc2NyaWJlcyBhIEpTT04gZmlsZSB1c2luZyBhIHNjaGVtYS4gU2VlIGpzb24tc2NoZW1hLm9yZyBmb3IgbW9yZSBpbmZvLicpLFxuICAgICAgICAgICAgJyRzY2hlbWEnOiAnaHR0cDovL2pzb24tc2NoZW1hLm9yZy9kcmFmdC0wNC9zY2hlbWEjJyxcbiAgICAgICAgICAgICdkZWZpbml0aW9ucyc6IHtcbiAgICAgICAgICAgICAgICAnc2NoZW1hQXJyYXknOiB7XG4gICAgICAgICAgICAgICAgICAgICd0eXBlJzogJ2FycmF5JyxcbiAgICAgICAgICAgICAgICAgICAgJ21pbkl0ZW1zJzogMSxcbiAgICAgICAgICAgICAgICAgICAgJ2l0ZW1zJzogeyAnJHJlZic6ICcjJyB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAncG9zaXRpdmVJbnRlZ2VyJzoge1xuICAgICAgICAgICAgICAgICAgICAndHlwZSc6ICdpbnRlZ2VyJyxcbiAgICAgICAgICAgICAgICAgICAgJ21pbmltdW0nOiAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAncG9zaXRpdmVJbnRlZ2VyRGVmYXVsdDAnOiB7XG4gICAgICAgICAgICAgICAgICAgICdhbGxPZic6IFt7ICckcmVmJzogJyMvZGVmaW5pdGlvbnMvcG9zaXRpdmVJbnRlZ2VyJyB9LCB7ICdkZWZhdWx0JzogMCB9XVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgJ3NpbXBsZVR5cGVzJzoge1xuICAgICAgICAgICAgICAgICAgICAndHlwZSc6ICdzdHJpbmcnLFxuICAgICAgICAgICAgICAgICAgICAnZW51bSc6IFsnYXJyYXknLCAnYm9vbGVhbicsICdpbnRlZ2VyJywgJ251bGwnLCAnbnVtYmVyJywgJ29iamVjdCcsICdzdHJpbmcnXVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgJ3N0cmluZ0FycmF5Jzoge1xuICAgICAgICAgICAgICAgICAgICAndHlwZSc6ICdhcnJheScsXG4gICAgICAgICAgICAgICAgICAgICdpdGVtcyc6IHsgJ3R5cGUnOiAnc3RyaW5nJyB9LFxuICAgICAgICAgICAgICAgICAgICAnbWluSXRlbXMnOiAxLFxuICAgICAgICAgICAgICAgICAgICAndW5pcXVlSXRlbXMnOiB0cnVlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICd0eXBlJzogJ29iamVjdCcsXG4gICAgICAgICAgICAncHJvcGVydGllcyc6IHtcbiAgICAgICAgICAgICAgICAnaWQnOiB7XG4gICAgICAgICAgICAgICAgICAgICd0eXBlJzogJ3N0cmluZycsXG4gICAgICAgICAgICAgICAgICAgICdmb3JtYXQnOiAndXJpJyxcbiAgICAgICAgICAgICAgICAgICAgJ2Rlc2NyaXB0aW9uJzogbG9jYWxpemUoJ3NjaGVtYS5qc29uLmlkJywgJ0EgdW5pcXVlIGlkZW50aWZpZXIgZm9yIHRoZSBzY2hlbWEuJylcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICckc2NoZW1hJzoge1xuICAgICAgICAgICAgICAgICAgICAndHlwZSc6ICdzdHJpbmcnLFxuICAgICAgICAgICAgICAgICAgICAnZm9ybWF0JzogJ3VyaScsXG4gICAgICAgICAgICAgICAgICAgICdkZXNjcmlwdGlvbic6IGxvY2FsaXplKCdzY2hlbWEuanNvbi4kc2NoZW1hJywgJ1RoZSBzY2hlbWEgdG8gdmVyaWZ5IHRoaXMgZG9jdW1lbnQgYWdhaW5zdCAnKVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgJ3RpdGxlJzoge1xuICAgICAgICAgICAgICAgICAgICAndHlwZSc6ICdzdHJpbmcnLFxuICAgICAgICAgICAgICAgICAgICAnZGVzY3JpcHRpb24nOiBsb2NhbGl6ZSgnc2NoZW1hLmpzb24udGl0bGUnLCAnQSBkZXNjcmlwdGl2ZSB0aXRsZSBvZiB0aGUgZWxlbWVudCcpXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAnZGVzY3JpcHRpb24nOiB7XG4gICAgICAgICAgICAgICAgICAgICd0eXBlJzogJ3N0cmluZycsXG4gICAgICAgICAgICAgICAgICAgICdkZXNjcmlwdGlvbic6IGxvY2FsaXplKCdzY2hlbWEuanNvbi5kZXNjcmlwdGlvbicsICdBIGxvbmcgZGVzY3JpcHRpb24gb2YgdGhlIGVsZW1lbnQuIFVzZWQgaW4gaG92ZXIgbWVudXMgYW5kIHN1Z2dlc3Rpb25zLicpXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAnZGVmYXVsdCc6IHtcbiAgICAgICAgICAgICAgICAgICAgJ2Rlc2NyaXB0aW9uJzogbG9jYWxpemUoJ3NjaGVtYS5qc29uLmRlZmF1bHQnLCAnQSBkZWZhdWx0IHZhbHVlLiBVc2VkIGJ5IHN1Z2dlc3Rpb25zLicpXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAnbXVsdGlwbGVPZic6IHtcbiAgICAgICAgICAgICAgICAgICAgJ3R5cGUnOiAnbnVtYmVyJyxcbiAgICAgICAgICAgICAgICAgICAgJ21pbmltdW0nOiAwLFxuICAgICAgICAgICAgICAgICAgICAnZXhjbHVzaXZlTWluaW11bSc6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICdkZXNjcmlwdGlvbic6IGxvY2FsaXplKCdzY2hlbWEuanNvbi5tdWx0aXBsZU9mJywgJ0EgbnVtYmVyIHRoYXQgc2hvdWxkIGNsZWFubHkgZGl2aWRlIHRoZSBjdXJyZW50IHZhbHVlIChpLmUuIGhhdmUgbm8gcmVtYWluZGVyKScpXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAnbWF4aW11bSc6IHtcbiAgICAgICAgICAgICAgICAgICAgJ3R5cGUnOiAnbnVtYmVyJyxcbiAgICAgICAgICAgICAgICAgICAgJ2Rlc2NyaXB0aW9uJzogbG9jYWxpemUoJ3NjaGVtYS5qc29uLm1heGltdW0nLCAnVGhlIG1heGltdW0gbnVtZXJpY2FsIHZhbHVlLCBpbmNsdXNpdmUgYnkgZGVmYXVsdC4nKVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgJ2V4Y2x1c2l2ZU1heGltdW0nOiB7XG4gICAgICAgICAgICAgICAgICAgICd0eXBlJzogJ2Jvb2xlYW4nLFxuICAgICAgICAgICAgICAgICAgICAnZGVmYXVsdCc6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAnZGVzY3JpcHRpb24nOiBsb2NhbGl6ZSgnc2NoZW1hLmpzb24uZXhjbHVzaXZlTWF4aW11bScsICdNYWtlcyB0aGUgbWF4aW11bSBwcm9wZXJ0eSBleGNsdXNpdmUuJylcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICdtaW5pbXVtJzoge1xuICAgICAgICAgICAgICAgICAgICAndHlwZSc6ICdudW1iZXInLFxuICAgICAgICAgICAgICAgICAgICAnZGVzY3JpcHRpb24nOiBsb2NhbGl6ZSgnc2NoZW1hLmpzb24ubWluaW11bScsICdUaGUgbWluaW11bSBudW1lcmljYWwgdmFsdWUsIGluY2x1c2l2ZSBieSBkZWZhdWx0LicpXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAnZXhjbHVzaXZlTWluaW11bSc6IHtcbiAgICAgICAgICAgICAgICAgICAgJ3R5cGUnOiAnYm9vbGVhbicsXG4gICAgICAgICAgICAgICAgICAgICdkZWZhdWx0JzogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICdkZXNjcmlwdGlvbic6IGxvY2FsaXplKCdzY2hlbWEuanNvbi5leGNsdXNpdmVNaW5pbnVtJywgJ01ha2VzIHRoZSBtaW5pbXVtIHByb3BlcnR5IGV4Y2x1c2l2ZS4nKVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgJ21heExlbmd0aCc6IHtcbiAgICAgICAgICAgICAgICAgICAgJ2FsbE9mJzogW1xuICAgICAgICAgICAgICAgICAgICAgICAgeyAnJHJlZic6ICcjL2RlZmluaXRpb25zL3Bvc2l0aXZlSW50ZWdlcicgfVxuICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAnZGVzY3JpcHRpb24nOiBsb2NhbGl6ZSgnc2NoZW1hLmpzb24ubWF4TGVuZ3RoJywgJ1RoZSBtYXhpbXVtIGxlbmd0aCBvZiBhIHN0cmluZy4nKVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgJ21pbkxlbmd0aCc6IHtcbiAgICAgICAgICAgICAgICAgICAgJ2FsbE9mJzogW1xuICAgICAgICAgICAgICAgICAgICAgICAgeyAnJHJlZic6ICcjL2RlZmluaXRpb25zL3Bvc2l0aXZlSW50ZWdlckRlZmF1bHQwJyB9XG4gICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICdkZXNjcmlwdGlvbic6IGxvY2FsaXplKCdzY2hlbWEuanNvbi5taW5MZW5ndGgnLCAnVGhlIG1pbmltdW0gbGVuZ3RoIG9mIGEgc3RyaW5nLicpXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAncGF0dGVybic6IHtcbiAgICAgICAgICAgICAgICAgICAgJ3R5cGUnOiAnc3RyaW5nJyxcbiAgICAgICAgICAgICAgICAgICAgJ2Zvcm1hdCc6ICdyZWdleCcsXG4gICAgICAgICAgICAgICAgICAgICdkZXNjcmlwdGlvbic6IGxvY2FsaXplKCdzY2hlbWEuanNvbi5wYXR0ZXJuJywgJ0EgcmVndWxhciBleHByZXNzaW9uIHRvIG1hdGNoIHRoZSBzdHJpbmcgYWdhaW5zdC4gSXQgaXMgbm90IGltcGxpY2l0bHkgYW5jaG9yZWQuJylcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICdhZGRpdGlvbmFsSXRlbXMnOiB7XG4gICAgICAgICAgICAgICAgICAgICdhbnlPZic6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgJ3R5cGUnOiAnYm9vbGVhbicgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgJyRyZWYnOiAnIycgfVxuICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAnZGVmYXVsdCc6IHt9LFxuICAgICAgICAgICAgICAgICAgICAnZGVzY3JpcHRpb24nOiBsb2NhbGl6ZSgnc2NoZW1hLmpzb24uYWRkaXRpb25hbEl0ZW1zJywgJ0ZvciBhcnJheXMsIG9ubHkgd2hlbiBpdGVtcyBpcyBzZXQgYXMgYW4gYXJyYXkuIElmIGl0IGlzIGEgc2NoZW1hLCB0aGVuIHRoaXMgc2NoZW1hIHZhbGlkYXRlcyBpdGVtcyBhZnRlciB0aGUgb25lcyBzcGVjaWZpZWQgYnkgdGhlIGl0ZW1zIGFycmF5LiBJZiBpdCBpcyBmYWxzZSwgdGhlbiBhZGRpdGlvbmFsIGl0ZW1zIHdpbGwgY2F1c2UgdmFsaWRhdGlvbiB0byBmYWlsLicpXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAnaXRlbXMnOiB7XG4gICAgICAgICAgICAgICAgICAgICdhbnlPZic6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgJyRyZWYnOiAnIycgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgJyRyZWYnOiAnIy9kZWZpbml0aW9ucy9zY2hlbWFBcnJheScgfVxuICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAnZGVmYXVsdCc6IHt9LFxuICAgICAgICAgICAgICAgICAgICAnZGVzY3JpcHRpb24nOiBsb2NhbGl6ZSgnc2NoZW1hLmpzb24uaXRlbXMnLCAnRm9yIGFycmF5cy4gQ2FuIGVpdGhlciBiZSBhIHNjaGVtYSB0byB2YWxpZGF0ZSBldmVyeSBlbGVtZW50IGFnYWluc3Qgb3IgYW4gYXJyYXkgb2Ygc2NoZW1hcyB0byB2YWxpZGF0ZSBlYWNoIGl0ZW0gYWdhaW5zdCBpbiBvcmRlciAodGhlIGZpcnN0IHNjaGVtYSB3aWxsIHZhbGlkYXRlIHRoZSBmaXJzdCBlbGVtZW50LCB0aGUgc2Vjb25kIHNjaGVtYSB3aWxsIHZhbGlkYXRlIHRoZSBzZWNvbmQgZWxlbWVudCwgYW5kIHNvIG9uLicpXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAnbWF4SXRlbXMnOiB7XG4gICAgICAgICAgICAgICAgICAgICdhbGxPZic6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgJyRyZWYnOiAnIy9kZWZpbml0aW9ucy9wb3NpdGl2ZUludGVnZXInIH1cbiAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgJ2Rlc2NyaXB0aW9uJzogbG9jYWxpemUoJ3NjaGVtYS5qc29uLm1heEl0ZW1zJywgJ1RoZSBtYXhpbXVtIG51bWJlciBvZiBpdGVtcyB0aGF0IGNhbiBiZSBpbnNpZGUgYW4gYXJyYXkuIEluY2x1c2l2ZS4nKVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgJ21pbkl0ZW1zJzoge1xuICAgICAgICAgICAgICAgICAgICAnYWxsT2YnOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICB7ICckcmVmJzogJyMvZGVmaW5pdGlvbnMvcG9zaXRpdmVJbnRlZ2VyRGVmYXVsdDAnIH1cbiAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgJ2Rlc2NyaXB0aW9uJzogbG9jYWxpemUoJ3NjaGVtYS5qc29uLm1pbkl0ZW1zJywgJ1RoZSBtaW5pbXVtIG51bWJlciBvZiBpdGVtcyB0aGF0IGNhbiBiZSBpbnNpZGUgYW4gYXJyYXkuIEluY2x1c2l2ZS4nKVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgJ3VuaXF1ZUl0ZW1zJzoge1xuICAgICAgICAgICAgICAgICAgICAndHlwZSc6ICdib29sZWFuJyxcbiAgICAgICAgICAgICAgICAgICAgJ2RlZmF1bHQnOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgJ2Rlc2NyaXB0aW9uJzogbG9jYWxpemUoJ3NjaGVtYS5qc29uLnVuaXF1ZUl0ZW1zJywgJ0lmIGFsbCBvZiB0aGUgaXRlbXMgaW4gdGhlIGFycmF5IG11c3QgYmUgdW5pcXVlLiBEZWZhdWx0cyB0byBmYWxzZS4nKVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgJ21heFByb3BlcnRpZXMnOiB7XG4gICAgICAgICAgICAgICAgICAgICdhbGxPZic6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgJyRyZWYnOiAnIy9kZWZpbml0aW9ucy9wb3NpdGl2ZUludGVnZXInIH1cbiAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgJ2Rlc2NyaXB0aW9uJzogbG9jYWxpemUoJ3NjaGVtYS5qc29uLm1heFByb3BlcnRpZXMnLCAnVGhlIG1heGltdW0gbnVtYmVyIG9mIHByb3BlcnRpZXMgYW4gb2JqZWN0IGNhbiBoYXZlLiBJbmNsdXNpdmUuJylcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICdtaW5Qcm9wZXJ0aWVzJzoge1xuICAgICAgICAgICAgICAgICAgICAnYWxsT2YnOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICB7ICckcmVmJzogJyMvZGVmaW5pdGlvbnMvcG9zaXRpdmVJbnRlZ2VyRGVmYXVsdDAnIH0sXG4gICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICdkZXNjcmlwdGlvbic6IGxvY2FsaXplKCdzY2hlbWEuanNvbi5taW5Qcm9wZXJ0aWVzJywgJ1RoZSBtaW5pbXVtIG51bWJlciBvZiBwcm9wZXJ0aWVzIGFuIG9iamVjdCBjYW4gaGF2ZS4gSW5jbHVzaXZlLicpXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAncmVxdWlyZWQnOiB7XG4gICAgICAgICAgICAgICAgICAgICdhbGxPZic6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgJyRyZWYnOiAnIy9kZWZpbml0aW9ucy9zdHJpbmdBcnJheScgfVxuICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAnZGVzY3JpcHRpb24nOiBsb2NhbGl6ZSgnc2NoZW1hLmpzb24ucmVxdWlyZWQnLCAnQW4gYXJyYXkgb2Ygc3RyaW5ncyB0aGF0IGxpc3RzIHRoZSBuYW1lcyBvZiBhbGwgcHJvcGVydGllcyByZXF1aXJlZCBvbiB0aGlzIG9iamVjdC4nKVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgJ2FkZGl0aW9uYWxQcm9wZXJ0aWVzJzoge1xuICAgICAgICAgICAgICAgICAgICAnYW55T2YnOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICB7ICd0eXBlJzogJ2Jvb2xlYW4nIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7ICckcmVmJzogJyMnIH1cbiAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgJ2RlZmF1bHQnOiB7fSxcbiAgICAgICAgICAgICAgICAgICAgJ2Rlc2NyaXB0aW9uJzogbG9jYWxpemUoJ3NjaGVtYS5qc29uLmFkZGl0aW9uYWxQcm9wZXJ0aWVzJywgJ0VpdGhlciBhIHNjaGVtYSBvciBhIGJvb2xlYW4uIElmIGEgc2NoZW1hLCB0aGVuIHVzZWQgdG8gdmFsaWRhdGUgYWxsIHByb3BlcnRpZXMgbm90IG1hdGNoZWQgYnkgXFwncHJvcGVydGllc1xcJyBvciBcXCdwYXR0ZXJuUHJvcGVydGllc1xcJy4gSWYgZmFsc2UsIHRoZW4gYW55IHByb3BlcnRpZXMgbm90IG1hdGNoZWQgYnkgZWl0aGVyIHdpbGwgY2F1c2UgdGhpcyBzY2hlbWEgdG8gZmFpbC4nKVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgJ2RlZmluaXRpb25zJzoge1xuICAgICAgICAgICAgICAgICAgICAndHlwZSc6ICdvYmplY3QnLFxuICAgICAgICAgICAgICAgICAgICAnYWRkaXRpb25hbFByb3BlcnRpZXMnOiB7ICckcmVmJzogJyMnIH0sXG4gICAgICAgICAgICAgICAgICAgICdkZWZhdWx0Jzoge30sXG4gICAgICAgICAgICAgICAgICAgICdkZXNjcmlwdGlvbic6IGxvY2FsaXplKCdzY2hlbWEuanNvbi5kZWZpbml0aW9ucycsICdOb3QgdXNlZCBmb3IgdmFsaWRhdGlvbi4gUGxhY2Ugc3Vic2NoZW1hcyBoZXJlIHRoYXQgeW91IHdpc2ggdG8gcmVmZXJlbmNlIGlubGluZSB3aXRoICRyZWYnKVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgJ3Byb3BlcnRpZXMnOiB7XG4gICAgICAgICAgICAgICAgICAgICd0eXBlJzogJ29iamVjdCcsXG4gICAgICAgICAgICAgICAgICAgICdhZGRpdGlvbmFsUHJvcGVydGllcyc6IHsgJyRyZWYnOiAnIycgfSxcbiAgICAgICAgICAgICAgICAgICAgJ2RlZmF1bHQnOiB7fSxcbiAgICAgICAgICAgICAgICAgICAgJ2Rlc2NyaXB0aW9uJzogbG9jYWxpemUoJ3NjaGVtYS5qc29uLnByb3BlcnRpZXMnLCAnQSBtYXAgb2YgcHJvcGVydHkgbmFtZXMgdG8gc2NoZW1hcyBmb3IgZWFjaCBwcm9wZXJ0eS4nKVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgJ3BhdHRlcm5Qcm9wZXJ0aWVzJzoge1xuICAgICAgICAgICAgICAgICAgICAndHlwZSc6ICdvYmplY3QnLFxuICAgICAgICAgICAgICAgICAgICAnYWRkaXRpb25hbFByb3BlcnRpZXMnOiB7ICckcmVmJzogJyMnIH0sXG4gICAgICAgICAgICAgICAgICAgICdkZWZhdWx0Jzoge30sXG4gICAgICAgICAgICAgICAgICAgICdkZXNjcmlwdGlvbic6IGxvY2FsaXplKCdzY2hlbWEuanNvbi5wYXR0ZXJuUHJvcGVydGllcycsICdBIG1hcCBvZiByZWd1bGFyIGV4cHJlc3Npb25zIG9uIHByb3BlcnR5IG5hbWVzIHRvIHNjaGVtYXMgZm9yIG1hdGNoaW5nIHByb3BlcnRpZXMuJylcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICdkZXBlbmRlbmNpZXMnOiB7XG4gICAgICAgICAgICAgICAgICAgICd0eXBlJzogJ29iamVjdCcsXG4gICAgICAgICAgICAgICAgICAgICdhZGRpdGlvbmFsUHJvcGVydGllcyc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICdhbnlPZic6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ICckcmVmJzogJyMnIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyAnJHJlZic6ICcjL2RlZmluaXRpb25zL3N0cmluZ0FycmF5JyB9XG4gICAgICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICdkZXNjcmlwdGlvbic6IGxvY2FsaXplKCdzY2hlbWEuanNvbi5kZXBlbmRlbmNpZXMnLCAnQSBtYXAgb2YgcHJvcGVydHkgbmFtZXMgdG8gZWl0aGVyIGFuIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzIG9yIGEgc2NoZW1hLiBBbiBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcyBtZWFucyB0aGUgcHJvcGVydHkgbmFtZWQgaW4gdGhlIGtleSBkZXBlbmRzIG9uIHRoZSBwcm9wZXJ0aWVzIGluIHRoZSBhcnJheSBiZWluZyBwcmVzZW50IGluIHRoZSBvYmplY3QgaW4gb3JkZXIgdG8gYmUgdmFsaWQuIElmIHRoZSB2YWx1ZSBpcyBhIHNjaGVtYSwgdGhlbiB0aGUgc2NoZW1hIGlzIG9ubHkgYXBwbGllZCB0byB0aGUgb2JqZWN0IGlmIHRoZSBwcm9wZXJ0eSBpbiB0aGUga2V5IGV4aXN0cyBvbiB0aGUgb2JqZWN0LicpXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAnZW51bSc6IHtcbiAgICAgICAgICAgICAgICAgICAgJ3R5cGUnOiAnYXJyYXknLFxuICAgICAgICAgICAgICAgICAgICAnbWluSXRlbXMnOiAxLFxuICAgICAgICAgICAgICAgICAgICAndW5pcXVlSXRlbXMnOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAnZGVzY3JpcHRpb24nOiBsb2NhbGl6ZSgnc2NoZW1hLmpzb24uZW51bScsICdUaGUgc2V0IG9mIGxpdGVyYWwgdmFsdWVzIHRoYXQgYXJlIHZhbGlkJylcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICd0eXBlJzoge1xuICAgICAgICAgICAgICAgICAgICAnYW55T2YnOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICB7ICckcmVmJzogJyMvZGVmaW5pdGlvbnMvc2ltcGxlVHlwZXMnIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3R5cGUnOiAnYXJyYXknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdpdGVtcyc6IHsgJyRyZWYnOiAnIy9kZWZpbml0aW9ucy9zaW1wbGVUeXBlcycgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbWluSXRlbXMnOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICd1bmlxdWVJdGVtcyc6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgJ2Rlc2NyaXB0aW9uJzogbG9jYWxpemUoJ3NjaGVtYS5qc29uLnR5cGUnLCAnRWl0aGVyIGEgc3RyaW5nIG9mIG9uZSBvZiB0aGUgYmFzaWMgc2NoZW1hIHR5cGVzIChudW1iZXIsIGludGVnZXIsIG51bGwsIGFycmF5LCBvYmplY3QsIGJvb2xlYW4sIHN0cmluZykgb3IgYW4gYXJyYXkgb2Ygc3RyaW5ncyBzcGVjaWZ5aW5nIGEgc3Vic2V0IG9mIHRob3NlIHR5cGVzLicpXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAnZm9ybWF0Jzoge1xuICAgICAgICAgICAgICAgICAgICAnYW55T2YnOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3R5cGUnOiAnc3RyaW5nJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZGVzY3JpcHRpb24nOiBsb2NhbGl6ZSgnc2NoZW1hLmpzb24uZm9ybWF0JywgJ0Rlc2NyaWJlcyB0aGUgZm9ybWF0IGV4cGVjdGVkIGZvciB0aGUgdmFsdWUuJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2VudW0nOiBbJ2RhdGUtdGltZScsICd1cmknLCAnZW1haWwnLCAnaG9zdG5hbWUnLCAnaXB2NCcsICdpcHY2JywgJ3JlZ2V4J11cbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAndHlwZSc6ICdzdHJpbmcnXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICdhbGxPZic6IHtcbiAgICAgICAgICAgICAgICAgICAgJ2FsbE9mJzogW1xuICAgICAgICAgICAgICAgICAgICAgICAgeyAnJHJlZic6ICcjL2RlZmluaXRpb25zL3NjaGVtYUFycmF5JyB9XG4gICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICdkZXNjcmlwdGlvbic6IGxvY2FsaXplKCdzY2hlbWEuanNvbi5hbGxPZicsICdBbiBhcnJheSBvZiBzY2hlbWFzLCBhbGwgb2Ygd2hpY2ggbXVzdCBtYXRjaC4nKVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgJ2FueU9mJzoge1xuICAgICAgICAgICAgICAgICAgICAnYWxsT2YnOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICB7ICckcmVmJzogJyMvZGVmaW5pdGlvbnMvc2NoZW1hQXJyYXknIH1cbiAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgJ2Rlc2NyaXB0aW9uJzogbG9jYWxpemUoJ3NjaGVtYS5qc29uLmFueU9mJywgJ0FuIGFycmF5IG9mIHNjaGVtYXMsIHdoZXJlIGF0IGxlYXN0IG9uZSBtdXN0IG1hdGNoLicpXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAnb25lT2YnOiB7XG4gICAgICAgICAgICAgICAgICAgICdhbGxPZic6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgJyRyZWYnOiAnIy9kZWZpbml0aW9ucy9zY2hlbWFBcnJheScgfVxuICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAnZGVzY3JpcHRpb24nOiBsb2NhbGl6ZSgnc2NoZW1hLmpzb24ub25lT2YnLCAnQW4gYXJyYXkgb2Ygc2NoZW1hcywgZXhhY3RseSBvbmUgb2Ygd2hpY2ggbXVzdCBtYXRjaC4nKVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgJ25vdCc6IHtcbiAgICAgICAgICAgICAgICAgICAgJ2FsbE9mJzogW1xuICAgICAgICAgICAgICAgICAgICAgICAgeyAnJHJlZic6ICcjJyB9XG4gICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICdkZXNjcmlwdGlvbic6IGxvY2FsaXplKCdzY2hlbWEuanNvbi5ub3QnLCAnQSBzY2hlbWEgd2hpY2ggbXVzdCBub3QgbWF0Y2guJylcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgJ2RlcGVuZGVuY2llcyc6IHtcbiAgICAgICAgICAgICAgICAnZXhjbHVzaXZlTWF4aW11bSc6IFsnbWF4aW11bSddLFxuICAgICAgICAgICAgICAgICdleGNsdXNpdmVNaW5pbXVtJzogWydtaW5pbXVtJ11cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAnZGVmYXVsdCc6IHt9XG4gICAgICAgIH1cbiAgICB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uZmlndXJhdGlvbi5qcy5tYXAiLCIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbid1c2Ugc3RyaWN0JztcbmltcG9ydCAqIGFzIEpzb24gZnJvbSAnLi4vLi4vanNvbmMtcGFyc2VyL21haW4uanMnO1xuaW1wb3J0IFVSSSBmcm9tICcuLi8uLi92c2NvZGUtdXJpL2luZGV4LmpzJztcbmltcG9ydCAqIGFzIFN0cmluZ3MgZnJvbSAnLi4vdXRpbHMvc3RyaW5ncy5qcyc7XG5pbXBvcnQgKiBhcyBQYXJzZXIgZnJvbSAnLi4vcGFyc2VyL2pzb25QYXJzZXIuanMnO1xuaW1wb3J0ICogYXMgbmxzIGZyb20gJy4uLy4uLy4uL2ZpbGxlcnMvdnNjb2RlLW5scy5qcyc7XG52YXIgbG9jYWxpemUgPSBubHMubG9hZE1lc3NhZ2VCdW5kbGUoKTtcbnZhciBGaWxlUGF0dGVybkFzc29jaWF0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEZpbGVQYXR0ZXJuQXNzb2NpYXRpb24ocGF0dGVybikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5wYXR0ZXJuUmVnRXhwID0gbmV3IFJlZ0V4cChTdHJpbmdzLmNvbnZlcnRTaW1wbGUyUmVnRXhwUGF0dGVybihwYXR0ZXJuKSArICckJyk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIC8vIGludmFsaWQgcGF0dGVyblxuICAgICAgICAgICAgdGhpcy5wYXR0ZXJuUmVnRXhwID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNjaGVtYXMgPSBbXTtcbiAgICB9XG4gICAgRmlsZVBhdHRlcm5Bc3NvY2lhdGlvbi5wcm90b3R5cGUuYWRkU2NoZW1hID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgIHRoaXMuc2NoZW1hcy5wdXNoKGlkKTtcbiAgICB9O1xuICAgIEZpbGVQYXR0ZXJuQXNzb2NpYXRpb24ucHJvdG90eXBlLm1hdGNoZXNQYXR0ZXJuID0gZnVuY3Rpb24gKGZpbGVOYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBhdHRlcm5SZWdFeHAgJiYgdGhpcy5wYXR0ZXJuUmVnRXhwLnRlc3QoZmlsZU5hbWUpO1xuICAgIH07XG4gICAgRmlsZVBhdHRlcm5Bc3NvY2lhdGlvbi5wcm90b3R5cGUuZ2V0U2NoZW1hcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NoZW1hcztcbiAgICB9O1xuICAgIHJldHVybiBGaWxlUGF0dGVybkFzc29jaWF0aW9uO1xufSgpKTtcbnZhciBTY2hlbWFIYW5kbGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU2NoZW1hSGFuZGxlKHNlcnZpY2UsIHVybCwgdW5yZXNvbHZlZFNjaGVtYUNvbnRlbnQpIHtcbiAgICAgICAgdGhpcy5zZXJ2aWNlID0gc2VydmljZTtcbiAgICAgICAgdGhpcy51cmwgPSB1cmw7XG4gICAgICAgIGlmICh1bnJlc29sdmVkU2NoZW1hQ29udGVudCkge1xuICAgICAgICAgICAgdGhpcy51bnJlc29sdmVkU2NoZW1hID0gdGhpcy5zZXJ2aWNlLnByb21pc2UucmVzb2x2ZShuZXcgVW5yZXNvbHZlZFNjaGVtYSh1bnJlc29sdmVkU2NoZW1hQ29udGVudCkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIFNjaGVtYUhhbmRsZS5wcm90b3R5cGUuZ2V0VW5yZXNvbHZlZFNjaGVtYSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnVucmVzb2x2ZWRTY2hlbWEpIHtcbiAgICAgICAgICAgIHRoaXMudW5yZXNvbHZlZFNjaGVtYSA9IHRoaXMuc2VydmljZS5sb2FkU2NoZW1hKHRoaXMudXJsKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy51bnJlc29sdmVkU2NoZW1hO1xuICAgIH07XG4gICAgU2NoZW1hSGFuZGxlLnByb3RvdHlwZS5nZXRSZXNvbHZlZFNjaGVtYSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKCF0aGlzLnJlc29sdmVkU2NoZW1hKSB7XG4gICAgICAgICAgICB0aGlzLnJlc29sdmVkU2NoZW1hID0gdGhpcy5nZXRVbnJlc29sdmVkU2NoZW1hKCkudGhlbihmdW5jdGlvbiAodW5yZXNvbHZlZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5zZXJ2aWNlLnJlc29sdmVTY2hlbWFDb250ZW50KHVucmVzb2x2ZWQsIF90aGlzLnVybCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5yZXNvbHZlZFNjaGVtYTtcbiAgICB9O1xuICAgIFNjaGVtYUhhbmRsZS5wcm90b3R5cGUuY2xlYXJTY2hlbWEgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucmVzb2x2ZWRTY2hlbWEgPSBudWxsO1xuICAgICAgICB0aGlzLnVucmVzb2x2ZWRTY2hlbWEgPSBudWxsO1xuICAgIH07XG4gICAgcmV0dXJuIFNjaGVtYUhhbmRsZTtcbn0oKSk7XG52YXIgVW5yZXNvbHZlZFNjaGVtYSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBVbnJlc29sdmVkU2NoZW1hKHNjaGVtYSwgZXJyb3JzKSB7XG4gICAgICAgIGlmIChlcnJvcnMgPT09IHZvaWQgMCkgeyBlcnJvcnMgPSBbXTsgfVxuICAgICAgICB0aGlzLnNjaGVtYSA9IHNjaGVtYTtcbiAgICAgICAgdGhpcy5lcnJvcnMgPSBlcnJvcnM7XG4gICAgfVxuICAgIHJldHVybiBVbnJlc29sdmVkU2NoZW1hO1xufSgpKTtcbmV4cG9ydCB7IFVucmVzb2x2ZWRTY2hlbWEgfTtcbnZhciBSZXNvbHZlZFNjaGVtYSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZXNvbHZlZFNjaGVtYShzY2hlbWEsIGVycm9ycykge1xuICAgICAgICBpZiAoZXJyb3JzID09PSB2b2lkIDApIHsgZXJyb3JzID0gW107IH1cbiAgICAgICAgdGhpcy5zY2hlbWEgPSBzY2hlbWE7XG4gICAgICAgIHRoaXMuZXJyb3JzID0gZXJyb3JzO1xuICAgIH1cbiAgICBSZXNvbHZlZFNjaGVtYS5wcm90b3R5cGUuZ2V0U2VjdGlvbiA9IGZ1bmN0aW9uIChwYXRoKSB7XG4gICAgICAgIHJldHVybiBQYXJzZXIuYXNTY2hlbWEodGhpcy5nZXRTZWN0aW9uUmVjdXJzaXZlKHBhdGgsIHRoaXMuc2NoZW1hKSk7XG4gICAgfTtcbiAgICBSZXNvbHZlZFNjaGVtYS5wcm90b3R5cGUuZ2V0U2VjdGlvblJlY3Vyc2l2ZSA9IGZ1bmN0aW9uIChwYXRoLCBzY2hlbWEpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKCFzY2hlbWEgfHwgdHlwZW9mIHNjaGVtYSA9PT0gJ2Jvb2xlYW4nIHx8IHBhdGgubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gc2NoZW1hO1xuICAgICAgICB9XG4gICAgICAgIHZhciBuZXh0ID0gcGF0aC5zaGlmdCgpO1xuICAgICAgICBpZiAoc2NoZW1hLnByb3BlcnRpZXMgJiYgdHlwZW9mIHNjaGVtYS5wcm9wZXJ0aWVzW25leHRdKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRTZWN0aW9uUmVjdXJzaXZlKHBhdGgsIHNjaGVtYS5wcm9wZXJ0aWVzW25leHRdKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzY2hlbWEucGF0dGVyblByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKHNjaGVtYS5wYXR0ZXJuUHJvcGVydGllcykuZm9yRWFjaChmdW5jdGlvbiAocGF0dGVybikge1xuICAgICAgICAgICAgICAgIHZhciByZWdleCA9IG5ldyBSZWdFeHAocGF0dGVybik7XG4gICAgICAgICAgICAgICAgaWYgKHJlZ2V4LnRlc3QobmV4dCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmdldFNlY3Rpb25SZWN1cnNpdmUocGF0aCwgc2NoZW1hLnBhdHRlcm5Qcm9wZXJ0aWVzW3BhdHRlcm5dKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2Ygc2NoZW1hLmFkZGl0aW9uYWxQcm9wZXJ0aWVzID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0U2VjdGlvblJlY3Vyc2l2ZShwYXRoLCBzY2hlbWEuYWRkaXRpb25hbFByb3BlcnRpZXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG5leHQubWF0Y2goJ1swLTldKycpKSB7XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShzY2hlbWEuaXRlbXMpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gcGFyc2VJbnQobmV4dCwgMTApO1xuICAgICAgICAgICAgICAgIGlmICghaXNOYU4oaW5kZXgpICYmIHNjaGVtYS5pdGVtc1tpbmRleF0pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0U2VjdGlvblJlY3Vyc2l2ZShwYXRoLCBzY2hlbWEuaXRlbXNbaW5kZXhdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChzY2hlbWEuaXRlbXMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRTZWN0aW9uUmVjdXJzaXZlKHBhdGgsIHNjaGVtYS5pdGVtcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICByZXR1cm4gUmVzb2x2ZWRTY2hlbWE7XG59KCkpO1xuZXhwb3J0IHsgUmVzb2x2ZWRTY2hlbWEgfTtcbnZhciBKU09OU2NoZW1hU2VydmljZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBKU09OU2NoZW1hU2VydmljZShyZXF1ZXN0U2VydmljZSwgY29udGV4dFNlcnZpY2UsIHByb21pc2VDb25zdHJ1Y3Rvcikge1xuICAgICAgICB0aGlzLmNvbnRleHRTZXJ2aWNlID0gY29udGV4dFNlcnZpY2U7XG4gICAgICAgIHRoaXMucmVxdWVzdFNlcnZpY2UgPSByZXF1ZXN0U2VydmljZTtcbiAgICAgICAgdGhpcy5wcm9taXNlQ29uc3RydWN0b3IgPSBwcm9taXNlQ29uc3RydWN0b3IgfHwgUHJvbWlzZTtcbiAgICAgICAgdGhpcy5jYWxsT25EaXNwb3NlID0gW107XG4gICAgICAgIHRoaXMuY29udHJpYnV0aW9uU2NoZW1hcyA9IHt9O1xuICAgICAgICB0aGlzLmNvbnRyaWJ1dGlvbkFzc29jaWF0aW9ucyA9IHt9O1xuICAgICAgICB0aGlzLnNjaGVtYXNCeUlkID0ge307XG4gICAgICAgIHRoaXMuZmlsZVBhdHRlcm5Bc3NvY2lhdGlvbnMgPSBbXTtcbiAgICAgICAgdGhpcy5maWxlUGF0dGVybkFzc29jaWF0aW9uQnlJZCA9IHt9O1xuICAgICAgICB0aGlzLnJlZ2lzdGVyZWRTY2hlbWFzSWRzID0ge307XG4gICAgfVxuICAgIEpTT05TY2hlbWFTZXJ2aWNlLnByb3RvdHlwZS5nZXRSZWdpc3RlcmVkU2NoZW1hSWRzID0gZnVuY3Rpb24gKGZpbHRlcikge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5yZWdpc3RlcmVkU2NoZW1hc0lkcykuZmlsdGVyKGZ1bmN0aW9uIChpZCkge1xuICAgICAgICAgICAgdmFyIHNjaGVtZSA9IFVSSS5wYXJzZShpZCkuc2NoZW1lO1xuICAgICAgICAgICAgcmV0dXJuIHNjaGVtZSAhPT0gJ3NjaGVtYXNlcnZpY2UnICYmICghZmlsdGVyIHx8IGZpbHRlcihzY2hlbWUpKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSlNPTlNjaGVtYVNlcnZpY2UucHJvdG90eXBlLCBcInByb21pc2VcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnByb21pc2VDb25zdHJ1Y3RvcjtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgSlNPTlNjaGVtYVNlcnZpY2UucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHdoaWxlICh0aGlzLmNhbGxPbkRpc3Bvc2UubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy5jYWxsT25EaXNwb3NlLnBvcCgpKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEpTT05TY2hlbWFTZXJ2aWNlLnByb3RvdHlwZS5vblJlc291cmNlQ2hhbmdlID0gZnVuY3Rpb24gKHVyaSkge1xuICAgICAgICB1cmkgPSB0aGlzLm5vcm1hbGl6ZUlkKHVyaSk7XG4gICAgICAgIHZhciBzY2hlbWFGaWxlID0gdGhpcy5zY2hlbWFzQnlJZFt1cmldO1xuICAgICAgICBpZiAoc2NoZW1hRmlsZSkge1xuICAgICAgICAgICAgc2NoZW1hRmlsZS5jbGVhclNjaGVtYSgpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgSlNPTlNjaGVtYVNlcnZpY2UucHJvdG90eXBlLm5vcm1hbGl6ZUlkID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgIC8vIHJlbW92ZSB0cmFpbGluZyAnIycsIG5vcm1hbGl6ZSBkcml2ZSBjYXBpdGFsaXphdGlvblxuICAgICAgICByZXR1cm4gVVJJLnBhcnNlKGlkKS50b1N0cmluZygpO1xuICAgIH07XG4gICAgSlNPTlNjaGVtYVNlcnZpY2UucHJvdG90eXBlLnNldFNjaGVtYUNvbnRyaWJ1dGlvbnMgPSBmdW5jdGlvbiAoc2NoZW1hQ29udHJpYnV0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoc2NoZW1hQ29udHJpYnV0aW9ucy5zY2hlbWFzKSB7XG4gICAgICAgICAgICB2YXIgc2NoZW1hcyA9IHNjaGVtYUNvbnRyaWJ1dGlvbnMuc2NoZW1hcztcbiAgICAgICAgICAgIGZvciAodmFyIGlkIGluIHNjaGVtYXMpIHtcbiAgICAgICAgICAgICAgICB2YXIgbm9ybWFsaXplZElkID0gdGhpcy5ub3JtYWxpemVJZChpZCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250cmlidXRpb25TY2hlbWFzW25vcm1hbGl6ZWRJZF0gPSB0aGlzLmFkZFNjaGVtYUhhbmRsZShub3JtYWxpemVkSWQsIHNjaGVtYXNbaWRdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoc2NoZW1hQ29udHJpYnV0aW9ucy5zY2hlbWFBc3NvY2lhdGlvbnMpIHtcbiAgICAgICAgICAgIHZhciBzY2hlbWFBc3NvY2lhdGlvbnMgPSBzY2hlbWFDb250cmlidXRpb25zLnNjaGVtYUFzc29jaWF0aW9ucztcbiAgICAgICAgICAgIGZvciAodmFyIHBhdHRlcm4gaW4gc2NoZW1hQXNzb2NpYXRpb25zKSB7XG4gICAgICAgICAgICAgICAgdmFyIGFzc29jaWF0aW9ucyA9IHNjaGVtYUFzc29jaWF0aW9uc1twYXR0ZXJuXTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRyaWJ1dGlvbkFzc29jaWF0aW9uc1twYXR0ZXJuXSA9IGFzc29jaWF0aW9ucztcbiAgICAgICAgICAgICAgICB2YXIgZnBhID0gdGhpcy5nZXRPckFkZEZpbGVQYXR0ZXJuQXNzb2NpYXRpb24ocGF0dGVybik7XG4gICAgICAgICAgICAgICAgYXNzb2NpYXRpb25zLmZvckVhY2goZnVuY3Rpb24gKHNjaGVtYUlkKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpZCA9IF90aGlzLm5vcm1hbGl6ZUlkKHNjaGVtYUlkKTtcbiAgICAgICAgICAgICAgICAgICAgZnBhLmFkZFNjaGVtYShpZCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEpTT05TY2hlbWFTZXJ2aWNlLnByb3RvdHlwZS5hZGRTY2hlbWFIYW5kbGUgPSBmdW5jdGlvbiAoaWQsIHVucmVzb2x2ZWRTY2hlbWFDb250ZW50KSB7XG4gICAgICAgIHZhciBzY2hlbWFIYW5kbGUgPSBuZXcgU2NoZW1hSGFuZGxlKHRoaXMsIGlkLCB1bnJlc29sdmVkU2NoZW1hQ29udGVudCk7XG4gICAgICAgIHRoaXMuc2NoZW1hc0J5SWRbaWRdID0gc2NoZW1hSGFuZGxlO1xuICAgICAgICByZXR1cm4gc2NoZW1hSGFuZGxlO1xuICAgIH07XG4gICAgSlNPTlNjaGVtYVNlcnZpY2UucHJvdG90eXBlLmdldE9yQWRkU2NoZW1hSGFuZGxlID0gZnVuY3Rpb24gKGlkLCB1bnJlc29sdmVkU2NoZW1hQ29udGVudCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zY2hlbWFzQnlJZFtpZF0gfHwgdGhpcy5hZGRTY2hlbWFIYW5kbGUoaWQsIHVucmVzb2x2ZWRTY2hlbWFDb250ZW50KTtcbiAgICB9O1xuICAgIEpTT05TY2hlbWFTZXJ2aWNlLnByb3RvdHlwZS5nZXRPckFkZEZpbGVQYXR0ZXJuQXNzb2NpYXRpb24gPSBmdW5jdGlvbiAocGF0dGVybikge1xuICAgICAgICB2YXIgZnBhID0gdGhpcy5maWxlUGF0dGVybkFzc29jaWF0aW9uQnlJZFtwYXR0ZXJuXTtcbiAgICAgICAgaWYgKCFmcGEpIHtcbiAgICAgICAgICAgIGZwYSA9IG5ldyBGaWxlUGF0dGVybkFzc29jaWF0aW9uKHBhdHRlcm4pO1xuICAgICAgICAgICAgdGhpcy5maWxlUGF0dGVybkFzc29jaWF0aW9uQnlJZFtwYXR0ZXJuXSA9IGZwYTtcbiAgICAgICAgICAgIHRoaXMuZmlsZVBhdHRlcm5Bc3NvY2lhdGlvbnMucHVzaChmcGEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmcGE7XG4gICAgfTtcbiAgICBKU09OU2NoZW1hU2VydmljZS5wcm90b3R5cGUucmVnaXN0ZXJFeHRlcm5hbFNjaGVtYSA9IGZ1bmN0aW9uICh1cmksIGZpbGVQYXR0ZXJucywgdW5yZXNvbHZlZFNjaGVtYUNvbnRlbnQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKGZpbGVQYXR0ZXJucyA9PT0gdm9pZCAwKSB7IGZpbGVQYXR0ZXJucyA9IG51bGw7IH1cbiAgICAgICAgdmFyIGlkID0gdGhpcy5ub3JtYWxpemVJZCh1cmkpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyZWRTY2hlbWFzSWRzW2lkXSA9IHRydWU7XG4gICAgICAgIGlmIChmaWxlUGF0dGVybnMpIHtcbiAgICAgICAgICAgIGZpbGVQYXR0ZXJucy5mb3JFYWNoKGZ1bmN0aW9uIChwYXR0ZXJuKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuZ2V0T3JBZGRGaWxlUGF0dGVybkFzc29jaWF0aW9uKHBhdHRlcm4pLmFkZFNjaGVtYShpZCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5yZXNvbHZlZFNjaGVtYUNvbnRlbnQgPyB0aGlzLmFkZFNjaGVtYUhhbmRsZShpZCwgdW5yZXNvbHZlZFNjaGVtYUNvbnRlbnQpIDogdGhpcy5nZXRPckFkZFNjaGVtYUhhbmRsZShpZCk7XG4gICAgfTtcbiAgICBKU09OU2NoZW1hU2VydmljZS5wcm90b3R5cGUuY2xlYXJFeHRlcm5hbFNjaGVtYXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuc2NoZW1hc0J5SWQgPSB7fTtcbiAgICAgICAgdGhpcy5maWxlUGF0dGVybkFzc29jaWF0aW9ucyA9IFtdO1xuICAgICAgICB0aGlzLmZpbGVQYXR0ZXJuQXNzb2NpYXRpb25CeUlkID0ge307XG4gICAgICAgIHRoaXMucmVnaXN0ZXJlZFNjaGVtYXNJZHMgPSB7fTtcbiAgICAgICAgZm9yICh2YXIgaWQgaW4gdGhpcy5jb250cmlidXRpb25TY2hlbWFzKSB7XG4gICAgICAgICAgICB0aGlzLnNjaGVtYXNCeUlkW2lkXSA9IHRoaXMuY29udHJpYnV0aW9uU2NoZW1hc1tpZF07XG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVyZWRTY2hlbWFzSWRzW2lkXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgcGF0dGVybiBpbiB0aGlzLmNvbnRyaWJ1dGlvbkFzc29jaWF0aW9ucykge1xuICAgICAgICAgICAgdmFyIGZwYSA9IHRoaXMuZ2V0T3JBZGRGaWxlUGF0dGVybkFzc29jaWF0aW9uKHBhdHRlcm4pO1xuICAgICAgICAgICAgdGhpcy5jb250cmlidXRpb25Bc3NvY2lhdGlvbnNbcGF0dGVybl0uZm9yRWFjaChmdW5jdGlvbiAoc2NoZW1hSWQpIHtcbiAgICAgICAgICAgICAgICB2YXIgaWQgPSBfdGhpcy5ub3JtYWxpemVJZChzY2hlbWFJZCk7XG4gICAgICAgICAgICAgICAgZnBhLmFkZFNjaGVtYShpZCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgSlNPTlNjaGVtYVNlcnZpY2UucHJvdG90eXBlLmdldFJlc29sdmVkU2NoZW1hID0gZnVuY3Rpb24gKHNjaGVtYUlkKSB7XG4gICAgICAgIHZhciBpZCA9IHRoaXMubm9ybWFsaXplSWQoc2NoZW1hSWQpO1xuICAgICAgICB2YXIgc2NoZW1hSGFuZGxlID0gdGhpcy5zY2hlbWFzQnlJZFtpZF07XG4gICAgICAgIGlmIChzY2hlbWFIYW5kbGUpIHtcbiAgICAgICAgICAgIHJldHVybiBzY2hlbWFIYW5kbGUuZ2V0UmVzb2x2ZWRTY2hlbWEoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5wcm9taXNlLnJlc29sdmUobnVsbCk7XG4gICAgfTtcbiAgICBKU09OU2NoZW1hU2VydmljZS5wcm90b3R5cGUubG9hZFNjaGVtYSA9IGZ1bmN0aW9uICh1cmwpIHtcbiAgICAgICAgaWYgKCF0aGlzLnJlcXVlc3RTZXJ2aWNlKSB7XG4gICAgICAgICAgICB2YXIgZXJyb3JNZXNzYWdlID0gbG9jYWxpemUoJ2pzb24uc2NoZW1hLm5vcmVxdWVzdHNlcnZpY2UnLCAnVW5hYmxlIHRvIGxvYWQgc2NoZW1hIGZyb20gXFwnezB9XFwnLiBObyBzY2hlbWEgcmVxdWVzdCBzZXJ2aWNlIGF2YWlsYWJsZScsIHRvRGlzcGxheVN0cmluZyh1cmwpKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnByb21pc2UucmVzb2x2ZShuZXcgVW5yZXNvbHZlZFNjaGVtYSh7fSwgW2Vycm9yTWVzc2FnZV0pKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5yZXF1ZXN0U2VydmljZSh1cmwpLnRoZW4oZnVuY3Rpb24gKGNvbnRlbnQpIHtcbiAgICAgICAgICAgIGlmICghY29udGVudCkge1xuICAgICAgICAgICAgICAgIHZhciBlcnJvck1lc3NhZ2UgPSBsb2NhbGl6ZSgnanNvbi5zY2hlbWEubm9jb250ZW50JywgJ1VuYWJsZSB0byBsb2FkIHNjaGVtYSBmcm9tIFxcJ3swfVxcJzogTm8gY29udGVudC4nLCB0b0Rpc3BsYXlTdHJpbmcodXJsKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBVbnJlc29sdmVkU2NoZW1hKHt9LCBbZXJyb3JNZXNzYWdlXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgc2NoZW1hQ29udGVudCA9IHt9O1xuICAgICAgICAgICAgdmFyIGpzb25FcnJvcnMgPSBbXTtcbiAgICAgICAgICAgIHNjaGVtYUNvbnRlbnQgPSBKc29uLnBhcnNlKGNvbnRlbnQsIGpzb25FcnJvcnMpO1xuICAgICAgICAgICAgdmFyIGVycm9ycyA9IGpzb25FcnJvcnMubGVuZ3RoID8gW2xvY2FsaXplKCdqc29uLnNjaGVtYS5pbnZhbGlkRm9ybWF0JywgJ1VuYWJsZSB0byBwYXJzZSBjb250ZW50IGZyb20gXFwnezB9XFwnOiBQYXJzZSBlcnJvciBhdCBvZmZzZXQgezF9LicsIHRvRGlzcGxheVN0cmluZyh1cmwpLCBqc29uRXJyb3JzWzBdLm9mZnNldCldIDogW107XG4gICAgICAgICAgICByZXR1cm4gbmV3IFVucmVzb2x2ZWRTY2hlbWEoc2NoZW1hQ29udGVudCwgZXJyb3JzKTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICB2YXIgZXJyb3JNZXNzYWdlID0gbG9jYWxpemUoJ2pzb24uc2NoZW1hLnVuYWJsZXRvbG9hZCcsICdVbmFibGUgdG8gbG9hZCBzY2hlbWEgZnJvbSBcXCd7MH1cXCc6IHsxfScsIHRvRGlzcGxheVN0cmluZyh1cmwpLCBlcnJvci50b1N0cmluZygpKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgVW5yZXNvbHZlZFNjaGVtYSh7fSwgW2Vycm9yTWVzc2FnZV0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIEpTT05TY2hlbWFTZXJ2aWNlLnByb3RvdHlwZS5yZXNvbHZlU2NoZW1hQ29udGVudCA9IGZ1bmN0aW9uIChzY2hlbWFUb1Jlc29sdmUsIHNjaGVtYVVSTCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgcmVzb2x2ZUVycm9ycyA9IHNjaGVtYVRvUmVzb2x2ZS5lcnJvcnMuc2xpY2UoMCk7XG4gICAgICAgIHZhciBzY2hlbWEgPSBzY2hlbWFUb1Jlc29sdmUuc2NoZW1hO1xuICAgICAgICB2YXIgY29udGV4dFNlcnZpY2UgPSB0aGlzLmNvbnRleHRTZXJ2aWNlO1xuICAgICAgICB2YXIgZmluZFNlY3Rpb24gPSBmdW5jdGlvbiAoc2NoZW1hLCBwYXRoKSB7XG4gICAgICAgICAgICBpZiAoIXBhdGgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2NoZW1hO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGN1cnJlbnQgPSBzY2hlbWE7XG4gICAgICAgICAgICBpZiAocGF0aFswXSA9PT0gJy8nKSB7XG4gICAgICAgICAgICAgICAgcGF0aCA9IHBhdGguc3Vic3RyKDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGF0aC5zcGxpdCgnLycpLnNvbWUoZnVuY3Rpb24gKHBhcnQpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudFtwYXJ0XTtcbiAgICAgICAgICAgICAgICByZXR1cm4gIWN1cnJlbnQ7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBjdXJyZW50O1xuICAgICAgICB9O1xuICAgICAgICB2YXIgbWVyZ2UgPSBmdW5jdGlvbiAodGFyZ2V0LCBzb3VyY2VSb290LCBzb3VyY2VVUkksIHBhdGgpIHtcbiAgICAgICAgICAgIHZhciBzZWN0aW9uID0gZmluZFNlY3Rpb24oc291cmNlUm9vdCwgcGF0aCk7XG4gICAgICAgICAgICBpZiAoc2VjdGlvbikge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBzZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzZWN0aW9uLmhhc093blByb3BlcnR5KGtleSkgJiYgIXRhcmdldC5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRba2V5XSA9IHNlY3Rpb25ba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlc29sdmVFcnJvcnMucHVzaChsb2NhbGl6ZSgnanNvbi5zY2hlbWEuaW52YWxpZHJlZicsICckcmVmIFxcJ3swfVxcJyBpbiBcXCd7MX1cXCcgY2FuIG5vdCBiZSByZXNvbHZlZC4nLCBwYXRoLCBzb3VyY2VVUkkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHJlc29sdmVFeHRlcm5hbExpbmsgPSBmdW5jdGlvbiAobm9kZSwgdXJpLCBsaW5rUGF0aCwgcGFyZW50U2NoZW1hVVJMKSB7XG4gICAgICAgICAgICBpZiAoY29udGV4dFNlcnZpY2UgJiYgIS9eXFx3KzpcXC9cXC8uKi8udGVzdCh1cmkpKSB7XG4gICAgICAgICAgICAgICAgdXJpID0gY29udGV4dFNlcnZpY2UucmVzb2x2ZVJlbGF0aXZlUGF0aCh1cmksIHBhcmVudFNjaGVtYVVSTCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB1cmkgPSBfdGhpcy5ub3JtYWxpemVJZCh1cmkpO1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLmdldE9yQWRkU2NoZW1hSGFuZGxlKHVyaSkuZ2V0VW5yZXNvbHZlZFNjaGVtYSgpLnRoZW4oZnVuY3Rpb24gKHVucmVzb2x2ZWRTY2hlbWEpIHtcbiAgICAgICAgICAgICAgICBpZiAodW5yZXNvbHZlZFNjaGVtYS5lcnJvcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBsb2MgPSBsaW5rUGF0aCA/IHVyaSArICcjJyArIGxpbmtQYXRoIDogdXJpO1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlRXJyb3JzLnB1c2gobG9jYWxpemUoJ2pzb24uc2NoZW1hLnByb2JsZW1sb2FkaW5ncmVmJywgJ1Byb2JsZW1zIGxvYWRpbmcgcmVmZXJlbmNlIFxcJ3swfVxcJzogezF9JywgbG9jLCB1bnJlc29sdmVkU2NoZW1hLmVycm9yc1swXSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBtZXJnZShub2RlLCB1bnJlc29sdmVkU2NoZW1hLnNjaGVtYSwgdXJpLCBsaW5rUGF0aCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmVSZWZzKG5vZGUsIHVucmVzb2x2ZWRTY2hlbWEuc2NoZW1hLCB1cmkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHZhciByZXNvbHZlUmVmcyA9IGZ1bmN0aW9uIChub2RlLCBwYXJlbnRTY2hlbWEsIHBhcmVudFNjaGVtYVVSTCkge1xuICAgICAgICAgICAgaWYgKCFub2RlIHx8IHR5cGVvZiBub2RlICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobnVsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgdG9XYWxrID0gW25vZGVdO1xuICAgICAgICAgICAgdmFyIHNlZW4gPSBbXTtcbiAgICAgICAgICAgIHZhciBvcGVuUHJvbWlzZXMgPSBbXTtcbiAgICAgICAgICAgIHZhciBjb2xsZWN0RW50cmllcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgZW50cmllcyA9IFtdO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGVudHJpZXNbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgX2EgPSAwLCBlbnRyaWVzXzEgPSBlbnRyaWVzOyBfYSA8IGVudHJpZXNfMS5sZW5ndGg7IF9hKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVudHJ5ID0gZW50cmllc18xW19hXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBlbnRyeSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvV2Fsay5wdXNoKGVudHJ5KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YXIgY29sbGVjdE1hcEVudHJpZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIG1hcHMgPSBbXTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgICAgICBtYXBzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZvciAodmFyIF9hID0gMCwgbWFwc18xID0gbWFwczsgX2EgPCBtYXBzXzEubGVuZ3RoOyBfYSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtYXAgPSBtYXBzXzFbX2FdO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1hcCA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBtYXApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZW50cnkgPSBtYXBba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGVudHJ5ID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b1dhbGsucHVzaChlbnRyeSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhciBjb2xsZWN0QXJyYXlFbnRyaWVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBhcnJheXMgPSBbXTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgICAgICBhcnJheXNbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgX2EgPSAwLCBhcnJheXNfMSA9IGFycmF5czsgX2EgPCBhcnJheXNfMS5sZW5ndGg7IF9hKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFycmF5ID0gYXJyYXlzXzFbX2FdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShhcnJheSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9iID0gMCwgYXJyYXlfMSA9IGFycmF5OyBfYiA8IGFycmF5XzEubGVuZ3RoOyBfYisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVudHJ5ID0gYXJyYXlfMVtfYl07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBlbnRyeSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9XYWxrLnB1c2goZW50cnkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YXIgaGFuZGxlUmVmID0gZnVuY3Rpb24gKG5leHQpIHtcbiAgICAgICAgICAgICAgICB3aGlsZSAobmV4dC4kcmVmKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzZWdtZW50cyA9IG5leHQuJHJlZi5zcGxpdCgnIycsIDIpO1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgbmV4dC4kcmVmO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2VnbWVudHNbMF0ubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3BlblByb21pc2VzLnB1c2gocmVzb2x2ZUV4dGVybmFsTGluayhuZXh0LCBzZWdtZW50c1swXSwgc2VnbWVudHNbMV0sIHBhcmVudFNjaGVtYVVSTCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVyZ2UobmV4dCwgcGFyZW50U2NoZW1hLCBwYXJlbnRTY2hlbWFVUkwsIHNlZ21lbnRzWzFdKTsgLy8gY2FuIHNldCBuZXh0LiRyZWYgYWdhaW5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb2xsZWN0RW50cmllcyhuZXh0Lml0ZW1zLCBuZXh0LmFkZGl0aW9uYWxQcm9wZXJ0aWVzLCBuZXh0Lm5vdCwgbmV4dC5jb250YWlucywgbmV4dC5wcm9wZXJ0eU5hbWVzKTtcbiAgICAgICAgICAgICAgICBjb2xsZWN0TWFwRW50cmllcyhuZXh0LmRlZmluaXRpb25zLCBuZXh0LnByb3BlcnRpZXMsIG5leHQucGF0dGVyblByb3BlcnRpZXMsIG5leHQuZGVwZW5kZW5jaWVzKTtcbiAgICAgICAgICAgICAgICBjb2xsZWN0QXJyYXlFbnRyaWVzKG5leHQuYW55T2YsIG5leHQuYWxsT2YsIG5leHQub25lT2YsIG5leHQuaXRlbXMpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHdoaWxlICh0b1dhbGsubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdmFyIG5leHQgPSB0b1dhbGsucG9wKCk7XG4gICAgICAgICAgICAgICAgaWYgKHNlZW4uaW5kZXhPZihuZXh0KSA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzZWVuLnB1c2gobmV4dCk7XG4gICAgICAgICAgICAgICAgaGFuZGxlUmVmKG5leHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIF90aGlzLnByb21pc2UuYWxsKG9wZW5Qcm9taXNlcyk7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiByZXNvbHZlUmVmcyhzY2hlbWEsIHNjaGVtYSwgc2NoZW1hVVJMKS50aGVuKGZ1bmN0aW9uIChfKSB7IHJldHVybiBuZXcgUmVzb2x2ZWRTY2hlbWEoc2NoZW1hLCByZXNvbHZlRXJyb3JzKTsgfSk7XG4gICAgfTtcbiAgICBKU09OU2NoZW1hU2VydmljZS5wcm90b3R5cGUuZ2V0U2NoZW1hRm9yUmVzb3VyY2UgPSBmdW5jdGlvbiAocmVzb3VyY2UsIGRvY3VtZW50KSB7XG4gICAgICAgIC8vIGZpcnN0IHVzZSAkc2NoZW1hIGlmIHByZXNlbnRcbiAgICAgICAgaWYgKGRvY3VtZW50ICYmIGRvY3VtZW50LnJvb3QgJiYgZG9jdW1lbnQucm9vdC50eXBlID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgdmFyIHNjaGVtYVByb3BlcnRpZXMgPSBkb2N1bWVudC5yb290LnByb3BlcnRpZXMuZmlsdGVyKGZ1bmN0aW9uIChwKSB7IHJldHVybiAocC5rZXlOb2RlLnZhbHVlID09PSAnJHNjaGVtYScpICYmIHAudmFsdWVOb2RlICYmIHAudmFsdWVOb2RlLnR5cGUgPT09ICdzdHJpbmcnOyB9KTtcbiAgICAgICAgICAgIGlmIChzY2hlbWFQcm9wZXJ0aWVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICB2YXIgc2NoZW1lSWQgPSBQYXJzZXIuZ2V0Tm9kZVZhbHVlKHNjaGVtYVByb3BlcnRpZXNbMF0udmFsdWVOb2RlKTtcbiAgICAgICAgICAgICAgICBpZiAoc2NoZW1lSWQgJiYgU3RyaW5ncy5zdGFydHNXaXRoKHNjaGVtZUlkLCAnLicpICYmIHRoaXMuY29udGV4dFNlcnZpY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgc2NoZW1lSWQgPSB0aGlzLmNvbnRleHRTZXJ2aWNlLnJlc29sdmVSZWxhdGl2ZVBhdGgoc2NoZW1lSWQsIHJlc291cmNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHNjaGVtZUlkKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpZCA9IHRoaXMubm9ybWFsaXplSWQoc2NoZW1lSWQpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRPckFkZFNjaGVtYUhhbmRsZShpZCkuZ2V0UmVzb2x2ZWRTY2hlbWEoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNlZW4gPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICB2YXIgc2NoZW1hcyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gdGhpcy5maWxlUGF0dGVybkFzc29jaWF0aW9uczsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIHZhciBlbnRyeSA9IF9hW19pXTtcbiAgICAgICAgICAgIGlmIChlbnRyeS5tYXRjaGVzUGF0dGVybihyZXNvdXJjZSkpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBfYiA9IDAsIF9jID0gZW50cnkuZ2V0U2NoZW1hcygpOyBfYiA8IF9jLmxlbmd0aDsgX2IrKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc2NoZW1hSWQgPSBfY1tfYl07XG4gICAgICAgICAgICAgICAgICAgIGlmICghc2VlbltzY2hlbWFJZF0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjaGVtYXMucHVzaChzY2hlbWFJZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWVuW3NjaGVtYUlkXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNjaGVtYXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlQ29tYmluZWRTY2hlbWEocmVzb3VyY2UsIHNjaGVtYXMpLmdldFJlc29sdmVkU2NoZW1hKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMucHJvbWlzZS5yZXNvbHZlKG51bGwpO1xuICAgIH07XG4gICAgSlNPTlNjaGVtYVNlcnZpY2UucHJvdG90eXBlLmNyZWF0ZUNvbWJpbmVkU2NoZW1hID0gZnVuY3Rpb24gKHJlc291cmNlLCBzY2hlbWFJZHMpIHtcbiAgICAgICAgaWYgKHNjaGVtYUlkcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldE9yQWRkU2NoZW1hSGFuZGxlKHNjaGVtYUlkc1swXSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgY29tYmluZWRTY2hlbWFJZCA9ICdzY2hlbWFzZXJ2aWNlOi8vY29tYmluZWRTY2hlbWEvJyArIGVuY29kZVVSSUNvbXBvbmVudChyZXNvdXJjZSk7XG4gICAgICAgICAgICB2YXIgY29tYmluZWRTY2hlbWEgPSB7XG4gICAgICAgICAgICAgICAgYWxsT2Y6IHNjaGVtYUlkcy5tYXAoZnVuY3Rpb24gKHNjaGVtYUlkKSB7IHJldHVybiAoeyAkcmVmOiBzY2hlbWFJZCB9KTsgfSlcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hZGRTY2hlbWFIYW5kbGUoY29tYmluZWRTY2hlbWFJZCwgY29tYmluZWRTY2hlbWEpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gSlNPTlNjaGVtYVNlcnZpY2U7XG59KCkpO1xuZXhwb3J0IHsgSlNPTlNjaGVtYVNlcnZpY2UgfTtcbmZ1bmN0aW9uIHRvRGlzcGxheVN0cmluZyh1cmwpIHtcbiAgICB0cnkge1xuICAgICAgICB2YXIgdXJpID0gVVJJLnBhcnNlKHVybCk7XG4gICAgICAgIGlmICh1cmkuc2NoZW1lID09PSAnZmlsZScpIHtcbiAgICAgICAgICAgIHJldHVybiB1cmkuZnNQYXRoO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIC8vIGlnbm9yZVxuICAgIH1cbiAgICByZXR1cm4gdXJsO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9anNvblNjaGVtYVNlcnZpY2UuanMubWFwIiwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG4ndXNlIHN0cmljdCc7XG5pbXBvcnQgeyBUZXh0RG9jdW1lbnQsIFBvc2l0aW9uLCBDb21wbGV0aW9uSXRlbSwgQ29tcGxldGlvbkxpc3QsIFJhbmdlLCBTeW1ib2xJbmZvcm1hdGlvbiwgRGlhZ25vc3RpYywgVGV4dEVkaXQsIEZvcm1hdHRpbmdPcHRpb25zLCBNYXJrZWRTdHJpbmcgfSBmcm9tICcuLi92c2NvZGUtbGFuZ3VhZ2VzZXJ2ZXItdHlwZXMvbWFpbi5qcyc7XG5pbXBvcnQgeyBKU09OQ29tcGxldGlvbiB9IGZyb20gJy4vc2VydmljZXMvanNvbkNvbXBsZXRpb24uanMnO1xuaW1wb3J0IHsgSlNPTkhvdmVyIH0gZnJvbSAnLi9zZXJ2aWNlcy9qc29uSG92ZXIuanMnO1xuaW1wb3J0IHsgSlNPTlZhbGlkYXRpb24gfSBmcm9tICcuL3NlcnZpY2VzL2pzb25WYWxpZGF0aW9uLmpzJztcbmltcG9ydCB7IEpTT05Eb2N1bWVudFN5bWJvbHMgfSBmcm9tICcuL3NlcnZpY2VzL2pzb25Eb2N1bWVudFN5bWJvbHMuanMnO1xuaW1wb3J0IHsgcGFyc2UgYXMgcGFyc2VKU09OLCBuZXdKU09ORG9jdW1lbnQgfSBmcm9tICcuL3BhcnNlci9qc29uUGFyc2VyLmpzJztcbmltcG9ydCB7IHNjaGVtYUNvbnRyaWJ1dGlvbnMgfSBmcm9tICcuL3NlcnZpY2VzL2NvbmZpZ3VyYXRpb24uanMnO1xuaW1wb3J0IHsgSlNPTlNjaGVtYVNlcnZpY2UgfSBmcm9tICcuL3NlcnZpY2VzL2pzb25TY2hlbWFTZXJ2aWNlLmpzJztcbmltcG9ydCB7IGZvcm1hdCBhcyBmb3JtYXRKU09OIH0gZnJvbSAnLi4vanNvbmMtcGFyc2VyL21haW4uanMnO1xuZXhwb3J0IHsgVGV4dERvY3VtZW50LCBQb3NpdGlvbiwgQ29tcGxldGlvbkl0ZW0sIENvbXBsZXRpb25MaXN0LCBSYW5nZSwgU3ltYm9sSW5mb3JtYXRpb24sIERpYWdub3N0aWMsIFRleHRFZGl0LCBGb3JtYXR0aW5nT3B0aW9ucywgTWFya2VkU3RyaW5nIH07XG5leHBvcnQgZnVuY3Rpb24gZ2V0TGFuZ3VhZ2VTZXJ2aWNlKHBhcmFtcykge1xuICAgIHZhciBwcm9taXNlID0gcGFyYW1zLnByb21pc2VDb25zdHJ1Y3RvciB8fCBQcm9taXNlO1xuICAgIHZhciBqc29uU2NoZW1hU2VydmljZSA9IG5ldyBKU09OU2NoZW1hU2VydmljZShwYXJhbXMuc2NoZW1hUmVxdWVzdFNlcnZpY2UsIHBhcmFtcy53b3Jrc3BhY2VDb250ZXh0LCBwcm9taXNlKTtcbiAgICBqc29uU2NoZW1hU2VydmljZS5zZXRTY2hlbWFDb250cmlidXRpb25zKHNjaGVtYUNvbnRyaWJ1dGlvbnMpO1xuICAgIHZhciBqc29uQ29tcGxldGlvbiA9IG5ldyBKU09OQ29tcGxldGlvbihqc29uU2NoZW1hU2VydmljZSwgcGFyYW1zLmNvbnRyaWJ1dGlvbnMsIHByb21pc2UpO1xuICAgIHZhciBqc29uSG92ZXIgPSBuZXcgSlNPTkhvdmVyKGpzb25TY2hlbWFTZXJ2aWNlLCBwYXJhbXMuY29udHJpYnV0aW9ucywgcHJvbWlzZSk7XG4gICAgdmFyIGpzb25Eb2N1bWVudFN5bWJvbHMgPSBuZXcgSlNPTkRvY3VtZW50U3ltYm9scyhqc29uU2NoZW1hU2VydmljZSk7XG4gICAgdmFyIGpzb25WYWxpZGF0aW9uID0gbmV3IEpTT05WYWxpZGF0aW9uKGpzb25TY2hlbWFTZXJ2aWNlLCBwcm9taXNlKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBjb25maWd1cmU6IGZ1bmN0aW9uIChzZXR0aW5ncykge1xuICAgICAgICAgICAganNvblNjaGVtYVNlcnZpY2UuY2xlYXJFeHRlcm5hbFNjaGVtYXMoKTtcbiAgICAgICAgICAgIGlmIChzZXR0aW5ncy5zY2hlbWFzKSB7XG4gICAgICAgICAgICAgICAgc2V0dGluZ3Muc2NoZW1hcy5mb3JFYWNoKGZ1bmN0aW9uIChzZXR0aW5ncykge1xuICAgICAgICAgICAgICAgICAgICBqc29uU2NoZW1hU2VydmljZS5yZWdpc3RlckV4dGVybmFsU2NoZW1hKHNldHRpbmdzLnVyaSwgc2V0dGluZ3MuZmlsZU1hdGNoLCBzZXR0aW5ncy5zY2hlbWEpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAganNvblZhbGlkYXRpb24uY29uZmlndXJlKHNldHRpbmdzKTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVzZXRTY2hlbWE6IGZ1bmN0aW9uICh1cmkpIHsgcmV0dXJuIGpzb25TY2hlbWFTZXJ2aWNlLm9uUmVzb3VyY2VDaGFuZ2UodXJpKTsgfSxcbiAgICAgICAgZG9WYWxpZGF0aW9uOiBqc29uVmFsaWRhdGlvbi5kb1ZhbGlkYXRpb24uYmluZChqc29uVmFsaWRhdGlvbiksXG4gICAgICAgIHBhcnNlSlNPTkRvY3VtZW50OiBmdW5jdGlvbiAoZG9jdW1lbnQpIHsgcmV0dXJuIHBhcnNlSlNPTihkb2N1bWVudCwgeyBjb2xsZWN0Q29tbWVudHM6IHRydWUgfSk7IH0sXG4gICAgICAgIG5ld0pTT05Eb2N1bWVudDogZnVuY3Rpb24gKHJvb3QsIGRpYWdub3N0aWNzKSB7IHJldHVybiBuZXdKU09ORG9jdW1lbnQocm9vdCwgZGlhZ25vc3RpY3MpOyB9LFxuICAgICAgICBkb1Jlc29sdmU6IGpzb25Db21wbGV0aW9uLmRvUmVzb2x2ZS5iaW5kKGpzb25Db21wbGV0aW9uKSxcbiAgICAgICAgZG9Db21wbGV0ZToganNvbkNvbXBsZXRpb24uZG9Db21wbGV0ZS5iaW5kKGpzb25Db21wbGV0aW9uKSxcbiAgICAgICAgZmluZERvY3VtZW50U3ltYm9sczoganNvbkRvY3VtZW50U3ltYm9scy5maW5kRG9jdW1lbnRTeW1ib2xzLmJpbmQoanNvbkRvY3VtZW50U3ltYm9scyksXG4gICAgICAgIGZpbmRDb2xvclN5bWJvbHM6IGZ1bmN0aW9uIChkLCBzKSB7IHJldHVybiBqc29uRG9jdW1lbnRTeW1ib2xzLmZpbmREb2N1bWVudENvbG9ycyhkLCBzKS50aGVuKGZ1bmN0aW9uIChzKSB7IHJldHVybiBzLm1hcChmdW5jdGlvbiAocykgeyByZXR1cm4gcy5yYW5nZTsgfSk7IH0pOyB9LFxuICAgICAgICBmaW5kRG9jdW1lbnRDb2xvcnM6IGpzb25Eb2N1bWVudFN5bWJvbHMuZmluZERvY3VtZW50Q29sb3JzLmJpbmQoanNvbkRvY3VtZW50U3ltYm9scyksXG4gICAgICAgIGdldENvbG9yUHJlc2VudGF0aW9uczoganNvbkRvY3VtZW50U3ltYm9scy5nZXRDb2xvclByZXNlbnRhdGlvbnMuYmluZChqc29uRG9jdW1lbnRTeW1ib2xzKSxcbiAgICAgICAgZG9Ib3ZlcjoganNvbkhvdmVyLmRvSG92ZXIuYmluZChqc29uSG92ZXIpLFxuICAgICAgICBmb3JtYXQ6IGZ1bmN0aW9uIChkLCByLCBvKSB7XG4gICAgICAgICAgICB2YXIgcmFuZ2UgPSB2b2lkIDA7XG4gICAgICAgICAgICBpZiAocikge1xuICAgICAgICAgICAgICAgIHZhciBvZmZzZXQgPSBkLm9mZnNldEF0KHIuc3RhcnQpO1xuICAgICAgICAgICAgICAgIHZhciBsZW5ndGggPSBkLm9mZnNldEF0KHIuZW5kKSAtIG9mZnNldDtcbiAgICAgICAgICAgICAgICByYW5nZSA9IHsgb2Zmc2V0OiBvZmZzZXQsIGxlbmd0aDogbGVuZ3RoIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgb3B0aW9ucyA9IHsgdGFiU2l6ZTogbyA/IG8udGFiU2l6ZSA6IDQsIGluc2VydFNwYWNlczogbyA/IG8uaW5zZXJ0U3BhY2VzIDogdHJ1ZSwgZW9sOiAnXFxuJyB9O1xuICAgICAgICAgICAgcmV0dXJuIGZvcm1hdEpTT04oZC5nZXRUZXh0KCksIHJhbmdlLCBvcHRpb25zKS5tYXAoZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gVGV4dEVkaXQucmVwbGFjZShSYW5nZS5jcmVhdGUoZC5wb3NpdGlvbkF0KGUub2Zmc2V0KSwgZC5wb3NpdGlvbkF0KGUub2Zmc2V0ICsgZS5sZW5ndGgpKSwgZS5jb250ZW50KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWpzb25MYW5ndWFnZVNlcnZpY2UuanMubWFwIiwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG4ndXNlIHN0cmljdCc7XG52YXIgUHJvbWlzZSA9IG1vbmFjby5Qcm9taXNlO1xuaW1wb3J0ICogYXMganNvblNlcnZpY2UgZnJvbSAnLi9fZGVwcy92c2NvZGUtanNvbi1sYW5ndWFnZXNlcnZpY2UvanNvbkxhbmd1YWdlU2VydmljZS5qcyc7XG5pbXBvcnQgKiBhcyBscyBmcm9tICcuL19kZXBzL3ZzY29kZS1sYW5ndWFnZXNlcnZlci10eXBlcy9tYWluLmpzJztcbnZhciBQcm9taXNlQWRhcHRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBQcm9taXNlQWRhcHRlcihleGVjdXRvcikge1xuICAgICAgICB0aGlzLndyYXBwZWQgPSBuZXcgbW9uYWNvLlByb21pc2UoZXhlY3V0b3IpO1xuICAgIH1cbiAgICBQcm9taXNlQWRhcHRlci5wcm90b3R5cGUudGhlbiA9IGZ1bmN0aW9uIChvbmZ1bGZpbGxlZCwgb25yZWplY3RlZCkge1xuICAgICAgICB2YXIgdGhlbmFibGUgPSB0aGlzLndyYXBwZWQ7XG4gICAgICAgIHJldHVybiB0aGVuYWJsZS50aGVuKG9uZnVsZmlsbGVkLCBvbnJlamVjdGVkKTtcbiAgICB9O1xuICAgIFByb21pc2VBZGFwdGVyLnByb3RvdHlwZS5nZXRXcmFwcGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy53cmFwcGVkO1xuICAgIH07XG4gICAgUHJvbWlzZUFkYXB0ZXIucHJvdG90eXBlLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy53cmFwcGVkLmNhbmNlbCgpO1xuICAgIH07XG4gICAgUHJvbWlzZUFkYXB0ZXIucmVzb2x2ZSA9IGZ1bmN0aW9uICh2KSB7XG4gICAgICAgIHJldHVybiBtb25hY28uUHJvbWlzZS5hcyh2KTtcbiAgICB9O1xuICAgIFByb21pc2VBZGFwdGVyLnJlamVjdCA9IGZ1bmN0aW9uICh2KSB7XG4gICAgICAgIHJldHVybiBtb25hY28uUHJvbWlzZS53cmFwRXJyb3Iodik7XG4gICAgfTtcbiAgICBQcm9taXNlQWRhcHRlci5hbGwgPSBmdW5jdGlvbiAodmFsdWVzKSB7XG4gICAgICAgIHJldHVybiBtb25hY28uUHJvbWlzZS5qb2luKHZhbHVlcyk7XG4gICAgfTtcbiAgICByZXR1cm4gUHJvbWlzZUFkYXB0ZXI7XG59KCkpO1xudmFyIEpTT05Xb3JrZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gSlNPTldvcmtlcihjdHgsIGNyZWF0ZURhdGEpIHtcbiAgICAgICAgdGhpcy5fY3R4ID0gY3R4O1xuICAgICAgICB0aGlzLl9sYW5ndWFnZVNldHRpbmdzID0gY3JlYXRlRGF0YS5sYW5ndWFnZVNldHRpbmdzO1xuICAgICAgICB0aGlzLl9sYW5ndWFnZUlkID0gY3JlYXRlRGF0YS5sYW5ndWFnZUlkO1xuICAgICAgICB0aGlzLl9sYW5ndWFnZVNlcnZpY2UgPSBqc29uU2VydmljZS5nZXRMYW5ndWFnZVNlcnZpY2UoeyBwcm9taXNlQ29uc3RydWN0b3I6IFByb21pc2VBZGFwdGVyIH0pO1xuICAgICAgICB0aGlzLl9sYW5ndWFnZVNlcnZpY2UuY29uZmlndXJlKHRoaXMuX2xhbmd1YWdlU2V0dGluZ3MpO1xuICAgIH1cbiAgICBKU09OV29ya2VyLnByb3RvdHlwZS5kb1ZhbGlkYXRpb24gPSBmdW5jdGlvbiAodXJpKSB7XG4gICAgICAgIHZhciBkb2N1bWVudCA9IHRoaXMuX2dldFRleHREb2N1bWVudCh1cmkpO1xuICAgICAgICBpZiAoZG9jdW1lbnQpIHtcbiAgICAgICAgICAgIHZhciBqc29uRG9jdW1lbnQgPSB0aGlzLl9sYW5ndWFnZVNlcnZpY2UucGFyc2VKU09ORG9jdW1lbnQoZG9jdW1lbnQpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xhbmd1YWdlU2VydmljZS5kb1ZhbGlkYXRpb24oZG9jdW1lbnQsIGpzb25Eb2N1bWVudCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFByb21pc2UuYXMoW10pO1xuICAgIH07XG4gICAgSlNPTldvcmtlci5wcm90b3R5cGUuZG9Db21wbGV0ZSA9IGZ1bmN0aW9uICh1cmksIHBvc2l0aW9uKSB7XG4gICAgICAgIHZhciBkb2N1bWVudCA9IHRoaXMuX2dldFRleHREb2N1bWVudCh1cmkpO1xuICAgICAgICB2YXIganNvbkRvY3VtZW50ID0gdGhpcy5fbGFuZ3VhZ2VTZXJ2aWNlLnBhcnNlSlNPTkRvY3VtZW50KGRvY3VtZW50KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xhbmd1YWdlU2VydmljZS5kb0NvbXBsZXRlKGRvY3VtZW50LCBwb3NpdGlvbiwganNvbkRvY3VtZW50KTtcbiAgICB9O1xuICAgIEpTT05Xb3JrZXIucHJvdG90eXBlLmRvUmVzb2x2ZSA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9sYW5ndWFnZVNlcnZpY2UuZG9SZXNvbHZlKGl0ZW0pO1xuICAgIH07XG4gICAgSlNPTldvcmtlci5wcm90b3R5cGUuZG9Ib3ZlciA9IGZ1bmN0aW9uICh1cmksIHBvc2l0aW9uKSB7XG4gICAgICAgIHZhciBkb2N1bWVudCA9IHRoaXMuX2dldFRleHREb2N1bWVudCh1cmkpO1xuICAgICAgICB2YXIganNvbkRvY3VtZW50ID0gdGhpcy5fbGFuZ3VhZ2VTZXJ2aWNlLnBhcnNlSlNPTkRvY3VtZW50KGRvY3VtZW50KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xhbmd1YWdlU2VydmljZS5kb0hvdmVyKGRvY3VtZW50LCBwb3NpdGlvbiwganNvbkRvY3VtZW50KTtcbiAgICB9O1xuICAgIEpTT05Xb3JrZXIucHJvdG90eXBlLmZvcm1hdCA9IGZ1bmN0aW9uICh1cmksIHJhbmdlLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBkb2N1bWVudCA9IHRoaXMuX2dldFRleHREb2N1bWVudCh1cmkpO1xuICAgICAgICB2YXIgdGV4dEVkaXRzID0gdGhpcy5fbGFuZ3VhZ2VTZXJ2aWNlLmZvcm1hdChkb2N1bWVudCwgcmFuZ2UsIG9wdGlvbnMpO1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5hcyh0ZXh0RWRpdHMpO1xuICAgIH07XG4gICAgSlNPTldvcmtlci5wcm90b3R5cGUucmVzZXRTY2hlbWEgPSBmdW5jdGlvbiAodXJpKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLmFzKHRoaXMuX2xhbmd1YWdlU2VydmljZS5yZXNldFNjaGVtYSh1cmkpKTtcbiAgICB9O1xuICAgIEpTT05Xb3JrZXIucHJvdG90eXBlLmZpbmREb2N1bWVudFN5bWJvbHMgPSBmdW5jdGlvbiAodXJpKSB7XG4gICAgICAgIHZhciBkb2N1bWVudCA9IHRoaXMuX2dldFRleHREb2N1bWVudCh1cmkpO1xuICAgICAgICB2YXIganNvbkRvY3VtZW50ID0gdGhpcy5fbGFuZ3VhZ2VTZXJ2aWNlLnBhcnNlSlNPTkRvY3VtZW50KGRvY3VtZW50KTtcbiAgICAgICAgdmFyIHN5bWJvbHMgPSB0aGlzLl9sYW5ndWFnZVNlcnZpY2UuZmluZERvY3VtZW50U3ltYm9scyhkb2N1bWVudCwganNvbkRvY3VtZW50KTtcbiAgICAgICAgcmV0dXJuIFByb21pc2UuYXMoc3ltYm9scyk7XG4gICAgfTtcbiAgICBKU09OV29ya2VyLnByb3RvdHlwZS5maW5kRG9jdW1lbnRDb2xvcnMgPSBmdW5jdGlvbiAodXJpKSB7XG4gICAgICAgIHZhciBkb2N1bWVudCA9IHRoaXMuX2dldFRleHREb2N1bWVudCh1cmkpO1xuICAgICAgICB2YXIgc3R5bGVzaGVldCA9IHRoaXMuX2xhbmd1YWdlU2VydmljZS5wYXJzZUpTT05Eb2N1bWVudChkb2N1bWVudCk7XG4gICAgICAgIHZhciBjb2xvclN5bWJvbHMgPSB0aGlzLl9sYW5ndWFnZVNlcnZpY2UuZmluZERvY3VtZW50Q29sb3JzKGRvY3VtZW50LCBzdHlsZXNoZWV0KTtcbiAgICAgICAgcmV0dXJuIFByb21pc2UuYXMoY29sb3JTeW1ib2xzKTtcbiAgICB9O1xuICAgIEpTT05Xb3JrZXIucHJvdG90eXBlLmdldENvbG9yUHJlc2VudGF0aW9ucyA9IGZ1bmN0aW9uICh1cmksIGNvbG9yLCByYW5nZSkge1xuICAgICAgICB2YXIgZG9jdW1lbnQgPSB0aGlzLl9nZXRUZXh0RG9jdW1lbnQodXJpKTtcbiAgICAgICAgdmFyIHN0eWxlc2hlZXQgPSB0aGlzLl9sYW5ndWFnZVNlcnZpY2UucGFyc2VKU09ORG9jdW1lbnQoZG9jdW1lbnQpO1xuICAgICAgICB2YXIgY29sb3JQcmVzZW50YXRpb25zID0gdGhpcy5fbGFuZ3VhZ2VTZXJ2aWNlLmdldENvbG9yUHJlc2VudGF0aW9ucyhkb2N1bWVudCwgc3R5bGVzaGVldCwgY29sb3IsIHJhbmdlKTtcbiAgICAgICAgcmV0dXJuIFByb21pc2UuYXMoY29sb3JQcmVzZW50YXRpb25zKTtcbiAgICB9O1xuICAgIEpTT05Xb3JrZXIucHJvdG90eXBlLl9nZXRUZXh0RG9jdW1lbnQgPSBmdW5jdGlvbiAodXJpKSB7XG4gICAgICAgIHZhciBtb2RlbHMgPSB0aGlzLl9jdHguZ2V0TWlycm9yTW9kZWxzKCk7XG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgbW9kZWxzXzEgPSBtb2RlbHM7IF9pIDwgbW9kZWxzXzEubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICB2YXIgbW9kZWwgPSBtb2RlbHNfMVtfaV07XG4gICAgICAgICAgICBpZiAobW9kZWwudXJpLnRvU3RyaW5nKCkgPT09IHVyaSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBscy5UZXh0RG9jdW1lbnQuY3JlYXRlKHVyaSwgdGhpcy5fbGFuZ3VhZ2VJZCwgbW9kZWwudmVyc2lvbiwgbW9kZWwuZ2V0VmFsdWUoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICByZXR1cm4gSlNPTldvcmtlcjtcbn0oKSk7XG5leHBvcnQgeyBKU09OV29ya2VyIH07XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlKGN0eCwgY3JlYXRlRGF0YSkge1xuICAgIHJldHVybiBuZXcgSlNPTldvcmtlcihjdHgsIGNyZWF0ZURhdGEpO1xufVxuIiwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG4ndXNlIHN0cmljdCc7XG5pbXBvcnQgKiBhcyB3b3JrZXIgZnJvbSAnLi4vLi4vZWRpdG9yL2VkaXRvci53b3JrZXIuanMnO1xuaW1wb3J0IHsgSlNPTldvcmtlciB9IGZyb20gJy4vanNvbldvcmtlci5qcyc7XG5zZWxmLm9ubWVzc2FnZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAvLyBpZ25vcmUgdGhlIGZpcnN0IG1lc3NhZ2VcbiAgICB3b3JrZXIuaW5pdGlhbGl6ZShmdW5jdGlvbiAoY3R4LCBjcmVhdGVEYXRhKSB7XG4gICAgICAgIHJldHVybiBuZXcgSlNPTldvcmtlcihjdHgsIGNyZWF0ZURhdGEpO1xuICAgIH0pO1xufTtcbiIsImZ1bmN0aW9uIHdlYnBhY2tFbXB0eUNvbnRleHQocmVxKSB7XG5cdHZhciBlID0gbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIiArIHJlcSArIFwiJ1wiKTtcblx0ZS5jb2RlID0gJ01PRFVMRV9OT1RfRk9VTkQnO1xuXHR0aHJvdyBlO1xufVxud2VicGFja0VtcHR5Q29udGV4dC5rZXlzID0gZnVuY3Rpb24oKSB7IHJldHVybiBbXTsgfTtcbndlYnBhY2tFbXB0eUNvbnRleHQucmVzb2x2ZSA9IHdlYnBhY2tFbXB0eUNvbnRleHQ7XG5tb2R1bGUuZXhwb3J0cyA9IHdlYnBhY2tFbXB0eUNvbnRleHQ7XG53ZWJwYWNrRW1wdHlDb250ZXh0LmlkID0gNjsiXSwic291cmNlUm9vdCI6IiJ9