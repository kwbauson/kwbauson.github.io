(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{503:function(n,t,e){"use strict";var r,i,u,o,a,c,s,f;e.d(t,"h",function(){return r}),e.d(t,"i",function(){return i}),e.d(t,"e",function(){return u}),e.d(t,"b",function(){return o}),e.d(t,"l",function(){return s}),e.d(t,"g",function(){return h}),e.d(t,"a",function(){return p}),e.d(t,"d",function(){return v}),e.d(t,"f",function(){return y}),e.d(t,"c",function(){return E}),e.d(t,"j",function(){return O}),e.d(t,"k",function(){return P}),function(n){n.create=function(n,t){return{line:n,character:t}},n.is=function(n){var t=n;return S.defined(t)&&S.number(t.line)&&S.number(t.character)}}(r||(r={})),function(n){n.create=function(n,t,e,i){if(S.number(n)&&S.number(t)&&S.number(e)&&S.number(i))return{start:r.create(n,t),end:r.create(e,i)};if(r.is(n)&&r.is(t))return{start:n,end:t};throw new Error("Range#create called with invalid arguments["+n+", "+t+", "+e+", "+i+"]")},n.is=function(n){var t=n;return S.defined(t)&&r.is(t.start)&&r.is(t.end)}}(i||(i={})),function(n){n.create=function(n,t){return{uri:n,range:t}},n.is=function(n){var t=n;return S.defined(t)&&i.is(t.range)&&(S.string(t.uri)||S.undefined(t.uri))}}(u||(u={})),function(n){n.Error=1,n.Warning=2,n.Information=3,n.Hint=4}(o||(o={})),function(n){n.create=function(n,t,e,r,i){var u={range:n,message:t};return S.defined(e)&&(u.severity=e),S.defined(r)&&(u.code=r),S.defined(i)&&(u.source=i),u},n.is=function(n){var t=n;return S.defined(t)&&i.is(t.range)&&S.string(t.message)&&(S.number(t.severity)||S.undefined(t.severity))&&(S.number(t.code)||S.string(t.code)||S.undefined(t.code))&&(S.string(t.source)||S.undefined(t.source))}}(a||(a={})),function(n){n.create=function(n,t){for(var e=[],r=2;r<arguments.length;r++)e[r-2]=arguments[r];var i={title:n,command:t};return S.defined(e)&&e.length>0&&(i.arguments=e),i},n.is=function(n){var t=n;return S.defined(t)&&S.string(t.title)&&S.string(t.title)}}(c||(c={})),function(n){n.replace=function(n,t){return{range:n,newText:t}},n.insert=function(n,t){return{range:{start:n,end:n},newText:t}},n.del=function(n){return{range:n,newText:""}}}(s||(s={})),function(n){n.create=function(n,t){return{textDocument:n,edits:t}},n.is=function(n){var t=n;return S.defined(t)&&g.is(t.textDocument)&&Array.isArray(t.edits)}}(f||(f={}));var d,g,l,h,p,v,m,b,y,_,w,E,x,O,C,k,A,T,j=function(){function n(n){this.edits=n}return n.prototype.insert=function(n,t){this.edits.push(s.insert(n,t))},n.prototype.replace=function(n,t){this.edits.push(s.replace(n,t))},n.prototype.delete=function(n){this.edits.push(s.del(n))},n.prototype.add=function(n){this.edits.push(n)},n.prototype.all=function(){return this.edits},n.prototype.clear=function(){this.edits.splice(0,this.edits.length)},n}();!function(){function n(n){var t=this;this._textEditChanges=Object.create(null),n&&(this._workspaceEdit=n,n.documentChanges?n.documentChanges.forEach(function(n){var e=new j(n.edits);t._textEditChanges[n.textDocument.uri]=e}):n.changes&&Object.keys(n.changes).forEach(function(e){var r=new j(n.changes[e]);t._textEditChanges[e]=r}))}Object.defineProperty(n.prototype,"edit",{get:function(){return this._workspaceEdit},enumerable:!0,configurable:!0}),n.prototype.getTextEditChange=function(n){if(g.is(n)){if(this._workspaceEdit||(this._workspaceEdit={documentChanges:[]}),!this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for versioned document changes.");var t=n;if(!(r=this._textEditChanges[t.uri])){var e={textDocument:t,edits:i=[]};this._workspaceEdit.documentChanges.push(e),r=new j(i),this._textEditChanges[t.uri]=r}return r}if(this._workspaceEdit||(this._workspaceEdit={changes:Object.create(null)}),!this._workspaceEdit.changes)throw new Error("Workspace edit is not configured for normal text edit changes.");var r;if(!(r=this._textEditChanges[n])){var i=[];this._workspaceEdit.changes[n]=i,r=new j(i),this._textEditChanges[n]=r}return r}}();!function(n){n.create=function(n){return{uri:n}},n.is=function(n){var t=n;return S.defined(t)&&S.string(t.uri)}}(d||(d={})),function(n){n.create=function(n,t){return{uri:n,version:t}},n.is=function(n){var t=n;return S.defined(t)&&S.string(t.uri)&&S.number(t.version)}}(g||(g={})),function(n){n.create=function(n,t,e,r){return{uri:n,languageId:t,version:e,text:r}},n.is=function(n){var t=n;return S.defined(t)&&S.string(t.uri)&&S.string(t.languageId)&&S.number(t.version)&&S.string(t.text)}}(l||(l={})),function(n){n.PlainText="plaintext",n.Markdown="markdown"}(h||(h={})),function(n){n.Text=1,n.Method=2,n.Function=3,n.Constructor=4,n.Field=5,n.Variable=6,n.Class=7,n.Interface=8,n.Module=9,n.Property=10,n.Unit=11,n.Value=12,n.Enum=13,n.Keyword=14,n.Snippet=15,n.Color=16,n.File=17,n.Reference=18,n.Folder=19,n.EnumMember=20,n.Constant=21,n.Struct=22,n.Event=23,n.Operator=24,n.TypeParameter=25}(p||(p={})),function(n){n.PlainText=1,n.Snippet=2}(v||(v={})),function(n){n.create=function(n){return{label:n}}}(m||(m={})),function(n){n.create=function(n,t){return{items:n||[],isIncomplete:!!t}}}(b||(b={})),function(n){n.fromPlainText=function(n){return n.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}}(y||(y={})),function(n){n.create=function(n,t){return t?{label:n,documentation:t}:{label:n}}}(_||(_={})),function(n){n.create=function(n,t){for(var e=[],r=2;r<arguments.length;r++)e[r-2]=arguments[r];var i={label:n};return S.defined(t)&&(i.documentation=t),S.defined(e)?i.parameters=e:i.parameters=[],i}}(w||(w={})),function(n){n.Text=1,n.Read=2,n.Write=3}(E||(E={})),function(n){n.create=function(n,t){var e={range:n};return S.number(t)&&(e.kind=t),e}}(x||(x={})),function(n){n.File=1,n.Module=2,n.Namespace=3,n.Package=4,n.Class=5,n.Method=6,n.Property=7,n.Field=8,n.Constructor=9,n.Enum=10,n.Interface=11,n.Function=12,n.Variable=13,n.Constant=14,n.String=15,n.Number=16,n.Boolean=17,n.Array=18,n.Object=19,n.Key=20,n.Null=21,n.EnumMember=22,n.Struct=23,n.Event=24,n.Operator=25,n.TypeParameter=26}(O||(O={})),function(n){n.create=function(n,t,e,r,i){var u={name:n,kind:t,location:{uri:r,range:e}};return i&&(u.containerName=i),u}}(C||(C={})),function(n){n.create=function(n){return{diagnostics:n}},n.is=function(n){var t=n;return S.defined(t)&&S.typedArray(t.diagnostics,a.is)}}(k||(k={})),function(n){n.create=function(n,t){var e={range:n};return S.defined(t)&&(e.data=t),e},n.is=function(n){var t=n;return S.defined(t)&&i.is(t.range)&&(S.undefined(t.command)||c.is(t.command))}}(A||(A={})),function(n){n.create=function(n,t){return{tabSize:n,insertSpaces:t}},n.is=function(n){var t=n;return S.defined(t)&&S.number(t.tabSize)&&S.boolean(t.insertSpaces)}}(T||(T={}));var M=function(){return function(){}}();!function(n){n.create=function(n,t){return{range:n,target:t}},n.is=function(n){var t=n;return S.defined(t)&&i.is(t.range)&&(S.undefined(t.target)||S.string(t.target))}}(M||(M={}));var P,I;!function(n){n.create=function(n,t,e,r){return new F(n,t,e,r)},n.is=function(n){var t=n;return!!(S.defined(t)&&S.string(t.uri)&&(S.undefined(t.languageId)||S.string(t.languageId))&&S.number(t.lineCount)&&S.func(t.getText)&&S.func(t.positionAt)&&S.func(t.offsetAt))},n.applyEdits=function(n,t){for(var e=n.getText(),r=function n(t,e){if(t.length<=1)return t;var r=t.length/2|0,i=t.slice(0,r),u=t.slice(r);n(i,e),n(u,e);for(var o=0,a=0,c=0;o<i.length&&a<u.length;){var s=e(i[o],u[a]);t[c++]=s<=0?i[o++]:u[a++]}for(;o<i.length;)t[c++]=i[o++];for(;a<u.length;)t[c++]=u[a++];return t}(t,function(n,t){return 0==n.range.start.line-t.range.start.line?n.range.start.character-t.range.start.character:0}),i=e.length,u=r.length-1;u>=0;u--){var o=r[u],a=n.offsetAt(o.range.start),c=n.offsetAt(o.range.end);if(!(c<=i))throw new Error("Ovelapping edit");e=e.substring(0,a)+o.newText+e.substring(c,e.length),i=a}return e}}(P||(P={})),function(n){n.Manual=1,n.AfterDelay=2,n.FocusOut=3}(I||(I={}));var S,F=function(){function n(n,t,e,r){this._uri=n,this._languageId=t,this._version=e,this._content=r,this._lineOffsets=null}return Object.defineProperty(n.prototype,"uri",{get:function(){return this._uri},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"languageId",{get:function(){return this._languageId},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"version",{get:function(){return this._version},enumerable:!0,configurable:!0}),n.prototype.getText=function(n){if(n){var t=this.offsetAt(n.start),e=this.offsetAt(n.end);return this._content.substring(t,e)}return this._content},n.prototype.update=function(n,t){this._content=n.text,this._version=t,this._lineOffsets=null},n.prototype.getLineOffsets=function(){if(null===this._lineOffsets){for(var n=[],t=this._content,e=!0,r=0;r<t.length;r++){e&&(n.push(r),e=!1);var i=t.charAt(r);e="\r"===i||"\n"===i,"\r"===i&&r+1<t.length&&"\n"===t.charAt(r+1)&&r++}e&&t.length>0&&n.push(t.length),this._lineOffsets=n}return this._lineOffsets},n.prototype.positionAt=function(n){n=Math.max(Math.min(n,this._content.length),0);var t=this.getLineOffsets(),e=0,i=t.length;if(0===i)return r.create(0,n);for(;e<i;){var u=Math.floor((e+i)/2);t[u]>n?i=u:e=u+1}var o=e-1;return r.create(o,n-t[o])},n.prototype.offsetAt=function(n){var t=this.getLineOffsets();if(n.line>=t.length)return this._content.length;if(n.line<0)return 0;var e=t[n.line],r=n.line+1<t.length?t[n.line+1]:this._content.length;return Math.max(Math.min(e+n.character,r),e)},Object.defineProperty(n.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!0,configurable:!0}),n}();!function(n){var t=Object.prototype.toString;n.defined=function(n){return void 0!==n},n.undefined=function(n){return void 0===n},n.boolean=function(n){return!0===n||!1===n},n.string=function(n){return"[object String]"===t.call(n)},n.number=function(n){return"[object Number]"===t.call(n)},n.func=function(n){return"[object Function]"===t.call(n)},n.typedArray=function(n,t){return Array.isArray(n)&&n.every(t)}}(S||(S={}))}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvbGFuZ3VhZ2UvaHRtbC9fZGVwcy92c2NvZGUtbGFuZ3VhZ2VzZXJ2ZXItdHlwZXMvbWFpbi5qcyJdLCJuYW1lcyI6WyJQb3NpdGlvbiIsIlJhbmdlIiwiTG9jYXRpb24iLCJEaWFnbm9zdGljU2V2ZXJpdHkiLCJEaWFnbm9zdGljIiwiQ29tbWFuZCIsIlRleHRFZGl0IiwiVGV4dERvY3VtZW50RWRpdCIsImNyZWF0ZSIsImxpbmUiLCJjaGFyYWN0ZXIiLCJpcyIsInZhbHVlIiwiY2FuZGlkYXRlIiwiSXMiLCJkZWZpbmVkIiwibnVtYmVyIiwib25lIiwidHdvIiwidGhyZWUiLCJmb3VyIiwic3RhcnQiLCJlbmQiLCJFcnJvciIsInVyaSIsInJhbmdlIiwic3RyaW5nIiwidW5kZWZpbmVkIiwiV2FybmluZyIsIkluZm9ybWF0aW9uIiwiSGludCIsIm1lc3NhZ2UiLCJzZXZlcml0eSIsImNvZGUiLCJzb3VyY2UiLCJyZXN1bHQiLCJ0aXRsZSIsImNvbW1hbmQiLCJhcmdzIiwiX2kiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJyZXBsYWNlIiwibmV3VGV4dCIsImluc2VydCIsInBvc2l0aW9uIiwiZGVsIiwidGV4dERvY3VtZW50IiwiZWRpdHMiLCJWZXJzaW9uZWRUZXh0RG9jdW1lbnRJZGVudGlmaWVyIiwiQXJyYXkiLCJpc0FycmF5IiwiVGV4dERvY3VtZW50SWRlbnRpZmllciIsIlRleHREb2N1bWVudEl0ZW0iLCJNYXJrdXBLaW5kIiwiQ29tcGxldGlvbkl0ZW1LaW5kIiwiSW5zZXJ0VGV4dEZvcm1hdCIsIkNvbXBsZXRpb25JdGVtIiwiQ29tcGxldGlvbkxpc3QiLCJNYXJrZWRTdHJpbmciLCJQYXJhbWV0ZXJJbmZvcm1hdGlvbiIsIlNpZ25hdHVyZUluZm9ybWF0aW9uIiwiRG9jdW1lbnRIaWdobGlnaHRLaW5kIiwiRG9jdW1lbnRIaWdobGlnaHQiLCJTeW1ib2xLaW5kIiwiU3ltYm9sSW5mb3JtYXRpb24iLCJDb2RlQWN0aW9uQ29udGV4dCIsIkNvZGVMZW5zIiwiRm9ybWF0dGluZ09wdGlvbnMiLCJUZXh0RWRpdENoYW5nZUltcGwiLCJ0aGlzIiwicHJvdG90eXBlIiwicHVzaCIsImRlbGV0ZSIsImFkZCIsImVkaXQiLCJhbGwiLCJjbGVhciIsInNwbGljZSIsIldvcmtzcGFjZUNoYW5nZSIsIndvcmtzcGFjZUVkaXQiLCJfdGhpcyIsIl90ZXh0RWRpdENoYW5nZXMiLCJPYmplY3QiLCJfd29ya3NwYWNlRWRpdCIsImRvY3VtZW50Q2hhbmdlcyIsImZvckVhY2giLCJ0ZXh0RG9jdW1lbnRFZGl0IiwidGV4dEVkaXRDaGFuZ2UiLCJjaGFuZ2VzIiwia2V5cyIsImtleSIsImRlZmluZVByb3BlcnR5IiwiZ2V0IiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsImdldFRleHRFZGl0Q2hhbmdlIiwidmVyc2lvbiIsImxhbmd1YWdlSWQiLCJ0ZXh0IiwiUGxhaW5UZXh0IiwiTWFya2Rvd24iLCJUZXh0IiwiTWV0aG9kIiwiRnVuY3Rpb24iLCJDb25zdHJ1Y3RvciIsIkZpZWxkIiwiVmFyaWFibGUiLCJDbGFzcyIsIkludGVyZmFjZSIsIk1vZHVsZSIsIlByb3BlcnR5IiwiVW5pdCIsIlZhbHVlIiwiRW51bSIsIktleXdvcmQiLCJTbmlwcGV0IiwiQ29sb3IiLCJGaWxlIiwiUmVmZXJlbmNlIiwiRm9sZGVyIiwiRW51bU1lbWJlciIsIkNvbnN0YW50IiwiU3RydWN0IiwiRXZlbnQiLCJPcGVyYXRvciIsIlR5cGVQYXJhbWV0ZXIiLCJsYWJlbCIsIml0ZW1zIiwiaXNJbmNvbXBsZXRlIiwiZnJvbVBsYWluVGV4dCIsInBsYWluVGV4dCIsImRvY3VtZW50YXRpb24iLCJwYXJhbWV0ZXJzIiwiUmVhZCIsIldyaXRlIiwia2luZCIsIk5hbWVzcGFjZSIsIlBhY2thZ2UiLCJTdHJpbmciLCJOdW1iZXIiLCJCb29sZWFuIiwiS2V5IiwiTnVsbCIsIm5hbWUiLCJjb250YWluZXJOYW1lIiwibG9jYXRpb24iLCJkaWFnbm9zdGljcyIsInR5cGVkQXJyYXkiLCJkYXRhIiwidGFiU2l6ZSIsImluc2VydFNwYWNlcyIsImJvb2xlYW4iLCJEb2N1bWVudExpbmsiLCJ0YXJnZXQiLCJUZXh0RG9jdW1lbnQiLCJUZXh0RG9jdW1lbnRTYXZlUmVhc29uIiwiY29udGVudCIsIkZ1bGxUZXh0RG9jdW1lbnQiLCJsaW5lQ291bnQiLCJmdW5jIiwiZ2V0VGV4dCIsInBvc2l0aW9uQXQiLCJvZmZzZXRBdCIsImFwcGx5RWRpdHMiLCJkb2N1bWVudCIsInNvcnRlZEVkaXRzIiwibWVyZ2VTb3J0IiwiY29tcGFyZSIsInAiLCJsZWZ0Iiwic2xpY2UiLCJyaWdodCIsImxlZnRJZHgiLCJyaWdodElkeCIsImkiLCJyZXQiLCJhIiwiYiIsImxhc3RNb2RpZmllZE9mZnNldCIsImUiLCJzdGFydE9mZnNldCIsImVuZE9mZnNldCIsInN1YnN0cmluZyIsIk1hbnVhbCIsIkFmdGVyRGVsYXkiLCJGb2N1c091dCIsIl91cmkiLCJfbGFuZ3VhZ2VJZCIsIl92ZXJzaW9uIiwiX2NvbnRlbnQiLCJfbGluZU9mZnNldHMiLCJ1cGRhdGUiLCJldmVudCIsImdldExpbmVPZmZzZXRzIiwibGluZU9mZnNldHMiLCJpc0xpbmVTdGFydCIsImNoIiwiY2hhckF0Iiwib2Zmc2V0IiwiTWF0aCIsIm1heCIsIm1pbiIsImxvdyIsImhpZ2giLCJtaWQiLCJmbG9vciIsImxpbmVPZmZzZXQiLCJuZXh0TGluZU9mZnNldCIsInRvU3RyaW5nIiwiY2FsbCIsImNoZWNrIiwiZXZlcnkiXSwibWFwcGluZ3MiOiIwRkFTQSxJQUFBQSxFQXdCQUMsRUEyQkFDLEVBdUJBQyxFQXVCQUMsRUFxQ0FDLEVBOEJBQyxFQWlDQUMsa1lBcE1BLFNBQUFQLEdBU0FBLEVBQUFRLE9BSEEsU0FBQUMsRUFBQUMsR0FDQSxPQUFnQkQsT0FBQUMsY0FVaEJWLEVBQUFXLEdBSkEsU0FBQUMsR0FDQSxJQUFBQyxFQUFBRCxFQUNBLE9BQUFFLEVBQUFDLFFB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QyxLQUFBdE0sSUFNQUUsRUFBQUUsT0FIQSxTQUFBSixHQUNBLDBCQUFBcU0sRUFBQUMsS0FBQXRNLElBTUFFLEVBQUFrSixLQUhBLFNBQUFwSixHQUNBLDRCQUFBcU0sRUFBQUMsS0FBQXRNLElBTUFFLEVBQUFzSSxXQUhBLFNBQUF4SSxFQUFBdU0sR0FDQSxPQUFBakssTUFBQUMsUUFBQXZDLE1BQUF3TSxNQUFBRCxJQTNCQSxDQThCQ3JNIiwiZmlsZSI6IjAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG4ndXNlIHN0cmljdCc7XG4vKipcbiAqIFRoZSBQb3NpdGlvbiBuYW1lc3BhY2UgcHJvdmlkZXMgaGVscGVyIGZ1bmN0aW9ucyB0byB3b3JrIHdpdGhcbiAqIFtQb3NpdGlvbl0oI1Bvc2l0aW9uKSBsaXRlcmFscy5cbiAqL1xuZXhwb3J0IHZhciBQb3NpdGlvbjtcbihmdW5jdGlvbiAoUG9zaXRpb24pIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IFBvc2l0aW9uIGxpdGVyYWwgZnJvbSB0aGUgZ2l2ZW4gbGluZSBhbmQgY2hhcmFjdGVyLlxuICAgICAqIEBwYXJhbSBsaW5lIFRoZSBwb3NpdGlvbidzIGxpbmUuXG4gICAgICogQHBhcmFtIGNoYXJhY3RlciBUaGUgcG9zaXRpb24ncyBjaGFyYWN0ZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlKGxpbmUsIGNoYXJhY3Rlcikge1xuICAgICAgICByZXR1cm4geyBsaW5lOiBsaW5lLCBjaGFyYWN0ZXI6IGNoYXJhY3RlciB9O1xuICAgIH1cbiAgICBQb3NpdGlvbi5jcmVhdGUgPSBjcmVhdGU7XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHdoZXRoZXIgdGhlIGdpdmVuIGxpdGVybmFsIGNvbmZvcm1zIHRvIHRoZSBbUG9zaXRpb25dKCNQb3NpdGlvbikgaW50ZXJmYWNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzKHZhbHVlKSB7XG4gICAgICAgIHZhciBjYW5kaWRhdGUgPSB2YWx1ZTtcbiAgICAgICAgcmV0dXJuIElzLmRlZmluZWQoY2FuZGlkYXRlKSAmJiBJcy5udW1iZXIoY2FuZGlkYXRlLmxpbmUpICYmIElzLm51bWJlcihjYW5kaWRhdGUuY2hhcmFjdGVyKTtcbiAgICB9XG4gICAgUG9zaXRpb24uaXMgPSBpcztcbn0pKFBvc2l0aW9uIHx8IChQb3NpdGlvbiA9IHt9KSk7XG4vKipcbiAqIFRoZSBSYW5nZSBuYW1lc3BhY2UgcHJvdmlkZXMgaGVscGVyIGZ1bmN0aW9ucyB0byB3b3JrIHdpdGhcbiAqIFtSYW5nZV0oI1JhbmdlKSBsaXRlcmFscy5cbiAqL1xuZXhwb3J0IHZhciBSYW5nZTtcbihmdW5jdGlvbiAoUmFuZ2UpIHtcbiAgICBmdW5jdGlvbiBjcmVhdGUob25lLCB0d28sIHRocmVlLCBmb3VyKSB7XG4gICAgICAgIGlmIChJcy5udW1iZXIob25lKSAmJiBJcy5udW1iZXIodHdvKSAmJiBJcy5udW1iZXIodGhyZWUpICYmIElzLm51bWJlcihmb3VyKSkge1xuICAgICAgICAgICAgcmV0dXJuIHsgc3RhcnQ6IFBvc2l0aW9uLmNyZWF0ZShvbmUsIHR3byksIGVuZDogUG9zaXRpb24uY3JlYXRlKHRocmVlLCBmb3VyKSB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKFBvc2l0aW9uLmlzKG9uZSkgJiYgUG9zaXRpb24uaXModHdvKSkge1xuICAgICAgICAgICAgcmV0dXJuIHsgc3RhcnQ6IG9uZSwgZW5kOiB0d28gfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlJhbmdlI2NyZWF0ZSBjYWxsZWQgd2l0aCBpbnZhbGlkIGFyZ3VtZW50c1tcIiArIG9uZSArIFwiLCBcIiArIHR3byArIFwiLCBcIiArIHRocmVlICsgXCIsIFwiICsgZm91ciArIFwiXVwiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBSYW5nZS5jcmVhdGUgPSBjcmVhdGU7XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHdoZXRoZXIgdGhlIGdpdmVuIGxpdGVyYWwgY29uZm9ybXMgdG8gdGhlIFtSYW5nZV0oI1JhbmdlKSBpbnRlcmZhY2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXModmFsdWUpIHtcbiAgICAgICAgdmFyIGNhbmRpZGF0ZSA9IHZhbHVlO1xuICAgICAgICByZXR1cm4gSXMuZGVmaW5lZChjYW5kaWRhdGUpICYmIFBvc2l0aW9uLmlzKGNhbmRpZGF0ZS5zdGFydCkgJiYgUG9zaXRpb24uaXMoY2FuZGlkYXRlLmVuZCk7XG4gICAgfVxuICAgIFJhbmdlLmlzID0gaXM7XG59KShSYW5nZSB8fCAoUmFuZ2UgPSB7fSkpO1xuLyoqXG4gKiBUaGUgTG9jYXRpb24gbmFtZXNwYWNlIHByb3ZpZGVzIGhlbHBlciBmdW5jdGlvbnMgdG8gd29yayB3aXRoXG4gKiBbTG9jYXRpb25dKCNMb2NhdGlvbikgbGl0ZXJhbHMuXG4gKi9cbmV4cG9ydCB2YXIgTG9jYXRpb247XG4oZnVuY3Rpb24gKExvY2F0aW9uKSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIExvY2F0aW9uIGxpdGVyYWwuXG4gICAgICogQHBhcmFtIHVyaSBUaGUgbG9jYXRpb24ncyB1cmkuXG4gICAgICogQHBhcmFtIHJhbmdlIFRoZSBsb2NhdGlvbidzIHJhbmdlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZSh1cmksIHJhbmdlKSB7XG4gICAgICAgIHJldHVybiB7IHVyaTogdXJpLCByYW5nZTogcmFuZ2UgfTtcbiAgICB9XG4gICAgTG9jYXRpb24uY3JlYXRlID0gY3JlYXRlO1xuICAgIC8qKlxuICAgICAqIENoZWNrcyB3aGV0aGVyIHRoZSBnaXZlbiBsaXRlcmFsIGNvbmZvcm1zIHRvIHRoZSBbTG9jYXRpb25dKCNMb2NhdGlvbikgaW50ZXJmYWNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzKHZhbHVlKSB7XG4gICAgICAgIHZhciBjYW5kaWRhdGUgPSB2YWx1ZTtcbiAgICAgICAgcmV0dXJuIElzLmRlZmluZWQoY2FuZGlkYXRlKSAmJiBSYW5nZS5pcyhjYW5kaWRhdGUucmFuZ2UpICYmIChJcy5zdHJpbmcoY2FuZGlkYXRlLnVyaSkgfHwgSXMudW5kZWZpbmVkKGNhbmRpZGF0ZS51cmkpKTtcbiAgICB9XG4gICAgTG9jYXRpb24uaXMgPSBpcztcbn0pKExvY2F0aW9uIHx8IChMb2NhdGlvbiA9IHt9KSk7XG4vKipcbiAqIFRoZSBkaWFnbm9zdGljJ3Mgc2VydmVyaXR5LlxuICovXG5leHBvcnQgdmFyIERpYWdub3N0aWNTZXZlcml0eTtcbihmdW5jdGlvbiAoRGlhZ25vc3RpY1NldmVyaXR5KSB7XG4gICAgLyoqXG4gICAgICogUmVwb3J0cyBhbiBlcnJvci5cbiAgICAgKi9cbiAgICBEaWFnbm9zdGljU2V2ZXJpdHkuRXJyb3IgPSAxO1xuICAgIC8qKlxuICAgICAqIFJlcG9ydHMgYSB3YXJuaW5nLlxuICAgICAqL1xuICAgIERpYWdub3N0aWNTZXZlcml0eS5XYXJuaW5nID0gMjtcbiAgICAvKipcbiAgICAgKiBSZXBvcnRzIGFuIGluZm9ybWF0aW9uLlxuICAgICAqL1xuICAgIERpYWdub3N0aWNTZXZlcml0eS5JbmZvcm1hdGlvbiA9IDM7XG4gICAgLyoqXG4gICAgICogUmVwb3J0cyBhIGhpbnQuXG4gICAgICovXG4gICAgRGlhZ25vc3RpY1NldmVyaXR5LkhpbnQgPSA0O1xufSkoRGlhZ25vc3RpY1NldmVyaXR5IHx8IChEaWFnbm9zdGljU2V2ZXJpdHkgPSB7fSkpO1xuLyoqXG4gKiBUaGUgRGlhZ25vc3RpYyBuYW1lc3BhY2UgcHJvdmlkZXMgaGVscGVyIGZ1bmN0aW9ucyB0byB3b3JrIHdpdGhcbiAqIFtEaWFnbm9zdGljXSgjRGlhZ25vc3RpYykgbGl0ZXJhbHMuXG4gKi9cbmV4cG9ydCB2YXIgRGlhZ25vc3RpYztcbihmdW5jdGlvbiAoRGlhZ25vc3RpYykge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgRGlhZ25vc3RpYyBsaXRlcmFsLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZShyYW5nZSwgbWVzc2FnZSwgc2V2ZXJpdHksIGNvZGUsIHNvdXJjZSkge1xuICAgICAgICB2YXIgcmVzdWx0ID0geyByYW5nZTogcmFuZ2UsIG1lc3NhZ2U6IG1lc3NhZ2UgfTtcbiAgICAgICAgaWYgKElzLmRlZmluZWQoc2V2ZXJpdHkpKSB7XG4gICAgICAgICAgICByZXN1bHQuc2V2ZXJpdHkgPSBzZXZlcml0eTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoSXMuZGVmaW5lZChjb2RlKSkge1xuICAgICAgICAgICAgcmVzdWx0LmNvZGUgPSBjb2RlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChJcy5kZWZpbmVkKHNvdXJjZSkpIHtcbiAgICAgICAgICAgIHJlc3VsdC5zb3VyY2UgPSBzb3VyY2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgRGlhZ25vc3RpYy5jcmVhdGUgPSBjcmVhdGU7XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHdoZXRoZXIgdGhlIGdpdmVuIGxpdGVyYWwgY29uZm9ybXMgdG8gdGhlIFtEaWFnbm9zdGljXSgjRGlhZ25vc3RpYykgaW50ZXJmYWNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzKHZhbHVlKSB7XG4gICAgICAgIHZhciBjYW5kaWRhdGUgPSB2YWx1ZTtcbiAgICAgICAgcmV0dXJuIElzLmRlZmluZWQoY2FuZGlkYXRlKVxuICAgICAgICAgICAgJiYgUmFuZ2UuaXMoY2FuZGlkYXRlLnJhbmdlKVxuICAgICAgICAgICAgJiYgSXMuc3RyaW5nKGNhbmRpZGF0ZS5tZXNzYWdlKVxuICAgICAgICAgICAgJiYgKElzLm51bWJlcihjYW5kaWRhdGUuc2V2ZXJpdHkpIHx8IElzLnVuZGVmaW5lZChjYW5kaWRhdGUuc2V2ZXJpdHkpKVxuICAgICAgICAgICAgJiYgKElzLm51bWJlcihjYW5kaWRhdGUuY29kZSkgfHwgSXMuc3RyaW5nKGNhbmRpZGF0ZS5jb2RlKSB8fCBJcy51bmRlZmluZWQoY2FuZGlkYXRlLmNvZGUpKVxuICAgICAgICAgICAgJiYgKElzLnN0cmluZyhjYW5kaWRhdGUuc291cmNlKSB8fCBJcy51bmRlZmluZWQoY2FuZGlkYXRlLnNvdXJjZSkpO1xuICAgIH1cbiAgICBEaWFnbm9zdGljLmlzID0gaXM7XG59KShEaWFnbm9zdGljIHx8IChEaWFnbm9zdGljID0ge30pKTtcbi8qKlxuICogVGhlIENvbW1hbmQgbmFtZXNwYWNlIHByb3ZpZGVzIGhlbHBlciBmdW5jdGlvbnMgdG8gd29yayB3aXRoXG4gKiBbQ29tbWFuZF0oI0NvbW1hbmQpIGxpdGVyYWxzLlxuICovXG5leHBvcnQgdmFyIENvbW1hbmQ7XG4oZnVuY3Rpb24gKENvbW1hbmQpIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IENvbW1hbmQgbGl0ZXJhbC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGUodGl0bGUsIGNvbW1hbmQpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAyOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2kgLSAyXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlc3VsdCA9IHsgdGl0bGU6IHRpdGxlLCBjb21tYW5kOiBjb21tYW5kIH07XG4gICAgICAgIGlmIChJcy5kZWZpbmVkKGFyZ3MpICYmIGFyZ3MubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcmVzdWx0LmFyZ3VtZW50cyA9IGFyZ3M7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgQ29tbWFuZC5jcmVhdGUgPSBjcmVhdGU7XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHdoZXRoZXIgdGhlIGdpdmVuIGxpdGVyYWwgY29uZm9ybXMgdG8gdGhlIFtDb21tYW5kXSgjQ29tbWFuZCkgaW50ZXJmYWNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzKHZhbHVlKSB7XG4gICAgICAgIHZhciBjYW5kaWRhdGUgPSB2YWx1ZTtcbiAgICAgICAgcmV0dXJuIElzLmRlZmluZWQoY2FuZGlkYXRlKSAmJiBJcy5zdHJpbmcoY2FuZGlkYXRlLnRpdGxlKSAmJiBJcy5zdHJpbmcoY2FuZGlkYXRlLnRpdGxlKTtcbiAgICB9XG4gICAgQ29tbWFuZC5pcyA9IGlzO1xufSkoQ29tbWFuZCB8fCAoQ29tbWFuZCA9IHt9KSk7XG4vKipcbiAqIFRoZSBUZXh0RWRpdCBuYW1lc3BhY2UgcHJvdmlkZXMgaGVscGVyIGZ1bmN0aW9uIHRvIGNyZWF0ZSByZXBsYWNlLFxuICogaW5zZXJ0IGFuZCBkZWxldGUgZWRpdHMgbW9yZSBlYXNpbHkuXG4gKi9cbmV4cG9ydCB2YXIgVGV4dEVkaXQ7XG4oZnVuY3Rpb24gKFRleHRFZGl0KSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHJlcGxhY2UgdGV4dCBlZGl0LlxuICAgICAqIEBwYXJhbSByYW5nZSBUaGUgcmFuZ2Ugb2YgdGV4dCB0byBiZSByZXBsYWNlZC5cbiAgICAgKiBAcGFyYW0gbmV3VGV4dCBUaGUgbmV3IHRleHQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVwbGFjZShyYW5nZSwgbmV3VGV4dCkge1xuICAgICAgICByZXR1cm4geyByYW5nZTogcmFuZ2UsIG5ld1RleHQ6IG5ld1RleHQgfTtcbiAgICB9XG4gICAgVGV4dEVkaXQucmVwbGFjZSA9IHJlcGxhY2U7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGluc2VydCB0ZXh0IGVkaXQuXG4gICAgICogQHBhcmFtIHBvc2l0aW9uIFRoZSBwb3NpdGlvbiB0byBpbnNlcnQgdGhlIHRleHQgYXQuXG4gICAgICogQHBhcmFtIG5ld1RleHQgVGhlIHRleHQgdG8gYmUgaW5zZXJ0ZWQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5zZXJ0KHBvc2l0aW9uLCBuZXdUZXh0KSB7XG4gICAgICAgIHJldHVybiB7IHJhbmdlOiB7IHN0YXJ0OiBwb3NpdGlvbiwgZW5kOiBwb3NpdGlvbiB9LCBuZXdUZXh0OiBuZXdUZXh0IH07XG4gICAgfVxuICAgIFRleHRFZGl0Lmluc2VydCA9IGluc2VydDtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZGVsZXRlIHRleHQgZWRpdC5cbiAgICAgKiBAcGFyYW0gcmFuZ2UgVGhlIHJhbmdlIG9mIHRleHQgdG8gYmUgZGVsZXRlZC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkZWwocmFuZ2UpIHtcbiAgICAgICAgcmV0dXJuIHsgcmFuZ2U6IHJhbmdlLCBuZXdUZXh0OiAnJyB9O1xuICAgIH1cbiAgICBUZXh0RWRpdC5kZWwgPSBkZWw7XG59KShUZXh0RWRpdCB8fCAoVGV4dEVkaXQgPSB7fSkpO1xuLyoqXG4gKiBUaGUgVGV4dERvY3VtZW50RWRpdCBuYW1lc3BhY2UgcHJvdmlkZXMgaGVscGVyIGZ1bmN0aW9uIHRvIGNyZWF0ZVxuICogYW4gZWRpdCB0aGF0IG1hbmlwdWxhdGVzIGEgdGV4dCBkb2N1bWVudC5cbiAqL1xuZXhwb3J0IHZhciBUZXh0RG9jdW1lbnRFZGl0O1xuKGZ1bmN0aW9uIChUZXh0RG9jdW1lbnRFZGl0KSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBgVGV4dERvY3VtZW50RWRpdGBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGUodGV4dERvY3VtZW50LCBlZGl0cykge1xuICAgICAgICByZXR1cm4geyB0ZXh0RG9jdW1lbnQ6IHRleHREb2N1bWVudCwgZWRpdHM6IGVkaXRzIH07XG4gICAgfVxuICAgIFRleHREb2N1bWVudEVkaXQuY3JlYXRlID0gY3JlYXRlO1xuICAgIGZ1bmN0aW9uIGlzKHZhbHVlKSB7XG4gICAgICAgIHZhciBjYW5kaWRhdGUgPSB2YWx1ZTtcbiAgICAgICAgcmV0dXJuIElzLmRlZmluZWQoY2FuZGlkYXRlKVxuICAgICAgICAgICAgJiYgVmVyc2lvbmVkVGV4dERvY3VtZW50SWRlbnRpZmllci5pcyhjYW5kaWRhdGUudGV4dERvY3VtZW50KVxuICAgICAgICAgICAgJiYgQXJyYXkuaXNBcnJheShjYW5kaWRhdGUuZWRpdHMpO1xuICAgIH1cbiAgICBUZXh0RG9jdW1lbnRFZGl0LmlzID0gaXM7XG59KShUZXh0RG9jdW1lbnRFZGl0IHx8IChUZXh0RG9jdW1lbnRFZGl0ID0ge30pKTtcbnZhciBUZXh0RWRpdENoYW5nZUltcGwgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVGV4dEVkaXRDaGFuZ2VJbXBsKGVkaXRzKSB7XG4gICAgICAgIHRoaXMuZWRpdHMgPSBlZGl0cztcbiAgICB9XG4gICAgVGV4dEVkaXRDaGFuZ2VJbXBsLnByb3RvdHlwZS5pbnNlcnQgPSBmdW5jdGlvbiAocG9zaXRpb24sIG5ld1RleHQpIHtcbiAgICAgICAgdGhpcy5lZGl0cy5wdXNoKFRleHRFZGl0Lmluc2VydChwb3NpdGlvbiwgbmV3VGV4dCkpO1xuICAgIH07XG4gICAgVGV4dEVkaXRDaGFuZ2VJbXBsLnByb3RvdHlwZS5yZXBsYWNlID0gZnVuY3Rpb24gKHJhbmdlLCBuZXdUZXh0KSB7XG4gICAgICAgIHRoaXMuZWRpdHMucHVzaChUZXh0RWRpdC5yZXBsYWNlKHJhbmdlLCBuZXdUZXh0KSk7XG4gICAgfTtcbiAgICBUZXh0RWRpdENoYW5nZUltcGwucHJvdG90eXBlLmRlbGV0ZSA9IGZ1bmN0aW9uIChyYW5nZSkge1xuICAgICAgICB0aGlzLmVkaXRzLnB1c2goVGV4dEVkaXQuZGVsKHJhbmdlKSk7XG4gICAgfTtcbiAgICBUZXh0RWRpdENoYW5nZUltcGwucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIChlZGl0KSB7XG4gICAgICAgIHRoaXMuZWRpdHMucHVzaChlZGl0KTtcbiAgICB9O1xuICAgIFRleHRFZGl0Q2hhbmdlSW1wbC5wcm90b3R5cGUuYWxsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5lZGl0cztcbiAgICB9O1xuICAgIFRleHRFZGl0Q2hhbmdlSW1wbC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZWRpdHMuc3BsaWNlKDAsIHRoaXMuZWRpdHMubGVuZ3RoKTtcbiAgICB9O1xuICAgIHJldHVybiBUZXh0RWRpdENoYW5nZUltcGw7XG59KCkpO1xuLyoqXG4gKiBBIHdvcmtzcGFjZSBjaGFuZ2UgaGVscHMgY29uc3RydWN0aW5nIGNoYW5nZXMgdG8gYSB3b3Jrc3BhY2UuXG4gKi9cbnZhciBXb3Jrc3BhY2VDaGFuZ2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gV29ya3NwYWNlQ2hhbmdlKHdvcmtzcGFjZUVkaXQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5fdGV4dEVkaXRDaGFuZ2VzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgaWYgKHdvcmtzcGFjZUVkaXQpIHtcbiAgICAgICAgICAgIHRoaXMuX3dvcmtzcGFjZUVkaXQgPSB3b3Jrc3BhY2VFZGl0O1xuICAgICAgICAgICAgaWYgKHdvcmtzcGFjZUVkaXQuZG9jdW1lbnRDaGFuZ2VzKSB7XG4gICAgICAgICAgICAgICAgd29ya3NwYWNlRWRpdC5kb2N1bWVudENoYW5nZXMuZm9yRWFjaChmdW5jdGlvbiAodGV4dERvY3VtZW50RWRpdCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGV4dEVkaXRDaGFuZ2UgPSBuZXcgVGV4dEVkaXRDaGFuZ2VJbXBsKHRleHREb2N1bWVudEVkaXQuZWRpdHMpO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fdGV4dEVkaXRDaGFuZ2VzW3RleHREb2N1bWVudEVkaXQudGV4dERvY3VtZW50LnVyaV0gPSB0ZXh0RWRpdENoYW5nZTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHdvcmtzcGFjZUVkaXQuY2hhbmdlcykge1xuICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKHdvcmtzcGFjZUVkaXQuY2hhbmdlcykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0ZXh0RWRpdENoYW5nZSA9IG5ldyBUZXh0RWRpdENoYW5nZUltcGwod29ya3NwYWNlRWRpdC5jaGFuZ2VzW2tleV0pO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fdGV4dEVkaXRDaGFuZ2VzW2tleV0gPSB0ZXh0RWRpdENoYW5nZTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoV29ya3NwYWNlQ2hhbmdlLnByb3RvdHlwZSwgXCJlZGl0XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJldHVybnMgdGhlIHVuZGVybHlpbmcgW1dvcmtzcGFjZUVkaXRdKCNXb3Jrc3BhY2VFZGl0KSBsaXRlcmFsXG4gICAgICAgICAqIHVzZSB0byBiZSByZXR1cm5lZCBmcm9tIGEgd29ya3NwYWNlIGVkaXQgb3BlcmF0aW9uIGxpa2UgcmVuYW1lLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fd29ya3NwYWNlRWRpdDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgV29ya3NwYWNlQ2hhbmdlLnByb3RvdHlwZS5nZXRUZXh0RWRpdENoYW5nZSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgaWYgKFZlcnNpb25lZFRleHREb2N1bWVudElkZW50aWZpZXIuaXMoa2V5KSkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl93b3Jrc3BhY2VFZGl0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fd29ya3NwYWNlRWRpdCA9IHtcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnRDaGFuZ2VzOiBbXVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRoaXMuX3dvcmtzcGFjZUVkaXQuZG9jdW1lbnRDaGFuZ2VzKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdXb3Jrc3BhY2UgZWRpdCBpcyBub3QgY29uZmlndXJlZCBmb3IgdmVyc2lvbmVkIGRvY3VtZW50IGNoYW5nZXMuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgdGV4dERvY3VtZW50ID0ga2V5O1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHRoaXMuX3RleHRFZGl0Q2hhbmdlc1t0ZXh0RG9jdW1lbnQudXJpXTtcbiAgICAgICAgICAgIGlmICghcmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgdmFyIGVkaXRzID0gW107XG4gICAgICAgICAgICAgICAgdmFyIHRleHREb2N1bWVudEVkaXQgPSB7XG4gICAgICAgICAgICAgICAgICAgIHRleHREb2N1bWVudDogdGV4dERvY3VtZW50LFxuICAgICAgICAgICAgICAgICAgICBlZGl0czogZWRpdHNcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHRoaXMuX3dvcmtzcGFjZUVkaXQuZG9jdW1lbnRDaGFuZ2VzLnB1c2godGV4dERvY3VtZW50RWRpdCk7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gbmV3IFRleHRFZGl0Q2hhbmdlSW1wbChlZGl0cyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fdGV4dEVkaXRDaGFuZ2VzW3RleHREb2N1bWVudC51cmldID0gcmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fd29ya3NwYWNlRWRpdCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3dvcmtzcGFjZUVkaXQgPSB7XG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZXM6IE9iamVjdC5jcmVhdGUobnVsbClcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF0aGlzLl93b3Jrc3BhY2VFZGl0LmNoYW5nZXMpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1dvcmtzcGFjZSBlZGl0IGlzIG5vdCBjb25maWd1cmVkIGZvciBub3JtYWwgdGV4dCBlZGl0IGNoYW5nZXMuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gdGhpcy5fdGV4dEVkaXRDaGFuZ2VzW2tleV07XG4gICAgICAgICAgICBpZiAoIXJlc3VsdCkge1xuICAgICAgICAgICAgICAgIHZhciBlZGl0cyA9IFtdO1xuICAgICAgICAgICAgICAgIHRoaXMuX3dvcmtzcGFjZUVkaXQuY2hhbmdlc1trZXldID0gZWRpdHM7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gbmV3IFRleHRFZGl0Q2hhbmdlSW1wbChlZGl0cyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fdGV4dEVkaXRDaGFuZ2VzW2tleV0gPSByZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gV29ya3NwYWNlQ2hhbmdlO1xufSgpKTtcbmV4cG9ydCB7IFdvcmtzcGFjZUNoYW5nZSB9O1xuLyoqXG4gKiBUaGUgVGV4dERvY3VtZW50SWRlbnRpZmllciBuYW1lc3BhY2UgcHJvdmlkZXMgaGVscGVyIGZ1bmN0aW9ucyB0byB3b3JrIHdpdGhcbiAqIFtUZXh0RG9jdW1lbnRJZGVudGlmaWVyXSgjVGV4dERvY3VtZW50SWRlbnRpZmllcikgbGl0ZXJhbHMuXG4gKi9cbmV4cG9ydCB2YXIgVGV4dERvY3VtZW50SWRlbnRpZmllcjtcbihmdW5jdGlvbiAoVGV4dERvY3VtZW50SWRlbnRpZmllcikge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgVGV4dERvY3VtZW50SWRlbnRpZmllciBsaXRlcmFsLlxuICAgICAqIEBwYXJhbSB1cmkgVGhlIGRvY3VtZW50J3MgdXJpLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZSh1cmkpIHtcbiAgICAgICAgcmV0dXJuIHsgdXJpOiB1cmkgfTtcbiAgICB9XG4gICAgVGV4dERvY3VtZW50SWRlbnRpZmllci5jcmVhdGUgPSBjcmVhdGU7XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHdoZXRoZXIgdGhlIGdpdmVuIGxpdGVyYWwgY29uZm9ybXMgdG8gdGhlIFtUZXh0RG9jdW1lbnRJZGVudGlmaWVyXSgjVGV4dERvY3VtZW50SWRlbnRpZmllcikgaW50ZXJmYWNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzKHZhbHVlKSB7XG4gICAgICAgIHZhciBjYW5kaWRhdGUgPSB2YWx1ZTtcbiAgICAgICAgcmV0dXJuIElzLmRlZmluZWQoY2FuZGlkYXRlKSAmJiBJcy5zdHJpbmcoY2FuZGlkYXRlLnVyaSk7XG4gICAgfVxuICAgIFRleHREb2N1bWVudElkZW50aWZpZXIuaXMgPSBpcztcbn0pKFRleHREb2N1bWVudElkZW50aWZpZXIgfHwgKFRleHREb2N1bWVudElkZW50aWZpZXIgPSB7fSkpO1xuLyoqXG4gKiBUaGUgVmVyc2lvbmVkVGV4dERvY3VtZW50SWRlbnRpZmllciBuYW1lc3BhY2UgcHJvdmlkZXMgaGVscGVyIGZ1bmN0aW9ucyB0byB3b3JrIHdpdGhcbiAqIFtWZXJzaW9uZWRUZXh0RG9jdW1lbnRJZGVudGlmaWVyXSgjVmVyc2lvbmVkVGV4dERvY3VtZW50SWRlbnRpZmllcikgbGl0ZXJhbHMuXG4gKi9cbmV4cG9ydCB2YXIgVmVyc2lvbmVkVGV4dERvY3VtZW50SWRlbnRpZmllcjtcbihmdW5jdGlvbiAoVmVyc2lvbmVkVGV4dERvY3VtZW50SWRlbnRpZmllcikge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgVmVyc2lvbmVkVGV4dERvY3VtZW50SWRlbnRpZmllciBsaXRlcmFsLlxuICAgICAqIEBwYXJhbSB1cmkgVGhlIGRvY3VtZW50J3MgdXJpLlxuICAgICAqIEBwYXJhbSB1cmkgVGhlIGRvY3VtZW50J3MgdGV4dC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGUodXJpLCB2ZXJzaW9uKSB7XG4gICAgICAgIHJldHVybiB7IHVyaTogdXJpLCB2ZXJzaW9uOiB2ZXJzaW9uIH07XG4gICAgfVxuICAgIFZlcnNpb25lZFRleHREb2N1bWVudElkZW50aWZpZXIuY3JlYXRlID0gY3JlYXRlO1xuICAgIC8qKlxuICAgICAqIENoZWNrcyB3aGV0aGVyIHRoZSBnaXZlbiBsaXRlcmFsIGNvbmZvcm1zIHRvIHRoZSBbVmVyc2lvbmVkVGV4dERvY3VtZW50SWRlbnRpZmllcl0oI1ZlcnNpb25lZFRleHREb2N1bWVudElkZW50aWZpZXIpIGludGVyZmFjZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpcyh2YWx1ZSkge1xuICAgICAgICB2YXIgY2FuZGlkYXRlID0gdmFsdWU7XG4gICAgICAgIHJldHVybiBJcy5kZWZpbmVkKGNhbmRpZGF0ZSkgJiYgSXMuc3RyaW5nKGNhbmRpZGF0ZS51cmkpICYmIElzLm51bWJlcihjYW5kaWRhdGUudmVyc2lvbik7XG4gICAgfVxuICAgIFZlcnNpb25lZFRleHREb2N1bWVudElkZW50aWZpZXIuaXMgPSBpcztcbn0pKFZlcnNpb25lZFRleHREb2N1bWVudElkZW50aWZpZXIgfHwgKFZlcnNpb25lZFRleHREb2N1bWVudElkZW50aWZpZXIgPSB7fSkpO1xuLyoqXG4gKiBUaGUgVGV4dERvY3VtZW50SXRlbSBuYW1lc3BhY2UgcHJvdmlkZXMgaGVscGVyIGZ1bmN0aW9ucyB0byB3b3JrIHdpdGhcbiAqIFtUZXh0RG9jdW1lbnRJdGVtXSgjVGV4dERvY3VtZW50SXRlbSkgbGl0ZXJhbHMuXG4gKi9cbmV4cG9ydCB2YXIgVGV4dERvY3VtZW50SXRlbTtcbihmdW5jdGlvbiAoVGV4dERvY3VtZW50SXRlbSkge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgVGV4dERvY3VtZW50SXRlbSBsaXRlcmFsLlxuICAgICAqIEBwYXJhbSB1cmkgVGhlIGRvY3VtZW50J3MgdXJpLlxuICAgICAqIEBwYXJhbSBsYW5ndWFnZUlkIFRoZSBkb2N1bWVudCdzIGxhbmd1YWdlIGlkZW50aWZpZXIuXG4gICAgICogQHBhcmFtIHZlcnNpb24gVGhlIGRvY3VtZW50J3MgdmVyc2lvbiBudW1iZXIuXG4gICAgICogQHBhcmFtIHRleHQgVGhlIGRvY3VtZW50J3MgdGV4dC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGUodXJpLCBsYW5ndWFnZUlkLCB2ZXJzaW9uLCB0ZXh0KSB7XG4gICAgICAgIHJldHVybiB7IHVyaTogdXJpLCBsYW5ndWFnZUlkOiBsYW5ndWFnZUlkLCB2ZXJzaW9uOiB2ZXJzaW9uLCB0ZXh0OiB0ZXh0IH07XG4gICAgfVxuICAgIFRleHREb2N1bWVudEl0ZW0uY3JlYXRlID0gY3JlYXRlO1xuICAgIC8qKlxuICAgICAqIENoZWNrcyB3aGV0aGVyIHRoZSBnaXZlbiBsaXRlcmFsIGNvbmZvcm1zIHRvIHRoZSBbVGV4dERvY3VtZW50SXRlbV0oI1RleHREb2N1bWVudEl0ZW0pIGludGVyZmFjZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpcyh2YWx1ZSkge1xuICAgICAgICB2YXIgY2FuZGlkYXRlID0gdmFsdWU7XG4gICAgICAgIHJldHVybiBJcy5kZWZpbmVkKGNhbmRpZGF0ZSkgJiYgSXMuc3RyaW5nKGNhbmRpZGF0ZS51cmkpICYmIElzLnN0cmluZyhjYW5kaWRhdGUubGFuZ3VhZ2VJZCkgJiYgSXMubnVtYmVyKGNhbmRpZGF0ZS52ZXJzaW9uKSAmJiBJcy5zdHJpbmcoY2FuZGlkYXRlLnRleHQpO1xuICAgIH1cbiAgICBUZXh0RG9jdW1lbnRJdGVtLmlzID0gaXM7XG59KShUZXh0RG9jdW1lbnRJdGVtIHx8IChUZXh0RG9jdW1lbnRJdGVtID0ge30pKTtcbi8qKlxuICogRGVzY3JpYmVzIHRoZSBjb250ZW50IHR5cGUgdGhhdCBhIGNsaWVudCBzdXBwb3J0cyBpbiB2YXJpb3VzXG4gKiByZXN1bHQgbGl0ZXJhbHMgbGlrZSBgSG92ZXJgLCBgUGFyYW1ldGVySW5mb2Agb3IgYENvbXBsZXRpb25JdGVtYC5cbiAqXG4gKiBQbGVhc2Ugbm90ZSB0aGF0IGBNYXJrdXBLaW5kc2AgbXVzdCBub3Qgc3RhcnQgd2l0aCBhIGAkYC4gVGhpcyBraW5kc1xuICogYXJlIHJlc2VydmVkIGZvciBpbnRlcm5hbCB1c2FnZS5cbiAqL1xuZXhwb3J0IHZhciBNYXJrdXBLaW5kO1xuKGZ1bmN0aW9uIChNYXJrdXBLaW5kKSB7XG4gICAgLyoqXG4gICAgICogUGxhaW4gdGV4dCBpcyBzdXBwb3J0ZWQgYXMgYSBjb250ZW50IGZvcm1hdFxuICAgICAqL1xuICAgIE1hcmt1cEtpbmQuUGxhaW5UZXh0ID0gJ3BsYWludGV4dCc7XG4gICAgLyoqXG4gICAgICogTWFya2Rvd24gaXMgc3VwcG9ydGVkIGFzIGEgY29udGVudCBmb3JtYXRcbiAgICAgKi9cbiAgICBNYXJrdXBLaW5kLk1hcmtkb3duID0gJ21hcmtkb3duJztcbn0pKE1hcmt1cEtpbmQgfHwgKE1hcmt1cEtpbmQgPSB7fSkpO1xuLyoqXG4gKiBUaGUga2luZCBvZiBhIGNvbXBsZXRpb24gZW50cnkuXG4gKi9cbmV4cG9ydCB2YXIgQ29tcGxldGlvbkl0ZW1LaW5kO1xuKGZ1bmN0aW9uIChDb21wbGV0aW9uSXRlbUtpbmQpIHtcbiAgICBDb21wbGV0aW9uSXRlbUtpbmQuVGV4dCA9IDE7XG4gICAgQ29tcGxldGlvbkl0ZW1LaW5kLk1ldGhvZCA9IDI7XG4gICAgQ29tcGxldGlvbkl0ZW1LaW5kLkZ1bmN0aW9uID0gMztcbiAgICBDb21wbGV0aW9uSXRlbUtpbmQuQ29uc3RydWN0b3IgPSA0O1xuICAgIENvbXBsZXRpb25JdGVtS2luZC5GaWVsZCA9IDU7XG4gICAgQ29tcGxldGlvbkl0ZW1LaW5kLlZhcmlhYmxlID0gNjtcbiAgICBDb21wbGV0aW9uSXRlbUtpbmQuQ2xhc3MgPSA3O1xuICAgIENvbXBsZXRpb25JdGVtS2luZC5JbnRlcmZhY2UgPSA4O1xuICAgIENvbXBsZXRpb25JdGVtS2luZC5Nb2R1bGUgPSA5O1xuICAgIENvbXBsZXRpb25JdGVtS2luZC5Qcm9wZXJ0eSA9IDEwO1xuICAgIENvbXBsZXRpb25JdGVtS2luZC5Vbml0ID0gMTE7XG4gICAgQ29tcGxldGlvbkl0ZW1LaW5kLlZhbHVlID0gMTI7XG4gICAgQ29tcGxldGlvbkl0ZW1LaW5kLkVudW0gPSAxMztcbiAgICBDb21wbGV0aW9uSXRlbUtpbmQuS2V5d29yZCA9IDE0O1xuICAgIENvbXBsZXRpb25JdGVtS2luZC5TbmlwcGV0ID0gMTU7XG4gICAgQ29tcGxldGlvbkl0ZW1LaW5kLkNvbG9yID0gMTY7XG4gICAgQ29tcGxldGlvbkl0ZW1LaW5kLkZpbGUgPSAxNztcbiAgICBDb21wbGV0aW9uSXRlbUtpbmQuUmVmZXJlbmNlID0gMTg7XG4gICAgQ29tcGxldGlvbkl0ZW1LaW5kLkZvbGRlciA9IDE5O1xuICAgIENvbXBsZXRpb25JdGVtS2luZC5FbnVtTWVtYmVyID0gMjA7XG4gICAgQ29tcGxldGlvbkl0ZW1LaW5kLkNvbnN0YW50ID0gMjE7XG4gICAgQ29tcGxldGlvbkl0ZW1LaW5kLlN0cnVjdCA9IDIyO1xuICAgIENvbXBsZXRpb25JdGVtS2luZC5FdmVudCA9IDIzO1xuICAgIENvbXBsZXRpb25JdGVtS2luZC5PcGVyYXRvciA9IDI0O1xuICAgIENvbXBsZXRpb25JdGVtS2luZC5UeXBlUGFyYW1ldGVyID0gMjU7XG59KShDb21wbGV0aW9uSXRlbUtpbmQgfHwgKENvbXBsZXRpb25JdGVtS2luZCA9IHt9KSk7XG4vKipcbiAqIERlZmluZXMgd2hldGhlciB0aGUgaW5zZXJ0IHRleHQgaW4gYSBjb21wbGV0aW9uIGl0ZW0gc2hvdWxkIGJlIGludGVycHJldGVkIGFzXG4gKiBwbGFpbiB0ZXh0IG9yIGEgc25pcHBldC5cbiAqL1xuZXhwb3J0IHZhciBJbnNlcnRUZXh0Rm9ybWF0O1xuKGZ1bmN0aW9uIChJbnNlcnRUZXh0Rm9ybWF0KSB7XG4gICAgLyoqXG4gICAgICogVGhlIHByaW1hcnkgdGV4dCB0byBiZSBpbnNlcnRlZCBpcyB0cmVhdGVkIGFzIGEgcGxhaW4gc3RyaW5nLlxuICAgICAqL1xuICAgIEluc2VydFRleHRGb3JtYXQuUGxhaW5UZXh0ID0gMTtcbiAgICAvKipcbiAgICAgKiBUaGUgcHJpbWFyeSB0ZXh0IHRvIGJlIGluc2VydGVkIGlzIHRyZWF0ZWQgYXMgYSBzbmlwcGV0LlxuICAgICAqXG4gICAgICogQSBzbmlwcGV0IGNhbiBkZWZpbmUgdGFiIHN0b3BzIGFuZCBwbGFjZWhvbGRlcnMgd2l0aCBgJDFgLCBgJDJgXG4gICAgICogYW5kIGAkezM6Zm9vfWAuIGAkMGAgZGVmaW5lcyB0aGUgZmluYWwgdGFiIHN0b3AsIGl0IGRlZmF1bHRzIHRvXG4gICAgICogdGhlIGVuZCBvZiB0aGUgc25pcHBldC4gUGxhY2Vob2xkZXJzIHdpdGggZXF1YWwgaWRlbnRpZmllcnMgYXJlIGxpbmtlZCxcbiAgICAgKiB0aGF0IGlzIHR5cGluZyBpbiBvbmUgd2lsbCB1cGRhdGUgb3RoZXJzIHRvby5cbiAgICAgKlxuICAgICAqIFNlZSBhbHNvOiBodHRwczovL2dpdGh1Yi5jb20vTWljcm9zb2Z0L3ZzY29kZS9ibG9iL21hc3Rlci9zcmMvdnMvZWRpdG9yL2NvbnRyaWIvc25pcHBldC9jb21tb24vc25pcHBldC5tZFxuICAgICAqL1xuICAgIEluc2VydFRleHRGb3JtYXQuU25pcHBldCA9IDI7XG59KShJbnNlcnRUZXh0Rm9ybWF0IHx8IChJbnNlcnRUZXh0Rm9ybWF0ID0ge30pKTtcbi8qKlxuICogVGhlIENvbXBsZXRpb25JdGVtIG5hbWVzcGFjZSBwcm92aWRlcyBmdW5jdGlvbnMgdG8gZGVhbCB3aXRoXG4gKiBjb21wbGV0aW9uIGl0ZW1zLlxuICovXG5leHBvcnQgdmFyIENvbXBsZXRpb25JdGVtO1xuKGZ1bmN0aW9uIChDb21wbGV0aW9uSXRlbSkge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIGNvbXBsZXRpb24gaXRlbSBhbmQgc2VlZCBpdCB3aXRoIGEgbGFiZWwuXG4gICAgICogQHBhcmFtIGxhYmVsIFRoZSBjb21wbGV0aW9uIGl0ZW0ncyBsYWJlbFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZShsYWJlbCkge1xuICAgICAgICByZXR1cm4geyBsYWJlbDogbGFiZWwgfTtcbiAgICB9XG4gICAgQ29tcGxldGlvbkl0ZW0uY3JlYXRlID0gY3JlYXRlO1xufSkoQ29tcGxldGlvbkl0ZW0gfHwgKENvbXBsZXRpb25JdGVtID0ge30pKTtcbi8qKlxuICogVGhlIENvbXBsZXRpb25MaXN0IG5hbWVzcGFjZSBwcm92aWRlcyBmdW5jdGlvbnMgdG8gZGVhbCB3aXRoXG4gKiBjb21wbGV0aW9uIGxpc3RzLlxuICovXG5leHBvcnQgdmFyIENvbXBsZXRpb25MaXN0O1xuKGZ1bmN0aW9uIChDb21wbGV0aW9uTGlzdCkge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgY29tcGxldGlvbiBsaXN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIGl0ZW1zIFRoZSBjb21wbGV0aW9uIGl0ZW1zLlxuICAgICAqIEBwYXJhbSBpc0luY29tcGxldGUgVGhlIGxpc3QgaXMgbm90IGNvbXBsZXRlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZShpdGVtcywgaXNJbmNvbXBsZXRlKSB7XG4gICAgICAgIHJldHVybiB7IGl0ZW1zOiBpdGVtcyA/IGl0ZW1zIDogW10sIGlzSW5jb21wbGV0ZTogISFpc0luY29tcGxldGUgfTtcbiAgICB9XG4gICAgQ29tcGxldGlvbkxpc3QuY3JlYXRlID0gY3JlYXRlO1xufSkoQ29tcGxldGlvbkxpc3QgfHwgKENvbXBsZXRpb25MaXN0ID0ge30pKTtcbmV4cG9ydCB2YXIgTWFya2VkU3RyaW5nO1xuKGZ1bmN0aW9uIChNYXJrZWRTdHJpbmcpIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbWFya2VkIHN0cmluZyBmcm9tIHBsYWluIHRleHQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGxhaW5UZXh0IFRoZSBwbGFpbiB0ZXh0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZyb21QbGFpblRleHQocGxhaW5UZXh0KSB7XG4gICAgICAgIHJldHVybiBwbGFpblRleHQucmVwbGFjZSgvW1xcXFxgKl97fVtcXF0oKSMrXFwtLiFdL2csIFwiXFxcXCQmXCIpOyAvLyBlc2NhcGUgbWFya2Rvd24gc3ludGF4IHRva2VuczogaHR0cDovL2RhcmluZ2ZpcmViYWxsLm5ldC9wcm9qZWN0cy9tYXJrZG93bi9zeW50YXgjYmFja3NsYXNoXG4gICAgfVxuICAgIE1hcmtlZFN0cmluZy5mcm9tUGxhaW5UZXh0ID0gZnJvbVBsYWluVGV4dDtcbn0pKE1hcmtlZFN0cmluZyB8fCAoTWFya2VkU3RyaW5nID0ge30pKTtcbi8qKlxuICogVGhlIFBhcmFtZXRlckluZm9ybWF0aW9uIG5hbWVzcGFjZSBwcm92aWRlcyBoZWxwZXIgZnVuY3Rpb25zIHRvIHdvcmsgd2l0aFxuICogW1BhcmFtZXRlckluZm9ybWF0aW9uXSgjUGFyYW1ldGVySW5mb3JtYXRpb24pIGxpdGVyYWxzLlxuICovXG5leHBvcnQgdmFyIFBhcmFtZXRlckluZm9ybWF0aW9uO1xuKGZ1bmN0aW9uIChQYXJhbWV0ZXJJbmZvcm1hdGlvbikge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgcGFyYW1ldGVyIGluZm9ybWF0aW9uIGxpdGVyYWwuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbGFiZWwgQSBsYWJlbCBzdHJpbmcuXG4gICAgICogQHBhcmFtIGRvY3VtZW50YXRpb24gQSBkb2Mgc3RyaW5nLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZShsYWJlbCwgZG9jdW1lbnRhdGlvbikge1xuICAgICAgICByZXR1cm4gZG9jdW1lbnRhdGlvbiA/IHsgbGFiZWw6IGxhYmVsLCBkb2N1bWVudGF0aW9uOiBkb2N1bWVudGF0aW9uIH0gOiB7IGxhYmVsOiBsYWJlbCB9O1xuICAgIH1cbiAgICBQYXJhbWV0ZXJJbmZvcm1hdGlvbi5jcmVhdGUgPSBjcmVhdGU7XG4gICAgO1xufSkoUGFyYW1ldGVySW5mb3JtYXRpb24gfHwgKFBhcmFtZXRlckluZm9ybWF0aW9uID0ge30pKTtcbi8qKlxuICogVGhlIFNpZ25hdHVyZUluZm9ybWF0aW9uIG5hbWVzcGFjZSBwcm92aWRlcyBoZWxwZXIgZnVuY3Rpb25zIHRvIHdvcmsgd2l0aFxuICogW1NpZ25hdHVyZUluZm9ybWF0aW9uXSgjU2lnbmF0dXJlSW5mb3JtYXRpb24pIGxpdGVyYWxzLlxuICovXG5leHBvcnQgdmFyIFNpZ25hdHVyZUluZm9ybWF0aW9uO1xuKGZ1bmN0aW9uIChTaWduYXR1cmVJbmZvcm1hdGlvbikge1xuICAgIGZ1bmN0aW9uIGNyZWF0ZShsYWJlbCwgZG9jdW1lbnRhdGlvbikge1xuICAgICAgICB2YXIgcGFyYW1ldGVycyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDI7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgcGFyYW1ldGVyc1tfaSAtIDJdID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVzdWx0ID0geyBsYWJlbDogbGFiZWwgfTtcbiAgICAgICAgaWYgKElzLmRlZmluZWQoZG9jdW1lbnRhdGlvbikpIHtcbiAgICAgICAgICAgIHJlc3VsdC5kb2N1bWVudGF0aW9uID0gZG9jdW1lbnRhdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoSXMuZGVmaW5lZChwYXJhbWV0ZXJzKSkge1xuICAgICAgICAgICAgcmVzdWx0LnBhcmFtZXRlcnMgPSBwYXJhbWV0ZXJzO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0LnBhcmFtZXRlcnMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBTaWduYXR1cmVJbmZvcm1hdGlvbi5jcmVhdGUgPSBjcmVhdGU7XG59KShTaWduYXR1cmVJbmZvcm1hdGlvbiB8fCAoU2lnbmF0dXJlSW5mb3JtYXRpb24gPSB7fSkpO1xuLyoqXG4gKiBBIGRvY3VtZW50IGhpZ2hsaWdodCBraW5kLlxuICovXG5leHBvcnQgdmFyIERvY3VtZW50SGlnaGxpZ2h0S2luZDtcbihmdW5jdGlvbiAoRG9jdW1lbnRIaWdobGlnaHRLaW5kKSB7XG4gICAgLyoqXG4gICAgICogQSB0ZXh0dWFsIG9jY3VycmFuY2UuXG4gICAgICovXG4gICAgRG9jdW1lbnRIaWdobGlnaHRLaW5kLlRleHQgPSAxO1xuICAgIC8qKlxuICAgICAqIFJlYWQtYWNjZXNzIG9mIGEgc3ltYm9sLCBsaWtlIHJlYWRpbmcgYSB2YXJpYWJsZS5cbiAgICAgKi9cbiAgICBEb2N1bWVudEhpZ2hsaWdodEtpbmQuUmVhZCA9IDI7XG4gICAgLyoqXG4gICAgICogV3JpdGUtYWNjZXNzIG9mIGEgc3ltYm9sLCBsaWtlIHdyaXRpbmcgdG8gYSB2YXJpYWJsZS5cbiAgICAgKi9cbiAgICBEb2N1bWVudEhpZ2hsaWdodEtpbmQuV3JpdGUgPSAzO1xufSkoRG9jdW1lbnRIaWdobGlnaHRLaW5kIHx8IChEb2N1bWVudEhpZ2hsaWdodEtpbmQgPSB7fSkpO1xuLyoqXG4gKiBEb2N1bWVudEhpZ2hsaWdodCBuYW1lc3BhY2UgdG8gcHJvdmlkZSBoZWxwZXIgZnVuY3Rpb25zIHRvIHdvcmsgd2l0aFxuICogW0RvY3VtZW50SGlnaGxpZ2h0XSgjRG9jdW1lbnRIaWdobGlnaHQpIGxpdGVyYWxzLlxuICovXG5leHBvcnQgdmFyIERvY3VtZW50SGlnaGxpZ2h0O1xuKGZ1bmN0aW9uIChEb2N1bWVudEhpZ2hsaWdodCkge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIERvY3VtZW50SGlnaGxpZ2h0IG9iamVjdC5cbiAgICAgKiBAcGFyYW0gcmFuZ2UgVGhlIHJhbmdlIHRoZSBoaWdobGlnaHQgYXBwbGllcyB0by5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGUocmFuZ2UsIGtpbmQpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHsgcmFuZ2U6IHJhbmdlIH07XG4gICAgICAgIGlmIChJcy5udW1iZXIoa2luZCkpIHtcbiAgICAgICAgICAgIHJlc3VsdC5raW5kID0ga2luZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBEb2N1bWVudEhpZ2hsaWdodC5jcmVhdGUgPSBjcmVhdGU7XG59KShEb2N1bWVudEhpZ2hsaWdodCB8fCAoRG9jdW1lbnRIaWdobGlnaHQgPSB7fSkpO1xuLyoqXG4gKiBBIHN5bWJvbCBraW5kLlxuICovXG5leHBvcnQgdmFyIFN5bWJvbEtpbmQ7XG4oZnVuY3Rpb24gKFN5bWJvbEtpbmQpIHtcbiAgICBTeW1ib2xLaW5kLkZpbGUgPSAxO1xuICAgIFN5bWJvbEtpbmQuTW9kdWxlID0gMjtcbiAgICBTeW1ib2xLaW5kLk5hbWVzcGFjZSA9IDM7XG4gICAgU3ltYm9sS2luZC5QYWNrYWdlID0gNDtcbiAgICBTeW1ib2xLaW5kLkNsYXNzID0gNTtcbiAgICBTeW1ib2xLaW5kLk1ldGhvZCA9IDY7XG4gICAgU3ltYm9sS2luZC5Qcm9wZXJ0eSA9IDc7XG4gICAgU3ltYm9sS2luZC5GaWVsZCA9IDg7XG4gICAgU3ltYm9sS2luZC5Db25zdHJ1Y3RvciA9IDk7XG4gICAgU3ltYm9sS2luZC5FbnVtID0gMTA7XG4gICAgU3ltYm9sS2luZC5JbnRlcmZhY2UgPSAxMTtcbiAgICBTeW1ib2xLaW5kLkZ1bmN0aW9uID0gMTI7XG4gICAgU3ltYm9sS2luZC5WYXJpYWJsZSA9IDEzO1xuICAgIFN5bWJvbEtpbmQuQ29uc3RhbnQgPSAxNDtcbiAgICBTeW1ib2xLaW5kLlN0cmluZyA9IDE1O1xuICAgIFN5bWJvbEtpbmQuTnVtYmVyID0gMTY7XG4gICAgU3ltYm9sS2luZC5Cb29sZWFuID0gMTc7XG4gICAgU3ltYm9sS2luZC5BcnJheSA9IDE4O1xuICAgIFN5bWJvbEtpbmQuT2JqZWN0ID0gMTk7XG4gICAgU3ltYm9sS2luZC5LZXkgPSAyMDtcbiAgICBTeW1ib2xLaW5kLk51bGwgPSAyMTtcbiAgICBTeW1ib2xLaW5kLkVudW1NZW1iZXIgPSAyMjtcbiAgICBTeW1ib2xLaW5kLlN0cnVjdCA9IDIzO1xuICAgIFN5bWJvbEtpbmQuRXZlbnQgPSAyNDtcbiAgICBTeW1ib2xLaW5kLk9wZXJhdG9yID0gMjU7XG4gICAgU3ltYm9sS2luZC5UeXBlUGFyYW1ldGVyID0gMjY7XG59KShTeW1ib2xLaW5kIHx8IChTeW1ib2xLaW5kID0ge30pKTtcbmV4cG9ydCB2YXIgU3ltYm9sSW5mb3JtYXRpb247XG4oZnVuY3Rpb24gKFN5bWJvbEluZm9ybWF0aW9uKSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBzeW1ib2wgaW5mb3JtYXRpb24gbGl0ZXJhbC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBzeW1ib2wuXG4gICAgICogQHBhcmFtIGtpbmQgVGhlIGtpbmQgb2YgdGhlIHN5bWJvbC5cbiAgICAgKiBAcGFyYW0gcmFuZ2UgVGhlIHJhbmdlIG9mIHRoZSBsb2NhdGlvbiBvZiB0aGUgc3ltYm9sLlxuICAgICAqIEBwYXJhbSB1cmkgVGhlIHJlc291cmNlIG9mIHRoZSBsb2NhdGlvbiBvZiBzeW1ib2wsIGRlZmF1bHRzIHRvIHRoZSBjdXJyZW50IGRvY3VtZW50LlxuICAgICAqIEBwYXJhbSBjb250YWluZXJOYW1lIFRoZSBuYW1lIG9mIHRoZSBzeW1ib2wgY29udGFpbmcgdGhlIHN5bWJvbC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGUobmFtZSwga2luZCwgcmFuZ2UsIHVyaSwgY29udGFpbmVyTmFtZSkge1xuICAgICAgICB2YXIgcmVzdWx0ID0ge1xuICAgICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICAgIGtpbmQ6IGtpbmQsXG4gICAgICAgICAgICBsb2NhdGlvbjogeyB1cmk6IHVyaSwgcmFuZ2U6IHJhbmdlIH1cbiAgICAgICAgfTtcbiAgICAgICAgaWYgKGNvbnRhaW5lck5hbWUpIHtcbiAgICAgICAgICAgIHJlc3VsdC5jb250YWluZXJOYW1lID0gY29udGFpbmVyTmFtZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBTeW1ib2xJbmZvcm1hdGlvbi5jcmVhdGUgPSBjcmVhdGU7XG59KShTeW1ib2xJbmZvcm1hdGlvbiB8fCAoU3ltYm9sSW5mb3JtYXRpb24gPSB7fSkpO1xuLyoqXG4gKiBUaGUgQ29kZUFjdGlvbkNvbnRleHQgbmFtZXNwYWNlIHByb3ZpZGVzIGhlbHBlciBmdW5jdGlvbnMgdG8gd29yayB3aXRoXG4gKiBbQ29kZUFjdGlvbkNvbnRleHRdKCNDb2RlQWN0aW9uQ29udGV4dCkgbGl0ZXJhbHMuXG4gKi9cbmV4cG9ydCB2YXIgQ29kZUFjdGlvbkNvbnRleHQ7XG4oZnVuY3Rpb24gKENvZGVBY3Rpb25Db250ZXh0KSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBDb2RlQWN0aW9uQ29udGV4dCBsaXRlcmFsLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZShkaWFnbm9zdGljcykge1xuICAgICAgICByZXR1cm4geyBkaWFnbm9zdGljczogZGlhZ25vc3RpY3MgfTtcbiAgICB9XG4gICAgQ29kZUFjdGlvbkNvbnRleHQuY3JlYXRlID0gY3JlYXRlO1xuICAgIC8qKlxuICAgICAqIENoZWNrcyB3aGV0aGVyIHRoZSBnaXZlbiBsaXRlcmFsIGNvbmZvcm1zIHRvIHRoZSBbQ29kZUFjdGlvbkNvbnRleHRdKCNDb2RlQWN0aW9uQ29udGV4dCkgaW50ZXJmYWNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzKHZhbHVlKSB7XG4gICAgICAgIHZhciBjYW5kaWRhdGUgPSB2YWx1ZTtcbiAgICAgICAgcmV0dXJuIElzLmRlZmluZWQoY2FuZGlkYXRlKSAmJiBJcy50eXBlZEFycmF5KGNhbmRpZGF0ZS5kaWFnbm9zdGljcywgRGlhZ25vc3RpYy5pcyk7XG4gICAgfVxuICAgIENvZGVBY3Rpb25Db250ZXh0LmlzID0gaXM7XG59KShDb2RlQWN0aW9uQ29udGV4dCB8fCAoQ29kZUFjdGlvbkNvbnRleHQgPSB7fSkpO1xuLyoqXG4gKiBUaGUgQ29kZUxlbnMgbmFtZXNwYWNlIHByb3ZpZGVzIGhlbHBlciBmdW5jdGlvbnMgdG8gd29yayB3aXRoXG4gKiBbQ29kZUxlbnNdKCNDb2RlTGVucykgbGl0ZXJhbHMuXG4gKi9cbmV4cG9ydCB2YXIgQ29kZUxlbnM7XG4oZnVuY3Rpb24gKENvZGVMZW5zKSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBDb2RlTGVucyBsaXRlcmFsLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZShyYW5nZSwgZGF0YSkge1xuICAgICAgICB2YXIgcmVzdWx0ID0geyByYW5nZTogcmFuZ2UgfTtcbiAgICAgICAgaWYgKElzLmRlZmluZWQoZGF0YSkpXG4gICAgICAgICAgICByZXN1bHQuZGF0YSA9IGRhdGE7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIENvZGVMZW5zLmNyZWF0ZSA9IGNyZWF0ZTtcbiAgICAvKipcbiAgICAgKiBDaGVja3Mgd2hldGhlciB0aGUgZ2l2ZW4gbGl0ZXJhbCBjb25mb3JtcyB0byB0aGUgW0NvZGVMZW5zXSgjQ29kZUxlbnMpIGludGVyZmFjZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpcyh2YWx1ZSkge1xuICAgICAgICB2YXIgY2FuZGlkYXRlID0gdmFsdWU7XG4gICAgICAgIHJldHVybiBJcy5kZWZpbmVkKGNhbmRpZGF0ZSkgJiYgUmFuZ2UuaXMoY2FuZGlkYXRlLnJhbmdlKSAmJiAoSXMudW5kZWZpbmVkKGNhbmRpZGF0ZS5jb21tYW5kKSB8fCBDb21tYW5kLmlzKGNhbmRpZGF0ZS5jb21tYW5kKSk7XG4gICAgfVxuICAgIENvZGVMZW5zLmlzID0gaXM7XG59KShDb2RlTGVucyB8fCAoQ29kZUxlbnMgPSB7fSkpO1xuLyoqXG4gKiBUaGUgRm9ybWF0dGluZ09wdGlvbnMgbmFtZXNwYWNlIHByb3ZpZGVzIGhlbHBlciBmdW5jdGlvbnMgdG8gd29yayB3aXRoXG4gKiBbRm9ybWF0dGluZ09wdGlvbnNdKCNGb3JtYXR0aW5nT3B0aW9ucykgbGl0ZXJhbHMuXG4gKi9cbmV4cG9ydCB2YXIgRm9ybWF0dGluZ09wdGlvbnM7XG4oZnVuY3Rpb24gKEZvcm1hdHRpbmdPcHRpb25zKSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBGb3JtYXR0aW5nT3B0aW9ucyBsaXRlcmFsLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZSh0YWJTaXplLCBpbnNlcnRTcGFjZXMpIHtcbiAgICAgICAgcmV0dXJuIHsgdGFiU2l6ZTogdGFiU2l6ZSwgaW5zZXJ0U3BhY2VzOiBpbnNlcnRTcGFjZXMgfTtcbiAgICB9XG4gICAgRm9ybWF0dGluZ09wdGlvbnMuY3JlYXRlID0gY3JlYXRlO1xuICAgIC8qKlxuICAgICAqIENoZWNrcyB3aGV0aGVyIHRoZSBnaXZlbiBsaXRlcmFsIGNvbmZvcm1zIHRvIHRoZSBbRm9ybWF0dGluZ09wdGlvbnNdKCNGb3JtYXR0aW5nT3B0aW9ucykgaW50ZXJmYWNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzKHZhbHVlKSB7XG4gICAgICAgIHZhciBjYW5kaWRhdGUgPSB2YWx1ZTtcbiAgICAgICAgcmV0dXJuIElzLmRlZmluZWQoY2FuZGlkYXRlKSAmJiBJcy5udW1iZXIoY2FuZGlkYXRlLnRhYlNpemUpICYmIElzLmJvb2xlYW4oY2FuZGlkYXRlLmluc2VydFNwYWNlcyk7XG4gICAgfVxuICAgIEZvcm1hdHRpbmdPcHRpb25zLmlzID0gaXM7XG59KShGb3JtYXR0aW5nT3B0aW9ucyB8fCAoRm9ybWF0dGluZ09wdGlvbnMgPSB7fSkpO1xuLyoqXG4gKiBBIGRvY3VtZW50IGxpbmsgaXMgYSByYW5nZSBpbiBhIHRleHQgZG9jdW1lbnQgdGhhdCBsaW5rcyB0byBhbiBpbnRlcm5hbCBvciBleHRlcm5hbCByZXNvdXJjZSwgbGlrZSBhbm90aGVyXG4gKiB0ZXh0IGRvY3VtZW50IG9yIGEgd2ViIHNpdGUuXG4gKi9cbnZhciBEb2N1bWVudExpbmsgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRG9jdW1lbnRMaW5rKCkge1xuICAgIH1cbiAgICByZXR1cm4gRG9jdW1lbnRMaW5rO1xufSgpKTtcbmV4cG9ydCB7IERvY3VtZW50TGluayB9O1xuLyoqXG4gKiBUaGUgRG9jdW1lbnRMaW5rIG5hbWVzcGFjZSBwcm92aWRlcyBoZWxwZXIgZnVuY3Rpb25zIHRvIHdvcmsgd2l0aFxuICogW0RvY3VtZW50TGlua10oI0RvY3VtZW50TGluaykgbGl0ZXJhbHMuXG4gKi9cbihmdW5jdGlvbiAoRG9jdW1lbnRMaW5rKSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBEb2N1bWVudExpbmsgbGl0ZXJhbC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGUocmFuZ2UsIHRhcmdldCkge1xuICAgICAgICByZXR1cm4geyByYW5nZTogcmFuZ2UsIHRhcmdldDogdGFyZ2V0IH07XG4gICAgfVxuICAgIERvY3VtZW50TGluay5jcmVhdGUgPSBjcmVhdGU7XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHdoZXRoZXIgdGhlIGdpdmVuIGxpdGVyYWwgY29uZm9ybXMgdG8gdGhlIFtEb2N1bWVudExpbmtdKCNEb2N1bWVudExpbmspIGludGVyZmFjZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpcyh2YWx1ZSkge1xuICAgICAgICB2YXIgY2FuZGlkYXRlID0gdmFsdWU7XG4gICAgICAgIHJldHVybiBJcy5kZWZpbmVkKGNhbmRpZGF0ZSkgJiYgUmFuZ2UuaXMoY2FuZGlkYXRlLnJhbmdlKSAmJiAoSXMudW5kZWZpbmVkKGNhbmRpZGF0ZS50YXJnZXQpIHx8IElzLnN0cmluZyhjYW5kaWRhdGUudGFyZ2V0KSk7XG4gICAgfVxuICAgIERvY3VtZW50TGluay5pcyA9IGlzO1xufSkoRG9jdW1lbnRMaW5rIHx8IChEb2N1bWVudExpbmsgPSB7fSkpO1xuZXhwb3J0IHZhciBFT0wgPSBbJ1xcbicsICdcXHJcXG4nLCAnXFxyJ107XG5leHBvcnQgdmFyIFRleHREb2N1bWVudDtcbihmdW5jdGlvbiAoVGV4dERvY3VtZW50KSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBJVGV4dERvY3VtZW50IGxpdGVyYWwgZnJvbSB0aGUgZ2l2ZW4gdXJpIGFuZCBjb250ZW50LlxuICAgICAqIEBwYXJhbSB1cmkgVGhlIGRvY3VtZW50J3MgdXJpLlxuICAgICAqIEBwYXJhbSBsYW5ndWFnZUlkICBUaGUgZG9jdW1lbnQncyBsYW5ndWFnZSBJZC5cbiAgICAgKiBAcGFyYW0gY29udGVudCBUaGUgZG9jdW1lbnQncyBjb250ZW50LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZSh1cmksIGxhbmd1YWdlSWQsIHZlcnNpb24sIGNvbnRlbnQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBGdWxsVGV4dERvY3VtZW50KHVyaSwgbGFuZ3VhZ2VJZCwgdmVyc2lvbiwgY29udGVudCk7XG4gICAgfVxuICAgIFRleHREb2N1bWVudC5jcmVhdGUgPSBjcmVhdGU7XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHdoZXRoZXIgdGhlIGdpdmVuIGxpdGVyYWwgY29uZm9ybXMgdG8gdGhlIFtJVGV4dERvY3VtZW50XSgjSVRleHREb2N1bWVudCkgaW50ZXJmYWNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzKHZhbHVlKSB7XG4gICAgICAgIHZhciBjYW5kaWRhdGUgPSB2YWx1ZTtcbiAgICAgICAgcmV0dXJuIElzLmRlZmluZWQoY2FuZGlkYXRlKSAmJiBJcy5zdHJpbmcoY2FuZGlkYXRlLnVyaSkgJiYgKElzLnVuZGVmaW5lZChjYW5kaWRhdGUubGFuZ3VhZ2VJZCkgfHwgSXMuc3RyaW5nKGNhbmRpZGF0ZS5sYW5ndWFnZUlkKSkgJiYgSXMubnVtYmVyKGNhbmRpZGF0ZS5saW5lQ291bnQpXG4gICAgICAgICAgICAmJiBJcy5mdW5jKGNhbmRpZGF0ZS5nZXRUZXh0KSAmJiBJcy5mdW5jKGNhbmRpZGF0ZS5wb3NpdGlvbkF0KSAmJiBJcy5mdW5jKGNhbmRpZGF0ZS5vZmZzZXRBdCkgPyB0cnVlIDogZmFsc2U7XG4gICAgfVxuICAgIFRleHREb2N1bWVudC5pcyA9IGlzO1xuICAgIGZ1bmN0aW9uIGFwcGx5RWRpdHMoZG9jdW1lbnQsIGVkaXRzKSB7XG4gICAgICAgIHZhciB0ZXh0ID0gZG9jdW1lbnQuZ2V0VGV4dCgpO1xuICAgICAgICB2YXIgc29ydGVkRWRpdHMgPSBtZXJnZVNvcnQoZWRpdHMsIGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgICB2YXIgZGlmZiA9IGEucmFuZ2Uuc3RhcnQubGluZSAtIGIucmFuZ2Uuc3RhcnQubGluZTtcbiAgICAgICAgICAgIGlmIChkaWZmID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGEucmFuZ2Uuc3RhcnQuY2hhcmFjdGVyIC0gYi5yYW5nZS5zdGFydC5jaGFyYWN0ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBsYXN0TW9kaWZpZWRPZmZzZXQgPSB0ZXh0Lmxlbmd0aDtcbiAgICAgICAgZm9yICh2YXIgaSA9IHNvcnRlZEVkaXRzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICB2YXIgZSA9IHNvcnRlZEVkaXRzW2ldO1xuICAgICAgICAgICAgdmFyIHN0YXJ0T2Zmc2V0ID0gZG9jdW1lbnQub2Zmc2V0QXQoZS5yYW5nZS5zdGFydCk7XG4gICAgICAgICAgICB2YXIgZW5kT2Zmc2V0ID0gZG9jdW1lbnQub2Zmc2V0QXQoZS5yYW5nZS5lbmQpO1xuICAgICAgICAgICAgaWYgKGVuZE9mZnNldCA8PSBsYXN0TW9kaWZpZWRPZmZzZXQpIHtcbiAgICAgICAgICAgICAgICB0ZXh0ID0gdGV4dC5zdWJzdHJpbmcoMCwgc3RhcnRPZmZzZXQpICsgZS5uZXdUZXh0ICsgdGV4dC5zdWJzdHJpbmcoZW5kT2Zmc2V0LCB0ZXh0Lmxlbmd0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ092ZWxhcHBpbmcgZWRpdCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGFzdE1vZGlmaWVkT2Zmc2V0ID0gc3RhcnRPZmZzZXQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRleHQ7XG4gICAgfVxuICAgIFRleHREb2N1bWVudC5hcHBseUVkaXRzID0gYXBwbHlFZGl0cztcbiAgICBmdW5jdGlvbiBtZXJnZVNvcnQoZGF0YSwgY29tcGFyZSkge1xuICAgICAgICBpZiAoZGF0YS5sZW5ndGggPD0gMSkge1xuICAgICAgICAgICAgLy8gc29ydGVkXG4gICAgICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcCA9IChkYXRhLmxlbmd0aCAvIDIpIHwgMDtcbiAgICAgICAgdmFyIGxlZnQgPSBkYXRhLnNsaWNlKDAsIHApO1xuICAgICAgICB2YXIgcmlnaHQgPSBkYXRhLnNsaWNlKHApO1xuICAgICAgICBtZXJnZVNvcnQobGVmdCwgY29tcGFyZSk7XG4gICAgICAgIG1lcmdlU29ydChyaWdodCwgY29tcGFyZSk7XG4gICAgICAgIHZhciBsZWZ0SWR4ID0gMDtcbiAgICAgICAgdmFyIHJpZ2h0SWR4ID0gMDtcbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICB3aGlsZSAobGVmdElkeCA8IGxlZnQubGVuZ3RoICYmIHJpZ2h0SWR4IDwgcmlnaHQubGVuZ3RoKSB7XG4gICAgICAgICAgICB2YXIgcmV0ID0gY29tcGFyZShsZWZ0W2xlZnRJZHhdLCByaWdodFtyaWdodElkeF0pO1xuICAgICAgICAgICAgaWYgKHJldCA8PSAwKSB7XG4gICAgICAgICAgICAgICAgLy8gc21hbGxlcl9lcXVhbCAtPiB0YWtlIGxlZnQgdG8gcHJlc2VydmUgb3JkZXJcbiAgICAgICAgICAgICAgICBkYXRhW2krK10gPSBsZWZ0W2xlZnRJZHgrK107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBncmVhdGVyIC0+IHRha2UgcmlnaHRcbiAgICAgICAgICAgICAgICBkYXRhW2krK10gPSByaWdodFtyaWdodElkeCsrXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAobGVmdElkeCA8IGxlZnQubGVuZ3RoKSB7XG4gICAgICAgICAgICBkYXRhW2krK10gPSBsZWZ0W2xlZnRJZHgrK107XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKHJpZ2h0SWR4IDwgcmlnaHQubGVuZ3RoKSB7XG4gICAgICAgICAgICBkYXRhW2krK10gPSByaWdodFtyaWdodElkeCsrXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG59KShUZXh0RG9jdW1lbnQgfHwgKFRleHREb2N1bWVudCA9IHt9KSk7XG4vKipcbiAqIFJlcHJlc2VudHMgcmVhc29ucyB3aHkgYSB0ZXh0IGRvY3VtZW50IGlzIHNhdmVkLlxuICovXG5leHBvcnQgdmFyIFRleHREb2N1bWVudFNhdmVSZWFzb247XG4oZnVuY3Rpb24gKFRleHREb2N1bWVudFNhdmVSZWFzb24pIHtcbiAgICAvKipcbiAgICAgKiBNYW51YWxseSB0cmlnZ2VyZWQsIGUuZy4gYnkgdGhlIHVzZXIgcHJlc3Npbmcgc2F2ZSwgYnkgc3RhcnRpbmcgZGVidWdnaW5nLFxuICAgICAqIG9yIGJ5IGFuIEFQSSBjYWxsLlxuICAgICAqL1xuICAgIFRleHREb2N1bWVudFNhdmVSZWFzb24uTWFudWFsID0gMTtcbiAgICAvKipcbiAgICAgKiBBdXRvbWF0aWMgYWZ0ZXIgYSBkZWxheS5cbiAgICAgKi9cbiAgICBUZXh0RG9jdW1lbnRTYXZlUmVhc29uLkFmdGVyRGVsYXkgPSAyO1xuICAgIC8qKlxuICAgICAqIFdoZW4gdGhlIGVkaXRvciBsb3N0IGZvY3VzLlxuICAgICAqL1xuICAgIFRleHREb2N1bWVudFNhdmVSZWFzb24uRm9jdXNPdXQgPSAzO1xufSkoVGV4dERvY3VtZW50U2F2ZVJlYXNvbiB8fCAoVGV4dERvY3VtZW50U2F2ZVJlYXNvbiA9IHt9KSk7XG52YXIgRnVsbFRleHREb2N1bWVudCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBGdWxsVGV4dERvY3VtZW50KHVyaSwgbGFuZ3VhZ2VJZCwgdmVyc2lvbiwgY29udGVudCkge1xuICAgICAgICB0aGlzLl91cmkgPSB1cmk7XG4gICAgICAgIHRoaXMuX2xhbmd1YWdlSWQgPSBsYW5ndWFnZUlkO1xuICAgICAgICB0aGlzLl92ZXJzaW9uID0gdmVyc2lvbjtcbiAgICAgICAgdGhpcy5fY29udGVudCA9IGNvbnRlbnQ7XG4gICAgICAgIHRoaXMuX2xpbmVPZmZzZXRzID0gbnVsbDtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEZ1bGxUZXh0RG9jdW1lbnQucHJvdG90eXBlLCBcInVyaVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3VyaTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEZ1bGxUZXh0RG9jdW1lbnQucHJvdG90eXBlLCBcImxhbmd1YWdlSWRcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9sYW5ndWFnZUlkO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRnVsbFRleHREb2N1bWVudC5wcm90b3R5cGUsIFwidmVyc2lvblwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3ZlcnNpb247XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIEZ1bGxUZXh0RG9jdW1lbnQucHJvdG90eXBlLmdldFRleHQgPSBmdW5jdGlvbiAocmFuZ2UpIHtcbiAgICAgICAgaWYgKHJhbmdlKSB7XG4gICAgICAgICAgICB2YXIgc3RhcnQgPSB0aGlzLm9mZnNldEF0KHJhbmdlLnN0YXJ0KTtcbiAgICAgICAgICAgIHZhciBlbmQgPSB0aGlzLm9mZnNldEF0KHJhbmdlLmVuZCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY29udGVudC5zdWJzdHJpbmcoc3RhcnQsIGVuZCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbnRlbnQ7XG4gICAgfTtcbiAgICBGdWxsVGV4dERvY3VtZW50LnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoZXZlbnQsIHZlcnNpb24pIHtcbiAgICAgICAgdGhpcy5fY29udGVudCA9IGV2ZW50LnRleHQ7XG4gICAgICAgIHRoaXMuX3ZlcnNpb24gPSB2ZXJzaW9uO1xuICAgICAgICB0aGlzLl9saW5lT2Zmc2V0cyA9IG51bGw7XG4gICAgfTtcbiAgICBGdWxsVGV4dERvY3VtZW50LnByb3RvdHlwZS5nZXRMaW5lT2Zmc2V0cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2xpbmVPZmZzZXRzID09PSBudWxsKSB7XG4gICAgICAgICAgICB2YXIgbGluZU9mZnNldHMgPSBbXTtcbiAgICAgICAgICAgIHZhciB0ZXh0ID0gdGhpcy5fY29udGVudDtcbiAgICAgICAgICAgIHZhciBpc0xpbmVTdGFydCA9IHRydWU7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRleHQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNMaW5lU3RhcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgbGluZU9mZnNldHMucHVzaChpKTtcbiAgICAgICAgICAgICAgICAgICAgaXNMaW5lU3RhcnQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIGNoID0gdGV4dC5jaGFyQXQoaSk7XG4gICAgICAgICAgICAgICAgaXNMaW5lU3RhcnQgPSAoY2ggPT09ICdcXHInIHx8IGNoID09PSAnXFxuJyk7XG4gICAgICAgICAgICAgICAgaWYgKGNoID09PSAnXFxyJyAmJiBpICsgMSA8IHRleHQubGVuZ3RoICYmIHRleHQuY2hhckF0KGkgKyAxKSA9PT0gJ1xcbicpIHtcbiAgICAgICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpc0xpbmVTdGFydCAmJiB0ZXh0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBsaW5lT2Zmc2V0cy5wdXNoKHRleHQubGVuZ3RoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2xpbmVPZmZzZXRzID0gbGluZU9mZnNldHM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2xpbmVPZmZzZXRzO1xuICAgIH07XG4gICAgRnVsbFRleHREb2N1bWVudC5wcm90b3R5cGUucG9zaXRpb25BdCA9IGZ1bmN0aW9uIChvZmZzZXQpIHtcbiAgICAgICAgb2Zmc2V0ID0gTWF0aC5tYXgoTWF0aC5taW4ob2Zmc2V0LCB0aGlzLl9jb250ZW50Lmxlbmd0aCksIDApO1xuICAgICAgICB2YXIgbGluZU9mZnNldHMgPSB0aGlzLmdldExpbmVPZmZzZXRzKCk7XG4gICAgICAgIHZhciBsb3cgPSAwLCBoaWdoID0gbGluZU9mZnNldHMubGVuZ3RoO1xuICAgICAgICBpZiAoaGlnaCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIFBvc2l0aW9uLmNyZWF0ZSgwLCBvZmZzZXQpO1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlIChsb3cgPCBoaWdoKSB7XG4gICAgICAgICAgICB2YXIgbWlkID0gTWF0aC5mbG9vcigobG93ICsgaGlnaCkgLyAyKTtcbiAgICAgICAgICAgIGlmIChsaW5lT2Zmc2V0c1ttaWRdID4gb2Zmc2V0KSB7XG4gICAgICAgICAgICAgICAgaGlnaCA9IG1pZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxvdyA9IG1pZCArIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gbG93IGlzIHRoZSBsZWFzdCB4IGZvciB3aGljaCB0aGUgbGluZSBvZmZzZXQgaXMgbGFyZ2VyIHRoYW4gdGhlIGN1cnJlbnQgb2Zmc2V0XG4gICAgICAgIC8vIG9yIGFycmF5Lmxlbmd0aCBpZiBubyBsaW5lIG9mZnNldCBpcyBsYXJnZXIgdGhhbiB0aGUgY3VycmVudCBvZmZzZXRcbiAgICAgICAgdmFyIGxpbmUgPSBsb3cgLSAxO1xuICAgICAgICByZXR1cm4gUG9zaXRpb24uY3JlYXRlKGxpbmUsIG9mZnNldCAtIGxpbmVPZmZzZXRzW2xpbmVdKTtcbiAgICB9O1xuICAgIEZ1bGxUZXh0RG9jdW1lbnQucHJvdG90eXBlLm9mZnNldEF0ID0gZnVuY3Rpb24gKHBvc2l0aW9uKSB7XG4gICAgICAgIHZhciBsaW5lT2Zmc2V0cyA9IHRoaXMuZ2V0TGluZU9mZnNldHMoKTtcbiAgICAgICAgaWYgKHBvc2l0aW9uLmxpbmUgPj0gbGluZU9mZnNldHMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY29udGVudC5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocG9zaXRpb24ubGluZSA8IDApIHtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG4gICAgICAgIHZhciBsaW5lT2Zmc2V0ID0gbGluZU9mZnNldHNbcG9zaXRpb24ubGluZV07XG4gICAgICAgIHZhciBuZXh0TGluZU9mZnNldCA9IChwb3NpdGlvbi5saW5lICsgMSA8IGxpbmVPZmZzZXRzLmxlbmd0aCkgPyBsaW5lT2Zmc2V0c1twb3NpdGlvbi5saW5lICsgMV0gOiB0aGlzLl9jb250ZW50Lmxlbmd0aDtcbiAgICAgICAgcmV0dXJuIE1hdGgubWF4KE1hdGgubWluKGxpbmVPZmZzZXQgKyBwb3NpdGlvbi5jaGFyYWN0ZXIsIG5leHRMaW5lT2Zmc2V0KSwgbGluZU9mZnNldCk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRnVsbFRleHREb2N1bWVudC5wcm90b3R5cGUsIFwibGluZUNvdW50XCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRMaW5lT2Zmc2V0cygpLmxlbmd0aDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIEZ1bGxUZXh0RG9jdW1lbnQ7XG59KCkpO1xudmFyIElzO1xuKGZ1bmN0aW9uIChJcykge1xuICAgIHZhciB0b1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG4gICAgZnVuY3Rpb24gZGVmaW5lZCh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHZhbHVlICE9PSAndW5kZWZpbmVkJztcbiAgICB9XG4gICAgSXMuZGVmaW5lZCA9IGRlZmluZWQ7XG4gICAgZnVuY3Rpb24gdW5kZWZpbmVkKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICd1bmRlZmluZWQnO1xuICAgIH1cbiAgICBJcy51bmRlZmluZWQgPSB1bmRlZmluZWQ7XG4gICAgZnVuY3Rpb24gYm9vbGVhbih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdmFsdWUgPT09IHRydWUgfHwgdmFsdWUgPT09IGZhbHNlO1xuICAgIH1cbiAgICBJcy5ib29sZWFuID0gYm9vbGVhbjtcbiAgICBmdW5jdGlvbiBzdHJpbmcodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsdWUpID09PSAnW29iamVjdCBTdHJpbmddJztcbiAgICB9XG4gICAgSXMuc3RyaW5nID0gc3RyaW5nO1xuICAgIGZ1bmN0aW9uIG51bWJlcih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09ICdbb2JqZWN0IE51bWJlcl0nO1xuICAgIH1cbiAgICBJcy5udW1iZXIgPSBudW1iZXI7XG4gICAgZnVuY3Rpb24gZnVuYyh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09ICdbb2JqZWN0IEZ1bmN0aW9uXSc7XG4gICAgfVxuICAgIElzLmZ1bmMgPSBmdW5jO1xuICAgIGZ1bmN0aW9uIHR5cGVkQXJyYXkodmFsdWUsIGNoZWNrKSB7XG4gICAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KHZhbHVlKSAmJiB2YWx1ZS5ldmVyeShjaGVjayk7XG4gICAgfVxuICAgIElzLnR5cGVkQXJyYXkgPSB0eXBlZEFycmF5O1xufSkoSXMgfHwgKElzID0ge30pKTtcbiJdLCJzb3VyY2VSb290IjoiIn0=