(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{463:function(e,n,t){"use strict";t.r(n);var r=monaco.Promise,o=function(){function e(e){var n=this;this._defaults=e,this._worker=null,this._idleCheckInterval=setInterval(function(){return n._checkIfIdle()},3e4),this._lastUsedTime=0,this._configChangeListener=this._defaults.onDidChange(function(){return n._stopWorker()})}return e.prototype._stopWorker=function(){this._worker&&(this._worker.dispose(),this._worker=null),this._client=null},e.prototype.dispose=function(){clearInterval(this._idleCheckInterval),this._configChangeListener.dispose(),this._stopWorker()},e.prototype._checkIfIdle=function(){this._worker&&(Date.now()-this._lastUsedTime>12e4&&this._stopWorker())},e.prototype._getClient=function(){return this._lastUsedTime=Date.now(),this._client||(this._worker=monaco.editor.createWebWorker({moduleId:"vs/language/css/cssWorker",label:this._defaults.languageId,createData:{languageSettings:this._defaults.diagnosticsOptions,languageId:this._defaults.languageId}}),this._client=this._worker.getProxy()),this._client},e.prototype.getLanguageServiceWorker=function(){for(var e,n,t,o,i,a=this,u=[],s=0;s<arguments.length;s++)u[s]=arguments[s];return n=this._getClient().then(function(n){e=n}).then(function(e){return a._worker.withSyncedResources(u)}).then(function(n){return e}),i=new r(function(e,n){t=e,o=n},function(){}),n.then(t,o),i},e}();var i=t(505),a=monaco.Uri,u=function(){function e(e,n,t){var r=this;this._languageId=e,this._worker=n,this._disposables=[],this._listener=Object.create(null);var o=function(e){var n,t=e.getModeId();t===r._languageId&&(r._listener[e.uri.toString()]=e.onDidChangeContent(function(){clearTimeout(n),n=setTimeout(function(){return r._doValidate(e.uri,t)},500)}),r._doValidate(e.uri,t))},i=function(e){monaco.editor.setModelMarkers(e,r._languageId,[]);var n=e.uri.toString(),t=r._listener[n];t&&(t.dispose(),delete r._listener[n])};this._disposables.push(monaco.editor.onDidCreateModel(o)),this._disposables.push(monaco.editor.onWillDisposeModel(i)),this._disposables.push(monaco.editor.onDidChangeModelLanguage(function(e){i(e.model),o(e.model)})),t.onDidChange(function(e){monaco.editor.getModels().forEach(function(e){e.getModeId()===r._languageId&&(i(e),o(e))})}),this._disposables.push({dispose:function(){for(var e in r._listener)r._listener[e].dispose()}}),monaco.editor.getModels().forEach(o)}return e.prototype.dispose=function(){this._disposables.forEach(function(e){return e&&e.dispose()}),this._disposables=[]},e.prototype._doValidate=function(e,n){this._worker(e).then(function(n){return n.doValidation(e.toString())}).then(function(t){var r=t.map(function(e){return t="number"==typeof(n=e).code?String(n.code):n.code,{severity:function(e){switch(e){case i.c.Error:return monaco.MarkerSeverity.Error;case i.c.Warning:return monaco.MarkerSeverity.Warning;case i.c.Information:return monaco.MarkerSeverity.Info;case i.c.Hint:return monaco.MarkerSeverity.Hint;default:return monaco.MarkerSeverity.Info}}(n.severity),startLineNumber:n.range.start.line+1,startColumn:n.range.start.character+1,endLineNumber:n.range.end.line+1,endColumn:n.range.end.character+1,message:n.message,code:t,source:n.source};var n,t}),o=monaco.editor.getModel(e);o.getModeId()===n&&monaco.editor.setModelMarkers(o,n,r)}).done(void 0,function(e){console.error(e)})},e}();function s(e){if(e)return{character:e.column-1,line:e.lineNumber-1}}function c(e){if(e)return new monaco.Range(e.start.line+1,e.start.character+1,e.end.line+1,e.end.character+1)}function l(e){if(e)return{range:c(e.range),text:e.newText}}var d=function(){function e(e){this._worker=e}return Object.defineProperty(e.prototype,"triggerCharacters",{get:function(){return[" ",":"]},enumerable:!0,configurable:!0}),e.prototype.provideCompletionItems=function(e,n,t){e.getWordUntilPosition(n);var r=e.uri;return b(t,this._worker(r).then(function(e){return e.doComplete(r.toString(),s(n))}).then(function(e){if(e){var n=e.items.map(function(e){var n={label:e.label,insertText:e.insertText,sortText:e.sortText,filterText:e.filterText,documentation:e.documentation,detail:e.detail,kind:function(e){var n=monaco.languages.CompletionItemKind;switch(e){case i.b.Text:return n.Text;case i.b.Method:return n.Method;case i.b.Function:return n.Function;case i.b.Constructor:return n.Constructor;case i.b.Field:return n.Field;case i.b.Variable:return n.Variable;case i.b.Class:return n.Class;case i.b.Interface:return n.Interface;case i.b.Module:return n.Module;case i.b.Property:return n.Property;case i.b.Unit:return n.Unit;case i.b.Value:return n.Value;case i.b.Enum:return n.Enum;case i.b.Keyword:return n.Keyword;case i.b.Snippet:return n.Snippet;case i.b.Color:return n.Color;case i.b.File:return n.File;case i.b.Reference:return n.Reference}return n.Property}(e.kind)};return e.textEdit&&(n.range=c(e.textEdit.range),n.insertText=e.textEdit.newText),e.additionalTextEdits&&(n.additionalTextEdits=e.additionalTextEdits.map(l)),e.insertTextFormat===i.e.Snippet&&(n.insertText={value:n.insertText}),n});return{isIncomplete:e.isIncomplete,items:n}}}))},e}();function f(e){return"string"==typeof e?{value:e}:(n=e)&&"object"==typeof n&&"string"==typeof n.kind?"plaintext"===e.kind?{value:e.value.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}:{value:e.value}:{value:"```"+e.language+"\n"+e.value+"\n```\n"};var n}var g=function(){function e(e){this._worker=e}return e.prototype.provideHover=function(e,n,t){var r=e.uri;return b(t,this._worker(r).then(function(e){return e.doHover(r.toString(),s(n))}).then(function(e){if(e)return{range:c(e.range),contents:function(e){if(e)return Array.isArray(e)?e.map(f):[f(e)]}(e.contents)}}))},e}();var h=function(){function e(e){this._worker=e}return e.prototype.provideDocumentHighlights=function(e,n,t){var r=e.uri;return b(t,this._worker(r).then(function(e){return e.findDocumentHighlights(r.toString(),s(n))}).then(function(e){if(e)return e.map(function(e){return{range:c(e.range),kind:function(e){switch(e){case i.d.Read:return monaco.languages.DocumentHighlightKind.Read;case i.d.Write:return monaco.languages.DocumentHighlightKind.Write;case i.d.Text:return monaco.languages.DocumentHighlightKind.Text}return monaco.languages.DocumentHighlightKind.Text}(e.kind)}})}))},e}();function p(e){return{uri:a.parse(e.uri),range:c(e.range)}}var m=function(){function e(e){this._worker=e}return e.prototype.provideDefinition=function(e,n,t){var r=e.uri;return b(t,this._worker(r).then(function(e){return e.findDefinition(r.toString(),s(n))}).then(function(e){if(e)return[p(e)]}))},e}(),v=function(){function e(e){this._worker=e}return e.prototype.provideReferences=function(e,n,t,r){var o=e.uri;return b(r,this._worker(o).then(function(e){return e.findReferences(o.toString(),s(n))}).then(function(e){if(e)return e.map(p)}))},e}();var _=function(){function e(e){this._worker=e}return e.prototype.provideRenameEdits=function(e,n,t,r){var o=e.uri;return b(r,this._worker(o).then(function(e){return e.doRename(o.toString(),s(n),t)}).then(function(e){return function(e){if(e&&e.changes){var n=[];for(var t in e.changes){for(var r=[],o=0,i=e.changes[t];o<i.length;o++){var u=i[o];r.push({range:c(u.range),text:u.newText})}n.push({resource:a.parse(t),edits:r})}return{edits:n}}}(e)}))},e}();var k=function(){function e(e){this._worker=e}return e.prototype.provideDocumentSymbols=function(e,n){var t=e.uri;return b(n,this._worker(t).then(function(e){return e.findDocumentSymbols(t.toString())}).then(function(e){if(e)return e.map(function(e){return{name:e.name,containerName:e.containerName,kind:function(e){var n=monaco.languages.SymbolKind;switch(e){case i.j.File:return n.Array;case i.j.Module:return n.Module;case i.j.Namespace:return n.Namespace;case i.j.Package:return n.Package;case i.j.Class:return n.Class;case i.j.Method:return n.Method;case i.j.Property:return n.Property;case i.j.Field:return n.Field;case i.j.Constructor:return n.Constructor;case i.j.Enum:return n.Enum;case i.j.Interface:return n.Interface;case i.j.Function:return n.Function;case i.j.Variable:return n.Variable;case i.j.Constant:return n.Constant;case i.j.String:return n.String;case i.j.Number:return n.Number;case i.j.Boolean:return n.Boolean;case i.j.Array:return n.Array}return n.Function}(e.kind),location:p(e.location)}})}))},e}(),w=function(){function e(e){this._worker=e}return e.prototype.provideDocumentColors=function(e,n){var t=e.uri;return b(n,this._worker(t).then(function(e){return e.findDocumentColors(t.toString())}).then(function(e){if(e)return e.map(function(e){return{color:e.color,range:c(e.range)}})}))},e.prototype.provideColorPresentations=function(e,n,t){var r=e.uri;return b(t,this._worker(r).then(function(e){return e.getColorPresentations(r.toString(),n.color,function(e){if(e)return{start:{line:e.startLineNumber-1,character:e.startColumn-1},end:{line:e.endLineNumber-1,character:e.endColumn-1}}}(n.range))}).then(function(e){if(e)return e.map(function(e){var n={label:e.label};return e.textEdit&&(n.textEdit=l(e.textEdit)),e.additionalTextEdits&&(n.additionalTextEdits=e.additionalTextEdits.map(l)),n})}))},e}();function b(e,n){return e.onCancellationRequested(function(){return n.cancel()}),n}function y(e){var n=new o(e),t=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return n.getLanguageServiceWorker.apply(n,[e].concat(t))},r=e.languageId;monaco.languages.registerCompletionItemProvider(r,new d(t)),monaco.languages.registerHoverProvider(r,new g(t)),monaco.languages.registerDocumentHighlightProvider(r,new h(t)),monaco.languages.registerDefinitionProvider(r,new m(t)),monaco.languages.registerReferenceProvider(r,new v(t)),monaco.languages.registerDocumentSymbolProvider(r,new k(t)),monaco.languages.registerRenameProvider(r,new _(t)),monaco.languages.registerColorProvider(r,new w(t)),new u(r,t,e)}t.d(n,"setupMode",function(){return y})}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvbGFuZ3VhZ2UvY3NzL3dvcmtlck1hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2xhbmd1YWdlL2Nzcy9sYW5ndWFnZUZlYXR1cmVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9sYW5ndWFnZS9jc3MvY3NzTW9kZS5qcyJdLCJuYW1lcyI6WyJQcm9taXNlIiwibW9uYWNvIiwiV29ya2VyTWFuYWdlciIsImRlZmF1bHRzIiwiX3RoaXMiLCJ0aGlzIiwiX2RlZmF1bHRzIiwiX3dvcmtlciIsIl9pZGxlQ2hlY2tJbnRlcnZhbCIsInNldEludGVydmFsIiwiX2NoZWNrSWZJZGxlIiwiX2xhc3RVc2VkVGltZSIsIl9jb25maWdDaGFuZ2VMaXN0ZW5lciIsIm9uRGlkQ2hhbmdlIiwiX3N0b3BXb3JrZXIiLCJwcm90b3R5cGUiLCJkaXNwb3NlIiwiX2NsaWVudCIsImNsZWFySW50ZXJ2YWwiLCJEYXRlIiwibm93IiwiX2dldENsaWVudCIsImVkaXRvciIsImNyZWF0ZVdlYldvcmtlciIsIm1vZHVsZUlkIiwibGFiZWwiLCJsYW5ndWFnZUlkIiwiY3JlYXRlRGF0YSIsImxhbmd1YWdlU2V0dGluZ3MiLCJkaWFnbm9zdGljc09wdGlvbnMiLCJnZXRQcm94eSIsImdldExhbmd1YWdlU2VydmljZVdvcmtlciIsInAiLCJjb21wbGV0ZUNhbGxiYWNrIiwiZXJyb3JDYWxsYmFjayIsInIiLCJyZXNvdXJjZXMiLCJfaSIsImFyZ3VtZW50cyIsImxlbmd0aCIsInRoZW4iLCJjbGllbnQiLCJfIiwid2l0aFN5bmNlZFJlc291cmNlcyIsImMiLCJlIiwiVXJpIiwiRGlhZ25vc3RpY3NBZGFwdGVyIiwiX2xhbmd1YWdlSWQiLCJfZGlzcG9zYWJsZXMiLCJfbGlzdGVuZXIiLCJPYmplY3QiLCJjcmVhdGUiLCJvbk1vZGVsQWRkIiwibW9kZWwiLCJoYW5kbGUiLCJtb2RlSWQiLCJnZXRNb2RlSWQiLCJ1cmkiLCJ0b1N0cmluZyIsIm9uRGlkQ2hhbmdlQ29udGVudCIsImNsZWFyVGltZW91dCIsInNldFRpbWVvdXQiLCJfZG9WYWxpZGF0ZSIsIm9uTW9kZWxSZW1vdmVkIiwic2V0TW9kZWxNYXJrZXJzIiwidXJpU3RyIiwibGlzdGVuZXIiLCJwdXNoIiwib25EaWRDcmVhdGVNb2RlbCIsIm9uV2lsbERpc3Bvc2VNb2RlbCIsIm9uRGlkQ2hhbmdlTW9kZWxMYW5ndWFnZSIsImV2ZW50IiwiZ2V0TW9kZWxzIiwiZm9yRWFjaCIsImtleSIsImQiLCJyZXNvdXJjZSIsIndvcmtlciIsImRvVmFsaWRhdGlvbiIsImRpYWdub3N0aWNzIiwibWFya2VycyIsIm1hcCIsImNvZGUiLCJkaWFnIiwiU3RyaW5nIiwic2V2ZXJpdHkiLCJsc1NldmVyaXR5IiwibWFpbiIsIkVycm9yIiwiTWFya2VyU2V2ZXJpdHkiLCJXYXJuaW5nIiwiSW5mb3JtYXRpb24iLCJJbmZvIiwiSGludCIsInRvU2V2ZXJpdHkiLCJzdGFydExpbmVOdW1iZXIiLCJyYW5nZSIsInN0YXJ0IiwibGluZSIsInN0YXJ0Q29sdW1uIiwiY2hhcmFjdGVyIiwiZW5kTGluZU51bWJlciIsImVuZCIsImVuZENvbHVtbiIsIm1lc3NhZ2UiLCJzb3VyY2UiLCJnZXRNb2RlbCIsImRvbmUiLCJ1bmRlZmluZWQiLCJlcnIiLCJjb25zb2xlIiwiZXJyb3IiLCJmcm9tUG9zaXRpb24iLCJwb3NpdGlvbiIsImNvbHVtbiIsImxpbmVOdW1iZXIiLCJ0b1JhbmdlIiwiUmFuZ2UiLCJ0b1RleHRFZGl0IiwidGV4dEVkaXQiLCJ0ZXh0IiwibmV3VGV4dCIsImxhbmd1YWdlRmVhdHVyZXNfQ29tcGxldGlvbkFkYXB0ZXIiLCJDb21wbGV0aW9uQWRhcHRlciIsImRlZmluZVByb3BlcnR5IiwiZ2V0IiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsInByb3ZpZGVDb21wbGV0aW9uSXRlbXMiLCJ0b2tlbiIsImdldFdvcmRVbnRpbFBvc2l0aW9uIiwid2lyZUNhbmNlbGxhdGlvblRva2VuIiwiZG9Db21wbGV0ZSIsImluZm8iLCJpdGVtcyIsImVudHJ5IiwiaXRlbSIsImluc2VydFRleHQiLCJzb3J0VGV4dCIsImZpbHRlclRleHQiLCJkb2N1bWVudGF0aW9uIiwiZGV0YWlsIiwia2luZCIsIm1JdGVtS2luZCIsImxhbmd1YWdlcyIsIkNvbXBsZXRpb25JdGVtS2luZCIsIlRleHQiLCJNZXRob2QiLCJGdW5jdGlvbiIsIkNvbnN0cnVjdG9yIiwiRmllbGQiLCJWYXJpYWJsZSIsIkNsYXNzIiwiSW50ZXJmYWNlIiwiTW9kdWxlIiwiUHJvcGVydHkiLCJVbml0IiwiVmFsdWUiLCJFbnVtIiwiS2V5d29yZCIsIlNuaXBwZXQiLCJDb2xvciIsIkZpbGUiLCJSZWZlcmVuY2UiLCJ0b0NvbXBsZXRpb25JdGVtS2luZCIsImFkZGl0aW9uYWxUZXh0RWRpdHMiLCJpbnNlcnRUZXh0Rm9ybWF0IiwidmFsdWUiLCJpc0luY29tcGxldGUiLCJ0b01hcmtkb3duU3RyaW5nIiwidGhpbmciLCJyZXBsYWNlIiwibGFuZ3VhZ2UiLCJIb3ZlckFkYXB0ZXIiLCJwcm92aWRlSG92ZXIiLCJkb0hvdmVyIiwiY29udGVudHMiLCJBcnJheSIsImlzQXJyYXkiLCJ0b01hcmtlZFN0cmluZ0FycmF5IiwiRG9jdW1lbnRIaWdobGlnaHRBZGFwdGVyIiwicHJvdmlkZURvY3VtZW50SGlnaGxpZ2h0cyIsImZpbmREb2N1bWVudEhpZ2hsaWdodHMiLCJlbnRyaWVzIiwiUmVhZCIsIkRvY3VtZW50SGlnaGxpZ2h0S2luZCIsIldyaXRlIiwidG9Eb2N1bWVudEhpZ2hsaWdodEtpbmQiLCJ0b0xvY2F0aW9uIiwibG9jYXRpb24iLCJwYXJzZSIsIkRlZmluaXRpb25BZGFwdGVyIiwicHJvdmlkZURlZmluaXRpb24iLCJmaW5kRGVmaW5pdGlvbiIsImRlZmluaXRpb24iLCJSZWZlcmVuY2VBZGFwdGVyIiwicHJvdmlkZVJlZmVyZW5jZXMiLCJjb250ZXh0IiwiZmluZFJlZmVyZW5jZXMiLCJSZW5hbWVBZGFwdGVyIiwicHJvdmlkZVJlbmFtZUVkaXRzIiwibmV3TmFtZSIsImRvUmVuYW1lIiwiZWRpdCIsImNoYW5nZXMiLCJyZXNvdXJjZUVkaXRzIiwiZWRpdHMiLCJfYSIsInRvV29ya3NwYWNlRWRpdCIsIkRvY3VtZW50U3ltYm9sQWRhcHRlciIsInByb3ZpZGVEb2N1bWVudFN5bWJvbHMiLCJmaW5kRG9jdW1lbnRTeW1ib2xzIiwibmFtZSIsImNvbnRhaW5lck5hbWUiLCJtS2luZCIsIlN5bWJvbEtpbmQiLCJOYW1lc3BhY2UiLCJQYWNrYWdlIiwiQ29uc3RhbnQiLCJOdW1iZXIiLCJCb29sZWFuIiwidG9TeW1ib2xLaW5kIiwiRG9jdW1lbnRDb2xvckFkYXB0ZXIiLCJwcm92aWRlRG9jdW1lbnRDb2xvcnMiLCJmaW5kRG9jdW1lbnRDb2xvcnMiLCJpbmZvcyIsImNvbG9yIiwicHJvdmlkZUNvbG9yUHJlc2VudGF0aW9ucyIsImdldENvbG9yUHJlc2VudGF0aW9ucyIsImZyb21SYW5nZSIsInByZXNlbnRhdGlvbnMiLCJwcmVzZW50YXRpb24iLCJwcm9taXNlIiwib25DYW5jZWxsYXRpb25SZXF1ZXN0ZWQiLCJjYW5jZWwiLCJzZXR1cE1vZGUiLCJmaXJzdCIsIm1vcmUiLCJhcHBseSIsImNvbmNhdCIsInJlZ2lzdGVyQ29tcGxldGlvbkl0ZW1Qcm92aWRlciIsInJlZ2lzdGVySG92ZXJQcm92aWRlciIsInJlZ2lzdGVyRG9jdW1lbnRIaWdobGlnaHRQcm92aWRlciIsInJlZ2lzdGVyRGVmaW5pdGlvblByb3ZpZGVyIiwicmVnaXN0ZXJSZWZlcmVuY2VQcm92aWRlciIsInJlZ2lzdGVyRG9jdW1lbnRTeW1ib2xQcm92aWRlciIsInJlZ2lzdGVyUmVuYW1lUHJvdmlkZXIiLCJyZWdpc3RlckNvbG9yUHJvdmlkZXIiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiX193ZWJwYWNrX2V4cG9ydHNfXyJdLCJt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T0FBQWdKLFVBQUFnRywrQkFBQXZOLEVBQUEsSUFBQWlHLEVBQUE3QyxJQUNBN0UsT0FBQWdKLFVBQUFpRyxzQkFBQXhOLEVBQUEsSUFBQW9KLEVBQUFoRyxJQUNBN0UsT0FBQWdKLFVBQUFrRyxrQ0FBQXpOLEVBQUEsSUFBQTJKLEVBQUF2RyxJQUNBN0UsT0FBQWdKLFVBQUFtRywyQkFBQTFOLEVBQUEsSUFBQXNLLEVBQUFsSCxJQUNBN0UsT0FBQWdKLFVBQUFvRywwQkFBQTNOLEVBQUEsSUFBQTBLLEVBQUF0SCxJQUNBN0UsT0FBQWdKLFVBQUFxRywrQkFBQTVOLEVBQUEsSUFBQXdMLEVBQUFwSSxJQUNBN0UsT0FBQWdKLFVBQUFzRyx1QkFBQTdOLEVBQUEsSUFBQThLLEVBQUExSCxJQUNBN0UsT0FBQWdKLFVBQUF1RyxzQkFBQTlOLEVBQUEsSUFBQXFNLEVBQUFqSixJQUNBLElBQUEvQixFQUFBckIsRUFBQW9ELEVBQUEzRSxHQXpCQXNQLEVBQUE3SyxFQUFBOEssRUFBQSw4QkFBQWQiLCJmaWxlIjoiMTQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbid1c2Ugc3RyaWN0JztcbnZhciBQcm9taXNlID0gbW9uYWNvLlByb21pc2U7XG52YXIgU1RPUF9XSEVOX0lETEVfRk9SID0gMiAqIDYwICogMTAwMDsgLy8gMm1pblxudmFyIFdvcmtlck1hbmFnZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gV29ya2VyTWFuYWdlcihkZWZhdWx0cykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLl9kZWZhdWx0cyA9IGRlZmF1bHRzO1xuICAgICAgICB0aGlzLl93b3JrZXIgPSBudWxsO1xuICAgICAgICB0aGlzLl9pZGxlQ2hlY2tJbnRlcnZhbCA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLl9jaGVja0lmSWRsZSgpOyB9LCAzMCAqIDEwMDApO1xuICAgICAgICB0aGlzLl9sYXN0VXNlZFRpbWUgPSAwO1xuICAgICAgICB0aGlzLl9jb25maWdDaGFuZ2VMaXN0ZW5lciA9IHRoaXMuX2RlZmF1bHRzLm9uRGlkQ2hhbmdlKGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLl9zdG9wV29ya2VyKCk7IH0pO1xuICAgIH1cbiAgICBXb3JrZXJNYW5hZ2VyLnByb3RvdHlwZS5fc3RvcFdvcmtlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3dvcmtlcikge1xuICAgICAgICAgICAgdGhpcy5fd29ya2VyLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIHRoaXMuX3dvcmtlciA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fY2xpZW50ID0gbnVsbDtcbiAgICB9O1xuICAgIFdvcmtlck1hbmFnZXIucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5faWRsZUNoZWNrSW50ZXJ2YWwpO1xuICAgICAgICB0aGlzLl9jb25maWdDaGFuZ2VMaXN0ZW5lci5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMuX3N0b3BXb3JrZXIoKTtcbiAgICB9O1xuICAgIFdvcmtlck1hbmFnZXIucHJvdG90eXBlLl9jaGVja0lmSWRsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl93b3JrZXIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdGltZVBhc3NlZFNpbmNlTGFzdFVzZWQgPSBEYXRlLm5vdygpIC0gdGhpcy5fbGFzdFVzZWRUaW1lO1xuICAgICAgICBpZiAodGltZVBhc3NlZFNpbmNlTGFzdFVzZWQgPiBTVE9QX1dIRU5fSURMRV9GT1IpIHtcbiAgICAgICAgICAgIHRoaXMuX3N0b3BXb3JrZXIoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgV29ya2VyTWFuYWdlci5wcm90b3R5cGUuX2dldENsaWVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fbGFzdFVzZWRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICAgICAgaWYgKCF0aGlzLl9jbGllbnQpIHtcbiAgICAgICAgICAgIHRoaXMuX3dvcmtlciA9IG1vbmFjby5lZGl0b3IuY3JlYXRlV2ViV29ya2VyKHtcbiAgICAgICAgICAgICAgICAvLyBtb2R1bGUgdGhhdCBleHBvcnRzIHRoZSBjcmVhdGUoKSBtZXRob2QgYW5kIHJldHVybnMgYSBgQ1NTV29ya2VyYCBpbnN0YW5jZVxuICAgICAgICAgICAgICAgIG1vZHVsZUlkOiAndnMvbGFuZ3VhZ2UvY3NzL2Nzc1dvcmtlcicsXG4gICAgICAgICAgICAgICAgbGFiZWw6IHRoaXMuX2RlZmF1bHRzLmxhbmd1YWdlSWQsXG4gICAgICAgICAgICAgICAgLy8gcGFzc2VkIGluIHRvIHRoZSBjcmVhdGUoKSBtZXRob2RcbiAgICAgICAgICAgICAgICBjcmVhdGVEYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgIGxhbmd1YWdlU2V0dGluZ3M6IHRoaXMuX2RlZmF1bHRzLmRpYWdub3N0aWNzT3B0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgbGFuZ3VhZ2VJZDogdGhpcy5fZGVmYXVsdHMubGFuZ3VhZ2VJZFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5fY2xpZW50ID0gdGhpcy5fd29ya2VyLmdldFByb3h5KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudDtcbiAgICB9O1xuICAgIFdvcmtlck1hbmFnZXIucHJvdG90eXBlLmdldExhbmd1YWdlU2VydmljZVdvcmtlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIHJlc291cmNlcyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgcmVzb3VyY2VzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIF9jbGllbnQ7XG4gICAgICAgIHJldHVybiB0b1NoYWxsb3dDYW5jZWxQcm9taXNlKHRoaXMuX2dldENsaWVudCgpLnRoZW4oZnVuY3Rpb24gKGNsaWVudCkge1xuICAgICAgICAgICAgX2NsaWVudCA9IGNsaWVudDtcbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoXykge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLl93b3JrZXIud2l0aFN5bmNlZFJlc291cmNlcyhyZXNvdXJjZXMpO1xuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChfKSB7IHJldHVybiBfY2xpZW50OyB9KSk7XG4gICAgfTtcbiAgICByZXR1cm4gV29ya2VyTWFuYWdlcjtcbn0oKSk7XG5leHBvcnQgeyBXb3JrZXJNYW5hZ2VyIH07XG5mdW5jdGlvbiB0b1NoYWxsb3dDYW5jZWxQcm9taXNlKHApIHtcbiAgICB2YXIgY29tcGxldGVDYWxsYmFjaztcbiAgICB2YXIgZXJyb3JDYWxsYmFjaztcbiAgICB2YXIgciA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChjLCBlKSB7XG4gICAgICAgIGNvbXBsZXRlQ2FsbGJhY2sgPSBjO1xuICAgICAgICBlcnJvckNhbGxiYWNrID0gZTtcbiAgICB9LCBmdW5jdGlvbiAoKSB7IH0pO1xuICAgIHAudGhlbihjb21wbGV0ZUNhbGxiYWNrLCBlcnJvckNhbGxiYWNrKTtcbiAgICByZXR1cm4gcjtcbn1cbiIsIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuJ3VzZSBzdHJpY3QnO1xuaW1wb3J0ICogYXMgbHMgZnJvbSAnLi9fZGVwcy92c2NvZGUtbGFuZ3VhZ2VzZXJ2ZXItdHlwZXMvbWFpbi5qcyc7XG52YXIgVXJpID0gbW9uYWNvLlVyaTtcbi8vIC0tLSBkaWFnbm9zdGljcyAtLS0gLS0tXG52YXIgRGlhZ25vc3RpY3NBZGFwdGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIERpYWdub3N0aWNzQWRhcHRlcihfbGFuZ3VhZ2VJZCwgX3dvcmtlciwgZGVmYXVsdHMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5fbGFuZ3VhZ2VJZCA9IF9sYW5ndWFnZUlkO1xuICAgICAgICB0aGlzLl93b3JrZXIgPSBfd29ya2VyO1xuICAgICAgICB0aGlzLl9kaXNwb3NhYmxlcyA9IFtdO1xuICAgICAgICB0aGlzLl9saXN0ZW5lciA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIHZhciBvbk1vZGVsQWRkID0gZnVuY3Rpb24gKG1vZGVsKSB7XG4gICAgICAgICAgICB2YXIgbW9kZUlkID0gbW9kZWwuZ2V0TW9kZUlkKCk7XG4gICAgICAgICAgICBpZiAobW9kZUlkICE9PSBfdGhpcy5fbGFuZ3VhZ2VJZCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBoYW5kbGU7XG4gICAgICAgICAgICBfdGhpcy5fbGlzdGVuZXJbbW9kZWwudXJpLnRvU3RyaW5nKCldID0gbW9kZWwub25EaWRDaGFuZ2VDb250ZW50KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoaGFuZGxlKTtcbiAgICAgICAgICAgICAgICBoYW5kbGUgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLl9kb1ZhbGlkYXRlKG1vZGVsLnVyaSwgbW9kZUlkKTsgfSwgNTAwKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgX3RoaXMuX2RvVmFsaWRhdGUobW9kZWwudXJpLCBtb2RlSWQpO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgb25Nb2RlbFJlbW92ZWQgPSBmdW5jdGlvbiAobW9kZWwpIHtcbiAgICAgICAgICAgIG1vbmFjby5lZGl0b3Iuc2V0TW9kZWxNYXJrZXJzKG1vZGVsLCBfdGhpcy5fbGFuZ3VhZ2VJZCwgW10pO1xuICAgICAgICAgICAgdmFyIHVyaVN0ciA9IG1vZGVsLnVyaS50b1N0cmluZygpO1xuICAgICAgICAgICAgdmFyIGxpc3RlbmVyID0gX3RoaXMuX2xpc3RlbmVyW3VyaVN0cl07XG4gICAgICAgICAgICBpZiAobGlzdGVuZXIpIHtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lci5kaXNwb3NlKCk7XG4gICAgICAgICAgICAgICAgZGVsZXRlIF90aGlzLl9saXN0ZW5lclt1cmlTdHJdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLl9kaXNwb3NhYmxlcy5wdXNoKG1vbmFjby5lZGl0b3Iub25EaWRDcmVhdGVNb2RlbChvbk1vZGVsQWRkKSk7XG4gICAgICAgIHRoaXMuX2Rpc3Bvc2FibGVzLnB1c2gobW9uYWNvLmVkaXRvci5vbldpbGxEaXNwb3NlTW9kZWwob25Nb2RlbFJlbW92ZWQpKTtcbiAgICAgICAgdGhpcy5fZGlzcG9zYWJsZXMucHVzaChtb25hY28uZWRpdG9yLm9uRGlkQ2hhbmdlTW9kZWxMYW5ndWFnZShmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIG9uTW9kZWxSZW1vdmVkKGV2ZW50Lm1vZGVsKTtcbiAgICAgICAgICAgIG9uTW9kZWxBZGQoZXZlbnQubW9kZWwpO1xuICAgICAgICB9KSk7XG4gICAgICAgIGRlZmF1bHRzLm9uRGlkQ2hhbmdlKGZ1bmN0aW9uIChfKSB7XG4gICAgICAgICAgICBtb25hY28uZWRpdG9yLmdldE1vZGVscygpLmZvckVhY2goZnVuY3Rpb24gKG1vZGVsKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1vZGVsLmdldE1vZGVJZCgpID09PSBfdGhpcy5fbGFuZ3VhZ2VJZCkge1xuICAgICAgICAgICAgICAgICAgICBvbk1vZGVsUmVtb3ZlZChtb2RlbCk7XG4gICAgICAgICAgICAgICAgICAgIG9uTW9kZWxBZGQobW9kZWwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fZGlzcG9zYWJsZXMucHVzaCh7XG4gICAgICAgICAgICBkaXNwb3NlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIF90aGlzLl9saXN0ZW5lcikge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fbGlzdGVuZXJba2V5XS5kaXNwb3NlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgbW9uYWNvLmVkaXRvci5nZXRNb2RlbHMoKS5mb3JFYWNoKG9uTW9kZWxBZGQpO1xuICAgIH1cbiAgICBEaWFnbm9zdGljc0FkYXB0ZXIucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX2Rpc3Bvc2FibGVzLmZvckVhY2goZnVuY3Rpb24gKGQpIHsgcmV0dXJuIGQgJiYgZC5kaXNwb3NlKCk7IH0pO1xuICAgICAgICB0aGlzLl9kaXNwb3NhYmxlcyA9IFtdO1xuICAgIH07XG4gICAgRGlhZ25vc3RpY3NBZGFwdGVyLnByb3RvdHlwZS5fZG9WYWxpZGF0ZSA9IGZ1bmN0aW9uIChyZXNvdXJjZSwgbGFuZ3VhZ2VJZCkge1xuICAgICAgICB0aGlzLl93b3JrZXIocmVzb3VyY2UpLnRoZW4oZnVuY3Rpb24gKHdvcmtlcikge1xuICAgICAgICAgICAgcmV0dXJuIHdvcmtlci5kb1ZhbGlkYXRpb24ocmVzb3VyY2UudG9TdHJpbmcoKSk7XG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGRpYWdub3N0aWNzKSB7XG4gICAgICAgICAgICB2YXIgbWFya2VycyA9IGRpYWdub3N0aWNzLm1hcChmdW5jdGlvbiAoZCkgeyByZXR1cm4gdG9EaWFnbm9zdGljcyhyZXNvdXJjZSwgZCk7IH0pO1xuICAgICAgICAgICAgdmFyIG1vZGVsID0gbW9uYWNvLmVkaXRvci5nZXRNb2RlbChyZXNvdXJjZSk7XG4gICAgICAgICAgICBpZiAobW9kZWwuZ2V0TW9kZUlkKCkgPT09IGxhbmd1YWdlSWQpIHtcbiAgICAgICAgICAgICAgICBtb25hY28uZWRpdG9yLnNldE1vZGVsTWFya2Vycyhtb2RlbCwgbGFuZ3VhZ2VJZCwgbWFya2Vycyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pLmRvbmUodW5kZWZpbmVkLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIERpYWdub3N0aWNzQWRhcHRlcjtcbn0oKSk7XG5leHBvcnQgeyBEaWFnbm9zdGljc0FkYXB0ZXIgfTtcbmZ1bmN0aW9uIHRvU2V2ZXJpdHkobHNTZXZlcml0eSkge1xuICAgIHN3aXRjaCAobHNTZXZlcml0eSkge1xuICAgICAgICBjYXNlIGxzLkRpYWdub3N0aWNTZXZlcml0eS5FcnJvcjogcmV0dXJuIG1vbmFjby5NYXJrZXJTZXZlcml0eS5FcnJvcjtcbiAgICAgICAgY2FzZSBscy5EaWFnbm9zdGljU2V2ZXJpdHkuV2FybmluZzogcmV0dXJuIG1vbmFjby5NYXJrZXJTZXZlcml0eS5XYXJuaW5nO1xuICAgICAgICBjYXNlIGxzLkRpYWdub3N0aWNTZXZlcml0eS5JbmZvcm1hdGlvbjogcmV0dXJuIG1vbmFjby5NYXJrZXJTZXZlcml0eS5JbmZvO1xuICAgICAgICBjYXNlIGxzLkRpYWdub3N0aWNTZXZlcml0eS5IaW50OiByZXR1cm4gbW9uYWNvLk1hcmtlclNldmVyaXR5LkhpbnQ7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gbW9uYWNvLk1hcmtlclNldmVyaXR5LkluZm87XG4gICAgfVxufVxuZnVuY3Rpb24gdG9EaWFnbm9zdGljcyhyZXNvdXJjZSwgZGlhZykge1xuICAgIHZhciBjb2RlID0gdHlwZW9mIGRpYWcuY29kZSA9PT0gJ251bWJlcicgPyBTdHJpbmcoZGlhZy5jb2RlKSA6IGRpYWcuY29kZTtcbiAgICByZXR1cm4ge1xuICAgICAgICBzZXZlcml0eTogdG9TZXZlcml0eShkaWFnLnNldmVyaXR5KSxcbiAgICAgICAgc3RhcnRMaW5lTnVtYmVyOiBkaWFnLnJhbmdlLnN0YXJ0LmxpbmUgKyAxLFxuICAgICAgICBzdGFydENvbHVtbjogZGlhZy5yYW5nZS5zdGFydC5jaGFyYWN0ZXIgKyAxLFxuICAgICAgICBlbmRMaW5lTnVtYmVyOiBkaWFnLnJhbmdlLmVuZC5saW5lICsgMSxcbiAgICAgICAgZW5kQ29sdW1uOiBkaWFnLnJhbmdlLmVuZC5jaGFyYWN0ZXIgKyAxLFxuICAgICAgICBtZXNzYWdlOiBkaWFnLm1lc3NhZ2UsXG4gICAgICAgIGNvZGU6IGNvZGUsXG4gICAgICAgIHNvdXJjZTogZGlhZy5zb3VyY2VcbiAgICB9O1xufVxuLy8gLS0tIGNvbXBsZXRpb24gLS0tLS0tXG5mdW5jdGlvbiBmcm9tUG9zaXRpb24ocG9zaXRpb24pIHtcbiAgICBpZiAoIXBvc2l0aW9uKSB7XG4gICAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgfVxuICAgIHJldHVybiB7IGNoYXJhY3RlcjogcG9zaXRpb24uY29sdW1uIC0gMSwgbGluZTogcG9zaXRpb24ubGluZU51bWJlciAtIDEgfTtcbn1cbmZ1bmN0aW9uIGZyb21SYW5nZShyYW5nZSkge1xuICAgIGlmICghcmFuZ2UpIHtcbiAgICAgICAgcmV0dXJuIHZvaWQgMDtcbiAgICB9XG4gICAgcmV0dXJuIHsgc3RhcnQ6IHsgbGluZTogcmFuZ2Uuc3RhcnRMaW5lTnVtYmVyIC0gMSwgY2hhcmFjdGVyOiByYW5nZS5zdGFydENvbHVtbiAtIDEgfSwgZW5kOiB7IGxpbmU6IHJhbmdlLmVuZExpbmVOdW1iZXIgLSAxLCBjaGFyYWN0ZXI6IHJhbmdlLmVuZENvbHVtbiAtIDEgfSB9O1xufVxuZnVuY3Rpb24gdG9SYW5nZShyYW5nZSkge1xuICAgIGlmICghcmFuZ2UpIHtcbiAgICAgICAgcmV0dXJuIHZvaWQgMDtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBtb25hY28uUmFuZ2UocmFuZ2Uuc3RhcnQubGluZSArIDEsIHJhbmdlLnN0YXJ0LmNoYXJhY3RlciArIDEsIHJhbmdlLmVuZC5saW5lICsgMSwgcmFuZ2UuZW5kLmNoYXJhY3RlciArIDEpO1xufVxuZnVuY3Rpb24gdG9Db21wbGV0aW9uSXRlbUtpbmQoa2luZCkge1xuICAgIHZhciBtSXRlbUtpbmQgPSBtb25hY28ubGFuZ3VhZ2VzLkNvbXBsZXRpb25JdGVtS2luZDtcbiAgICBzd2l0Y2ggKGtpbmQpIHtcbiAgICAgICAgY2FzZSBscy5Db21wbGV0aW9uSXRlbUtpbmQuVGV4dDogcmV0dXJuIG1JdGVtS2luZC5UZXh0O1xuICAgICAgICBjYXNlIGxzLkNvbXBsZXRpb25JdGVtS2luZC5NZXRob2Q6IHJldHVybiBtSXRlbUtpbmQuTWV0aG9kO1xuICAgICAgICBjYXNlIGxzLkNvbXBsZXRpb25JdGVtS2luZC5GdW5jdGlvbjogcmV0dXJuIG1JdGVtS2luZC5GdW5jdGlvbjtcbiAgICAgICAgY2FzZSBscy5Db21wbGV0aW9uSXRlbUtpbmQuQ29uc3RydWN0b3I6IHJldHVybiBtSXRlbUtpbmQuQ29uc3RydWN0b3I7XG4gICAgICAgIGNhc2UgbHMuQ29tcGxldGlvbkl0ZW1LaW5kLkZpZWxkOiByZXR1cm4gbUl0ZW1LaW5kLkZpZWxkO1xuICAgICAgICBjYXNlIGxzLkNvbXBsZXRpb25JdGVtS2luZC5WYXJpYWJsZTogcmV0dXJuIG1JdGVtS2luZC5WYXJpYWJsZTtcbiAgICAgICAgY2FzZSBscy5Db21wbGV0aW9uSXRlbUtpbmQuQ2xhc3M6IHJldHVybiBtSXRlbUtpbmQuQ2xhc3M7XG4gICAgICAgIGNhc2UgbHMuQ29tcGxldGlvbkl0ZW1LaW5kLkludGVyZmFjZTogcmV0dXJuIG1JdGVtS2luZC5JbnRlcmZhY2U7XG4gICAgICAgIGNhc2UgbHMuQ29tcGxldGlvbkl0ZW1LaW5kLk1vZHVsZTogcmV0dXJuIG1JdGVtS2luZC5Nb2R1bGU7XG4gICAgICAgIGNhc2UgbHMuQ29tcGxldGlvbkl0ZW1LaW5kLlByb3BlcnR5OiByZXR1cm4gbUl0ZW1LaW5kLlByb3BlcnR5O1xuICAgICAgICBjYXNlIGxzLkNvbXBsZXRpb25JdGVtS2luZC5Vbml0OiByZXR1cm4gbUl0ZW1LaW5kLlVuaXQ7XG4gICAgICAgIGNhc2UgbHMuQ29tcGxldGlvbkl0ZW1LaW5kLlZhbHVlOiByZXR1cm4gbUl0ZW1LaW5kLlZhbHVlO1xuICAgICAgICBjYXNlIGxzLkNvbXBsZXRpb25JdGVtS2luZC5FbnVtOiByZXR1cm4gbUl0ZW1LaW5kLkVudW07XG4gICAgICAgIGNhc2UgbHMuQ29tcGxldGlvbkl0ZW1LaW5kLktleXdvcmQ6IHJldHVybiBtSXRlbUtpbmQuS2V5d29yZDtcbiAgICAgICAgY2FzZSBscy5Db21wbGV0aW9uSXRlbUtpbmQuU25pcHBldDogcmV0dXJuIG1JdGVtS2luZC5TbmlwcGV0O1xuICAgICAgICBjYXNlIGxzLkNvbXBsZXRpb25JdGVtS2luZC5Db2xvcjogcmV0dXJuIG1JdGVtS2luZC5Db2xvcjtcbiAgICAgICAgY2FzZSBscy5Db21wbGV0aW9uSXRlbUtpbmQuRmlsZTogcmV0dXJuIG1JdGVtS2luZC5GaWxlO1xuICAgICAgICBjYXNlIGxzLkNvbXBsZXRpb25JdGVtS2luZC5SZWZlcmVuY2U6IHJldHVybiBtSXRlbUtpbmQuUmVmZXJlbmNlO1xuICAgIH1cbiAgICByZXR1cm4gbUl0ZW1LaW5kLlByb3BlcnR5O1xufVxuZnVuY3Rpb24gdG9UZXh0RWRpdCh0ZXh0RWRpdCkge1xuICAgIGlmICghdGV4dEVkaXQpIHtcbiAgICAgICAgcmV0dXJuIHZvaWQgMDtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmFuZ2U6IHRvUmFuZ2UodGV4dEVkaXQucmFuZ2UpLFxuICAgICAgICB0ZXh0OiB0ZXh0RWRpdC5uZXdUZXh0XG4gICAgfTtcbn1cbnZhciBDb21wbGV0aW9uQWRhcHRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBDb21wbGV0aW9uQWRhcHRlcihfd29ya2VyKSB7XG4gICAgICAgIHRoaXMuX3dvcmtlciA9IF93b3JrZXI7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb21wbGV0aW9uQWRhcHRlci5wcm90b3R5cGUsIFwidHJpZ2dlckNoYXJhY3RlcnNcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBbJyAnLCAnOiddO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBDb21wbGV0aW9uQWRhcHRlci5wcm90b3R5cGUucHJvdmlkZUNvbXBsZXRpb25JdGVtcyA9IGZ1bmN0aW9uIChtb2RlbCwgcG9zaXRpb24sIHRva2VuKSB7XG4gICAgICAgIHZhciB3b3JkSW5mbyA9IG1vZGVsLmdldFdvcmRVbnRpbFBvc2l0aW9uKHBvc2l0aW9uKTtcbiAgICAgICAgdmFyIHJlc291cmNlID0gbW9kZWwudXJpO1xuICAgICAgICByZXR1cm4gd2lyZUNhbmNlbGxhdGlvblRva2VuKHRva2VuLCB0aGlzLl93b3JrZXIocmVzb3VyY2UpLnRoZW4oZnVuY3Rpb24gKHdvcmtlcikge1xuICAgICAgICAgICAgcmV0dXJuIHdvcmtlci5kb0NvbXBsZXRlKHJlc291cmNlLnRvU3RyaW5nKCksIGZyb21Qb3NpdGlvbihwb3NpdGlvbikpO1xuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChpbmZvKSB7XG4gICAgICAgICAgICBpZiAoIWluZm8pIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgaXRlbXMgPSBpbmZvLml0ZW1zLm1hcChmdW5jdGlvbiAoZW50cnkpIHtcbiAgICAgICAgICAgICAgICB2YXIgaXRlbSA9IHtcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IGVudHJ5LmxhYmVsLFxuICAgICAgICAgICAgICAgICAgICBpbnNlcnRUZXh0OiBlbnRyeS5pbnNlcnRUZXh0LFxuICAgICAgICAgICAgICAgICAgICBzb3J0VGV4dDogZW50cnkuc29ydFRleHQsXG4gICAgICAgICAgICAgICAgICAgIGZpbHRlclRleHQ6IGVudHJ5LmZpbHRlclRleHQsXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50YXRpb246IGVudHJ5LmRvY3VtZW50YXRpb24sXG4gICAgICAgICAgICAgICAgICAgIGRldGFpbDogZW50cnkuZGV0YWlsLFxuICAgICAgICAgICAgICAgICAgICBraW5kOiB0b0NvbXBsZXRpb25JdGVtS2luZChlbnRyeS5raW5kKSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGlmIChlbnRyeS50ZXh0RWRpdCkge1xuICAgICAgICAgICAgICAgICAgICBpdGVtLnJhbmdlID0gdG9SYW5nZShlbnRyeS50ZXh0RWRpdC5yYW5nZSk7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uaW5zZXJ0VGV4dCA9IGVudHJ5LnRleHRFZGl0Lm5ld1RleHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChlbnRyeS5hZGRpdGlvbmFsVGV4dEVkaXRzKSB7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uYWRkaXRpb25hbFRleHRFZGl0cyA9IGVudHJ5LmFkZGl0aW9uYWxUZXh0RWRpdHMubWFwKHRvVGV4dEVkaXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZW50cnkuaW5zZXJ0VGV4dEZvcm1hdCA9PT0gbHMuSW5zZXJ0VGV4dEZvcm1hdC5TbmlwcGV0KSB7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uaW5zZXJ0VGV4dCA9IHsgdmFsdWU6IGl0ZW0uaW5zZXJ0VGV4dCB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBpc0luY29tcGxldGU6IGluZm8uaXNJbmNvbXBsZXRlLFxuICAgICAgICAgICAgICAgIGl0ZW1zOiBpdGVtc1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSkpO1xuICAgIH07XG4gICAgcmV0dXJuIENvbXBsZXRpb25BZGFwdGVyO1xufSgpKTtcbmV4cG9ydCB7IENvbXBsZXRpb25BZGFwdGVyIH07XG5mdW5jdGlvbiBpc01hcmt1cENvbnRlbnQodGhpbmcpIHtcbiAgICByZXR1cm4gdGhpbmcgJiYgdHlwZW9mIHRoaW5nID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgdGhpbmcua2luZCA9PT0gJ3N0cmluZyc7XG59XG5mdW5jdGlvbiB0b01hcmtkb3duU3RyaW5nKGVudHJ5KSB7XG4gICAgaWYgKHR5cGVvZiBlbnRyeSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHZhbHVlOiBlbnRyeVxuICAgICAgICB9O1xuICAgIH1cbiAgICBpZiAoaXNNYXJrdXBDb250ZW50KGVudHJ5KSkge1xuICAgICAgICBpZiAoZW50cnkua2luZCA9PT0gJ3BsYWludGV4dCcpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IGVudHJ5LnZhbHVlLnJlcGxhY2UoL1tcXFxcYCpfe31bXFxdKCkjK1xcLS4hXS9nLCAnXFxcXCQmJylcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHZhbHVlOiBlbnRyeS52YWx1ZVxuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4geyB2YWx1ZTogJ2BgYCcgKyBlbnRyeS5sYW5ndWFnZSArICdcXG4nICsgZW50cnkudmFsdWUgKyAnXFxuYGBgXFxuJyB9O1xufVxuZnVuY3Rpb24gdG9NYXJrZWRTdHJpbmdBcnJheShjb250ZW50cykge1xuICAgIGlmICghY29udGVudHMpIHtcbiAgICAgICAgcmV0dXJuIHZvaWQgMDtcbiAgICB9XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoY29udGVudHMpKSB7XG4gICAgICAgIHJldHVybiBjb250ZW50cy5tYXAodG9NYXJrZG93blN0cmluZyk7XG4gICAgfVxuICAgIHJldHVybiBbdG9NYXJrZG93blN0cmluZyhjb250ZW50cyldO1xufVxuLy8gLS0tIGhvdmVyIC0tLS0tLVxudmFyIEhvdmVyQWRhcHRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBIb3ZlckFkYXB0ZXIoX3dvcmtlcikge1xuICAgICAgICB0aGlzLl93b3JrZXIgPSBfd29ya2VyO1xuICAgIH1cbiAgICBIb3ZlckFkYXB0ZXIucHJvdG90eXBlLnByb3ZpZGVIb3ZlciA9IGZ1bmN0aW9uIChtb2RlbCwgcG9zaXRpb24sIHRva2VuKSB7XG4gICAgICAgIHZhciByZXNvdXJjZSA9IG1vZGVsLnVyaTtcbiAgICAgICAgcmV0dXJuIHdpcmVDYW5jZWxsYXRpb25Ub2tlbih0b2tlbiwgdGhpcy5fd29ya2VyKHJlc291cmNlKS50aGVuKGZ1bmN0aW9uICh3b3JrZXIpIHtcbiAgICAgICAgICAgIHJldHVybiB3b3JrZXIuZG9Ib3ZlcihyZXNvdXJjZS50b1N0cmluZygpLCBmcm9tUG9zaXRpb24ocG9zaXRpb24pKTtcbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoaW5mbykge1xuICAgICAgICAgICAgaWYgKCFpbmZvKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICByYW5nZTogdG9SYW5nZShpbmZvLnJhbmdlKSxcbiAgICAgICAgICAgICAgICBjb250ZW50czogdG9NYXJrZWRTdHJpbmdBcnJheShpbmZvLmNvbnRlbnRzKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSkpO1xuICAgIH07XG4gICAgcmV0dXJuIEhvdmVyQWRhcHRlcjtcbn0oKSk7XG5leHBvcnQgeyBIb3ZlckFkYXB0ZXIgfTtcbi8vIC0tLSBkb2N1bWVudCBoaWdobGlnaHRzIC0tLS0tLVxuZnVuY3Rpb24gdG9Eb2N1bWVudEhpZ2hsaWdodEtpbmQoa2luZCkge1xuICAgIHN3aXRjaCAoa2luZCkge1xuICAgICAgICBjYXNlIGxzLkRvY3VtZW50SGlnaGxpZ2h0S2luZC5SZWFkOiByZXR1cm4gbW9uYWNvLmxhbmd1YWdlcy5Eb2N1bWVudEhpZ2hsaWdodEtpbmQuUmVhZDtcbiAgICAgICAgY2FzZSBscy5Eb2N1bWVudEhpZ2hsaWdodEtpbmQuV3JpdGU6IHJldHVybiBtb25hY28ubGFuZ3VhZ2VzLkRvY3VtZW50SGlnaGxpZ2h0S2luZC5Xcml0ZTtcbiAgICAgICAgY2FzZSBscy5Eb2N1bWVudEhpZ2hsaWdodEtpbmQuVGV4dDogcmV0dXJuIG1vbmFjby5sYW5ndWFnZXMuRG9jdW1lbnRIaWdobGlnaHRLaW5kLlRleHQ7XG4gICAgfVxuICAgIHJldHVybiBtb25hY28ubGFuZ3VhZ2VzLkRvY3VtZW50SGlnaGxpZ2h0S2luZC5UZXh0O1xufVxudmFyIERvY3VtZW50SGlnaGxpZ2h0QWRhcHRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBEb2N1bWVudEhpZ2hsaWdodEFkYXB0ZXIoX3dvcmtlcikge1xuICAgICAgICB0aGlzLl93b3JrZXIgPSBfd29ya2VyO1xuICAgIH1cbiAgICBEb2N1bWVudEhpZ2hsaWdodEFkYXB0ZXIucHJvdG90eXBlLnByb3ZpZGVEb2N1bWVudEhpZ2hsaWdodHMgPSBmdW5jdGlvbiAobW9kZWwsIHBvc2l0aW9uLCB0b2tlbikge1xuICAgICAgICB2YXIgcmVzb3VyY2UgPSBtb2RlbC51cmk7XG4gICAgICAgIHJldHVybiB3aXJlQ2FuY2VsbGF0aW9uVG9rZW4odG9rZW4sIHRoaXMuX3dvcmtlcihyZXNvdXJjZSkudGhlbihmdW5jdGlvbiAod29ya2VyKSB7XG4gICAgICAgICAgICByZXR1cm4gd29ya2VyLmZpbmREb2N1bWVudEhpZ2hsaWdodHMocmVzb3VyY2UudG9TdHJpbmcoKSwgZnJvbVBvc2l0aW9uKHBvc2l0aW9uKSk7XG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGVudHJpZXMpIHtcbiAgICAgICAgICAgIGlmICghZW50cmllcykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBlbnRyaWVzLm1hcChmdW5jdGlvbiAoZW50cnkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICByYW5nZTogdG9SYW5nZShlbnRyeS5yYW5nZSksXG4gICAgICAgICAgICAgICAgICAgIGtpbmQ6IHRvRG9jdW1lbnRIaWdobGlnaHRLaW5kKGVudHJ5LmtpbmQpXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KSk7XG4gICAgfTtcbiAgICByZXR1cm4gRG9jdW1lbnRIaWdobGlnaHRBZGFwdGVyO1xufSgpKTtcbmV4cG9ydCB7IERvY3VtZW50SGlnaGxpZ2h0QWRhcHRlciB9O1xuLy8gLS0tIGRlZmluaXRpb24gLS0tLS0tXG5mdW5jdGlvbiB0b0xvY2F0aW9uKGxvY2F0aW9uKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdXJpOiBVcmkucGFyc2UobG9jYXRpb24udXJpKSxcbiAgICAgICAgcmFuZ2U6IHRvUmFuZ2UobG9jYXRpb24ucmFuZ2UpXG4gICAgfTtcbn1cbnZhciBEZWZpbml0aW9uQWRhcHRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBEZWZpbml0aW9uQWRhcHRlcihfd29ya2VyKSB7XG4gICAgICAgIHRoaXMuX3dvcmtlciA9IF93b3JrZXI7XG4gICAgfVxuICAgIERlZmluaXRpb25BZGFwdGVyLnByb3RvdHlwZS5wcm92aWRlRGVmaW5pdGlvbiA9IGZ1bmN0aW9uIChtb2RlbCwgcG9zaXRpb24sIHRva2VuKSB7XG4gICAgICAgIHZhciByZXNvdXJjZSA9IG1vZGVsLnVyaTtcbiAgICAgICAgcmV0dXJuIHdpcmVDYW5jZWxsYXRpb25Ub2tlbih0b2tlbiwgdGhpcy5fd29ya2VyKHJlc291cmNlKS50aGVuKGZ1bmN0aW9uICh3b3JrZXIpIHtcbiAgICAgICAgICAgIHJldHVybiB3b3JrZXIuZmluZERlZmluaXRpb24ocmVzb3VyY2UudG9TdHJpbmcoKSwgZnJvbVBvc2l0aW9uKHBvc2l0aW9uKSk7XG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGRlZmluaXRpb24pIHtcbiAgICAgICAgICAgIGlmICghZGVmaW5pdGlvbikge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBbdG9Mb2NhdGlvbihkZWZpbml0aW9uKV07XG4gICAgICAgIH0pKTtcbiAgICB9O1xuICAgIHJldHVybiBEZWZpbml0aW9uQWRhcHRlcjtcbn0oKSk7XG5leHBvcnQgeyBEZWZpbml0aW9uQWRhcHRlciB9O1xuLy8gLS0tIHJlZmVyZW5jZXMgLS0tLS0tXG52YXIgUmVmZXJlbmNlQWRhcHRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZWZlcmVuY2VBZGFwdGVyKF93b3JrZXIpIHtcbiAgICAgICAgdGhpcy5fd29ya2VyID0gX3dvcmtlcjtcbiAgICB9XG4gICAgUmVmZXJlbmNlQWRhcHRlci5wcm90b3R5cGUucHJvdmlkZVJlZmVyZW5jZXMgPSBmdW5jdGlvbiAobW9kZWwsIHBvc2l0aW9uLCBjb250ZXh0LCB0b2tlbikge1xuICAgICAgICB2YXIgcmVzb3VyY2UgPSBtb2RlbC51cmk7XG4gICAgICAgIHJldHVybiB3aXJlQ2FuY2VsbGF0aW9uVG9rZW4odG9rZW4sIHRoaXMuX3dvcmtlcihyZXNvdXJjZSkudGhlbihmdW5jdGlvbiAod29ya2VyKSB7XG4gICAgICAgICAgICByZXR1cm4gd29ya2VyLmZpbmRSZWZlcmVuY2VzKHJlc291cmNlLnRvU3RyaW5nKCksIGZyb21Qb3NpdGlvbihwb3NpdGlvbikpO1xuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChlbnRyaWVzKSB7XG4gICAgICAgICAgICBpZiAoIWVudHJpZXMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZW50cmllcy5tYXAodG9Mb2NhdGlvbik7XG4gICAgICAgIH0pKTtcbiAgICB9O1xuICAgIHJldHVybiBSZWZlcmVuY2VBZGFwdGVyO1xufSgpKTtcbmV4cG9ydCB7IFJlZmVyZW5jZUFkYXB0ZXIgfTtcbi8vIC0tLSByZW5hbWUgLS0tLS0tXG5mdW5jdGlvbiB0b1dvcmtzcGFjZUVkaXQoZWRpdCkge1xuICAgIGlmICghZWRpdCB8fCAhZWRpdC5jaGFuZ2VzKSB7XG4gICAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgfVxuICAgIHZhciByZXNvdXJjZUVkaXRzID0gW107XG4gICAgZm9yICh2YXIgdXJpIGluIGVkaXQuY2hhbmdlcykge1xuICAgICAgICB2YXIgZWRpdHMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IGVkaXQuY2hhbmdlc1t1cmldOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgdmFyIGUgPSBfYVtfaV07XG4gICAgICAgICAgICBlZGl0cy5wdXNoKHtcbiAgICAgICAgICAgICAgICByYW5nZTogdG9SYW5nZShlLnJhbmdlKSxcbiAgICAgICAgICAgICAgICB0ZXh0OiBlLm5ld1RleHRcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJlc291cmNlRWRpdHMucHVzaCh7IHJlc291cmNlOiBVcmkucGFyc2UodXJpKSwgZWRpdHM6IGVkaXRzIH0pO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBlZGl0czogcmVzb3VyY2VFZGl0c1xuICAgIH07XG59XG52YXIgUmVuYW1lQWRhcHRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZW5hbWVBZGFwdGVyKF93b3JrZXIpIHtcbiAgICAgICAgdGhpcy5fd29ya2VyID0gX3dvcmtlcjtcbiAgICB9XG4gICAgUmVuYW1lQWRhcHRlci5wcm90b3R5cGUucHJvdmlkZVJlbmFtZUVkaXRzID0gZnVuY3Rpb24gKG1vZGVsLCBwb3NpdGlvbiwgbmV3TmFtZSwgdG9rZW4pIHtcbiAgICAgICAgdmFyIHJlc291cmNlID0gbW9kZWwudXJpO1xuICAgICAgICByZXR1cm4gd2lyZUNhbmNlbGxhdGlvblRva2VuKHRva2VuLCB0aGlzLl93b3JrZXIocmVzb3VyY2UpLnRoZW4oZnVuY3Rpb24gKHdvcmtlcikge1xuICAgICAgICAgICAgcmV0dXJuIHdvcmtlci5kb1JlbmFtZShyZXNvdXJjZS50b1N0cmluZygpLCBmcm9tUG9zaXRpb24ocG9zaXRpb24pLCBuZXdOYW1lKTtcbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoZWRpdCkge1xuICAgICAgICAgICAgcmV0dXJuIHRvV29ya3NwYWNlRWRpdChlZGl0KTtcbiAgICAgICAgfSkpO1xuICAgIH07XG4gICAgcmV0dXJuIFJlbmFtZUFkYXB0ZXI7XG59KCkpO1xuZXhwb3J0IHsgUmVuYW1lQWRhcHRlciB9O1xuLy8gLS0tIGRvY3VtZW50IHN5bWJvbHMgLS0tLS0tXG5mdW5jdGlvbiB0b1N5bWJvbEtpbmQoa2luZCkge1xuICAgIHZhciBtS2luZCA9IG1vbmFjby5sYW5ndWFnZXMuU3ltYm9sS2luZDtcbiAgICBzd2l0Y2ggKGtpbmQpIHtcbiAgICAgICAgY2FzZSBscy5TeW1ib2xLaW5kLkZpbGU6IHJldHVybiBtS2luZC5BcnJheTtcbiAgICAgICAgY2FzZSBscy5TeW1ib2xLaW5kLk1vZHVsZTogcmV0dXJuIG1LaW5kLk1vZHVsZTtcbiAgICAgICAgY2FzZSBscy5TeW1ib2xLaW5kLk5hbWVzcGFjZTogcmV0dXJuIG1LaW5kLk5hbWVzcGFjZTtcbiAgICAgICAgY2FzZSBscy5TeW1ib2xLaW5kLlBhY2thZ2U6IHJldHVybiBtS2luZC5QYWNrYWdlO1xuICAgICAgICBjYXNlIGxzLlN5bWJvbEtpbmQuQ2xhc3M6IHJldHVybiBtS2luZC5DbGFzcztcbiAgICAgICAgY2FzZSBscy5TeW1ib2xLaW5kLk1ldGhvZDogcmV0dXJuIG1LaW5kLk1ldGhvZDtcbiAgICAgICAgY2FzZSBscy5TeW1ib2xLaW5kLlByb3BlcnR5OiByZXR1cm4gbUtpbmQuUHJvcGVydHk7XG4gICAgICAgIGNhc2UgbHMuU3ltYm9sS2luZC5GaWVsZDogcmV0dXJuIG1LaW5kLkZpZWxkO1xuICAgICAgICBjYXNlIGxzLlN5bWJvbEtpbmQuQ29uc3RydWN0b3I6IHJldHVybiBtS2luZC5Db25zdHJ1Y3RvcjtcbiAgICAgICAgY2FzZSBscy5TeW1ib2xLaW5kLkVudW06IHJldHVybiBtS2luZC5FbnVtO1xuICAgICAgICBjYXNlIGxzLlN5bWJvbEtpbmQuSW50ZXJmYWNlOiByZXR1cm4gbUtpbmQuSW50ZXJmYWNlO1xuICAgICAgICBjYXNlIGxzLlN5bWJvbEtpbmQuRnVuY3Rpb246IHJldHVybiBtS2luZC5GdW5jdGlvbjtcbiAgICAgICAgY2FzZSBscy5TeW1ib2xLaW5kLlZhcmlhYmxlOiByZXR1cm4gbUtpbmQuVmFyaWFibGU7XG4gICAgICAgIGNhc2UgbHMuU3ltYm9sS2luZC5Db25zdGFudDogcmV0dXJuIG1LaW5kLkNvbnN0YW50O1xuICAgICAgICBjYXNlIGxzLlN5bWJvbEtpbmQuU3RyaW5nOiByZXR1cm4gbUtpbmQuU3RyaW5nO1xuICAgICAgICBjYXNlIGxzLlN5bWJvbEtpbmQuTnVtYmVyOiByZXR1cm4gbUtpbmQuTnVtYmVyO1xuICAgICAgICBjYXNlIGxzLlN5bWJvbEtpbmQuQm9vbGVhbjogcmV0dXJuIG1LaW5kLkJvb2xlYW47XG4gICAgICAgIGNhc2UgbHMuU3ltYm9sS2luZC5BcnJheTogcmV0dXJuIG1LaW5kLkFycmF5O1xuICAgIH1cbiAgICByZXR1cm4gbUtpbmQuRnVuY3Rpb247XG59XG52YXIgRG9jdW1lbnRTeW1ib2xBZGFwdGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIERvY3VtZW50U3ltYm9sQWRhcHRlcihfd29ya2VyKSB7XG4gICAgICAgIHRoaXMuX3dvcmtlciA9IF93b3JrZXI7XG4gICAgfVxuICAgIERvY3VtZW50U3ltYm9sQWRhcHRlci5wcm90b3R5cGUucHJvdmlkZURvY3VtZW50U3ltYm9scyA9IGZ1bmN0aW9uIChtb2RlbCwgdG9rZW4pIHtcbiAgICAgICAgdmFyIHJlc291cmNlID0gbW9kZWwudXJpO1xuICAgICAgICByZXR1cm4gd2lyZUNhbmNlbGxhdGlvblRva2VuKHRva2VuLCB0aGlzLl93b3JrZXIocmVzb3VyY2UpLnRoZW4oZnVuY3Rpb24gKHdvcmtlcikgeyByZXR1cm4gd29ya2VyLmZpbmREb2N1bWVudFN5bWJvbHMocmVzb3VyY2UudG9TdHJpbmcoKSk7IH0pLnRoZW4oZnVuY3Rpb24gKGl0ZW1zKSB7XG4gICAgICAgICAgICBpZiAoIWl0ZW1zKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGl0ZW1zLm1hcChmdW5jdGlvbiAoaXRlbSkgeyByZXR1cm4gKHtcbiAgICAgICAgICAgICAgICBuYW1lOiBpdGVtLm5hbWUsXG4gICAgICAgICAgICAgICAgY29udGFpbmVyTmFtZTogaXRlbS5jb250YWluZXJOYW1lLFxuICAgICAgICAgICAgICAgIGtpbmQ6IHRvU3ltYm9sS2luZChpdGVtLmtpbmQpLFxuICAgICAgICAgICAgICAgIGxvY2F0aW9uOiB0b0xvY2F0aW9uKGl0ZW0ubG9jYXRpb24pXG4gICAgICAgICAgICB9KTsgfSk7XG4gICAgICAgIH0pKTtcbiAgICB9O1xuICAgIHJldHVybiBEb2N1bWVudFN5bWJvbEFkYXB0ZXI7XG59KCkpO1xuZXhwb3J0IHsgRG9jdW1lbnRTeW1ib2xBZGFwdGVyIH07XG52YXIgRG9jdW1lbnRDb2xvckFkYXB0ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRG9jdW1lbnRDb2xvckFkYXB0ZXIoX3dvcmtlcikge1xuICAgICAgICB0aGlzLl93b3JrZXIgPSBfd29ya2VyO1xuICAgIH1cbiAgICBEb2N1bWVudENvbG9yQWRhcHRlci5wcm90b3R5cGUucHJvdmlkZURvY3VtZW50Q29sb3JzID0gZnVuY3Rpb24gKG1vZGVsLCB0b2tlbikge1xuICAgICAgICB2YXIgcmVzb3VyY2UgPSBtb2RlbC51cmk7XG4gICAgICAgIHJldHVybiB3aXJlQ2FuY2VsbGF0aW9uVG9rZW4odG9rZW4sIHRoaXMuX3dvcmtlcihyZXNvdXJjZSkudGhlbihmdW5jdGlvbiAod29ya2VyKSB7IHJldHVybiB3b3JrZXIuZmluZERvY3VtZW50Q29sb3JzKHJlc291cmNlLnRvU3RyaW5nKCkpOyB9KS50aGVuKGZ1bmN0aW9uIChpbmZvcykge1xuICAgICAgICAgICAgaWYgKCFpbmZvcykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBpbmZvcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsgcmV0dXJuICh7XG4gICAgICAgICAgICAgICAgY29sb3I6IGl0ZW0uY29sb3IsXG4gICAgICAgICAgICAgICAgcmFuZ2U6IHRvUmFuZ2UoaXRlbS5yYW5nZSlcbiAgICAgICAgICAgIH0pOyB9KTtcbiAgICAgICAgfSkpO1xuICAgIH07XG4gICAgRG9jdW1lbnRDb2xvckFkYXB0ZXIucHJvdG90eXBlLnByb3ZpZGVDb2xvclByZXNlbnRhdGlvbnMgPSBmdW5jdGlvbiAobW9kZWwsIGluZm8sIHRva2VuKSB7XG4gICAgICAgIHZhciByZXNvdXJjZSA9IG1vZGVsLnVyaTtcbiAgICAgICAgcmV0dXJuIHdpcmVDYW5jZWxsYXRpb25Ub2tlbih0b2tlbiwgdGhpcy5fd29ya2VyKHJlc291cmNlKS50aGVuKGZ1bmN0aW9uICh3b3JrZXIpIHsgcmV0dXJuIHdvcmtlci5nZXRDb2xvclByZXNlbnRhdGlvbnMocmVzb3VyY2UudG9TdHJpbmcoKSwgaW5mby5jb2xvciwgZnJvbVJhbmdlKGluZm8ucmFuZ2UpKTsgfSkudGhlbihmdW5jdGlvbiAocHJlc2VudGF0aW9ucykge1xuICAgICAgICAgICAgaWYgKCFwcmVzZW50YXRpb25zKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHByZXNlbnRhdGlvbnMubWFwKGZ1bmN0aW9uIChwcmVzZW50YXRpb24pIHtcbiAgICAgICAgICAgICAgICB2YXIgaXRlbSA9IHtcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHByZXNlbnRhdGlvbi5sYWJlbCxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGlmIChwcmVzZW50YXRpb24udGV4dEVkaXQpIHtcbiAgICAgICAgICAgICAgICAgICAgaXRlbS50ZXh0RWRpdCA9IHRvVGV4dEVkaXQocHJlc2VudGF0aW9uLnRleHRFZGl0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHByZXNlbnRhdGlvbi5hZGRpdGlvbmFsVGV4dEVkaXRzKSB7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uYWRkaXRpb25hbFRleHRFZGl0cyA9IHByZXNlbnRhdGlvbi5hZGRpdGlvbmFsVGV4dEVkaXRzLm1hcCh0b1RleHRFZGl0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSkpO1xuICAgIH07XG4gICAgcmV0dXJuIERvY3VtZW50Q29sb3JBZGFwdGVyO1xufSgpKTtcbmV4cG9ydCB7IERvY3VtZW50Q29sb3JBZGFwdGVyIH07XG4vKipcbiAqIEhvb2sgYSBjYW5jZWxsYXRpb24gdG9rZW4gdG8gYSBXaW5KUyBQcm9taXNlXG4gKi9cbmZ1bmN0aW9uIHdpcmVDYW5jZWxsYXRpb25Ub2tlbih0b2tlbiwgcHJvbWlzZSkge1xuICAgIHRva2VuLm9uQ2FuY2VsbGF0aW9uUmVxdWVzdGVkKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHByb21pc2UuY2FuY2VsKCk7IH0pO1xuICAgIHJldHVybiBwcm9taXNlO1xufVxuIiwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG4ndXNlIHN0cmljdCc7XG5pbXBvcnQgeyBXb3JrZXJNYW5hZ2VyIH0gZnJvbSAnLi93b3JrZXJNYW5hZ2VyLmpzJztcbmltcG9ydCAqIGFzIGxhbmd1YWdlRmVhdHVyZXMgZnJvbSAnLi9sYW5ndWFnZUZlYXR1cmVzLmpzJztcbmV4cG9ydCBmdW5jdGlvbiBzZXR1cE1vZGUoZGVmYXVsdHMpIHtcbiAgICB2YXIgY2xpZW50ID0gbmV3IFdvcmtlck1hbmFnZXIoZGVmYXVsdHMpO1xuICAgIHZhciB3b3JrZXIgPSBmdW5jdGlvbiAoZmlyc3QpIHtcbiAgICAgICAgdmFyIG1vcmUgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAxOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIG1vcmVbX2kgLSAxXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNsaWVudC5nZXRMYW5ndWFnZVNlcnZpY2VXb3JrZXIuYXBwbHkoY2xpZW50LCBbZmlyc3RdLmNvbmNhdChtb3JlKSk7XG4gICAgfTtcbiAgICB2YXIgbGFuZ3VhZ2VJZCA9IGRlZmF1bHRzLmxhbmd1YWdlSWQ7XG4gICAgbW9uYWNvLmxhbmd1YWdlcy5yZWdpc3RlckNvbXBsZXRpb25JdGVtUHJvdmlkZXIobGFuZ3VhZ2VJZCwgbmV3IGxhbmd1YWdlRmVhdHVyZXMuQ29tcGxldGlvbkFkYXB0ZXIod29ya2VyKSk7XG4gICAgbW9uYWNvLmxhbmd1YWdlcy5yZWdpc3RlckhvdmVyUHJvdmlkZXIobGFuZ3VhZ2VJZCwgbmV3IGxhbmd1YWdlRmVhdHVyZXMuSG92ZXJBZGFwdGVyKHdvcmtlcikpO1xuICAgIG1vbmFjby5sYW5ndWFnZXMucmVnaXN0ZXJEb2N1bWVudEhpZ2hsaWdodFByb3ZpZGVyKGxhbmd1YWdlSWQsIG5ldyBsYW5ndWFnZUZlYXR1cmVzLkRvY3VtZW50SGlnaGxpZ2h0QWRhcHRlcih3b3JrZXIpKTtcbiAgICBtb25hY28ubGFuZ3VhZ2VzLnJlZ2lzdGVyRGVmaW5pdGlvblByb3ZpZGVyKGxhbmd1YWdlSWQsIG5ldyBsYW5ndWFnZUZlYXR1cmVzLkRlZmluaXRpb25BZGFwdGVyKHdvcmtlcikpO1xuICAgIG1vbmFjby5sYW5ndWFnZXMucmVnaXN0ZXJSZWZlcmVuY2VQcm92aWRlcihsYW5ndWFnZUlkLCBuZXcgbGFuZ3VhZ2VGZWF0dXJlcy5SZWZlcmVuY2VBZGFwdGVyKHdvcmtlcikpO1xuICAgIG1vbmFjby5sYW5ndWFnZXMucmVnaXN0ZXJEb2N1bWVudFN5bWJvbFByb3ZpZGVyKGxhbmd1YWdlSWQsIG5ldyBsYW5ndWFnZUZlYXR1cmVzLkRvY3VtZW50U3ltYm9sQWRhcHRlcih3b3JrZXIpKTtcbiAgICBtb25hY28ubGFuZ3VhZ2VzLnJlZ2lzdGVyUmVuYW1lUHJvdmlkZXIobGFuZ3VhZ2VJZCwgbmV3IGxhbmd1YWdlRmVhdHVyZXMuUmVuYW1lQWRhcHRlcih3b3JrZXIpKTtcbiAgICBtb25hY28ubGFuZ3VhZ2VzLnJlZ2lzdGVyQ29sb3JQcm92aWRlcihsYW5ndWFnZUlkLCBuZXcgbGFuZ3VhZ2VGZWF0dXJlcy5Eb2N1bWVudENvbG9yQWRhcHRlcih3b3JrZXIpKTtcbiAgICBuZXcgbGFuZ3VhZ2VGZWF0dXJlcy5EaWFnbm9zdGljc0FkYXB0ZXIobGFuZ3VhZ2VJZCwgd29ya2VyLCBkZWZhdWx0cyk7XG59XG4iXSwic291cmNlUm9vdCI6IiJ9